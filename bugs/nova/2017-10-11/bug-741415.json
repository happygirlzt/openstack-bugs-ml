{
    "status": "Fix Released", 
    "last_updated": "2011-04-21 07:20:12.466854+00:00", 
    "description": "Attaching an iSCSI volume to an instance fails in lp:nova rev.857 because arguments of some _execute() aren't split in the iSCSI driver.\n\nOutput of nova-compute is as follows:\n2011-03-24 09:09:55,761 ERROR nova [-] Exception during message handling\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/home/nttdata/nova/nova/rpc.py\", line 200, in _receive\n(nova): TRACE:     rval = node_func(context=ctxt, **node_args)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/compute/manager.py\", line 99, in decorated_function\n(nova): TRACE:     function(self, context, instance_id, *args, **kwargs)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/compute/manager.py\", line 694, in attach_volume\n(nova): TRACE:     volume_id)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/volume/manager.py\", line 163, in setup_compute_volume\n(nova): TRACE:     path = self.driver.discover_volume(context, volume_ref)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/volume/driver.py\", line 458, in discover_volume\n(nova): TRACE:     self._run_iscsiadm(iscsi_properties, \"--login\")\n(nova): TRACE:   File \"/home/nttdata/nova/nova/volume/driver.py\", line 430, in _run_iscsiadm\n(nova): TRACE:     (out, err) = self._execute(command)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/utils.py\", line 157, in execute\n(nova): TRACE:     env=env)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/eventlet/green/subprocess.py\", line 25, in __init__\n(nova): TRACE:     subprocess_orig.Popen.__init__(self, args, 0, *argss, **kwds)\n(nova): TRACE:   File \"/usr/lib/python2.6/subprocess.py\", line 623, in __init__\n(nova): TRACE:     errread, errwrite)\n(nova): TRACE:   File \"/usr/lib/python2.6/subprocess.py\", line 1141, in _execute_child\n(nova): TRACE:     raise child_exception\n(nova): TRACE: OSError: [Errno 2] No such file or directory\n(nova): TRACE:", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/741415", 
    "owner": "https://api.launchpad.net/1.0/~mnogu", 
    "id": 741415, 
    "index": 2083, 
    "created": "2011-03-24 02:23:30.075612+00:00", 
    "title": "cannot attach an iSCSI volume to an instance", 
    "comments": [
        {
            "content": "Attaching an iSCSI volume to an instance fails in lp:nova rev.857 because arguments of some _execute() aren't split in the iSCSI driver.\n\nOutput of nova-compute is as follows:\n2011-03-24 09:09:55,761 ERROR nova [-] Exception during message handling\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/home/nttdata/nova/nova/rpc.py\", line 200, in _receive\n(nova): TRACE:     rval = node_func(context=ctxt, **node_args)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/compute/manager.py\", line 99, in decorated_function\n(nova): TRACE:     function(self, context, instance_id, *args, **kwargs)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/compute/manager.py\", line 694, in attach_volume\n(nova): TRACE:     volume_id)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/volume/manager.py\", line 163, in setup_compute_volume\n(nova): TRACE:     path = self.driver.discover_volume(context, volume_ref)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/volume/driver.py\", line 458, in discover_volume\n(nova): TRACE:     self._run_iscsiadm(iscsi_properties, \"--login\")\n(nova): TRACE:   File \"/home/nttdata/nova/nova/volume/driver.py\", line 430, in _run_iscsiadm\n(nova): TRACE:     (out, err) = self._execute(command)\n(nova): TRACE:   File \"/home/nttdata/nova/nova/utils.py\", line 157, in execute\n(nova): TRACE:     env=env)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/eventlet/green/subprocess.py\", line 25, in __init__\n(nova): TRACE:     subprocess_orig.Popen.__init__(self, args, 0, *argss, **kwds)\n(nova): TRACE:   File \"/usr/lib/python2.6/subprocess.py\", line 623, in __init__\n(nova): TRACE:     errread, errwrite)\n(nova): TRACE:   File \"/usr/lib/python2.6/subprocess.py\", line 1141, in _execute_child\n(nova): TRACE:     raise child_exception\n(nova): TRACE: OSError: [Errno 2] No such file or directory\n(nova): TRACE:", 
            "date_created": "2011-03-24 02:23:30.075612+00:00", 
            "author": "https://api.launchpad.net/1.0/~mnogu"
        }
    ]
}