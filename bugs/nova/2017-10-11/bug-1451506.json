{
    "status": "Expired", 
    "last_updated": "2016-09-13 04:17:36.906912+00:00", 
    "description": "Looks like libvirt was temporarily disconnected which caused the spawn failure:\n\nhttp://logs.openstack.org/80/170780/11/gate/gate-tempest-dsvm-postgres-full/b2e3fd4/logs/screen-n-cpu.txt.gz?level=TRACE#_2015-05-04_16_49_01_948\n\n2015-05-04 16:49:01.948 ERROR nova.compute.manager [req-e9676551-d3ed-4f85-ab2d-34ce9e1b1446 TestServerAdvancedOps-1668477466 TestServerAdvancedOps-559926363] [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96] Instance failed to spawn\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96] Traceback (most recent call last):\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 2475, in _build_resources\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     yield resources\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 2347, in _build_and_run_instance\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     block_device_info=block_device_info)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 2355, in spawn\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     block_device_info=block_device_info)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 4393, in _create_domain_and_network\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     power_on=power_on)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 4324, in _create_domain\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     LOG.error(err)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 85, in __exit__\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     six.reraise(self.type_, self.value, self.tb)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 4308, in _create_domain\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     domain = self._conn.defineXML(xml)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, in doit\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, in proxy_call\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     rv = execute(f, *args, **kwargs)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, in execute\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     six.reraise(c, e, tb)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in tworker\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     rv = meth(*args, **kwargs)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/libvirt.py\", line 3263, in defineXML\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     if ret is None:raise libvirtError('virDomainDefineXML() failed', conn=self)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96] libvirtError: internal error: received hangup / error event on socket\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96] \n\n\n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwibGlidmlydEVycm9yOiBpbnRlcm5hbCBlcnJvcjogcmVjZWl2ZWQgaGFuZ3VwIC8gZXJyb3IgZXZlbnQgb24gc29ja2V0XCIgQU5EIHRhZ3M6XCJzY3JlZW4tbi1jcHUudHh0XCIiLCJmaWVsZHMiOltdLCJvZmZzZXQiOjAsInRpbWVmcmFtZSI6IjYwNDgwMCIsImdyYXBobW9kZSI6ImNvdW50IiwidGltZSI6eyJ1c2VyX2ludGVydmFsIjowfSwic3RhbXAiOjE0MzA3NjA1MjQ5OTcsIm1vZGUiOiIiLCJhbmFseXplX2ZpZWxkIjoiIn0=\n\n56 hits in 7 days, check and gate, all failures.", 
    "tags": [
        "libvirt"
    ], 
    "importance": "Undecided", 
    "heat": 42, 
    "link": "https://bugs.launchpad.net/nova/+bug/1451506", 
    "owner": "None", 
    "id": 1451506, 
    "index": 5522, 
    "created": "2015-05-04 17:35:44.388575+00:00", 
    "title": "spawn failed with 'libvirtError: internal error: received hangup / error event on socket' in the gate", 
    "comments": [
        {
            "content": "Looks like libvirt was temporarily disconnected which caused the spawn failure:\n\nhttp://logs.openstack.org/80/170780/11/gate/gate-tempest-dsvm-postgres-full/b2e3fd4/logs/screen-n-cpu.txt.gz?level=TRACE#_2015-05-04_16_49_01_948\n\n2015-05-04 16:49:01.948 ERROR nova.compute.manager [req-e9676551-d3ed-4f85-ab2d-34ce9e1b1446 TestServerAdvancedOps-1668477466 TestServerAdvancedOps-559926363] [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96] Instance failed to spawn\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96] Traceback (most recent call last):\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 2475, in _build_resources\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     yield resources\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 2347, in _build_and_run_instance\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     block_device_info=block_device_info)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 2355, in spawn\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     block_device_info=block_device_info)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 4393, in _create_domain_and_network\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     power_on=power_on)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 4324, in _create_domain\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     LOG.error(err)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 85, in __exit__\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     six.reraise(self.type_, self.value, self.tb)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 4308, in _create_domain\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     domain = self._conn.defineXML(xml)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, in doit\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, in proxy_call\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     rv = execute(f, *args, **kwargs)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, in execute\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     six.reraise(c, e, tb)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in tworker\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     rv = meth(*args, **kwargs)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]   File \"/usr/local/lib/python2.7/dist-packages/libvirt.py\", line 3263, in defineXML\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96]     if ret is None:raise libvirtError('virDomainDefineXML() failed', conn=self)\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96] libvirtError: internal error: received hangup / error event on socket\n2015-05-04 16:49:01.948 13039 TRACE nova.compute.manager [instance: 2d8249a5-df5a-4c8b-b41b-1c07f27ddb96] \n\n\n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwibGlidmlydEVycm9yOiBpbnRlcm5hbCBlcnJvcjogcmVjZWl2ZWQgaGFuZ3VwIC8gZXJyb3IgZXZlbnQgb24gc29ja2V0XCIgQU5EIHRhZ3M6XCJzY3JlZW4tbi1jcHUudHh0XCIiLCJmaWVsZHMiOltdLCJvZmZzZXQiOjAsInRpbWVmcmFtZSI6IjYwNDgwMCIsImdyYXBobW9kZSI6ImNvdW50IiwidGltZSI6eyJ1c2VyX2ludGVydmFsIjowfSwic3RhbXAiOjE0MzA3NjA1MjQ5OTcsIm1vZGUiOiIiLCJhbmFseXplX2ZpZWxkIjoiIn0=\n\n56 hits in 7 days, check and gate, all failures.", 
            "date_created": "2015-05-04 17:35:44.388575+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Looks like keep alive is timing out:\n\n2015-05-04 16:49:01.912+0000: 5567: warning : virKeepAliveTimerInternal:140 : No response from client 0x7f896af0d200 after 5 keepalive messages in 30 seconds\n\n", 
            "date_created": "2015-05-05 00:45:18.135153+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "I found this message in n-cpu.log can also be:\n\n\"2015-05-06 15:07:54.158 6767 TRACE oslo_messaging.rpc.dispatcher NovaException: Error from libvirt while looking up instance-00000029: [Error Code 1] internal error: received hangup / error event on socket\"\n\nas seen in another job [1]. I'm going to try updating the e-r query.\n\n[1] http://logs.openstack.org/03/166703/17/check/gate-tempest-dsvm-neutron-src-python-novaclient/302fd71/logs/screen-n-cpu.txt.gz?level=TRACE#_2015-05-06_15_07_54_158", 
            "date_created": "2015-05-06 19:00:52.493539+00:00", 
            "author": "https://api.launchpad.net/1.0/~melwitt"
        }, 
        {
            "content": "https://review.openstack.org/#/c/180684/\n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwiaW50ZXJuYWwgZXJyb3I6IHJlY2VpdmVkIGhhbmd1cCAvIGVycm9yIGV2ZW50IG9uIHNvY2tldFwiIEFORCAgICB0YWdzOlwic2NyZWVuLW4tY3B1LnR4dFwiIiwiZmllbGRzIjpbXSwib2Zmc2V0IjowLCJ0aW1lZnJhbWUiOiI2MDQ4MDAiLCJncmFwaG1vZGUiOiJjb3VudCIsInRpbWUiOnsidXNlcl9pbnRlcnZhbCI6MH0sInN0YW1wIjoxNDMwOTM5MjMzNzI0fQ==", 
            "date_created": "2015-05-06 19:18:00.508120+00:00", 
            "author": "https://api.launchpad.net/1.0/~melwitt"
        }, 
        {
            "content": "Doesn't look like we see this in the gate any more. Marking as incomplete (so this will expire, etc) because we don't have any repo steps for this right now.", 
            "date_created": "2016-07-14 09:50:18.617449+00:00", 
            "author": "https://api.launchpad.net/1.0/~johngarbutt"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2016-09-13 04:17:32.939047+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}