{
    "status": "Invalid", 
    "last_updated": "2014-09-26 05:03:08.087051+00:00", 
    "description": "when I port a negative tempest tests into v3, this test cann't pass but it can pass when use nova v2 api. I think there is no validation for networks.\n\n    @attr(type=['negative', 'gate'])\n    def test_create_with_invalid_network_uuid(self):\n        # Pass invalid network uuid while creating a server\n\n        networks = [{'fixed_ip': '10.0.1.1', 'uuid': 'a-b-c-d-e-f-g-h-i-j'}]\n\n        self.assertRaises(exceptions.BadRequest,\n                          self.create_server,\n                          networks=networks)\n \nThe following is the log: \n\n======================================================================\nFAIL: tempest.api.compute.servers.v3.test_servers_negative.ServersNegativeV3TestJSON.test_create_with_invalid_network_uuid[gate,negative]\n----------------------------------------------------------------------\n_StringException: Traceback (most recent call last):\n  File \"/opt/stack/tempest/tempest/api/compute/servers/v3/test_servers_negative.py\", line 153, in test_create_with_invalid_network_uuid\n    networks=networks)\n  File \"/opt/stack/tempest/.venv/local/lib/python2.7/site-packages/testtools/testcase.py\", line 394, in assertRaises\n    self.assertThat(our_callable, matcher)\n  File \"/opt/stack/tempest/.venv/local/lib/python2.7/site-packages/testtools/testcase.py\", line 417, in assertThat\n    raise MismatchError(matchee, matcher, mismatch, verbose)\nMismatchError: <bound method type.create_server of <class 'tempest.api.compute.servers.v3.test_servers_negative.ServersNegativeV3TestJSON'>> returned ({'status': '202', 'content-length': '345', 'x-compute-request-id': 'req-0d34c7cf-5047-4c75-848b-d30df693ead6', 'location': 'http://192.168.1.101:8774/v3/servers/d91862ce-d80d-44d0-957c-8b28370dd460', 'date': 'Tue, 06 Aug 2013 09:03:28 GMT', 'content-type': 'application/json'}, {u'links': [{u'href': u'http://192.168.1.101:8774/v3/servers/d91862ce-d80d-44d0-957c-8b28370dd460', u'rel': u'self'}, {u'href': u'http://192.168.1.101:8774/servers/d91862ce-d80d-44d0-957c-8b28370dd460', u'rel': u'bookmark'}], u'id': u'd91862ce-d80d-44d0-957c-8b28370dd460', u'security_groups': [{u'name': u'default'}], u'adminPass': u'r8vSmWK5W8rC'})\n\n-------------------- >> begin captured logging << --------------------\ntempest.common.rest_client: INFO: Request: POST http://192.168.1.101:8774/v3/servers\ntempest.common.rest_client: DEBUG: Request Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<Token omitted>'}\ntempest.common.rest_client: DEBUG: Request Body: {\"server\": {\"flavorRef\": 42, \"name\": \"ServersNegativeV3TestJSON-instance1742202142\", \"imageRef\": \"cade0819-2939-484b-a52f-600d039aefc1\", \"networks\": [{\"fixed_ip\": \"10.0.1.1\", \"uuid\": \"a-b-c-d-e-f-g-h-i-j\"}]}}\ntempest.common.rest_client: INFO: Response Status: 202\ntempest.common.rest_client: DEBUG: Response Headers: {'content-length': '345', 'location': 'http://192.168.1.101:8774/v3/servers/d91862ce-d80d-44d0-957c-8b28370dd460', 'date': 'Tue, 06 Aug 2013 09:03:28 GMT', 'x-compute-request-id': 'req-0d34c7cf-5047-4c75-848b-d30df693ead6', 'content-type': 'application/json'}\ntempest.common.rest_client: DEBUG: Response Body: {\"server\": {\"security_groups\": [{\"name\": \"default\"}], \"id\": \"d91862ce-d80d-44d0-957c-8b28370dd460\", \"links\": [{\"href\": \"http://192.168.1.101:8774/v3/servers/d91862ce-d80d-44d0-957c-8b28370dd460\", \"rel\": \"self\"}, {\"href\": \"http://192.168.1.101:8774/servers/d91862ce-d80d-44d0-957c-8b28370dd460\", \"rel\": \"bookmark\"}], \"adminPass\": \"r8vSmWK5W8rC\"}}", 
    "tags": [
        "api", 
        "network"
    ], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1208743", 
    "owner": "None", 
    "id": 1208743, 
    "index": 3518, 
    "created": "2013-08-06 09:12:48.594708+00:00", 
    "title": "network uuid hasn't been checked in create server", 
    "comments": [
        {
            "content": "when I port a negative tempest tests into v3, this test cann't pass but it can pass when use nova v2 api. I think there is no validation for networks.\n\n    @attr(type=['negative', 'gate'])\n    def test_create_with_invalid_network_uuid(self):\n        # Pass invalid network uuid while creating a server\n\n        networks = [{'fixed_ip': '10.0.1.1', 'uuid': 'a-b-c-d-e-f-g-h-i-j'}]\n\n        self.assertRaises(exceptions.BadRequest,\n                          self.create_server,\n                          networks=networks)\n \nThe following is the log: \n\n======================================================================\nFAIL: tempest.api.compute.servers.v3.test_servers_negative.ServersNegativeV3TestJSON.test_create_with_invalid_network_uuid[gate,negative]\n----------------------------------------------------------------------\n_StringException: Traceback (most recent call last):\n  File \"/opt/stack/tempest/tempest/api/compute/servers/v3/test_servers_negative.py\", line 153, in test_create_with_invalid_network_uuid\n    networks=networks)\n  File \"/opt/stack/tempest/.venv/local/lib/python2.7/site-packages/testtools/testcase.py\", line 394, in assertRaises\n    self.assertThat(our_callable, matcher)\n  File \"/opt/stack/tempest/.venv/local/lib/python2.7/site-packages/testtools/testcase.py\", line 417, in assertThat\n    raise MismatchError(matchee, matcher, mismatch, verbose)\nMismatchError: <bound method type.create_server of <class 'tempest.api.compute.servers.v3.test_servers_negative.ServersNegativeV3TestJSON'>> returned ({'status': '202', 'content-length': '345', 'x-compute-request-id': 'req-0d34c7cf-5047-4c75-848b-d30df693ead6', 'location': 'http://192.168.1.101:8774/v3/servers/d91862ce-d80d-44d0-957c-8b28370dd460', 'date': 'Tue, 06 Aug 2013 09:03:28 GMT', 'content-type': 'application/json'}, {u'links': [{u'href': u'http://192.168.1.101:8774/v3/servers/d91862ce-d80d-44d0-957c-8b28370dd460', u'rel': u'self'}, {u'href': u'http://192.168.1.101:8774/servers/d91862ce-d80d-44d0-957c-8b28370dd460', u'rel': u'bookmark'}], u'id': u'd91862ce-d80d-44d0-957c-8b28370dd460', u'security_groups': [{u'name': u'default'}], u'adminPass': u'r8vSmWK5W8rC'})\n\n-------------------- >> begin captured logging << --------------------\ntempest.common.rest_client: INFO: Request: POST http://192.168.1.101:8774/v3/servers\ntempest.common.rest_client: DEBUG: Request Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<Token omitted>'}\ntempest.common.rest_client: DEBUG: Request Body: {\"server\": {\"flavorRef\": 42, \"name\": \"ServersNegativeV3TestJSON-instance1742202142\", \"imageRef\": \"cade0819-2939-484b-a52f-600d039aefc1\", \"networks\": [{\"fixed_ip\": \"10.0.1.1\", \"uuid\": \"a-b-c-d-e-f-g-h-i-j\"}]}}\ntempest.common.rest_client: INFO: Response Status: 202\ntempest.common.rest_client: DEBUG: Response Headers: {'content-length': '345', 'location': 'http://192.168.1.101:8774/v3/servers/d91862ce-d80d-44d0-957c-8b28370dd460', 'date': 'Tue, 06 Aug 2013 09:03:28 GMT', 'x-compute-request-id': 'req-0d34c7cf-5047-4c75-848b-d30df693ead6', 'content-type': 'application/json'}\ntempest.common.rest_client: DEBUG: Response Body: {\"server\": {\"security_groups\": [{\"name\": \"default\"}], \"id\": \"d91862ce-d80d-44d0-957c-8b28370dd460\", \"links\": [{\"href\": \"http://192.168.1.101:8774/v3/servers/d91862ce-d80d-44d0-957c-8b28370dd460\", \"rel\": \"self\"}, {\"href\": \"http://192.168.1.101:8774/servers/d91862ce-d80d-44d0-957c-8b28370dd460\", \"rel\": \"bookmark\"}], \"adminPass\": \"r8vSmWK5W8rC\"}}", 
            "date_created": "2013-08-06 09:12:48.594708+00:00", 
            "author": "https://api.launchpad.net/1.0/~ivan-zhu"
        }, 
        {
            "content": "It seems bug has been fixed. Test tempest.api.compute.v3.servers.test_servers_negative.ServersNegativeV3Test doesn't fail anymore.", 
            "date_created": "2014-07-31 13:10:32.606174+00:00", 
            "author": "https://api.launchpad.net/1.0/~dguryanov"
        }
    ]
}