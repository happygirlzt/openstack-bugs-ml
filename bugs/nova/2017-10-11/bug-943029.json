{
    "status": "Fix Released", 
    "last_updated": "2012-04-05 10:55:34.026296+00:00", 
    "description": "I got error RemoteError: Remote error: AttributeError 'FixedIp' object has no attribute 'instance'\nForm here\nif fixed_ip_ref.instance is not None:\nhttps://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/api.py#L996\n\nThere is no instance attribute on FixedIP model\nhttps://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/models.py#L701\n\nAnd,also \nif not fixed_ip_ref.network: looks wrong\nhttps://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/api.py#L999\n\n- Error Log\n2012-02-29 10:46:42 INFO nova.rpc.common [-] Connected to AMQP server on unagi221:5672\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/eventlet/greenpool.py\", line 80, in _spawn_n_impl\n    func(*args, **kwargs)\n  File \"/opt/stack/nova/nova/rpc/__init__.py\", line 69, in call\n    return _get_impl().call(context, topic, msg, timeout)\n  File \"/opt/stack/nova/nova/rpc/impl_kombu.py\", line 671, in call\n    return rpc_amqp.call(context, topic, msg, timeout, Connection.pool)\n  File \"/opt/stack/nova/nova/rpc/amqp.py\", line 336, in call\n    rv = list(rv)\n  File \"/opt/stack/nova/nova/rpc/amqp.py\", line 304, in __iter__\n    raise result\nRemoteError: Remote error: AttributeError 'FixedIp' object has no attribute 'instance'\n[u'Traceback (most recent call last):\\n', u'  File \"/opt/stack/nova/nova/rpc/amqp.py\", line 250, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', u'  File \"/opt/stack/nova/nova/network/manager.py\", line 229, in _rpc_allocate_fixed_ip\\n    return self.allocate_fixed_ip(context, instance_id, network, **kwargs)\\n', u'  File \"/opt/stack/nova/nova/network/manager.py\", line 1665, in allocate_fixed_ip\\n    network[\\'id\\'])\\n', u'  File \"/opt/stack/nova/nova/db/api.py\", line 428, in fixed_ip_associate\\n    reserved)\\n', u'  File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 101, in wrapper\\n    return f(*args, **kwargs)\\n', u'  File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 996, in fixed_ip_associate\\n    if fixed_ip_ref.instance is not None:\\n', u\"AttributeError: 'FixedIp' object has no attribute 'instance'\\n\"].\n\n-CommitID\n\ncommit e5ad06a8be11041f271cb9f727deb109e0413410\nMerge: 0b99bc2 3f42e11\nAuthor: Jenkins <email address hidden>\nDate:   Tue Feb 28 20:48:09 2012 +0000\n\n    Merge \"Make scheduler filters more pluggable\"", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 16, 
    "link": "https://bugs.launchpad.net/nova/+bug/943029", 
    "owner": "https://api.launchpad.net/1.0/~maru", 
    "id": 943029, 
    "index": 2777, 
    "created": "2012-02-29 02:04:38.309572+00:00", 
    "title": "fixed_ip_associate or FixedIP tables looks broken", 
    "comments": [
        {
            "content": "I got error RemoteError: Remote error: AttributeError 'FixedIp' object has no attribute 'instance'\nForm here\nif fixed_ip_ref.instance is not None:\nhttps://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/api.py#L996\n\nThere is no instance attribute on FixedIP model\nhttps://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/models.py#L701\n\nAnd,also \nif not fixed_ip_ref.network: looks wrong\nhttps://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/api.py#L999\n\n- Error Log\n2012-02-29 10:46:42 INFO nova.rpc.common [-] Connected to AMQP server on unagi221:5672\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/eventlet/greenpool.py\", line 80, in _spawn_n_impl\n    func(*args, **kwargs)\n  File \"/opt/stack/nova/nova/rpc/__init__.py\", line 69, in call\n    return _get_impl().call(context, topic, msg, timeout)\n  File \"/opt/stack/nova/nova/rpc/impl_kombu.py\", line 671, in call\n    return rpc_amqp.call(context, topic, msg, timeout, Connection.pool)\n  File \"/opt/stack/nova/nova/rpc/amqp.py\", line 336, in call\n    rv = list(rv)\n  File \"/opt/stack/nova/nova/rpc/amqp.py\", line 304, in __iter__\n    raise result\nRemoteError: Remote error: AttributeError 'FixedIp' object has no attribute 'instance'\n[u'Traceback (most recent call last):\\n', u'  File \"/opt/stack/nova/nova/rpc/amqp.py\", line 250, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', u'  File \"/opt/stack/nova/nova/network/manager.py\", line 229, in _rpc_allocate_fixed_ip\\n    return self.allocate_fixed_ip(context, instance_id, network, **kwargs)\\n', u'  File \"/opt/stack/nova/nova/network/manager.py\", line 1665, in allocate_fixed_ip\\n    network[\\'id\\'])\\n', u'  File \"/opt/stack/nova/nova/db/api.py\", line 428, in fixed_ip_associate\\n    reserved)\\n', u'  File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 101, in wrapper\\n    return f(*args, **kwargs)\\n', u'  File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 996, in fixed_ip_associate\\n    if fixed_ip_ref.instance is not None:\\n', u\"AttributeError: 'FixedIp' object has no attribute 'instance'\\n\"].\n\n-CommitID\n\ncommit e5ad06a8be11041f271cb9f727deb109e0413410\nMerge: 0b99bc2 3f42e11\nAuthor: Jenkins <email address hidden>\nDate:   Tue Feb 28 20:48:09 2012 +0000\n\n    Merge \"Make scheduler filters more pluggable\"", 
            "date_created": "2012-02-29 02:04:38.309572+00:00", 
            "author": "https://api.launchpad.net/1.0/~nati-ueno"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/4824", 
            "date_created": "2012-03-02 18:09:04.981797+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/4824\nCommitted: http://github.com/openstack/nova/commit/84114e426f3973d78fc0f6766f3ad7577349da7a\nSubmitter: Jenkins\nBranch:    master\n\ncommit 84114e426f3973d78fc0f6766f3ad7577349da7a\nAuthor: Maru Newby <email address hidden>\nDate:   Thu Mar 1 20:55:53 2012 -0800\n\n    Update fixed_ip_associate to not use relationships\n    \n     * fixed_ip_associate was using the FixedIp.instance and FixedIp.network\n       relationships, which were removed.  This change updates the method to\n       use instance_id and network_id instead.\n     * Adds unit tests for fixed_ip_associate\n     * Resolves bug 943029\n    \n    Change-Id: I0829d110058b8799a520ab68b5fa1b2370b9cc3e\n", 
            "date_created": "2012-03-07 00:19:29.809624+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}