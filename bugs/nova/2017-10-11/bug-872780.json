{
    "status": "Fix Released", 
    "last_updated": "2012-04-05 09:37:19.670593+00:00", 
    "description": "To prevent lp838581, added in nova.conf:\n\n--sql_max_pool_size=1 \n--sql_min_pool_size=1\n\nBut after restarting compute i got this situation:\n\n[root@gm ~]# ps ax | grep nova-compute\n16095 ?        Sl     0:01 /usr/bin/python /usr/bin/nova-compute --flagfile=/etc/nova/nova.conf --logfile=/var/log/nova/nova-compute.log --pidfile /var/run/nova/nova-compute.pid\n17549 pts/19   S+     0:00 grep nova-compute\n[root@gm ~]# netstat -ptun | grep python | grep 3306 | grep 16095\ntcp        0      0 128.107.79.136:39651        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39652        128.107.79.136:3306         ESTABLISHED 16095/python        \n[root@gm ~]# euca-run-instances ami-0000000d -n 7\nRESERVATION     r-ln4vjosr      aproject        default\nINSTANCE        i-00000076      ami-0000000d                    pending None (aproject, None)   6               m1.small        2011-10-11T13:43:06Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000072      ami-0000000d                    pending None (aproject, None)   2               m1.small        2011-10-11T13:43:05Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000073      ami-0000000d                    pending None (aproject, None)   3               m1.small        2011-10-11T13:43:05Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000074      ami-0000000d                    pending None (aproject, None)   4               m1.small        2011-10-11T13:43:05Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000075      ami-0000000d                    pending None (aproject, None)   5               m1.small        2011-10-11T13:43:05Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000070      ami-0000000d                    pending None (aproject, None)   0               m1.small        2011-10-11T13:43:04Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000071      ami-0000000d                    pending None (aproject, None)   1               m1.small        2011-10-11T13:43:04Z    unknown zone    aki-0000000b    ari-0000000c\n[root@gm ~]# netstat -ptun | grep python | grep 3306 | grep 16095\ntcp        0      0 128.107.79.136:39728        128.107.79.136:3306         ESTABLISHED 16095/python\ntcp        0      0 128.107.79.136:39727        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39709        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39736        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39711        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39651        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39652        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39710        128.107.79.136:3306         ESTABLISHED 16095/python", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/872780", 
    "owner": "https://api.launchpad.net/1.0/~blamar", 
    "id": 872780, 
    "index": 2312, 
    "created": "2011-10-12 10:52:39.018830+00:00", 
    "title": "sql_min_pool_size and sql_max_pool_size do not make sence", 
    "comments": [
        {
            "content": "To prevent lp838581, added in nova.conf:\n\n--sql_max_pool_size=1 \n--sql_min_pool_size=1\n\nBut after restarting compute i got this situation:\n\n[root@gm ~]# ps ax | grep nova-compute\n16095 ?        Sl     0:01 /usr/bin/python /usr/bin/nova-compute --flagfile=/etc/nova/nova.conf --logfile=/var/log/nova/nova-compute.log --pidfile /var/run/nova/nova-compute.pid\n17549 pts/19   S+     0:00 grep nova-compute\n[root@gm ~]# netstat -ptun | grep python | grep 3306 | grep 16095\ntcp        0      0 128.107.79.136:39651        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39652        128.107.79.136:3306         ESTABLISHED 16095/python        \n[root@gm ~]# euca-run-instances ami-0000000d -n 7\nRESERVATION     r-ln4vjosr      aproject        default\nINSTANCE        i-00000076      ami-0000000d                    pending None (aproject, None)   6               m1.small        2011-10-11T13:43:06Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000072      ami-0000000d                    pending None (aproject, None)   2               m1.small        2011-10-11T13:43:05Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000073      ami-0000000d                    pending None (aproject, None)   3               m1.small        2011-10-11T13:43:05Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000074      ami-0000000d                    pending None (aproject, None)   4               m1.small        2011-10-11T13:43:05Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000075      ami-0000000d                    pending None (aproject, None)   5               m1.small        2011-10-11T13:43:05Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000070      ami-0000000d                    pending None (aproject, None)   0               m1.small        2011-10-11T13:43:04Z    unknown zone    aki-0000000b    ari-0000000c\nINSTANCE        i-00000071      ami-0000000d                    pending None (aproject, None)   1               m1.small        2011-10-11T13:43:04Z    unknown zone    aki-0000000b    ari-0000000c\n[root@gm ~]# netstat -ptun | grep python | grep 3306 | grep 16095\ntcp        0      0 128.107.79.136:39728        128.107.79.136:3306         ESTABLISHED 16095/python\ntcp        0      0 128.107.79.136:39727        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39709        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39736        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39711        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39651        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39652        128.107.79.136:3306         ESTABLISHED 16095/python        \ntcp        0      0 128.107.79.136:39710        128.107.79.136:3306         ESTABLISHED 16095/python", 
            "date_created": "2011-10-12 10:52:39.018830+00:00", 
            "author": "https://api.launchpad.net/1.0/~chemikadze"
        }, 
        {
            "content": "That is fixed with #838581", 
            "date_created": "2011-10-31 09:11:24.179441+00:00", 
            "author": "https://api.launchpad.net/1.0/~chemikadze"
        }, 
        {
            "content": "Assumed fixed based on previous comment.", 
            "date_created": "2011-11-07 14:16:11.746556+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }
    ]
}