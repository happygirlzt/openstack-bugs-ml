{
    "status": "Invalid", 
    "last_updated": "2016-11-04 17:15:05.129693+00:00", 
    "description": "nicira@Ubuntu1204Server:~$ nova list\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-014bcadf-317f-4d2f-b0a0-dbebfc90bedf)\n\nThe trace from the API is below\n\n2015-03-29 06:50:05.244 ERROR nova.api.openstack [req-014bcadf-317f-4d2f-b0a0-dbebfc90bedf demo demo] Caught error: Unable to establish connection to http://10.0.0.40:9696/v2.0/ports.json?device_id=be9cd6ae-091e-47ba-b3f8-4139b6326df2\n2015-03-29 06:50:05.244 TRACE nova.api.openstack Traceback (most recent call last):\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 125, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return req.get_response(self.application)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     application, catch_exc_info=False)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 634, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self._call_app(env, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 554, in _call_app\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self._app(env, _fake_start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 136, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 756, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     content_type, body, accept)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 847, in _process_stack\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     request, action_args)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 710, in post_process_extensions\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     **action_args)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/security_groups.py\", line 471, in detail\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     self._extend_servers(req, list(resp_obj.obj['servers']))\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/security_groups.py\", line 422, in _extend_servers\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     servers))\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/network/security_group/neutron_driver.py\", line 353, in get_instances_security_groups_bindings\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     ports = self._get_ports_from_server_list(servers, neutron)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/network/security_group/neutron_driver.py\", line 312, in _get_ports_from_server_list\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     ports.extend(neutron.list_ports(**search_opts).get('ports'))\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 99, in with_params\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     ret = self.function(instance, *args, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 497, in list_ports\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     **_params)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 304, in list\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     for r in self._pagination(collection, path, **params):\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 317, in _pagination\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     res = self.get(path, params=params)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 290, in get\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     headers=headers, params=params)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 267, in retry_request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     headers=headers, params=params)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 197, in do_request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     content_type=self.content_type())\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/client.py\", line 301, in do_request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self.request(url, method, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/client.py\", line 296, in request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     resp = super(SessionClient, self).request(*args, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystoneclient/adapter.py\", line 95, in request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self.session.request(url, method, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystoneclient/utils.py\", line 318, in inner\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return func(*args, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystoneclient/session.py\", line 382, in request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     resp = send(**kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystoneclient/session.py\", line 426, in _send_request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     raise exceptions.ConnectionRefused(msg)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack ConnectionRefused: Unable to establish connection to http://10.0.0.40:9696/v2.0/ports.json?device_id=be9cd6ae-091e-47ba-b3f8-4139b6326df2\n2015-03-29 06:50:05.244 TRACE nova.api.openstack", 
    "tags": [
        "api"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1437863", 
    "owner": "None", 
    "id": 1437863, 
    "index": 386, 
    "created": "2015-03-29 14:37:44.447286+00:00", 
    "title": "API: doing 'nova list' when neutron service is down has an internal error", 
    "comments": [
        {
            "content": "nicira@Ubuntu1204Server:~$ nova list\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-014bcadf-317f-4d2f-b0a0-dbebfc90bedf)\n\nThe trace from the API is below\n\n2015-03-29 06:50:05.244 ERROR nova.api.openstack [req-014bcadf-317f-4d2f-b0a0-dbebfc90bedf demo demo] Caught error: Unable to establish connection to http://10.0.0.40:9696/v2.0/ports.json?device_id=be9cd6ae-091e-47ba-b3f8-4139b6326df2\n2015-03-29 06:50:05.244 TRACE nova.api.openstack Traceback (most recent call last):\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 125, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return req.get_response(self.application)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     application, catch_exc_info=False)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 634, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self._call_app(env, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 554, in _call_app\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self._app(env, _fake_start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 136, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 756, in __call__\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     content_type, body, accept)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 847, in _process_stack\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     request, action_args)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 710, in post_process_extensions\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     **action_args)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/security_groups.py\", line 471, in detail\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     self._extend_servers(req, list(resp_obj.obj['servers']))\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/security_groups.py\", line 422, in _extend_servers\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     servers))\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/network/security_group/neutron_driver.py\", line 353, in get_instances_security_groups_bindings\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     ports = self._get_ports_from_server_list(servers, neutron)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/network/security_group/neutron_driver.py\", line 312, in _get_ports_from_server_list\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     ports.extend(neutron.list_ports(**search_opts).get('ports'))\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 99, in with_params\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     ret = self.function(instance, *args, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 497, in list_ports\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     **_params)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 304, in list\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     for r in self._pagination(collection, path, **params):\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 317, in _pagination\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     res = self.get(path, params=params)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 290, in get\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     headers=headers, params=params)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 267, in retry_request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     headers=headers, params=params)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 197, in do_request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     content_type=self.content_type())\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/client.py\", line 301, in do_request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self.request(url, method, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/neutronclient/client.py\", line 296, in request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     resp = super(SessionClient, self).request(*args, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystoneclient/adapter.py\", line 95, in request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return self.session.request(url, method, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystoneclient/utils.py\", line 318, in inner\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     return func(*args, **kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystoneclient/session.py\", line 382, in request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     resp = send(**kwargs)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystoneclient/session.py\", line 426, in _send_request\n2015-03-29 06:50:05.244 TRACE nova.api.openstack     raise exceptions.ConnectionRefused(msg)\n2015-03-29 06:50:05.244 TRACE nova.api.openstack ConnectionRefused: Unable to establish connection to http://10.0.0.40:9696/v2.0/ports.json?device_id=be9cd6ae-091e-47ba-b3f8-4139b6326df2\n2015-03-29 06:50:05.244 TRACE nova.api.openstack", 
            "date_created": "2015-03-29 14:37:44.447286+00:00", 
            "author": "https://api.launchpad.net/1.0/~garyk"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/168715", 
            "date_created": "2015-03-29 15:16:29.618874+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by John Garbutt (<email address hidden>) on branch: master\nReview: https://review.openstack.org/168715\nReason: seems like this is no longer being worked on, os abandoning this patch. please restore if thats not true.", 
            "date_created": "2015-08-20 13:35:38.310981+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Review was abandoned for this and it has not been updated in a long time. Removing the assignee.\n\nPlease assign it and set to in progress if you plan to work on it.", 
            "date_created": "2016-05-17 19:39:36.825015+00:00", 
            "author": "https://api.launchpad.net/1.0/~sujitha-neti"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/322283", 
            "date_created": "2016-05-27 17:39:49.586339+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/322360", 
            "date_created": "2016-05-28 01:18:16.111206+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Dharini Chandrasekar (<email address hidden>) on branch: master\nReview: https://review.openstack.org/322283", 
            "date_created": "2016-05-28 01:28:46.392527+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Dharini Chandrasekar (<email address hidden>) on branch: master\nReview: https://review.openstack.org/322360", 
            "date_created": "2016-05-28 01:30:29.505261+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This bug no longer can be reproduced.", 
            "date_created": "2016-09-13 19:29:43.041424+00:00", 
            "author": "https://api.launchpad.net/1.0/~dharini-chandrasekar"
        }, 
        {
            "content": "Change abandoned by Dharini Chandrasekar (<email address hidden>) on branch: master\nReview: https://review.openstack.org/322283\nReason: The bug related to this patch can no longer be reproduced.", 
            "date_created": "2016-09-13 19:30:40.014362+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Since this bug is not reproducable, marking this bug as invalid.", 
            "date_created": "2016-11-04 17:14:54.201496+00:00", 
            "author": "https://api.launchpad.net/1.0/~anusha-unnam"
        }
    ]
}