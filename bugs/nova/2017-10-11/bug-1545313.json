{
    "status": "Invalid", 
    "last_updated": "2016-02-17 22:09:29.840538+00:00", 
    "description": "# Description of problem:\n\"Launch an instance\" request doesn't go through nova and openstackclient. Same results.\n\n# System information:\nOpenstack release: Liberty\nOS release: CentOS 7\n\nopenstack-nova-common-12.0.1-1.el7.noarch\nopenstack-nova-novncproxy-12.0.1-1.el7.noarch\npython-novaclient-2.30.1-1.el7.noarch\nopenstack-nova-compute-12.0.1-1.el7.noarch\nopenstack-nova-conductor-12.0.1-1.el7.noarch\nopenstack-nova-console-12.0.1-1.el7.noarch\nopenstack-nova-cert-12.0.1-1.el7.noarch\nopenstack-nova-scheduler-12.0.1-1.el7.noarch\nopenstack-nova-api-12.0.1-1.el7.noarch\npython-nova-12.0.1-1.el7.noarch\n\n\n# Installation steps:\nhttp://docs.openstack.org/liberty/install-guide-rdo/\n\n# Configuration:\n\n==> nova/nova.conf <==\n[keystone_authtoken]\nauth_uri = http://controller:5000/\nauth_url = http://controller:35357/\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = nova\n\n[neutron]\nurl = http://controller:9696\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nuser = neutron\npass = neutron\nservice_metadata_proxy=True\nmetadata_proxy_shared_secret = e86ad70cd8b877e56603\n\n==> neutron/neutron.conf <==\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nidentity_uri = http://controller:5000\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = neutron\npassword = neutron\n\n[nova]\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nusername = nova\npassword = nova\n\n\n#  Reproduce steps:\nopenstack server create --image \"cirros\" --nic net-id=51af9b85-8974-47dc-879d-27b6ee4f36ca --flavor m1.tiny --security-group default --os-volume-api-version 1 --key-name adminkey test3\n\nnova boot --flavor m1.tiny --image \"cirros\" --nic net-id=51af9b85-8974-47dc-879d-27b6ee4f36ca --security-group default --key-name adminkey admintest\n\n\n# Error returned to console:\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-7ff9a592-53b5-4334-9484-1c7bc22450ea)\n\n==> keystone/keystone.log <==\n2016-02-13 14:54:33.318 23688 DEBUG keystone.common.controller [req-27e83fa7-da62-4f2e-96bd-b970cda09e86 - - - - -] RBAC: Authorization gran\nted inner /usr/lib/python2.7/site-packages/keystone/common/controller.py:162\n2016-02-13 14:54:33.451 23691 INFO keystone.common.wsgi [req-56068fb8-0e41-4cf8-9bb2-5c57a9707d8d - - - - -] GET http://controller:35357/\n2016-02-13 14:54:33.455 23692 DEBUG keystone.middleware.core [req-4f1bae96-73bf-4ccc-8519-174c8848a1c8 - - - - -] There is either no auth to\nken in the request or the certificate issuer is not trusted. No auth context will be set. process_request /usr/lib/python2.7/site-packages/k\neystone/middleware/core.py:310\n2016-02-13 14:54:33.458 23692 INFO keystone.common.wsgi [req-4f1bae96-73bf-4ccc-8519-174c8848a1c8 - - - - -] POST http://controller:35357/v3\n/auth/tokens\n2016-02-13 14:54:33.469 23692 WARNING keystone.common.wsgi [req-4f1bae96-73bf-4ccc-8519-174c8848a1c8 - - - - -] Expecting to find id or name\n in user - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in\nerror.\n\n\n==> nova/nova-api.log <==\n2016-02-13 14:54:31.283 26962 INFO nova.osapi_compute.wsgi.server [req-7f8769ee-2a2b-40be-80b5-d06eb75ba01c 4cc7915e0c8e4deb8cbd4e45fa912417 b8f478528a90485c91b363b57505a047 - - -] 192.168.2.50 \"GET /v2/b8f478528a90485c91b363b57505a047/flavors/1 HTTP/1.1\" status: 200 len: 615 time: 0.0232971\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions [req-7ff9a592-53b5-4334-9484-1c7bc22450ea 4cc7915e0c8e4deb8cbd4e45fa912417 b8f478528a90485c91b363b57505a047 - - -] Unexpected exception in API method\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 611, in create\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     **create_kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 149, in inner\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1581, in create\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1181, in _create_instance\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 955, in _validate_and_build_base_options\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     pci_request_info, requested_networks)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 1059, in create_pci_requests_for_sriov_ports\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     neutron = get_client(context, admin=True)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 237, in get_client\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 200, in get_token\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return self.get_access(session).auth_token\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 240, in get_access\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     self.auth_ref = self.get_auth_ref(session)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 186, in get_auth_ref\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return self._plugin.get_auth_ref(session, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/v3/base.py\", line 190, in get_auth_ref\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     authenticated=False, log=False, **rkwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 501, in post\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return self.request(url, 'POST', **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 337, in inner\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 401, in request\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     raise exceptions.from_response(resp, method, url)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions BadRequest: Expecting to find id or name in user - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-4f1bae96-73bf-4ccc-8519-174c8848a1c8)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions\n2016-02-13 14:54:33.477 26962 INFO nova.api.openstack.wsgi [req-7ff9a592-53b5-4334-9484-1c7bc22450ea 4cc7915e0c8e4deb8cbd4e45fa912417 b8f478528a90485c91b363b57505a047 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'>\n2016-02-13 14:54:33.479 26962 INFO nova.osapi_compute.wsgi.server [req-7ff9a592-53b5-4334-9484-1c7bc22450ea 4cc7915e0c8e4deb8cbd4e45fa912417 b8f478528a90485c91b363b57505a047 - - -] 192.168.2.50 \"POST /v2/b8f478528a90485c91b363b57505a047/servers HTTP/1.1\" status: 500 len: 441 time: 1.6943171", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1545313", 
    "owner": "https://api.launchpad.net/1.0/~rahulunair", 
    "id": 1545313, 
    "index": 6038, 
    "created": "2016-02-13 18:27:28.170831+00:00", 
    "title": "Unable to launch an instance", 
    "comments": [
        {
            "content": "# Description of problem:\n\"Launch an instance\" request doesn't go through nova and openstackclient. Same results.\n\n# System information:\nOpenstack release: Liberty\nOS release: CentOS 7\n\nopenstack-nova-common-12.0.1-1.el7.noarch\nopenstack-nova-novncproxy-12.0.1-1.el7.noarch\npython-novaclient-2.30.1-1.el7.noarch\nopenstack-nova-compute-12.0.1-1.el7.noarch\nopenstack-nova-conductor-12.0.1-1.el7.noarch\nopenstack-nova-console-12.0.1-1.el7.noarch\nopenstack-nova-cert-12.0.1-1.el7.noarch\nopenstack-nova-scheduler-12.0.1-1.el7.noarch\nopenstack-nova-api-12.0.1-1.el7.noarch\npython-nova-12.0.1-1.el7.noarch\n\n\n# Installation steps:\nhttp://docs.openstack.org/liberty/install-guide-rdo/\n\n# Configuration:\n\n==> nova/nova.conf <==\n[keystone_authtoken]\nauth_uri = http://controller:5000/\nauth_url = http://controller:35357/\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = nova\n\n[neutron]\nurl = http://controller:9696\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nuser = neutron\npass = neutron\nservice_metadata_proxy=True\nmetadata_proxy_shared_secret = e86ad70cd8b877e56603\n\n==> neutron/neutron.conf <==\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nidentity_uri = http://controller:5000\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = neutron\npassword = neutron\n\n[nova]\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nusername = nova\npassword = nova\n\n\n#  Reproduce steps:\nopenstack server create --image \"cirros\" --nic net-id=51af9b85-8974-47dc-879d-27b6ee4f36ca --flavor m1.tiny --security-group default --os-volume-api-version 1 --key-name adminkey test3\n\nnova boot --flavor m1.tiny --image \"cirros\" --nic net-id=51af9b85-8974-47dc-879d-27b6ee4f36ca --security-group default --key-name adminkey admintest\n\n\n# Error returned to console:\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-7ff9a592-53b5-4334-9484-1c7bc22450ea)\n\n==> keystone/keystone.log <==\n2016-02-13 14:54:33.318 23688 DEBUG keystone.common.controller [req-27e83fa7-da62-4f2e-96bd-b970cda09e86 - - - - -] RBAC: Authorization gran\nted inner /usr/lib/python2.7/site-packages/keystone/common/controller.py:162\n2016-02-13 14:54:33.451 23691 INFO keystone.common.wsgi [req-56068fb8-0e41-4cf8-9bb2-5c57a9707d8d - - - - -] GET http://controller:35357/\n2016-02-13 14:54:33.455 23692 DEBUG keystone.middleware.core [req-4f1bae96-73bf-4ccc-8519-174c8848a1c8 - - - - -] There is either no auth to\nken in the request or the certificate issuer is not trusted. No auth context will be set. process_request /usr/lib/python2.7/site-packages/k\neystone/middleware/core.py:310\n2016-02-13 14:54:33.458 23692 INFO keystone.common.wsgi [req-4f1bae96-73bf-4ccc-8519-174c8848a1c8 - - - - -] POST http://controller:35357/v3\n/auth/tokens\n2016-02-13 14:54:33.469 23692 WARNING keystone.common.wsgi [req-4f1bae96-73bf-4ccc-8519-174c8848a1c8 - - - - -] Expecting to find id or name\n in user - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in\nerror.\n\n\n==> nova/nova-api.log <==\n2016-02-13 14:54:31.283 26962 INFO nova.osapi_compute.wsgi.server [req-7f8769ee-2a2b-40be-80b5-d06eb75ba01c 4cc7915e0c8e4deb8cbd4e45fa912417 b8f478528a90485c91b363b57505a047 - - -] 192.168.2.50 \"GET /v2/b8f478528a90485c91b363b57505a047/flavors/1 HTTP/1.1\" status: 200 len: 615 time: 0.0232971\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions [req-7ff9a592-53b5-4334-9484-1c7bc22450ea 4cc7915e0c8e4deb8cbd4e45fa912417 b8f478528a90485c91b363b57505a047 - - -] Unexpected exception in API method\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 611, in create\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     **create_kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 149, in inner\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1581, in create\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1181, in _create_instance\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 955, in _validate_and_build_base_options\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     pci_request_info, requested_networks)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 1059, in create_pci_requests_for_sriov_ports\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     neutron = get_client(context, admin=True)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 237, in get_client\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 200, in get_token\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return self.get_access(session).auth_token\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 240, in get_access\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     self.auth_ref = self.get_auth_ref(session)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 186, in get_auth_ref\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return self._plugin.get_auth_ref(session, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/v3/base.py\", line 190, in get_auth_ref\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     authenticated=False, log=False, **rkwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 501, in post\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return self.request(url, 'POST', **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 337, in inner\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 401, in request\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions     raise exceptions.from_response(resp, method, url)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions BadRequest: Expecting to find id or name in user - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-4f1bae96-73bf-4ccc-8519-174c8848a1c8)\n2016-02-13 14:54:33.472 26962 ERROR nova.api.openstack.extensions\n2016-02-13 14:54:33.477 26962 INFO nova.api.openstack.wsgi [req-7ff9a592-53b5-4334-9484-1c7bc22450ea 4cc7915e0c8e4deb8cbd4e45fa912417 b8f478528a90485c91b363b57505a047 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'>\n2016-02-13 14:54:33.479 26962 INFO nova.osapi_compute.wsgi.server [req-7ff9a592-53b5-4334-9484-1c7bc22450ea 4cc7915e0c8e4deb8cbd4e45fa912417 b8f478528a90485c91b363b57505a047 - - -] 192.168.2.50 \"POST /v2/b8f478528a90485c91b363b57505a047/servers HTTP/1.1\" status: 500 len: 441 time: 1.6943171", 
            "date_created": "2016-02-13 18:27:28.170831+00:00", 
            "author": "https://api.launchpad.net/1.0/~vladislav-falfushinsky"
        }, 
        {
            "content": "It seems to be a nova.conf configuration issue, check the liberty manual to configure , please see an example of the new configuration for nova.conf: \nhttp://docs.openstack.org/liberty/config-reference/content/section_compute-config-samples.html, make changes accordingly and try. Thanks.", 
            "date_created": "2016-02-13 19:56:19.893085+00:00", 
            "author": "https://api.launchpad.net/1.0/~rahulunair"
        }, 
        {
            "content": "Thanks for fast response. I`ve update configs according to liberty manual, but now I get such error:\n2016-02-15 19:29:48.451 5981 DEBUG neutron.db.l3_dvrscheduler_db [req-633cc7cf-9f6d-412b-98ed-9ec2457afc9b - - - - -] Received port after_update _notify_l3_agent_new_port /usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py:485\n2016-02-15 19:29:54.552 5981 DEBUG neutron.api.rpc.handlers.dhcp_rpc [req-f69634cd-48a3-4bf4-82aa-8886449b2b4b - - - - -] get_active_networks_info from controller get_active_networks_info /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/dhcp_rpc.py:129\n2016-02-15 19:29:55.054 5981 DEBUG neutron.api.rpc.handlers.dhcp_rpc [req-f69634cd-48a3-4bf4-82aa-8886449b2b4b - - - - -] get_active_networks_info from controller get_active_networks_info /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/dhcp_rpc.py:129\n2016-02-15 19:32:59.882 5980 INFO neutron.wsgi [-] (5980) accepted ('192.168.2.50', 50887)\n2016-02-15 19:32:59.886 5980 CRITICAL keystonemiddleware.auth_token [-] Unable to validate token\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token Traceback (most recent call last):\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystonemiddleware/auth_token/__init__.py\", line 849, in _fetch_token\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     data = self._identity_server.verify_token(token)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystonemiddleware/auth_token/_identity.py\", line 213, in verify_token\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     auth_ref = self._request_strategy.verify_token(user_token)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystonemiddleware/auth_token/_identity.py\", line 165, in _request_strategy\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     strategy_class = self._get_strategy_class()\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystonemiddleware/auth_token/_identity.py\", line 187, in _get_strategy_class\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     if self._adapter.get_endpoint(version=klass.AUTH_VERSION):\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 129, in get_endpoint\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     return self.session.get_endpoint(auth or self.auth, **kwargs)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 660, in get_endpoint\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     return auth.get_endpoint(self, **kwargs)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 315, in get_endpoint\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     service_catalog = self.get_access(session).service_catalog\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 240, in get_access\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     self.auth_ref = self.get_auth_ref(session)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 184, in get_auth_ref\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     self._plugin = self._do_create_plugin(session)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 139, in _do_create_plugin\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     authenticated=False)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 337, in inner\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     return func(*args, **kwargs)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 400, in get_discovery\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     authenticated=authenticated)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 337, in inner\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     return func(*args, **kwargs)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/_discover.py\", line 142, in __init__\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     authenticated=authenticated)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 337, in inner\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     return func(*args, **kwargs)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/_discover.py\", line 40, in get_version_data\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     resp = session.get(url, headers=headers, authenticated=authenticated)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 493, in get\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     return self.request(url, 'GET', **kwargs)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 337, in inner\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     return func(*args, **kwargs)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 319, in request\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     if not urllib.parse.urlparse(url).netloc:\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib64/python2.7/urlparse.py\", line 142, in urlparse\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     tuple = urlsplit(url, scheme, allow_fragments)\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token   File \"/usr/lib64/python2.7/urlparse.py\", line 181, in urlsplit\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token     i = url.find(':')\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token AttributeError: 'NoneType' object has no attribute 'find'\n2016-02-15 19:32:59.886 5980 ERROR keystonemiddleware.auth_token\n2016-02-15 19:32:59.891 5980 INFO neutron.wsgi [-] 192.168.2.50 - - [15/Feb/2016 19:32:59] \"GET /v2.0/networks.json?fields=id&name=256eea0b-06fe-49a0-880d-6ecc8afeff5a HTTP/1.1\" 500 341 0.007175\n\n", 
            "date_created": "2016-02-15 23:00:48.922511+00:00", 
            "author": "https://api.launchpad.net/1.0/~vladislav-falfushinsky"
        }, 
        {
            "content": "Neutron.conf", 
            "date_created": "2016-02-15 23:01:56.071830+00:00", 
            "author": "https://api.launchpad.net/1.0/~vladislav-falfushinsky"
        }, 
        {
            "content": "Nova.conf", 
            "date_created": "2016-02-15 23:02:18.067402+00:00", 
            "author": "https://api.launchpad.net/1.0/~vladislav-falfushinsky"
        }, 
        {
            "content": "Tried different configuraions from liberty manual, but still have strange errors. \nI recieve the message as follows when I am trying to create instance with following settings in neutron.conf:\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nidentity_uri = http://controller:5000\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nadmin_user = neutron\nadmin_password = neutron\nusername = neutron\npassword = neutron\nadmin_tenant_name = service\n\n\nboot_args: ['public-instance', <Image: cirros>, <Flavor: m1.tiny>]\nboot_kwargs: {'files': {}, 'userdata': None, 'availability_zone': None, 'nics': [{'port-id': '', 'net-id': u'256eea0b-06fe-49a0-880d-6ecc8afeff5a', 'v4-fixed-ip': '', 'v6-fixed-ip': ''}], 'block_device_mapping': {}, 'max_count': 1, 'meta': None, 'key_name': 'vladf', 'min_count': 1, 'scheduler_hints': {}, 'reservation_id': None, 'security_groups': ['default'], 'config_drive': None}\nREQ: curl -g -i -X POST http://controller:8774/v2/b8f478528a90485c91b363b57505a047/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}11e4ab6cefa5fb2256b083cd6542b50f0e457f71\" -d '{\"server\": {\"name\": \"public-instance\", \"imageRef\": \"97836f02-2059-40a8-99ba-1730e97aa101\", \"key_name\": \"vladf\", \"flavorRef\": \"1\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"256eea0b-06fe-49a0-880d-6ecc8afeff5a\"}], \"security_groups\": [{\"name\": \"default\"}]}}'\nRESP: [500] date: Wed, 17 Feb 2016 23:51:05 GMT connection: keep-alive content-type: application/json; charset=UTF-8 content-length: 198 x-compute-request-id: req-0f5e4eda-2603-40b3-b84b-17c253d2a103\nRESP BODY: {\"computeFault\": {\"message\": \"Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<type 'exceptions.AttributeError'>\", \"code\": 500}}\n\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.AttributeError'> (HTTP 500) (Request-ID: req-0f5e4eda-2603-40b3-b84b-17c253d2a103)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/cliff/app.py\", line 374, in run_subcommand\n    result = cmd.run(parsed_args)\n  File \"/usr/lib/python2.7/site-packages/cliff/display.py\", line 92, in run\n    column_names, data = self.take_action(parsed_args)\n  File \"/usr/lib/python2.7/site-packages/openstackclient/common/utils.py\", line 45, in wrapper\n    return func(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/openstackclient/compute/v2/server.py\", line 513, in take_action\n    server = compute_client.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 942, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 540, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 169, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 176, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/client.py\", line 93, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.AttributeError'> (HTTP 500) (Request-ID: req-0f5e4eda-2603-40b3-b84b-17c253d2a103)\nclean_up CreateServer: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.AttributeError'> (HTTP 500) (Request-ID: req-0f5e4eda-2603-40b3-b84b-17c253d2a103)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/openstackclient/shell.py\", line 112, in run\n    ret_val = super(OpenStackShell, self).run(argv)\n  File \"/usr/lib/python2.7/site-packages/cliff/app.py\", line 255, in run\n    result = self.run_subcommand(remainder)\n  File \"/usr/lib/python2.7/site-packages/cliff/app.py\", line 374, in run_subcommand\n    result = cmd.run(parsed_args)\n  File \"/usr/lib/python2.7/site-packages/cliff/display.py\", line 92, in run\n    column_names, data = self.take_action(parsed_args)\n  File \"/usr/lib/python2.7/site-packages/openstackclient/common/utils.py\", line 45, in wrapper\n    return func(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/openstackclient/compute/v2/server.py\", line 513, in take_action\n    server = compute_client.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 942, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 540, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 169, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 176, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/client.py\", line 93, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.AttributeError'> (HTTP 500) (Request-ID: req-0f5e4eda-2603-40b3-b84b-17c253d2a103)\n\nEND return value: 1\n\n\nBut when I change them to:\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nidentity_uri = http://controller:5000\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nadmin_user = neutron\nadmin_password = neutron\nadmin_tenant_name = service\n\nI recieve:\nInstantiating network client: <class 'neutronclient.v2_0.client.Client'>\nInstantiating network api: <class 'neutronclient.v2_0.client.Client'>\nREQ: curl -g -i -X GET http://controller:9696/v2.0/networks.json?fields=id&name=256eea0b-06fe-49a0-880d-6ecc8afeff5a -H \"User-Agent: python-neutronclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}f7cf0c6a618aebb27f71715dac096a14160df837\"\nRESP: [503] date: Wed, 17 Feb 2016 23:58:46 GMT connection: keep-alive content-type: text/plain; charset=UTF-8 content-length: 100 x-openstack-request-id: req-6a7073da-92dc-44f9-81b4-7c5040897a56\nRESP BODY: 503 Service Unavailable\n\nThe server is currently unavailable. Please try again at a later time.\n\n\n\nError message: 503 Service Unavailable\n\nThe server is currently unavailable. Please try again at a later time.\n\n\n503 Service Unavailable\n\nThe server is currently unavailable. Please try again at a later time.\n\n\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/cliff/app.py\", line 374, in run_subcommand\n    result = cmd.run(parsed_args)\n  File \"/usr/lib/python2.7/site-packages/cliff/display.py\", line 92, in run\n    column_names, data = self.take_action(parsed_args)\n  File \"/usr/lib/python2.7/site-packages/openstackclient/common/utils.py\", line 45, in wrapper\n    return func(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/openstackclient/compute/v2/server.py\", line 452, in take_action\n    nic_info[\"net-id\"])\n  File \"/usr/lib/python2.7/site-packages/openstackclient/network/common.py\", line 32, in find\n    data = list_method(**kwargs)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 102, in with_params\n    ret = self.function(instance, *args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 574, in list_networks\n    **_params)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 307, in list\n    for r in self._pagination(collection, path, **params):\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 320, in _pagination\n    res = self.get(path, params=params)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 293, in get\n    headers=headers, params=params)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 270, in retry_request\n    headers=headers, params=params)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 211, in do_request\n    self._handle_fault_response(status_code, replybody)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 185, in _handle_fault_response\n    exception_handler_v20(status_code, des_error_body)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 83, in exception_handler_v20\n    message=message)\nNeutronClientException: 503 Service Unavailable\n\nThe server is currently unavailable. Please try again at a later time.\n\n\nclean_up CreateServer: 503 Service Unavailable\n\nThe server is currently unavailable. Please try again at a later time.\n\n\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/openstackclient/shell.py\", line 112, in run\n    ret_val = super(OpenStackShell, self).run(argv)\n  File \"/usr/lib/python2.7/site-packages/cliff/app.py\", line 255, in run\n    result = self.run_subcommand(remainder)\n  File \"/usr/lib/python2.7/site-packages/cliff/app.py\", line 374, in run_subcommand\n    result = cmd.run(parsed_args)\n  File \"/usr/lib/python2.7/site-packages/cliff/display.py\", line 92, in run\n    column_names, data = self.take_action(parsed_args)\n  File \"/usr/lib/python2.7/site-packages/openstackclient/common/utils.py\", line 45, in wrapper\n    return func(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/openstackclient/compute/v2/server.py\", line 452, in take_action\n    nic_info[\"net-id\"])\n  File \"/usr/lib/python2.7/site-packages/openstackclient/network/common.py\", line 32, in find\n    data = list_method(**kwargs)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 102, in with_params\n    ret = self.function(instance, *args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 574, in list_networks\n    **_params)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 307, in list\n    for r in self._pagination(collection, path, **params):\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 320, in _pagination\n    res = self.get(path, params=params)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 293, in get\n    headers=headers, params=params)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 270, in retry_request\n    headers=headers, params=params)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 211, in do_request\n    self._handle_fault_response(status_code, replybody)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 185, in _handle_fault_response\n    exception_handler_v20(status_code, des_error_body)\n  File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 83, in exception_handler_v20\n    message=message)\nNeutronClientException: 503 Service Unavailable\n\nThe server is currently unavailable. Please try again at a later time.\n\n\n\nEND return value: 1\n", 
            "date_created": "2016-02-17 22:09:28.921987+00:00", 
            "author": "https://api.launchpad.net/1.0/~vladislav-falfushinsky"
        }
    ]
}