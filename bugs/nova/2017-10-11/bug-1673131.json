{
    "status": "Fix Released", 
    "last_updated": "2017-04-14 09:22:56.278282+00:00", 
    "description": "The 'docs' tox target currently fails due to dos line-endings that have snuck into notification samples. Output below.\n\ndocs runtests: commands[2] | bash -c ! find doc/ -type f -name *.json | xargs grep -U -n $'\\r'\ndoc/notification_samples/instance-rebuild-error.json:1:{\ndoc/notification_samples/instance-rebuild-error.json:2:    \"priority\": \"ERROR\",\ndoc/notification_samples/instance-rebuild-error.json:3:    \"payload\": {\ndoc/notification_samples/instance-rebuild-error.json:4:        \"nova_object.name\": \"InstanceActionPayload\",\ndoc/notification_samples/instance-rebuild-error.json:5:        \"nova_object.data\": {\ndoc/notification_samples/instance-rebuild-error.json:6:            \"state\": \"active\",\ndoc/notification_samples/instance-rebuild-error.json:7:            \"availability_zone\": null,\ndoc/notification_samples/instance-rebuild-error.json:8:            \"kernel_id\": \"\",\ndoc/notification_samples/instance-rebuild-error.json:9:            \"host_name\": \"some-server\",\ndoc/notification_samples/instance-rebuild-error.json:10:            \"progress\": 0,\ndoc/notification_samples/instance-rebuild-error.json:11:            \"task_state\": \"rebuilding\",\ndoc/notification_samples/instance-rebuild-error.json:12:            \"deleted_at\": null,\ndoc/notification_samples/instance-rebuild-error.json:13:            \"architecture\": null,\ndoc/notification_samples/instance-rebuild-error.json:14:            \"ramdisk_id\": \"\",\ndoc/notification_samples/instance-rebuild-error.json:15:            \"locked\": false,\ndoc/notification_samples/instance-rebuild-error.json:16:            \"created_at\": \"2012-10-29T13:42:11Z\",\ndoc/notification_samples/instance-rebuild-error.json:17:            \"host\": \"compute\",\ndoc/notification_samples/instance-rebuild-error.json:18:            \"display_name\": \"some-server\",\ndoc/notification_samples/instance-rebuild-error.json:19:            \"os_type\": null,\ndoc/notification_samples/instance-rebuild-error.json:20:            \"metadata\": {},\ndoc/notification_samples/instance-rebuild-error.json:21:            \"ip_addresses\": [\ndoc/notification_samples/instance-rebuild-error.json:22:                {\ndoc/notification_samples/instance-rebuild-error.json:23:                    \"nova_object.name\": \"IpPayload\",\ndoc/notification_samples/instance-rebuild-error.json:24:                    \"nova_object.data\": {\ndoc/notification_samples/instance-rebuild-error.json:25:                        \"device_name\": \"tapce531f90-19\",\ndoc/notification_samples/instance-rebuild-error.json:26:                        \"port_uuid\": \"ce531f90-199f-48c0-816c-13e38010b442\",\ndoc/notification_samples/instance-rebuild-error.json:27:                        \"address\": \"192.168.1.3\",\ndoc/notification_samples/instance-rebuild-error.json:28:                        \"version\": 4,\ndoc/notification_samples/instance-rebuild-error.json:29:                        \"meta\": {},\ndoc/notification_samples/instance-rebuild-error.json:30:                        \"label\": \"private-network\",\ndoc/notification_samples/instance-rebuild-error.json:31:                        \"mac\": \"fa:16:3e:4c:2c:30\"\ndoc/notification_samples/instance-rebuild-error.json:32:                    },\ndoc/notification_samples/instance-rebuild-error.json:33:                    \"nova_object.version\": \"1.0\",\ndoc/notification_samples/instance-rebuild-error.json:34:                    \"nova_object.namespace\": \"nova\"\ndoc/notification_samples/instance-rebuild-error.json:35:                }\ndoc/notification_samples/instance-rebuild-error.json:36:            ],\ndoc/notification_samples/instance-rebuild-error.json:37:            \"power_state\": \"running\",\ndoc/notification_samples/instance-rebuild-error.json:38:            \"display_description\": \"some-server\",\ndoc/notification_samples/instance-rebuild-error.json:39:            \"uuid\": \"5fafd989-4043-44b4-8acc-907e847f4b70\",\ndoc/notification_samples/instance-rebuild-error.json:40:            \"flavor\": {\ndoc/notification_samples/instance-rebuild-error.json:41:                \"nova_object.name\": \"FlavorPayload\",\ndoc/notification_samples/instance-rebuild-error.json:42:                \"nova_object.data\": {\ndoc/notification_samples/instance-rebuild-error.json:43:                    \"disabled\": false,\ndoc/notification_samples/instance-rebuild-error.json:44:                    \"ephemeral_gb\": 0,\ndoc/notification_samples/instance-rebuild-error.json:45:                    \"extra_specs\": {\"hw:watchdog_action\": \"disabled\"},\ndoc/notification_samples/instance-rebuild-error.json:46:                    \"flavorid\": \"a22d5517-147c-4147-a0d1-e698df5cd4e3\",\ndoc/notification_samples/instance-rebuild-error.json:47:                    \"is_public\": true,\ndoc/notification_samples/instance-rebuild-error.json:48:                    \"memory_mb\": 512,\ndoc/notification_samples/instance-rebuild-error.json:49:                    \"name\": \"test_flavor\",\ndoc/notification_samples/instance-rebuild-error.json:50:                    \"projects\": null,\ndoc/notification_samples/instance-rebuild-error.json:51:                    \"root_gb\": 1,\ndoc/notification_samples/instance-rebuild-error.json:52:                    \"rxtx_factor\": 1.0,\ndoc/notification_samples/instance-rebuild-error.json:53:                    \"swap\": 0,\ndoc/notification_samples/instance-rebuild-error.json:54:                    \"vcpu_weight\": 0,\ndoc/notification_samples/instance-rebuild-error.json:55:                    \"vcpus\": 1\ndoc/notification_samples/instance-rebuild-error.json:56:                },\ndoc/notification_samples/instance-rebuild-error.json:57:                \"nova_object.version\": \"1.3\",\ndoc/notification_samples/instance-rebuild-error.json:58:                \"nova_object.namespace\": \"nova\"\ndoc/notification_samples/instance-rebuild-error.json:59:            },\ndoc/notification_samples/instance-rebuild-error.json:60:            \"reservation_id\": \"r-pfiic52h\",\ndoc/notification_samples/instance-rebuild-error.json:61:            \"terminated_at\": null,\ndoc/notification_samples/instance-rebuild-error.json:62:            \"tenant_id\": \"6f70656e737461636b20342065766572\",\ndoc/notification_samples/instance-rebuild-error.json:63:            \"node\": \"fake-mini\",\ndoc/notification_samples/instance-rebuild-error.json:64:            \"launched_at\": \"2012-10-29T13:42:11Z\",\ndoc/notification_samples/instance-rebuild-error.json:65:            \"user_id\": \"fake\",\ndoc/notification_samples/instance-rebuild-error.json:66:            \"image_uuid\": \"a2459075-d96c-40d5-893e-577ff92e721c\",\ndoc/notification_samples/instance-rebuild-error.json:67:            \"fault\": {\ndoc/notification_samples/instance-rebuild-error.json:68:                \"nova_object.name\": \"ExceptionPayload\",\ndoc/notification_samples/instance-rebuild-error.json:69:                \"nova_object.data\": {\ndoc/notification_samples/instance-rebuild-error.json:70:                    \"module_name\": \"nova.tests.functional.notification_sample_tests.test_instance\",\ndoc/notification_samples/instance-rebuild-error.json:71:                    \"exception_message\": \"Insufficient compute resources: fake-resource.\",\ndoc/notification_samples/instance-rebuild-error.json:72:                    \"function_name\": \"_compute_resources_unavailable\",\ndoc/notification_samples/instance-rebuild-error.json:73:                    \"exception\": \"ComputeResourcesUnavailable\"\ndoc/notification_samples/instance-rebuild-error.json:74:                },\ndoc/notification_samples/instance-rebuild-error.json:75:                \"nova_object.version\": \"1.0\",\ndoc/notification_samples/instance-rebuild-error.json:76:                \"nova_object.namespace\": \"nova\"\ndoc/notification_samples/instance-rebuild-error.json:77:            }\ndoc/notification_samples/instance-rebuild-error.json:78:        },\ndoc/notification_samples/instance-rebuild-error.json:79:        \"nova_object.version\": \"1.1\",\ndoc/notification_samples/instance-rebuild-error.json:80:        \"nova_object.namespace\": \"nova\"\ndoc/notification_samples/instance-rebuild-error.json:81:    },\ndoc/notification_samples/instance-rebuild-error.json:82:    \"publisher_id\": \"nova-compute:compute\",\ndoc/notification_samples/instance-rebuild-error.json:83:    \"event_type\": \"instance.rebuild.error\"\ndoc/notification_samples/instance-rebuild-error.json:84:}\nERROR: InvocationError: \"/usr/bin/bash -c ! find doc/ -type f -name *.json | xargs grep -U -n $'\\\\r'\"", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1673131", 
    "owner": "https://api.launchpad.net/1.0/~stephenfinucane", 
    "id": 1673131, 
    "index": 6733, 
    "created": "2017-03-15 16:03:00.481244+00:00", 
    "title": "tox -edocs target is broken", 
    "comments": [
        {
            "content": "The 'docs' tox target currently fails due to dos line-endings that have snuck into notification samples. Output below.\n\ndocs runtests: commands[2] | bash -c ! find doc/ -type f -name *.json | xargs grep -U -n $'\\r'\ndoc/notification_samples/instance-rebuild-error.json:1:{\ndoc/notification_samples/instance-rebuild-error.json:2:    \"priority\": \"ERROR\",\ndoc/notification_samples/instance-rebuild-error.json:3:    \"payload\": {\ndoc/notification_samples/instance-rebuild-error.json:4:        \"nova_object.name\": \"InstanceActionPayload\",\ndoc/notification_samples/instance-rebuild-error.json:5:        \"nova_object.data\": {\ndoc/notification_samples/instance-rebuild-error.json:6:            \"state\": \"active\",\ndoc/notification_samples/instance-rebuild-error.json:7:            \"availability_zone\": null,\ndoc/notification_samples/instance-rebuild-error.json:8:            \"kernel_id\": \"\",\ndoc/notification_samples/instance-rebuild-error.json:9:            \"host_name\": \"some-server\",\ndoc/notification_samples/instance-rebuild-error.json:10:            \"progress\": 0,\ndoc/notification_samples/instance-rebuild-error.json:11:            \"task_state\": \"rebuilding\",\ndoc/notification_samples/instance-rebuild-error.json:12:            \"deleted_at\": null,\ndoc/notification_samples/instance-rebuild-error.json:13:            \"architecture\": null,\ndoc/notification_samples/instance-rebuild-error.json:14:            \"ramdisk_id\": \"\",\ndoc/notification_samples/instance-rebuild-error.json:15:            \"locked\": false,\ndoc/notification_samples/instance-rebuild-error.json:16:            \"created_at\": \"2012-10-29T13:42:11Z\",\ndoc/notification_samples/instance-rebuild-error.json:17:            \"host\": \"compute\",\ndoc/notification_samples/instance-rebuild-error.json:18:            \"display_name\": \"some-server\",\ndoc/notification_samples/instance-rebuild-error.json:19:            \"os_type\": null,\ndoc/notification_samples/instance-rebuild-error.json:20:            \"metadata\": {},\ndoc/notification_samples/instance-rebuild-error.json:21:            \"ip_addresses\": [\ndoc/notification_samples/instance-rebuild-error.json:22:                {\ndoc/notification_samples/instance-rebuild-error.json:23:                    \"nova_object.name\": \"IpPayload\",\ndoc/notification_samples/instance-rebuild-error.json:24:                    \"nova_object.data\": {\ndoc/notification_samples/instance-rebuild-error.json:25:                        \"device_name\": \"tapce531f90-19\",\ndoc/notification_samples/instance-rebuild-error.json:26:                        \"port_uuid\": \"ce531f90-199f-48c0-816c-13e38010b442\",\ndoc/notification_samples/instance-rebuild-error.json:27:                        \"address\": \"192.168.1.3\",\ndoc/notification_samples/instance-rebuild-error.json:28:                        \"version\": 4,\ndoc/notification_samples/instance-rebuild-error.json:29:                        \"meta\": {},\ndoc/notification_samples/instance-rebuild-error.json:30:                        \"label\": \"private-network\",\ndoc/notification_samples/instance-rebuild-error.json:31:                        \"mac\": \"fa:16:3e:4c:2c:30\"\ndoc/notification_samples/instance-rebuild-error.json:32:                    },\ndoc/notification_samples/instance-rebuild-error.json:33:                    \"nova_object.version\": \"1.0\",\ndoc/notification_samples/instance-rebuild-error.json:34:                    \"nova_object.namespace\": \"nova\"\ndoc/notification_samples/instance-rebuild-error.json:35:                }\ndoc/notification_samples/instance-rebuild-error.json:36:            ],\ndoc/notification_samples/instance-rebuild-error.json:37:            \"power_state\": \"running\",\ndoc/notification_samples/instance-rebuild-error.json:38:            \"display_description\": \"some-server\",\ndoc/notification_samples/instance-rebuild-error.json:39:            \"uuid\": \"5fafd989-4043-44b4-8acc-907e847f4b70\",\ndoc/notification_samples/instance-rebuild-error.json:40:            \"flavor\": {\ndoc/notification_samples/instance-rebuild-error.json:41:                \"nova_object.name\": \"FlavorPayload\",\ndoc/notification_samples/instance-rebuild-error.json:42:                \"nova_object.data\": {\ndoc/notification_samples/instance-rebuild-error.json:43:                    \"disabled\": false,\ndoc/notification_samples/instance-rebuild-error.json:44:                    \"ephemeral_gb\": 0,\ndoc/notification_samples/instance-rebuild-error.json:45:                    \"extra_specs\": {\"hw:watchdog_action\": \"disabled\"},\ndoc/notification_samples/instance-rebuild-error.json:46:                    \"flavorid\": \"a22d5517-147c-4147-a0d1-e698df5cd4e3\",\ndoc/notification_samples/instance-rebuild-error.json:47:                    \"is_public\": true,\ndoc/notification_samples/instance-rebuild-error.json:48:                    \"memory_mb\": 512,\ndoc/notification_samples/instance-rebuild-error.json:49:                    \"name\": \"test_flavor\",\ndoc/notification_samples/instance-rebuild-error.json:50:                    \"projects\": null,\ndoc/notification_samples/instance-rebuild-error.json:51:                    \"root_gb\": 1,\ndoc/notification_samples/instance-rebuild-error.json:52:                    \"rxtx_factor\": 1.0,\ndoc/notification_samples/instance-rebuild-error.json:53:                    \"swap\": 0,\ndoc/notification_samples/instance-rebuild-error.json:54:                    \"vcpu_weight\": 0,\ndoc/notification_samples/instance-rebuild-error.json:55:                    \"vcpus\": 1\ndoc/notification_samples/instance-rebuild-error.json:56:                },\ndoc/notification_samples/instance-rebuild-error.json:57:                \"nova_object.version\": \"1.3\",\ndoc/notification_samples/instance-rebuild-error.json:58:                \"nova_object.namespace\": \"nova\"\ndoc/notification_samples/instance-rebuild-error.json:59:            },\ndoc/notification_samples/instance-rebuild-error.json:60:            \"reservation_id\": \"r-pfiic52h\",\ndoc/notification_samples/instance-rebuild-error.json:61:            \"terminated_at\": null,\ndoc/notification_samples/instance-rebuild-error.json:62:            \"tenant_id\": \"6f70656e737461636b20342065766572\",\ndoc/notification_samples/instance-rebuild-error.json:63:            \"node\": \"fake-mini\",\ndoc/notification_samples/instance-rebuild-error.json:64:            \"launched_at\": \"2012-10-29T13:42:11Z\",\ndoc/notification_samples/instance-rebuild-error.json:65:            \"user_id\": \"fake\",\ndoc/notification_samples/instance-rebuild-error.json:66:            \"image_uuid\": \"a2459075-d96c-40d5-893e-577ff92e721c\",\ndoc/notification_samples/instance-rebuild-error.json:67:            \"fault\": {\ndoc/notification_samples/instance-rebuild-error.json:68:                \"nova_object.name\": \"ExceptionPayload\",\ndoc/notification_samples/instance-rebuild-error.json:69:                \"nova_object.data\": {\ndoc/notification_samples/instance-rebuild-error.json:70:                    \"module_name\": \"nova.tests.functional.notification_sample_tests.test_instance\",\ndoc/notification_samples/instance-rebuild-error.json:71:                    \"exception_message\": \"Insufficient compute resources: fake-resource.\",\ndoc/notification_samples/instance-rebuild-error.json:72:                    \"function_name\": \"_compute_resources_unavailable\",\ndoc/notification_samples/instance-rebuild-error.json:73:                    \"exception\": \"ComputeResourcesUnavailable\"\ndoc/notification_samples/instance-rebuild-error.json:74:                },\ndoc/notification_samples/instance-rebuild-error.json:75:                \"nova_object.version\": \"1.0\",\ndoc/notification_samples/instance-rebuild-error.json:76:                \"nova_object.namespace\": \"nova\"\ndoc/notification_samples/instance-rebuild-error.json:77:            }\ndoc/notification_samples/instance-rebuild-error.json:78:        },\ndoc/notification_samples/instance-rebuild-error.json:79:        \"nova_object.version\": \"1.1\",\ndoc/notification_samples/instance-rebuild-error.json:80:        \"nova_object.namespace\": \"nova\"\ndoc/notification_samples/instance-rebuild-error.json:81:    },\ndoc/notification_samples/instance-rebuild-error.json:82:    \"publisher_id\": \"nova-compute:compute\",\ndoc/notification_samples/instance-rebuild-error.json:83:    \"event_type\": \"instance.rebuild.error\"\ndoc/notification_samples/instance-rebuild-error.json:84:}\nERROR: InvocationError: \"/usr/bin/bash -c ! find doc/ -type f -name *.json | xargs grep -U -n $'\\\\r'\"", 
            "date_created": "2017-03-15 16:03:00.481244+00:00", 
            "author": "https://api.launchpad.net/1.0/~stephenfinucane"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/446040", 
            "date_created": "2017-03-15 16:06:23.732382+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/446041", 
            "date_created": "2017-03-15 16:06:35.725059+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/446040\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=66d7ca90d8bd0495ea2000ac31783d94f9bffd03\nSubmitter: Jenkins\nBranch:    master\n\ncommit 66d7ca90d8bd0495ea2000ac31783d94f9bffd03\nAuthor: Stephen Finucane <email address hidden>\nDate:   Wed Mar 15 15:59:01 2017 +0000\n\n    trivial: Remove \\r\\n line endings from JSON sample\n    \n    These are invalid and are currently causing the docs target to fail.\n    \n    Change-Id: I484f5b1b4785ce7b44992ca59f993c618f3ce0c2\n    Partial-Bug: #1673131\n", 
            "date_created": "2017-03-15 17:30:11.095991+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/446041\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=ac2a4abfca2885ae3bfb1f7cb40e57a488cba97d\nSubmitter: Jenkins\nBranch:    master\n\ncommit ac2a4abfca2885ae3bfb1f7cb40e57a488cba97d\nAuthor: Stephen Finucane <email address hidden>\nDate:   Wed Mar 15 15:57:23 2017 +0000\n\n    Duplicate JSON line ending check to pep8\n    \n    The docs job is not run in the gate, meaning invalid JSON files with\n    \\r\\n line endings are able to sneak in. Duplicate the checks from the\n    docs environment to the pep8 environment so that gate jobs run it.\n    \n    Note that pep8 is our general linting target and thus should include\n    these kind of tests.\n    \n    Change-Id: Ie923902b04be79b9f66ba1841c60899a413f6439\n    Closes-Bug: #1673131\n", 
            "date_created": "2017-03-15 17:39:57.439201+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 16.0.0.0b1 development milestone.", 
            "date_created": "2017-04-14 09:22:55.465542+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}