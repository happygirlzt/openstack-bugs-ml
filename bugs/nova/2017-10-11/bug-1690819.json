{
    "status": "Invalid", 
    "last_updated": "2017-05-26 20:27:33.130648+00:00", 
    "description": "Description\n===========\n\n$ cat /etc/redhat-release \nFedora release 25 (Twenty Five)\n$ /usr/bin/nova-manage --config-file /etc/nova/nova.conf api_db sync\nException AttributeError: \"'_SocketDuckForFd' object has no attribute '_closed'\" in <bound method _SocketDuckForFd.__del__ of _SocketDuckForFd:16> ignored\nException AttributeError: \"'_SocketDuckForFd' object has no attribute '_closed'\" in <bound method _SocketDuckForFd.__del__ of _SocketDuckForFd:17> ignored\nException AttributeError: \"'_SocketDuckForFd' object has no attribute '_closed'\" in <bound method _SocketDuckForFd.__del__ of _SocketDuckForFd:10> ignored\nTraceback (most recent call last):\n  File \"/usr/bin/nova-manage\", line 6, in <module>\n    from nova.cmd.manage import main\n  File \"/opt/stack/nova/nova/cmd/manage.py\", line 65, in <module>\n    from oslo_db import exception as db_exc\n  File \"/usr/lib/python2.7/site-packages/oslo_db/exception.py\", line 50, in <module>\n    from oslo_utils.excutils import CausedByException\n  File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 32, in <module>\n    from oslo_utils import timeutils\n  File \"/usr/lib/python2.7/site-packages/oslo_utils/timeutils.py\", line 27, in <module>\n    from monotonic import monotonic as now  # noqa\n  File \"/usr/lib/python2.7/site-packages/monotonic.py\", line 169, in <module>\n    raise RuntimeError('no suitable implementation for this system')\nRuntimeError: no suitable implementation for this system\n\nSkipping ahead and directly importing oslo_db.exception doesn't produce the same trace :\n\n$ python\nPython 2.7.13 (default, Jan 12 2017, 17:59:37) \n[GCC 6.3.1 20161221 (Red Hat 6.3.1-1)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from oslo_db import exception as db_exc\n>>> db_exc\n<module 'oslo_db.exception' from '/usr/lib/python2.7/site-packages/oslo_db/exception.pyc'>\n\nSteps to reproduce\n==================\nAs above.\n\nExpected result\n===============\napi_db sync completes.\n\nActual result\n=============\napi_db sync fails with the above trace.\n\nEnvironment\n===========\n1. Exact version of OpenStack you are running. See the following\n  list for all releases: http://docs.openstack.org/releases/\n\n$ git log -1\ncommit 221427a0439567681a5980dee5412aefc87d674d\nMerge: c66774f 14732e5\nAuthor: Jenkins <email address hidden>\nDate:   Mon May 15 10:40:37 2017 +0000\n\n  Merge \"Add uuid to service.update notification payload\"\n\n2. Which hypervisor did you use?\n \n  F25, libvirt + KVM\n\n2. Which storage type did you use?\n  \n  N/A\n\n3. Which networking type did you use?\n\n  N/A\n\nLogs & Configs\n==============\n  Provided above.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1690819", 
    "owner": "None", 
    "id": 1690819, 
    "index": 6844, 
    "created": "2017-05-15 13:44:36.964665+00:00", 
    "title": "nova-manage [..] api_db sync on F25 results in RuntimeError: no suitable implementation for this system", 
    "comments": [
        {
            "content": "Description\n===========\n\n$ cat /etc/redhat-release \nFedora release 25 (Twenty Five)\n$ /usr/bin/nova-manage --config-file /etc/nova/nova.conf api_db sync\nException AttributeError: \"'_SocketDuckForFd' object has no attribute '_closed'\" in <bound method _SocketDuckForFd.__del__ of _SocketDuckForFd:16> ignored\nException AttributeError: \"'_SocketDuckForFd' object has no attribute '_closed'\" in <bound method _SocketDuckForFd.__del__ of _SocketDuckForFd:17> ignored\nException AttributeError: \"'_SocketDuckForFd' object has no attribute '_closed'\" in <bound method _SocketDuckForFd.__del__ of _SocketDuckForFd:10> ignored\nTraceback (most recent call last):\n  File \"/usr/bin/nova-manage\", line 6, in <module>\n    from nova.cmd.manage import main\n  File \"/opt/stack/nova/nova/cmd/manage.py\", line 65, in <module>\n    from oslo_db import exception as db_exc\n  File \"/usr/lib/python2.7/site-packages/oslo_db/exception.py\", line 50, in <module>\n    from oslo_utils.excutils import CausedByException\n  File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 32, in <module>\n    from oslo_utils import timeutils\n  File \"/usr/lib/python2.7/site-packages/oslo_utils/timeutils.py\", line 27, in <module>\n    from monotonic import monotonic as now  # noqa\n  File \"/usr/lib/python2.7/site-packages/monotonic.py\", line 169, in <module>\n    raise RuntimeError('no suitable implementation for this system')\nRuntimeError: no suitable implementation for this system\n\nSkipping ahead and directly importing oslo_db.exception doesn't produce the same trace :\n\n$ python\nPython 2.7.13 (default, Jan 12 2017, 17:59:37) \n[GCC 6.3.1 20161221 (Red Hat 6.3.1-1)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from oslo_db import exception as db_exc\n>>> db_exc\n<module 'oslo_db.exception' from '/usr/lib/python2.7/site-packages/oslo_db/exception.pyc'>\n\nSteps to reproduce\n==================\nAs above.\n\nExpected result\n===============\napi_db sync completes.\n\nActual result\n=============\napi_db sync fails with the above trace.\n\nEnvironment\n===========\n1. Exact version of OpenStack you are running. See the following\n  list for all releases: http://docs.openstack.org/releases/\n\n$ git log -1\ncommit 221427a0439567681a5980dee5412aefc87d674d\nMerge: c66774f 14732e5\nAuthor: Jenkins <email address hidden>\nDate:   Mon May 15 10:40:37 2017 +0000\n\n  Merge \"Add uuid to service.update notification payload\"\n\n2. Which hypervisor did you use?\n \n  F25, libvirt + KVM\n\n2. Which storage type did you use?\n  \n  N/A\n\n3. Which networking type did you use?\n\n  N/A\n\nLogs & Configs\n==============\n  Provided above.", 
            "date_created": "2017-05-15 13:44:36.964665+00:00", 
            "author": "https://api.launchpad.net/1.0/~lyarwood"
        }, 
        {
            "content": "Appears to be related to 0.21.0 version of eventlet and https://github.com/eventlet/eventlet/issues/401 :\n\n$ sudo pip install -U eventlet==0.20.1\n$ /usr/bin/nova-manage --config-file /etc/nova/nova.conf api_db sync\n[..]\nINFO migrate.versioning.api [-] done\n", 
            "date_created": "2017-05-15 14:42:32.530743+00:00", 
            "author": "https://api.launchpad.net/1.0/~lyarwood"
        }, 
        {
            "content": "There is nothing for nova to do with this right? Didn't eventlet get blacklisted in g-r recently for this?\n\nhttps://github.com/eventlet/eventlet/issues/401\n\nhttps://github.com/openstack/requirements/commit/e3c286a2f22011ae129e13892455a4a25bddeb1b", 
            "date_created": "2017-05-26 20:27:14.603123+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ]
}