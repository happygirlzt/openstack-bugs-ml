{
    "status": "Invalid", 
    "last_updated": "2016-03-13 12:54:29.110588+00:00", 
    "description": "1. Exact version of Nova \nii  nova-api                            1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - API frontend\nii  nova-cert                           1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - certificate management\nii  nova-common                         1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - common files\nii  nova-conductor                      1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - conductor service\nii  nova-console                        1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - Console\nii  nova-consoleauth                    1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - Console Authenticatorii  nova-novncproxy                     1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                      1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - virtual machine scheduler\nii  python-nova                         1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute Python libraries\nii  python-novaclient                   1:2.17.0.74.g2598714+git201404220131~trusty-0ubuntu1 all          client library for OpenStack Compute API\n\nrabbit configuration in nova.conf:\n\n  rabbit_hosts = m610-2:5672, m610-1:5672\n  rabbit_ha_queues =  true\n\n\n2. Relevant log files:\n/var/log/nova/nova-conductor.log\n\n exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit Traceback (most recent call last):\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 624, in ensure\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     return method(*args, **kwargs)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 729, in _publish\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     publisher = cls(self.conf, self.channel, topic, **kwargs)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 361, in __init__\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     type='direct', **options)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 326, in __init__\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     self.reconnect(channel)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 334, in reconnect\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     routing_key=self.routing_key)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 82, in __init__\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     self.revive(self._channel)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 216, in revive\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     self.declare()\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 102, in declare\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     self.exchange.declare()\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/entity.py\", line 166, in declare\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     nowait=nowait, passive=passive,\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 612, in exchange_declare\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     (40, 11),  # Channel.exchange_declare_ok\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 75, in wait\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     return self.dispatch_method(method_sig, args, content)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 93, in dispatch_method\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     return amqp_method(self, args)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 232, in _close\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     reply_code, reply_text, (class_id, method_id), ChannelError,\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit NotFound: Exchange.declare: (404) NOT_FOUND - no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit \n2015-06-01 08:23:56.486 16427 INFO oslo.messaging._drivers.impl_rabbit [-] Reconnecting to AMQP server on m610-2:5672\n2015-06-01 08:23:56.486 16425 INFO oslo.messaging._drivers.impl_rabbit [-] Connected to AMQP server on m610-1:5672\n2015-06-01 08:23:56.486 16427 INFO oslo.messaging._drivers.impl_rabbit [-] Delaying reconnect for 1.0 seconds...\n2015-06-01 08:23:56.489 16425 ERROR oslo.messaging._drivers.impl_rabbit [-] Failed to publish message to topic 'reply_bea18a6133c548f099b85b168fddf83c': Exchange.declare: (404) NOT_FOUND - no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit Traceback (most recent call last):\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 624, in ensure\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     return method(*args, **kwargs)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 729, in _publish\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     publisher = cls(self.conf, self.channel, topic, **kwargs)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 361, in __init__\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     type='direct', **options)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 326, in __init__\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     self.reconnect(channel)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 334, in reconnect\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     routing_key=self.routing_key)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 82, in __init__\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     self.revive(self._channel)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 216, in revive\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     self.declare()\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 102, in declare\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     self.exchange.declare()\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/entity.py\", line 166, in declare\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     nowait=nowait, passive=passive,\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 612, in exchange_declare\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     (40, 11),  # Channel.exchange_declare_ok\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 75, in wait\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     return self.dispatch_method(method_sig, args, content)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 93, in dispatch_method\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     return amqp_method(self, args)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 232, in _close\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     reply_code, reply_text, (class_id, method_id), ChannelError,\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit NotFound: Exchange.declare: (404) NOT_FOUND - no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit \n2015-06-01 08:23:56.491 16425 INFO oslo.messaging._drivers.impl_rabbit [-] Reconnecting to AMQP server on m610-2:5672\n2015-06-01 08:23:56.491 16425 INFO oslo.messaging._drivers.impl_rabbit [-] Delaying reconnect for 1.0 seconds...\n2015-06-01 08:23:56.704 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Connected to AMQP server on m610-2:5672\n2015-06-01 08:23:56.707 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Connected to AMQP server on m610-1:5672\n2015-06-01 08:23:56.709 16429 ERROR oslo.messaging._drivers.impl_rabbit [-] Failed to publish message to topic 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c': Exchange.declare: (404) NOT_FOUND - no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit Traceback (most recent call last):\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 624, in ensure\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     return method(*args, **kwargs)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 729, in _publish\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     publisher = cls(self.conf, self.channel, topic, **kwargs)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 361, in __init__\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     type='direct', **options)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 326, in __init__\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.reconnect(channel)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 334, in reconnect\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     routing_key=self.routing_key)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 82, in __init__\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.revive(self._channel)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 216, in revive\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.declare()\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 102, in declare\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.exchange.declare()\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/entity.py\", line 166, in declare\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     nowait=nowait, passive=passive,\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 612, in exchange_declare\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     (40, 11),  # Channel.exchange_declare_ok\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 75, in wait\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     return self.dispatch_method(method_sig, args, content)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 93, in dispatch_method\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     return amqp_method(self, args)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 232, in _close\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     reply_code, reply_text, (class_id, method_id), ChannelError,\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit NotFound: Exchange.declare: (404) NOT_FOUND - no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit \n2015-06-01 08:23:56.712 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Reconnecting to AMQP server on m610-1:5672\n2015-06-01 08:23:56.712 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Delaying reconnect for 1.0 seconds...\n2015-06-01 08:23:56.713 16429 ERROR oslo.messaging._drivers.impl_rabbit [-] Failed to publish message to topic 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c': Exchange.declare: (404) NOT_FOUND - no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit Traceback (most recent call last):\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 624, in ensure\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     return method(*args, **kwargs)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 729, in _publish\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     publisher = cls(self.conf, self.channel, topic, **kwargs)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 361, in __init__\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     type='direct', **options)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 326, in __init__\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.reconnect(channel)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 334, in reconnect\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     routing_key=self.routing_key)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 82, in __init__\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.revive(self._channel)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 216, in revive\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.declare()\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 102, in declare\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.exchange.declare()\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/entity.py\", line 166, in declare\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     nowait=nowait, passive=passive,\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 612, in exchange_declare\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     (40, 11),  # Channel.exchange_declare_ok\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 75, in wait\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     return self.dispatch_method(method_sig, args, content)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 93, in dispatch_method\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     return amqp_method(self, args)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 232, in _close\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     reply_code, reply_text, (class_id, method_id), ChannelError,\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit NotFound: Exchange.declare: (404) NOT_FOUND - no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit \n2015-06-01 08:23:56.714 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Reconnecting to AMQP server on m610-2:5672\n2015-06-01 08:23:56.714 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Delaying reconnect for 1.0 seconds...\n\n/<email address hidden>\n\n\n=ERROR REPORT==== 1-Jun-2015::08:56:38 ===\nconnection <0.300.15>, channel 1 - soft error:\n{amqp_error,not_found,\n            \"no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\",\n            'exchange.declare'}\n\n=ERROR REPORT==== 1-Jun-2015::08:56:38 ===\nconnection <0.294.15>, channel 1 - soft error:\n{amqp_error,not_found,\n            \"no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\",\n            'exchange.declare'}\n\n=ERROR REPORT==== 1-Jun-2015::08:56:38 ===\nconnection <0.297.15>, channel 1 - soft error:\n{amqp_error,not_found,\n            \"no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\",\n            'exchange.declare'}\n\n=ERROR REPORT==== 1-Jun-2015::08:56:38 ===\nconnection <0.303.15>, channel 1 - soft error:\n{amqp_error,not_found,\n            \"no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\",\n            'exchange.declare'}\n\n\n3. Reproduce steps:\n2 controller nodes with rabbitMQ HA cluster and nova services (m610-2, m610-1)\nrabbit configuration in nova.conf:\nIt happens after  crush one of controllers. Restarting of nova-conductor service does not solving this problem.", 
    "tags": [
        "canonical-bootstack", 
        "messaging"
    ], 
    "importance": "Undecided", 
    "heat": 28, 
    "link": "https://bugs.launchpad.net/nova/+bug/1460652", 
    "owner": "None", 
    "id": 1460652, 
    "index": 5574, 
    "created": "2015-06-01 13:05:07.273614+00:00", 
    "title": "nova-conductor  infinitely reconnects to rabbit", 
    "comments": [
        {
            "content": "1. Exact version of Nova \nii  nova-api                            1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - API frontend\nii  nova-cert                           1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - certificate management\nii  nova-common                         1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - common files\nii  nova-conductor                      1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - conductor service\nii  nova-console                        1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - Console\nii  nova-consoleauth                    1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - Console Authenticatorii  nova-novncproxy                     1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                      1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute - virtual machine scheduler\nii  python-nova                         1:2014.1.100+git201410062002~trusty-0ubuntu1         all          OpenStack Compute Python libraries\nii  python-novaclient                   1:2.17.0.74.g2598714+git201404220131~trusty-0ubuntu1 all          client library for OpenStack Compute API\n\nrabbit configuration in nova.conf:\n\n  rabbit_hosts = m610-2:5672, m610-1:5672\n  rabbit_ha_queues =  true\n\n\n2. Relevant log files:\n/var/log/nova/nova-conductor.log\n\n exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit Traceback (most recent call last):\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 624, in ensure\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     return method(*args, **kwargs)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 729, in _publish\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     publisher = cls(self.conf, self.channel, topic, **kwargs)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 361, in __init__\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     type='direct', **options)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 326, in __init__\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     self.reconnect(channel)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 334, in reconnect\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     routing_key=self.routing_key)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 82, in __init__\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     self.revive(self._channel)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 216, in revive\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     self.declare()\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 102, in declare\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     self.exchange.declare()\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/entity.py\", line 166, in declare\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     nowait=nowait, passive=passive,\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 612, in exchange_declare\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     (40, 11),  # Channel.exchange_declare_ok\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 75, in wait\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     return self.dispatch_method(method_sig, args, content)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 93, in dispatch_method\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     return amqp_method(self, args)\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 232, in _close\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit     reply_code, reply_text, (class_id, method_id), ChannelError,\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit NotFound: Exchange.declare: (404) NOT_FOUND - no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\n2015-06-01 08:23:56.484 16427 TRACE oslo.messaging._drivers.impl_rabbit \n2015-06-01 08:23:56.486 16427 INFO oslo.messaging._drivers.impl_rabbit [-] Reconnecting to AMQP server on m610-2:5672\n2015-06-01 08:23:56.486 16425 INFO oslo.messaging._drivers.impl_rabbit [-] Connected to AMQP server on m610-1:5672\n2015-06-01 08:23:56.486 16427 INFO oslo.messaging._drivers.impl_rabbit [-] Delaying reconnect for 1.0 seconds...\n2015-06-01 08:23:56.489 16425 ERROR oslo.messaging._drivers.impl_rabbit [-] Failed to publish message to topic 'reply_bea18a6133c548f099b85b168fddf83c': Exchange.declare: (404) NOT_FOUND - no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit Traceback (most recent call last):\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 624, in ensure\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     return method(*args, **kwargs)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 729, in _publish\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     publisher = cls(self.conf, self.channel, topic, **kwargs)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 361, in __init__\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     type='direct', **options)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 326, in __init__\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     self.reconnect(channel)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 334, in reconnect\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     routing_key=self.routing_key)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 82, in __init__\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     self.revive(self._channel)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 216, in revive\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     self.declare()\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 102, in declare\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     self.exchange.declare()\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/entity.py\", line 166, in declare\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     nowait=nowait, passive=passive,\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 612, in exchange_declare\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     (40, 11),  # Channel.exchange_declare_ok\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 75, in wait\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     return self.dispatch_method(method_sig, args, content)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 93, in dispatch_method\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     return amqp_method(self, args)\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 232, in _close\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit     reply_code, reply_text, (class_id, method_id), ChannelError,\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit NotFound: Exchange.declare: (404) NOT_FOUND - no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\n2015-06-01 08:23:56.489 16425 TRACE oslo.messaging._drivers.impl_rabbit \n2015-06-01 08:23:56.491 16425 INFO oslo.messaging._drivers.impl_rabbit [-] Reconnecting to AMQP server on m610-2:5672\n2015-06-01 08:23:56.491 16425 INFO oslo.messaging._drivers.impl_rabbit [-] Delaying reconnect for 1.0 seconds...\n2015-06-01 08:23:56.704 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Connected to AMQP server on m610-2:5672\n2015-06-01 08:23:56.707 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Connected to AMQP server on m610-1:5672\n2015-06-01 08:23:56.709 16429 ERROR oslo.messaging._drivers.impl_rabbit [-] Failed to publish message to topic 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c': Exchange.declare: (404) NOT_FOUND - no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit Traceback (most recent call last):\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 624, in ensure\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     return method(*args, **kwargs)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 729, in _publish\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     publisher = cls(self.conf, self.channel, topic, **kwargs)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 361, in __init__\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     type='direct', **options)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 326, in __init__\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.reconnect(channel)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 334, in reconnect\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     routing_key=self.routing_key)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 82, in __init__\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.revive(self._channel)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 216, in revive\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.declare()\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 102, in declare\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.exchange.declare()\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/entity.py\", line 166, in declare\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     nowait=nowait, passive=passive,\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 612, in exchange_declare\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     (40, 11),  # Channel.exchange_declare_ok\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 75, in wait\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     return self.dispatch_method(method_sig, args, content)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 93, in dispatch_method\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     return amqp_method(self, args)\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 232, in _close\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit     reply_code, reply_text, (class_id, method_id), ChannelError,\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit NotFound: Exchange.declare: (404) NOT_FOUND - no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\n2015-06-01 08:23:56.709 16429 TRACE oslo.messaging._drivers.impl_rabbit \n2015-06-01 08:23:56.712 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Reconnecting to AMQP server on m610-1:5672\n2015-06-01 08:23:56.712 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Delaying reconnect for 1.0 seconds...\n2015-06-01 08:23:56.713 16429 ERROR oslo.messaging._drivers.impl_rabbit [-] Failed to publish message to topic 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c': Exchange.declare: (404) NOT_FOUND - no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit Traceback (most recent call last):\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 624, in ensure\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     return method(*args, **kwargs)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 729, in _publish\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     publisher = cls(self.conf, self.channel, topic, **kwargs)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 361, in __init__\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     type='direct', **options)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 326, in __init__\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.reconnect(channel)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/impl_rabbit.py\", line 334, in reconnect\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     routing_key=self.routing_key)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 82, in __init__\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.revive(self._channel)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 216, in revive\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.declare()\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/messaging.py\", line 102, in declare\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     self.exchange.declare()\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/kombu/entity.py\", line 166, in declare\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     nowait=nowait, passive=passive,\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 612, in exchange_declare\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     (40, 11),  # Channel.exchange_declare_ok\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 75, in wait\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     return self.dispatch_method(method_sig, args, content)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/abstract_channel.py\", line 93, in dispatch_method\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     return amqp_method(self, args)\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit   File \"/usr/lib/python2.7/dist-packages/amqp/channel.py\", line 232, in _close\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit     reply_code, reply_text, (class_id, method_id), ChannelError,\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit NotFound: Exchange.declare: (404) NOT_FOUND - no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\n2015-06-01 08:23:56.713 16429 TRACE oslo.messaging._drivers.impl_rabbit \n2015-06-01 08:23:56.714 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Reconnecting to AMQP server on m610-2:5672\n2015-06-01 08:23:56.714 16429 INFO oslo.messaging._drivers.impl_rabbit [-] Delaying reconnect for 1.0 seconds...\n\n/<email address hidden>\n\n\n=ERROR REPORT==== 1-Jun-2015::08:56:38 ===\nconnection <0.300.15>, channel 1 - soft error:\n{amqp_error,not_found,\n            \"no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\",\n            'exchange.declare'}\n\n=ERROR REPORT==== 1-Jun-2015::08:56:38 ===\nconnection <0.294.15>, channel 1 - soft error:\n{amqp_error,not_found,\n            \"no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\",\n            'exchange.declare'}\n\n=ERROR REPORT==== 1-Jun-2015::08:56:38 ===\nconnection <0.297.15>, channel 1 - soft error:\n{amqp_error,not_found,\n            \"no exchange 'reply_bea18a6133c548f099b85b168fddf83c' in vhost '/'\",\n            'exchange.declare'}\n\n=ERROR REPORT==== 1-Jun-2015::08:56:38 ===\nconnection <0.303.15>, channel 1 - soft error:\n{amqp_error,not_found,\n            \"no exchange 'reply_7ff0d26e85d94c129c7ae0c2d9fef40c' in vhost '/'\",\n            'exchange.declare'}\n\n\n3. Reproduce steps:\n2 controller nodes with rabbitMQ HA cluster and nova services (m610-2, m610-1)\nrabbit configuration in nova.conf:\nIt happens after  crush one of controllers. Restarting of nova-conductor service does not solving this problem.", 
            "date_created": "2015-06-01 13:05:07.273614+00:00", 
            "author": "https://api.launchpad.net/1.0/~gnomino"
        }, 
        {
            "content": "\nRestarting a rpc client can lead to a connection starvation on the connection pool on the rpc server side.\n\nStep that lead to this issue:\n* The rpc client sends a bunch of message (> of the connection pool size, 30 by default)\n* The rpc server receives all this messages and process it (but don't sent yet the reply)\n* The rpc client application is restarted\n* The rpc server tries to replies to all messages received before the restart\n   * here the reply queue doesn't exists anymore\n   * for each messages that need to be replies we wait 60 seconds (in case of this is due to a rabbit restart)\n* In the meantime the new rpc client try to send message and expected reply, \n   but the rpc server is waiting to old rpc client to come back.\n   Here we got a ton of RPC timeout until the rpc server finished to process its replies messages", 
            "date_created": "2015-06-17 13:31:02.395133+00:00", 
            "author": "https://api.launchpad.net/1.0/~sileht"
        }, 
        {
            "content": "Fix proposed to branch: stable/kilo\nReview: https://review.openstack.org/193484", 
            "date_created": "2015-06-19 10:04:26.981639+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/193037\nCommitted: https://git.openstack.org/cgit/openstack/oslo.messaging/commit/?id=286659a38be5db399d0b9f807fac7b980d6c0b7e\nSubmitter: Jenkins\nBranch:    master\n\ncommit 286659a38be5db399d0b9f807fac7b980d6c0b7e\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Jun 17 18:45:24 2015 +0200\n\n    Don't reply when we known that client is gone\n    \n    In case of a broker restart/failover a reply queue can be\n    unreachable for short period the IncomingMessage.send_reply\n    will block for 60 seconds in this case or until rabbit recovers.\n    \n    But in case of the reply queue is unreachable because the\n    rpc client is really gone, we can have a ton of reply to send\n    waiting 60 seconds.\n    This leads to a starvation of connection of the pool\n    The rpc server take to much time to send reply, other rpc client will\n    raise TimeoutError because their don't receive their replies in time.\n    \n    This changes introduces an object cache that stores already known gone\n    client to not wait 60 seconds and hold a connection of the pool\n    Keeping 200 last gone rpc client for 1 minute is enough\n    and doesn't hold to much memory.\n    \n    This also don't raise anymore a frightening exception when we can't send reply\n    to the rpc client. But just logging a info about missing exchange and\n    a warning about unsend reply.\n    \n    Closes-bug: #1460652\n    \n    Change-Id: I928b30c9b5f9ee007532ff703e136640b0e8aaf4\n", 
            "date_created": "2015-07-13 11:03:15.558322+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Mehdi Abaakouk (sileht) (<email address hidden>) on branch: stable/kilo\nReview: https://review.openstack.org/193484\nReason: Introduce a new requirement not present in kilo", 
            "date_created": "2015-07-17 09:18:04.834259+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/kilo\nReview: https://review.openstack.org/256203", 
            "date_created": "2015-12-11 04:18:45.881684+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "For people that want a kilo backport of this, we made a better alternative, the previous change was improving the situation by not holding the connection lock with when we known that the client is gone. I have recently propose a new changes that allow to not hold the connection at all while we are waiting for a client to comeback and that will be backported to kilo:\n\nhttps://review.openstack.org/#/c/252361/\nhttps://review.openstack.org/#/c/255530/", 
            "date_created": "2015-12-11 07:20:46.951817+00:00", 
            "author": "https://api.launchpad.net/1.0/~sileht"
        }, 
        {
            "content": "Change abandoned by ChangBo Guo(gcb) (<email address hidden>) on branch: stable/kilo\nReview: https://review.openstack.org/256203\nReason: we don't this any more due to sileht's patch fixed the issue.", 
            "date_created": "2016-01-19 06:14:07.855633+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "After installing these patches (Kilo)\nhttps://review.openstack.org/#/c/252361/\nhttps://review.openstack.org/#/c/255530/\n\nnova-compute won't start\n\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/poll.py\", line 115, in wait\n    listener.cb(fileno)\n  File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 214, in main\n    result = function(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/service.py\", line 502, in run_service\n    service.start()\n  File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 164, in start\n    self.manager.init_host()\n  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1297, in init_host\n    for instance in instances:\nTypeError: 'NoneType' object is not iterable\nRemoving descriptor: 5\n2016-03-13 12:45:25.587 4791 ERROR nova.openstack.common.threadgroup [req-54c81107-2191-45db-901d-2cde774b9a1e - - - - -] 'NoneType' object is not iterable\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/threadgroup.py\", line 145, in wait\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup     x.wait()\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/threadgroup.py\", line 47, in wait\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 175, in wait\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/event.py\", line 121, in wait\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 294, in switch\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 214, in main\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/service.py\", line 502, in run_service\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup     service.start()\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 164, in start\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup     self.manager.init_host()\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1297, in init_host\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup     for instance in instances:\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup TypeError: 'NoneType' object is not iterable\n2016-03-13 12:45:25.587 4791 TRACE nova.openstack.common.threadgroup \n\n", 
            "date_created": "2016-03-13 12:54:28.619178+00:00", 
            "author": "https://api.launchpad.net/1.0/~tde3000"
        }
    ]
}