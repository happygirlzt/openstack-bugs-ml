{
    "status": "Invalid", 
    "last_updated": "2016-09-16 20:49:56.553914+00:00", 
    "description": "Used security groups show always 1- even if i have 2 or 0 assigned to a VM\n\u00a0nova absolute-limits\n+--------------------+------+-------+\n| Name               | Used | Max   |\n+--------------------+------+-------+\n| Cores              | 2    | 20    |\n| FloatingIps        | 0    | 10    |\n| ImageMeta          | -    | 128   |\n| Instances          | 1    | 10    |\n| Keypairs           | -    | 100   |\n| Personality        | -    | 5     |\n| Personality Size   | -    | 10240 |\n| RAM                | 4096 | 51200 |\n| SecurityGroupRules | -    | 20    |\n| SecurityGroups     | 1    | 10    |\n| Server Meta        | -    | 128   |\n| ServerGroupMembers | -    | 10    |\n| ServerGroups       | 0    | 10    |\n+--------------------+------+-------+\n\nnova show 2e722ad7-d54b-4122-8b90-0debec882668\n+--------------------------------------+----------------------------------------------------------+\n| Property                             | Value                                                    |\n+--------------------------------------+----------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                   |\n| OS-EXT-AZ:availability_zone          | nova                                                     |\n| OS-EXT-SRV-ATTR:host                 | puma09.scl.lab.tlv.redhat.com                            |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | puma09.scl.lab.tlv.redhat.com                            |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                                        |\n| OS-EXT-STS:power_state               | 1                                                        |\n| OS-EXT-STS:task_state                | -                                                        |\n| OS-EXT-STS:vm_state                  | active                                                   |\n| OS-SRV-USG:launched_at               | 2015-05-18T06:20:45.000000                               |\n| OS-SRV-USG:terminated_at             | -                                                        |\n| accessIPv4                           |                                                          |\n| accessIPv6                           |                                                          |\n| config_drive                         |                                                          |\n| created                              | 2015-05-18T06:18:33Z                                     |\n| flavor                               | m1.medium (3)                                            |\n| hostId                               | 3e2a5e99d50824f33c61f2408bab8e92fd70f1af4e4f23d569c04a4f |\n| id                                   | 2e722ad7-d54b-4122-8b90-0debec882668                     |\n| image                                | rhel (565e7dc4-67d1-46d7-8ef5-765c1455e530)              |\n| int_net network                      | 192.168.1.3, 10.35.170.2                                 |\n| key_name                             | -                                                        |\n| metadata                             | {}                                                       |\n| name                                 | VM-1                                                     |\n| os-extended-volumes:volumes_attached | []                                                       |\n| progress                             | 0                                                        |\n| security_groups                      | default, test                                            |\n| status                               | ACTIVE                                                   |\n| tenant_id                            | 2c238e6d92af464889aca6a16d80f857                         |\n| updated                              | 2015-05-18T06:20:45Z                                     |\n| user_id                              | cf4ac11f864943ba8148240fd8083f5e                         |\n+--------------------------------------+----------------------------------------------------------+\n\nConfigure a tenant with VM. Attach 2 Security Groups to the vm .\n\nopenstack-nova-compute-2015.1.0-3.el7ost.noarch\nopenstack-nova-console-2015.1.0-3.el7ost.noarch\nopenstack-nova-common-2015.1.0-3.el7ost.noarch\nopenstack-nova-scheduler-2015.1.0-3.el7ost.noarch\npython-nova-2015.1.0-3.el7ost.noarch\nopenstack-nova-cert-2015.1.0-3.el7ost.noarch\nopenstack-nova-novncproxy-2015.1.0-3.el7ost.noarch\nopenstack-nova-conductor-2015.1.0-3.el7ost.noarch\npython-novaclient-2.23.0-1.el7ost.noarch\nopenstack-nova-api-2015.1.0-3.el7ost.noarch", 
    "tags": [
        "api", 
        "network", 
        "neutron"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1456899", 
    "owner": "None", 
    "id": 1456899, 
    "index": 472, 
    "created": "2015-05-20 06:41:50.047632+00:00", 
    "title": "nova absolute-limits Security groups count incorrect when using Neutron", 
    "comments": [
        {
            "content": "Used security groups show always 1- even if i have to or 0 assigned to a VM \n nova absolute-limits \n+--------------------+------+-------+\n| Name               | Used | Max   |\n+--------------------+------+-------+\n| Cores              | 2    | 20    |\n| FloatingIps        | 0    | 10    |\n| ImageMeta          | -    | 128   |\n| Instances          | 1    | 10    |\n| Keypairs           | -    | 100   |\n| Personality        | -    | 5     |\n| Personality Size   | -    | 10240 |\n| RAM                | 4096 | 51200 |\n| SecurityGroupRules | -    | 20    |\n| SecurityGroups     | 1    | 10    |\n| Server Meta        | -    | 128   |\n| ServerGroupMembers | -    | 10    |\n| ServerGroups       | 0    | 10    |\n+--------------------+------+-------+\n\nnova show 2e722ad7-d54b-4122-8b90-0debec882668\n+--------------------------------------+----------------------------------------------------------+\n| Property                             | Value                                                    |\n+--------------------------------------+----------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                   |\n| OS-EXT-AZ:availability_zone          | nova                                                     |\n| OS-EXT-SRV-ATTR:host                 | puma09.scl.lab.tlv.redhat.com                            |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | puma09.scl.lab.tlv.redhat.com                            |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                                        |\n| OS-EXT-STS:power_state               | 1                                                        |\n| OS-EXT-STS:task_state                | -                                                        |\n| OS-EXT-STS:vm_state                  | active                                                   |\n| OS-SRV-USG:launched_at               | 2015-05-18T06:20:45.000000                               |\n| OS-SRV-USG:terminated_at             | -                                                        |\n| accessIPv4                           |                                                          |\n| accessIPv6                           |                                                          |\n| config_drive                         |                                                          |\n| created                              | 2015-05-18T06:18:33Z                                     |\n| flavor                               | m1.medium (3)                                            |\n| hostId                               | 3e2a5e99d50824f33c61f2408bab8e92fd70f1af4e4f23d569c04a4f |\n| id                                   | 2e722ad7-d54b-4122-8b90-0debec882668                     |\n| image                                | rhel (565e7dc4-67d1-46d7-8ef5-765c1455e530)              |\n| int_net network                      | 192.168.1.3, 10.35.170.2                                 |\n| key_name                             | -                                                        |\n| metadata                             | {}                                                       |\n| name                                 | VM-1                                                     |\n| os-extended-volumes:volumes_attached | []                                                       |\n| progress                             | 0                                                        |\n| security_groups                      | default, test                                            |\n| status                               | ACTIVE                                                   |\n| tenant_id                            | 2c238e6d92af464889aca6a16d80f857                         |\n| updated                              | 2015-05-18T06:20:45Z                                     |\n| user_id                              | cf4ac11f864943ba8148240fd8083f5e                         |\n+--------------------------------------+----------------------------------------------------------+\n\n\nConfigure a tenant with VM. Attach 2 Security Groups to the vm . \n\n\n\n\nopenstack-nova-compute-2015.1.0-3.el7ost.noarch\nopenstack-nova-console-2015.1.0-3.el7ost.noarch\nopenstack-nova-common-2015.1.0-3.el7ost.noarch\nopenstack-nova-scheduler-2015.1.0-3.el7ost.noarch\npython-nova-2015.1.0-3.el7ost.noarch\nopenstack-nova-cert-2015.1.0-3.el7ost.noarch\nopenstack-nova-novncproxy-2015.1.0-3.el7ost.noarch\nopenstack-nova-conductor-2015.1.0-3.el7ost.noarch\npython-novaclient-2.23.0-1.el7ost.noarch\nopenstack-nova-api-2015.1.0-3.el7ost.noarch", 
            "date_created": "2015-05-20 06:41:50.047632+00:00", 
            "author": "https://api.launchpad.net/1.0/~astafeye"
        }, 
        {
            "content": "hello\nnot sure about your environment, I could NOT reproduct your issue with nova-network.\n\n#nova absolute-limits\n+--------------------+------+-------+\n| Name               | Used | Max   |\n+--------------------+------+-------+\n| Cores              | 1    | 20    |\n| FloatingIps        | 0    | 10    |\n| ImageMeta          | -    | 128   |\n| Instances          | 1    | 10    |\n| Keypairs           | -    | 100   |\n| Personality        | -    | 5     |\n| Personality Size   | -    | 10240 |\n| RAM                | 64   | 51200 |\n| SecurityGroupRules | -    | 20    |\n| SecurityGroups     | 2    | 10    |\n| Server Meta        | -    | 128   |\n| ServerGroupMembers | -    | 10    |\n| ServerGroups       | 0    | 10    |\n+--------------------+------+-------+\n\n#nova secgroup-list\n+----+---------+-----------------+\n| Id | Name    | Description     |\n+----+---------+-----------------+\n| 2  | default | default         |\n| 3  | global  | test the global |\n+----+---------+-----------------+\n", 
            "date_created": "2015-05-20 09:13:06.656265+00:00", 
            "author": "https://api.launchpad.net/1.0/~jianlonghei"
        }, 
        {
            "content": "all in one \nmay you should try to create and attach and then deattach SecGroup", 
            "date_created": "2015-05-21 05:39:05.225941+00:00", 
            "author": "https://api.launchpad.net/1.0/~astafeye"
        }, 
        {
            "content": "@Alex Syafeyev:\n\nCould you please add steps-to-reproduce which allows another contributor to reproduce the issue locally? We need the exact CLI commands you used for that. The amount of incoming bug reports for Nova make it very hard to triage bugs if they don't provide easy to follow steps. After you've added the steps, please switch the status back to \"New\" to signal that we can start an analysis.", 
            "date_created": "2016-02-10 15:58:56.174286+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "In my case , I had neutron network. All-In-One setup. Create a security group, a VM, attach the SG to the vm and execute  \n\nnova absolute-limits\n", 
            "date_created": "2016-02-11 07:22:24.266924+00:00", 
            "author": "https://api.launchpad.net/1.0/~astafeye"
        }, 
        {
            "content": "When using Neutron, we should not be tracking security group usage.", 
            "date_created": "2016-09-15 15:54:29.597105+00:00", 
            "author": "https://api.launchpad.net/1.0/~johngarbutt"
        }, 
        {
            "content": "As john had mentioned in his comment, we should not be tracking usage of security groups in Nova. Below patch is filtering out network related limits from API response. \n\nhttps://review.openstack.org/#/c/344947/7\n\nyou can check this by trying out curl request with OpenStack-API-Version: compute 2.36\ncurl -g -i -X GET http://192.168.0.31:8774/v2.1/limits -H \"OpenStack-API-Version: compute 2.36\" -H \"Accept: application/json\" -H \"X-OpenStack-Nova-API-Version: 2.32\" -H \"X-Auth-Token: $OS_TOKEN\"\n\n", 
            "date_created": "2016-09-16 20:49:15.733548+00:00", 
            "author": "https://api.launchpad.net/1.0/~siva-radhakrishnan"
        }
    ]
}