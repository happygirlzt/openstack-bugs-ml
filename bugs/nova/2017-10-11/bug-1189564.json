{
    "status": "Invalid", 
    "last_updated": "2014-09-16 00:35:48.276768+00:00", 
    "description": "Hi,\n\nHere is some history as to why I noticed this:\n\nA few weeks ago I created a flavor and marked it as non-public and assigned it to a specific project/tenant.  Today I attempted to create a new flavor with Horizon and was unable to.  In the dashboard's apache error_log it had:\nClientException: Instance Type New64GB4CPU200GB already exists. (HTTP 409) (Request-ID: req-f3989efa-5f06-4c83-831d-0d040eccbe38)\nI'll paste the full stanza of the Python stack dump at the bottom of this message.\n\nThe bug:\nSince horizon does not ask for the ID of the flavor, I attempted to do it via command line as admin.  The same message appeared. as I specified the next seemingly available flavor ID.  However, the flavor that I created non-public had the ID number allocated, but it didn't appear in the list for nova flavor-list as admin.  This gave me the same error message as in Horizon.  As soon as I created it with the next-higher ID again, it worked.\n\nI'm using Folsom EPEL packages for CentOS 6. \n\nopenstack-nova-api-2012.2.3-1.el6.noarch\nopenstack-dashboard-2012.2.3-1.el6.noarch\n\nThanks\n-Dave\n\n\n[Mon Jun 10 17:00:29 2013] [error] Traceback (most recent call last):\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/horizon/dashboards/syspanel/flavors/forms.py\", line 65, in handle\n[Mon Jun 10 17:00:29 2013] [error]     ephemeral=data['eph_gb'])\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/horizon/api/nova.py\", line 239, in flavor_create\n[Mon Jun 10 17:00:29 2013] [error]     ephemeral=int(ephemeral))\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/v1_1/flavors.py\", line 176, in create\n[Mon Jun 10 17:00:29 2013] [error]     return self._create(\"/flavors\", body, \"flavor\")\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/base.py\", line 148, in _create\n[Mon Jun 10 17:00:29 2013] [error]     _resp, body = self.api.client.post(url, body=body)\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/client.py\", line 244, in post\n[Mon Jun 10 17:00:29 2013] [error]     return self._cs_request(url, 'POST', **kwargs)\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/client.py\", line 228, in _cs_request\n[Mon Jun 10 17:00:29 2013] [error]     **kwargs)\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/client.py\", line 210, in _time_request\n[Mon Jun 10 17:00:29 2013] [error]     resp, body = self.request(url, method, **kwargs)\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/client.py\", line 204, in request\n[Mon Jun 10 17:00:29 2013] [error]     raise exceptions.from_response(resp, body)\n[Mon Jun 10 17:00:29 2013] [error] ClientException: Instance Type 64GB-4CPU-200GB already exists. (HTTP 409) (Request-ID: req-2b647be6-5dc4-4457-8a74-9d275b07fc50)\n[Mon Jun 10 17:00:47 2013] [error] \\x1b[31;1mRecoverable error: Instance Type 64GB-4CPU-200GB already exists. (HTTP 409) (Request-ID: req-ed81214a-3aa6-4093-b37f-a77bd7f8889d)\\x1b[0m", 
    "tags": [
        "api", 
        "db"
    ], 
    "importance": "Medium", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1189564", 
    "owner": "None", 
    "id": 1189564, 
    "index": 3434, 
    "created": "2013-06-10 17:38:38.833843+00:00", 
    "title": "Instance Type already exists when creating flavor", 
    "comments": [
        {
            "content": "Hi,\n\nHere is some history as to why I noticed this:\n\nA few weeks ago I created a flavor and marked it as non-public and assigned it to a specific project/tenant.  Today I attempted to create a new flavor with Horizon and was unable to.  In the dashboard's apache error_log it had:\nClientException: Instance Type New64GB4CPU200GB already exists. (HTTP 409) (Request-ID: req-f3989efa-5f06-4c83-831d-0d040eccbe38)\nI'll paste the full stanza of the Python stack dump at the bottom of this message.\n\nThe bug:\nSince horizon does not ask for the ID of the flavor, I attempted to do it via command line as admin.  The same message appeared. as I specified the next seemingly available flavor ID.  However, the flavor that I created non-public had the ID number allocated, but it didn't appear in the list for nova flavor-list as admin.  This gave me the same error message as in Horizon.  As soon as I created it with the next-higher ID again, it worked.\n\nI'm using Folsom EPEL packages for CentOS 6. \n\nopenstack-nova-api-2012.2.3-1.el6.noarch\nopenstack-dashboard-2012.2.3-1.el6.noarch\n\nThanks\n-Dave\n\n\n[Mon Jun 10 17:00:29 2013] [error] Traceback (most recent call last):\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/horizon/dashboards/syspanel/flavors/forms.py\", line 65, in handle\n[Mon Jun 10 17:00:29 2013] [error]     ephemeral=data['eph_gb'])\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/horizon/api/nova.py\", line 239, in flavor_create\n[Mon Jun 10 17:00:29 2013] [error]     ephemeral=int(ephemeral))\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/v1_1/flavors.py\", line 176, in create\n[Mon Jun 10 17:00:29 2013] [error]     return self._create(\"/flavors\", body, \"flavor\")\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/base.py\", line 148, in _create\n[Mon Jun 10 17:00:29 2013] [error]     _resp, body = self.api.client.post(url, body=body)\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/client.py\", line 244, in post\n[Mon Jun 10 17:00:29 2013] [error]     return self._cs_request(url, 'POST', **kwargs)\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/client.py\", line 228, in _cs_request\n[Mon Jun 10 17:00:29 2013] [error]     **kwargs)\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/client.py\", line 210, in _time_request\n[Mon Jun 10 17:00:29 2013] [error]     resp, body = self.request(url, method, **kwargs)\n[Mon Jun 10 17:00:29 2013] [error]   File \"/usr/lib/python2.6/site-packages/novaclient/client.py\", line 204, in request\n[Mon Jun 10 17:00:29 2013] [error]     raise exceptions.from_response(resp, body)\n[Mon Jun 10 17:00:29 2013] [error] ClientException: Instance Type 64GB-4CPU-200GB already exists. (HTTP 409) (Request-ID: req-2b647be6-5dc4-4457-8a74-9d275b07fc50)\n[Mon Jun 10 17:00:47 2013] [error] \\x1b[31;1mRecoverable error: Instance Type 64GB-4CPU-200GB already exists. (HTTP 409) (Request-ID: req-ed81214a-3aa6-4093-b37f-a77bd7f8889d)\\x1b[0m", 
            "date_created": "2013-06-10 17:38:38.833843+00:00", 
            "author": "https://api.launchpad.net/1.0/~bulk-schulz"
        }, 
        {
            "content": "Dave, what do you expect?\n\nAfter I create a non-public flavor in command line, and create another flavor with the same settings, as long as the flavor name is not the same, nova will assign a new ID (actually a uuid) to the new flavor.\n\nIf I do it in the command line again, it also works. Are you expecting to see all flavors including non-public ones with \"nova flavor-list\" so you can assign a right ID for your new second flavor?\n\n", 
            "date_created": "2013-08-28 07:59:49.558221+00:00", 
            "author": "https://api.launchpad.net/1.0/~shane-wang"
        }, 
        {
            "content": "Very old incomplete bug, marking closed at this point. Please feel free to reopen if this is still an issue. Would be great to have a reproduce for it.", 
            "date_created": "2014-09-16 00:35:47.441174+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }
    ]
}