{
    "status": "Invalid", 
    "last_updated": "2016-10-12 18:15:21.445298+00:00", 
    "description": "This is happening on the latest master branch in CI systems. It happens very rarely in the gate:\n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJcImxpYnZpcnRFcnJvcjogb3BlcmF0aW9uIGZhaWxlZDogb3BlbiBkaXNrIGltYWdlIGZpbGUgZmFpbGVkXCIiLCJmaWVsZHMiOltdLCJvZmZzZXQiOjAsInRpbWVmcmFtZSI6IjYwNDgwMCIsImdyYXBobW9kZSI6ImNvdW50IiwidGltZSI6eyJ1c2VyX2ludGVydmFsIjowfSwic3RhbXAiOjE0NDIyNjY3MDU1NzZ9\n\nAnd on some third party CI systems (not included in the logstash results):\n\nhttp://ec2-52-8-200-217.us-west-1.compute.amazonaws.com/28/216728/5/check/PureFCDriver-tempest-dsvm-volume-multipath/bd3618d/logs/libvirt/libvirtd.txt.gz#_2015-09-14_09_00_44_829\n\nWhen the error occurs there is a stack trace in the n-cpu log like this:\n\nhttp://logs.openstack.org/22/222922/2/check/gate-tempest-dsvm-full-lio/550be5e/logs/screen-n-cpu.txt.gz?level=DEBUG#_2015-09-13_17_34_07_787\n\n2015-09-13 17:34:07.787 ERROR nova.virt.libvirt.driver [req-4ac04f97-f468-466a-9fb2-02d1df3a5633 tempest-TestEncryptedCinderVolumes-1564844141 tempest-TestEncryptedCinderVolumes-804461249] [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6] Failed to attach volume at mountpoint: /dev/vdb\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6] Traceback (most recent call last):\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 1115, in attach_volume\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     guest.attach_device(conf, persistent=True, live=live)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/opt/stack/new/nova/nova/virt/libvirt/guest.py\", line 233, in attach_device\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     self._domain.attachDeviceFlags(conf.to_xml(), flags=flags)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, in doit\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, in proxy_call\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     rv = execute(f, *args, **kwargs)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, in execute\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     six.reraise(c, e, tb)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in tworker\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     rv = meth(*args, **kwargs)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/libvirt.py\", line 517, in attachDeviceFlags\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     if ret == -1: raise libvirtError ('virDomainAttachDeviceFlags() failed', dom=self)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6] libvirtError: operation failed: open disk image file failed\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]\n\nand a corresponding error in the libvirt log such as this:\n\nhttp://logs.openstack.org/22/222922/2/check/gate-tempest-dsvm-full-lio/550be5e/logs/libvirt/libvirtd.txt.gz#_2015-09-13_17_34_07_499\n\n2015-09-13 17:34:07.496+0000: 16871: debug : qemuMonitorJSONCommandWithFd:264 : Send command '{\"execute\":\"human-monitor-command\",\"arguments\":{\"command-line\":\"drive_add dummy file=/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0,if=none,id=drive-virtio-disk1,format=raw,serial=561640e9-081a-430b-a7f8-9cadd63d2d00,cache=none\"},\"id\":\"libvirt-16\"}' for write with FD -1\n2015-09-13 17:34:07.496+0000: 16871: debug : qemuMonitorSend:959 : QEMU_MONITOR_SEND_MSG: mon=0x7f50dc008db0 msg={\"execute\":\"human-monitor-command\",\"arguments\":{\"command-line\":\"drive_add dummy file=/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0,if=none,id=drive-virtio-disk1,format=raw,serial=561640e9-081a-430b-a7f8-9cadd63d2d00,cache=none\"},\"id\":\"libvirt-16\"}\n\u00a0fd=-1\n2015-09-13 17:34:07.496+0000: 16868: debug : qemuMonitorIOWrite:504 : QEMU_MONITOR_IO_WRITE: mon=0x7f50dc008db0 buf={\"execute\":\"human-monitor-command\",\"arguments\":{\"command-line\":\"drive_add dummy file=/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0,if=none,id=drive-virtio-disk1,format=raw,serial=561640e9-081a-430b-a7f8-9cadd63d2d00,cache=none\"},\"id\":\"libvirt-16\"}\n\u00a0len=325 ret=325 errno=22\n2015-09-13 17:34:07.499+0000: 16868: debug : qemuMonitorIOProcess:396 : QEMU_MONITOR_IO_PROCESS: mon=0x7f50dc008db0 buf={\"return\": \"could not open disk image /dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0: Could not open '/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0': Operation not permitted\\r\\n\", \"id\": \"libvirt-16\"}\n\u00a0len=352\n2015-09-13 17:34:07.499+0000: 16868: debug : qemuMonitorJSONIOProcessLine:157 : Line [{\"return\": \"could not open disk image /dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0: Could not open '/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0': Operation not permitted\\r\\n\", \"id\": \"libvirt-16\"}]\n2015-09-13 17:34:07.499+0000: 16868: debug : qemuMonitorJSONIOProcessLine:177 : QEMU_MONITOR_RECV_REPLY: mon=0x7f50dc008db0 reply={\"return\": \"could not open disk image /dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0: Could not open '/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0': Operation not permitted\\r\\n\", \"id\": \"libvirt-16\"}\n2015-09-13 17:34:07.499+0000: 16868: debug : qemuMonitorJSONIOProcess:226 : Total used 352 bytes out of 352 available in buffer\n2015-09-13 17:34:07.499+0000: 16871: debug : qemuMonitorJSONCommandWithFd:269 : Receive command reply ret=0 rxObject=0x7f511026bfc0\n2015-09-13 17:34:07.499+0000: 16871: error : qemuMonitorTextAddDrive:2611 : operation failed: open disk image file failed\n2015-09-13 17:34:07.499+0000: 16871: debug : qemuDomainObjExitMonitorInternal:1301 : Exited monitor (mon=0x7f50dc008db0 vm=0x7f50f81661f0 name=instance-00000057)\n\nIt is unclear yet what causes this to occur. It has reproduced in several different tempest tests.", 
    "tags": [
        "fibre-channel", 
        "in-stable-liberty", 
        "libvirt", 
        "multipath", 
        "volumes"
    ], 
    "importance": "Undecided", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/1495701", 
    "owner": "None", 
    "id": 1495701, 
    "index": 5761, 
    "created": "2015-09-14 21:49:16.389332+00:00", 
    "title": "Sometimes Cinder volumes fail to attach with error 'The device is not writable: Permission denied'", 
    "comments": [
        {
            "content": "This is happening on the latest master branch in CI systems. It happens very rarely in the gate:\n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJcImxpYnZpcnRFcnJvcjogb3BlcmF0aW9uIGZhaWxlZDogb3BlbiBkaXNrIGltYWdlIGZpbGUgZmFpbGVkXCIiLCJmaWVsZHMiOltdLCJvZmZzZXQiOjAsInRpbWVmcmFtZSI6IjYwNDgwMCIsImdyYXBobW9kZSI6ImNvdW50IiwidGltZSI6eyJ1c2VyX2ludGVydmFsIjowfSwic3RhbXAiOjE0NDIyNjY3MDU1NzZ9\n\nAnd on some third party CI systems (not included in the logstash results):\n\nhttp://ec2-54-67-51-189.us-west-1.compute.amazonaws.com/28/216728/5/check/PureFCDriver-tempest-dsvm-volume-multipath/bd3618d/logs/libvirt/libvirtd.txt.gz#_2015-09-14_09_00_44_829\n\nWhen the error occurs there is a stack trace in the n-cpu log like this:\n\nhttp://logs.openstack.org/22/222922/2/check/gate-tempest-dsvm-full-lio/550be5e/logs/screen-n-cpu.txt.gz?level=DEBUG#_2015-09-13_17_34_07_787\n\n2015-09-13 17:34:07.787 ERROR nova.virt.libvirt.driver [req-4ac04f97-f468-466a-9fb2-02d1df3a5633 tempest-TestEncryptedCinderVolumes-1564844141 tempest-TestEncryptedCinderVolumes-804461249] [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6] Failed to attach volume at mountpoint: /dev/vdb\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6] Traceback (most recent call last):\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 1115, in attach_volume\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     guest.attach_device(conf, persistent=True, live=live)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/opt/stack/new/nova/nova/virt/libvirt/guest.py\", line 233, in attach_device\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     self._domain.attachDeviceFlags(conf.to_xml(), flags=flags)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, in doit\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, in proxy_call\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     rv = execute(f, *args, **kwargs)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, in execute\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     six.reraise(c, e, tb)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in tworker\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     rv = meth(*args, **kwargs)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]   File \"/usr/local/lib/python2.7/dist-packages/libvirt.py\", line 517, in attachDeviceFlags\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6]     if ret == -1: raise libvirtError ('virDomainAttachDeviceFlags() failed', dom=self)\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6] libvirtError: operation failed: open disk image file failed\n2015-09-13 17:34:07.787 22300 ERROR nova.virt.libvirt.driver [instance: 82f33247-d8be-49c7-9f89-f02602de5ef6] \n\nand a corresponding error in the libvirt log such as this:\n\nhttp://logs.openstack.org/22/222922/2/check/gate-tempest-dsvm-full-lio/550be5e/logs/libvirt/libvirtd.txt.gz#_2015-09-13_17_34_07_499\n\n2015-09-13 17:34:07.496+0000: 16871: debug : qemuMonitorJSONCommandWithFd:264 : Send command '{\"execute\":\"human-monitor-command\",\"arguments\":{\"command-line\":\"drive_add dummy file=/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0,if=none,id=drive-virtio-disk1,format=raw,serial=561640e9-081a-430b-a7f8-9cadd63d2d00,cache=none\"},\"id\":\"libvirt-16\"}' for write with FD -1\n2015-09-13 17:34:07.496+0000: 16871: debug : qemuMonitorSend:959 : QEMU_MONITOR_SEND_MSG: mon=0x7f50dc008db0 msg={\"execute\":\"human-monitor-command\",\"arguments\":{\"command-line\":\"drive_add dummy file=/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0,if=none,id=drive-virtio-disk1,format=raw,serial=561640e9-081a-430b-a7f8-9cadd63d2d00,cache=none\"},\"id\":\"libvirt-16\"}\n fd=-1\n2015-09-13 17:34:07.496+0000: 16868: debug : qemuMonitorIOWrite:504 : QEMU_MONITOR_IO_WRITE: mon=0x7f50dc008db0 buf={\"execute\":\"human-monitor-command\",\"arguments\":{\"command-line\":\"drive_add dummy file=/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0,if=none,id=drive-virtio-disk1,format=raw,serial=561640e9-081a-430b-a7f8-9cadd63d2d00,cache=none\"},\"id\":\"libvirt-16\"}\n len=325 ret=325 errno=22\n2015-09-13 17:34:07.499+0000: 16868: debug : qemuMonitorIOProcess:396 : QEMU_MONITOR_IO_PROCESS: mon=0x7f50dc008db0 buf={\"return\": \"could not open disk image /dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0: Could not open '/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0': Operation not permitted\\r\\n\", \"id\": \"libvirt-16\"}\n len=352\n2015-09-13 17:34:07.499+0000: 16868: debug : qemuMonitorJSONIOProcessLine:157 : Line [{\"return\": \"could not open disk image /dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0: Could not open '/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0': Operation not permitted\\r\\n\", \"id\": \"libvirt-16\"}]\n2015-09-13 17:34:07.499+0000: 16868: debug : qemuMonitorJSONIOProcessLine:177 : QEMU_MONITOR_RECV_REPLY: mon=0x7f50dc008db0 reply={\"return\": \"could not open disk image /dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0: Could not open '/dev/disk/by-path/ip-172.99.112.13:3260-iscsi-iqn.2010-10.org.openstack:volume-561640e9-081a-430b-a7f8-9cadd63d2d00-lun-0': Operation not permitted\\r\\n\", \"id\": \"libvirt-16\"}\n2015-09-13 17:34:07.499+0000: 16868: debug : qemuMonitorJSONIOProcess:226 : Total used 352 bytes out of 352 available in buffer\n2015-09-13 17:34:07.499+0000: 16871: debug : qemuMonitorJSONCommandWithFd:269 : Receive command reply ret=0 rxObject=0x7f511026bfc0\n2015-09-13 17:34:07.499+0000: 16871: error : qemuMonitorTextAddDrive:2611 : operation failed: open disk image file failed\n2015-09-13 17:34:07.499+0000: 16871: debug : qemuDomainObjExitMonitorInternal:1301 : Exited monitor (mon=0x7f50dc008db0 vm=0x7f50f81661f0 name=instance-00000057)\n\n\nIt is unclear yet what causes this to occur. It has reproduced in several different tempest tests.", 
            "date_created": "2015-09-14 21:49:16.389332+00:00", 
            "author": "https://api.launchpad.net/1.0/~patrick-east"
        }, 
        {
            "content": "After some further testing it looks like this almost always happens with a FC multipath device in the Pure Storage CI system. With multipath disabled the errors seem to stop happening.", 
            "date_created": "2015-09-16 20:56:40.049270+00:00", 
            "author": "https://api.launchpad.net/1.0/~patrick-east"
        }, 
        {
            "content": "An example of the same issue in c-bak service:\n\n http://ec2-54-193-96-24.us-west-1.compute.amazonaws.com/75/228575/2/check/PureFCDriver-tempest-dsvm-volume-multipath/6c62a48/logs/screen-c-bak.txt.gz?level=TRACE\n\nand in c-vol service:\n\nhttp://ec2-54-193-96-24.us-west-1.compute.amazonaws.com/29/213829/5/check/PureFCDriver-tempest-dsvm-volume-multipath/f8d7894/logs/screen-c-vol.txt.gz?level=TRACE", 
            "date_created": "2015-09-29 20:47:48.712113+00:00", 
            "author": "https://api.launchpad.net/1.0/~patrick-east"
        }, 
        {
            "content": "Fixed links for those examples (these should be permanent)\n\nAn example of the same issue in c-bak service:\n\n http://ec2-52-8-200-217.us-west-1.compute.amazonaws.com/75/228575/2/check/PureFCDriver-tempest-dsvm-volume-multipath/6c62a48/logs/screen-c-bak.txt.gz?level=TRACE\n\nand in c-vol service:\n\nhttp://ec2-52-8-200-217.us-west-1.compute.amazonaws.com/29/213829/5/check/PureFCDriver-tempest-dsvm-volume-multipath/f8d7894/logs/screen-c-vol.txt.gz?level=TRACE", 
            "date_created": "2015-09-30 20:13:22.384702+00:00", 
            "author": "https://api.launchpad.net/1.0/~patrick-east"
        }, 
        {
            "content": "We are seeing this same issue with NetApp's ESeries FC tests", 
            "date_created": "2015-10-09 16:50:01.447116+00:00", 
            "author": "https://api.launchpad.net/1.0/~andrew-kerr"
        }, 
        {
            "content": "Not sure why it didn't get linked automatically, but I've got a fix (well.. maybe closer to work-around) up for review here https://review.openstack.org/#/c/235067/", 
            "date_created": "2015-10-15 18:37:53.802966+00:00", 
            "author": "https://api.launchpad.net/1.0/~patrick-east"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/235067\nCommitted: https://git.openstack.org/cgit/openstack/os-brick/commit/?id=2e514655194b5385526dec7bc743cd3500a4dca9\nSubmitter: Jenkins\nBranch:    master\n\ncommit 2e514655194b5385526dec7bc743cd3500a4dca9\nAuthor: Patrick East <email address hidden>\nDate:   Thu Sep 17 11:41:37 2015 -0700\n\n    Wait for FC multipath devices to become writable\n    \n    Sometimes the multipath devices would be read-only block devices which\n    would end up causing problems when anything tries to write to them. We\n    now will wait and rescan a few times to try and get them to become\n    read-write before moving on with the attach.\n    \n    Change-Id: If3c17348f6a6e766f811fcd446c03c82e5c8a883\n    Partial-Bug: #1495701\n", 
            "date_created": "2015-10-28 14:32:43.850372+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/240111", 
            "date_created": "2015-10-29 04:15:38.377086+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/240111\nCommitted: https://git.openstack.org/cgit/openstack/os-brick/commit/?id=86e2918c3e843fc355cca2b9f9ae7db569256f18\nSubmitter: Jenkins\nBranch:    stable/liberty\n\ncommit 86e2918c3e843fc355cca2b9f9ae7db569256f18\nAuthor: Patrick East <email address hidden>\nDate:   Thu Sep 17 11:41:37 2015 -0700\n\n    Wait for FC multipath devices to become writable\n    \n    Sometimes the multipath devices would be read-only block devices which\n    would end up causing problems when anything tries to write to them. We\n    now will wait and rescan a few times to try and get them to become\n    read-write before moving on with the attach.\n    \n    Change-Id: If3c17348f6a6e766f811fcd446c03c82e5c8a883\n    Partial-Bug: #1495701\n    (cherry picked from commit 2e514655194b5385526dec7bc743cd3500a4dca9)\n", 
            "date_created": "2015-10-30 05:42:46.239963+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "I also face this problem with multipath devices on iSCSI. The fix proveded above seems to work for me as well, but any idea so far for the root cause?", 
            "date_created": "2015-10-30 13:28:09.942753+00:00", 
            "author": "https://api.launchpad.net/1.0/~magued-sedra"
        }, 
        {
            "content": "markus_z: I discusse with patrickeast and we think this is a \"high\" priority for users of both FibreChannel and multipath, but that is a less common use case, so perhaps should be set to \"medium\" priority.", 
            "date_created": "2015-11-06 17:46:00.480782+00:00", 
            "author": "https://api.launchpad.net/1.0/~scott-dangelo"
        }, 
        {
            "content": "IMHO this isn't a valid issue for Nova and the delays seen with devices becoming writeable  is more than likely with the hosts multipath configuration, storage fabric etc. Are we still seeing failures even with the additional retry logic added in os-brick?", 
            "date_created": "2016-03-07 15:53:39.381521+00:00", 
            "author": "https://api.launchpad.net/1.0/~lyarwood"
        }, 
        {
            "content": "Marking as incomplete for nova, given we don't really have any pointers towards a Nova issue here. Its some external issue that causes Nova to have issues attaching to the volume. At least it looks that way.", 
            "date_created": "2016-07-14 09:58:45.197244+00:00", 
            "author": "https://api.launchpad.net/1.0/~johngarbutt"
        }, 
        {
            "content": "Patrick, is this still an issue? I haven't seen this myself.", 
            "date_created": "2016-10-01 15:51:40.667366+00:00", 
            "author": "https://api.launchpad.net/1.0/~sean-mcginnis"
        }
    ]
}