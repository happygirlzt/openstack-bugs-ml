{
    "status": "Fix Released", 
    "last_updated": "2012-04-05 09:49:52.501988+00:00", 
    "description": "The switch from gflags broke multistring parsing.  There are two issues:\n\na) default values are not overridden\n\nb) any value specified in a flagfile is appended multiple times (it appears to be each time the flags are reparsed)\n\nfor example, specifying --osapi_extension=extensions.admin.Admin leads to:\n\n2011-11-14 23:45:12,183 DEBUG nova [-] osapi_extension : ['nova.api.openstack.contrib.standard_extensions', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admi\nn.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extension\ns.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'ext\nensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin'\n, 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.\nAdmin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.\nadmin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'exten\nsions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', \n'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Ad\nmin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.ad\nmin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensi\nons.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'e\nxtensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admi\nn', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admi\nn.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extension\ns.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin'] from (pid=11909) wait /opt/stack/nova/nova/service.py:383\n\nexpected output:\n\n2011-11-14 23:45:12,183 DEBUG nova [-] osapi_extension : ['extensions.admin.Admin'] from (pid=11909) wait /opt/stack/nova/nova/service.py:383\n\n(i.e. you should have to reiterate the default value for it to load)", 
    "tags": [], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/890489", 
    "owner": "https://api.launchpad.net/1.0/~markmc", 
    "id": 890489, 
    "index": 5261, 
    "created": "2011-11-15 00:22:58.625961+00:00", 
    "title": "multistring flags do not parse properly", 
    "comments": [
        {
            "content": "The switch from gflags broke multistring parsing.  There are two issues:\n\na) default values are not overridden\n\nb) any value specified in a flagfile is appended multiple times (it appears to be each time the flags are reparsed)\n\nfor example, specifying --osapi_extension=extensions.admin.Admin leads to:\n\n2011-11-14 23:45:12,183 DEBUG nova [-] osapi_extension : ['nova.api.openstack.contrib.standard_extensions', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admi\nn.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extension\ns.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'ext\nensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin'\n, 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.\nAdmin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.\nadmin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'exten\nsions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', \n'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Ad\nmin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.ad\nmin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensi\nons.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'e\nxtensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admi\nn', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admi\nn.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin', 'extension\ns.admin.Admin', 'extensions.admin.Admin', 'extensions.admin.Admin'] from (pid=11909) wait /opt/stack/nova/nova/service.py:383\n\nexpected output:\n\n2011-11-14 23:45:12,183 DEBUG nova [-] osapi_extension : ['extensions.admin.Admin'] from (pid=11909) wait /opt/stack/nova/nova/service.py:383\n\n(i.e. you should have to reiterate the default value for it to load)", 
            "date_created": "2011-11-15 00:22:58.625961+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "Proposed fixes:\n\n  https://review.openstack.org/#change,1605\n  https://review.openstack.org/#change,1606", 
            "date_created": "2011-11-15 07:59:04.478094+00:00", 
            "author": "https://api.launchpad.net/1.0/~markmc"
        }
    ]
}