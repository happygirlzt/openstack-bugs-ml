{
    "status": "Invalid", 
    "last_updated": "2016-05-10 17:47:07.550547+00:00", 
    "description": "When I try to create an instance, I got this error. \n\n\n2016-04-28 20:52:43.060 3559 INFO nova.osapi_compute.wsgi.server [req-3e221cd7-0e1b-4d43-ba8e-f735fdeb04c2 5ff80e6795b44fb989a21267ff11b419 f0d1841f00c64ffea8216ec1b1052aa5 - - -] 192.168.40.201 \"GET /v2.1/f0d1841f00c64ffea8216ec1b1052aa5/flavors/1 HTTP/1.1\" status: 200 len: 680 time: 0.0173349\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions [req-90eaf672-3119-4e5f-aca1-5e80995f057f 5ff80e6795b44fb989a21267ff11b419 f0d1841f00c64ffea8216ec1b1052aa5 - - -] Unexpected exception in API method\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 630, in create\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     **create_kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 154, in inner\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1556, in create\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1139, in _create_instance\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     reservation_id, max_count)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 834, in _validate_and_build_base_options\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     requested_networks, max_count)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 448, in _check_requested_networks\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     max_count)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/api.py\", line 49, in wrapped\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return func(self, context, *args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/api.py\", line 399, in validate_networks\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     requested_networks)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/rpcapi.py\", line 212, in validate_networks\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return self.client.call(ctxt, 'validate_networks', networks=networks)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py\", line 413, in call\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return self.prepare().call(ctxt, method, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py\", line 158, in call\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     retry=self.retry)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/transport.py\", line 90, in _send\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     timeout=timeout, retry=retry)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 470, in send\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     retry=retry)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 459, in _send\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     result = self._waiter.wait(msg_id, timeout)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 342, in wait\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     message = self.waiters.get(msg_id, timeout=timeout)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 244, in get\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     'to message ID %s' % msg_id)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions MessagingTimeout: Timed out waiting for a reply to message ID a978b4f6c2984b6f9ee1f7e5bf5f0336\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1576464", 
    "owner": "None", 
    "id": 1576464, 
    "index": 6184, 
    "created": "2016-04-29 01:07:33.264504+00:00", 
    "title": "MQ timeout when lunching an instance", 
    "comments": [
        {
            "content": "When I try to create an instance, I got this error. \n\n\n2016-04-28 20:52:43.060 3559 INFO nova.osapi_compute.wsgi.server [req-3e221cd7-0e1b-4d43-ba8e-f735fdeb04c2 5ff80e6795b44fb989a21267ff11b419 f0d1841f00c64ffea8216ec1b1052aa5 - - -] 192.168.40.201 \"GET /v2.1/f0d1841f00c64ffea8216ec1b1052aa5/flavors/1 HTTP/1.1\" status: 200 len: 680 time: 0.0173349\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions [req-90eaf672-3119-4e5f-aca1-5e80995f057f 5ff80e6795b44fb989a21267ff11b419 f0d1841f00c64ffea8216ec1b1052aa5 - - -] Unexpected exception in API method\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 630, in create\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     **create_kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 154, in inner\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1556, in create\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1139, in _create_instance\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     reservation_id, max_count)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 834, in _validate_and_build_base_options\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     requested_networks, max_count)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 448, in _check_requested_networks\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     max_count)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/api.py\", line 49, in wrapped\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return func(self, context, *args, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/api.py\", line 399, in validate_networks\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     requested_networks)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/rpcapi.py\", line 212, in validate_networks\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return self.client.call(ctxt, 'validate_networks', networks=networks)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py\", line 413, in call\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     return self.prepare().call(ctxt, method, **kwargs)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py\", line 158, in call\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     retry=self.retry)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/transport.py\", line 90, in _send\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     timeout=timeout, retry=retry)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 470, in send\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     retry=retry)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 459, in _send\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     result = self._waiter.wait(msg_id, timeout)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 342, in wait\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     message = self.waiters.get(msg_id, timeout=timeout)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 244, in get\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions     'to message ID %s' % msg_id)\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions MessagingTimeout: Timed out waiting for a reply to message ID a978b4f6c2984b6f9ee1f7e5bf5f0336\n2016-04-28 20:53:43.351 3559 ERROR nova.api.openstack.extensions", 
            "date_created": "2016-04-29 01:07:33.264504+00:00", 
            "author": "https://api.launchpad.net/1.0/~lv-f-g"
        }, 
        {
            "content": "If I create the instance without the option --nic, I can create it\nopenstack server create --flavor m1.tiny --image cirros mytest1\n+--------------------------------------+-----------------------------------------------+\n| Field                                | Value                                         |\n+--------------------------------------+-----------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                        |\n| OS-EXT-AZ:availability_zone          |                                               |\n| OS-EXT-SRV-ATTR:host                 | None                                          |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | None                                          |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000003                             |\n| OS-EXT-STS:power_state               | 0                                             |\n| OS-EXT-STS:task_state                | scheduling                                    |\n| OS-EXT-STS:vm_state                  | building                                      |\n| OS-SRV-USG:launched_at               | None                                          |\n| OS-SRV-USG:terminated_at             | None                                          |\n| accessIPv4                           |                                               |\n| accessIPv6                           |                                               |\n| addresses                            |                                               |\n| adminPass                            | rPH8z3hrQXbW                                  |\n| config_drive                         |                                               |\n| created                              | 2016-04-29T01:41:20Z                          |\n| flavor                               | m1.tiny (1)                                   |\n| hostId                               |                                               |\n| id                                   | 0e4912cf-8201-4a7e-be1d-2a65636f6469          |\n| image                                | cirros (e6e94d4b-caf1-4a91-b585-2e2c7e30ed4a) |\n| key_name                             | None                                          |\n| name                                 | mytest1                                       |\n| os-extended-volumes:volumes_attached | []                                            |\n| progress                             | 0                                             |\n| project_id                           | c4a196daf8e645d99b1d825cd08c58ab              |\n| properties                           |                                               |\n| security_groups                      | [{u'name': u'default'}]                       |\n| status                               | BUILD                                         |\n| updated                              | 2016-04-29T01:41:21Z                          |\n| user_id                              | c7eac9414d2f403db7167134b9315779              |\n+--------------------------------------+-----------------------------------------------+\n\n\nbut ....\nthis instance won't work\n\nif I add the --nic option, I will get the error result.\n\n\n\nAnother comment:\nmy \"compute service\" started with one issue as below\n\n2016-04-25 05:13:09.077 9394 INFO nova.virt.driver [-] Loading compute driver 'libvirt.LibvirtDriver'\n2016-04-25 05:13:09.100 9394 INFO oslo_service.periodic_task [-] Skipping periodic task _periodic_update_dns because its interval is negative\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver [-] Unable to load the virtualization driver\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver Traceback (most recent call last):\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver   File \"/usr/lib/python2.7/site-packages/nova/virt/driver.py\", line 1622, in load_compute_driver\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver     virtapi)\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver   File \"/usr/lib/python2.7/site-packages/oslo_utils/importutils.py\", line 65, in import_object_ns\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver     return cls(*args, **kwargs)\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 535, in __init__\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver     host=self._host)\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver   File \"/usr/lib/python2.7/site-packages/nova/virt/firewall.py\", line 37, in load_driver\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver     fw_class = importutils.import_class(CONF.firewall_driver or default)\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver   File \"/usr/lib/python2.7/site-packages/oslo_utils/importutils.py\", line 36, in import_class\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver     traceback.format_exception(*sys.exc_info())))\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver ImportError: Class NoopFirewallDriver cannot be found (['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/site-packages/oslo_utils/importutils.py\", line 32, in import_class\\n    return getattr(sys.modules[mod_str], class_str)\\n', \"AttributeError: 'module' object has no attribute 'NoopFirewallDriver'\\n\"])\n2016-04-25 05:13:09.149 9394 ERROR nova.virt.driver\n", 
            "date_created": "2016-04-29 01:52:29.152743+00:00", 
            "author": "https://api.launchpad.net/1.0/~lv-f-g"
        }, 
        {
            "content": "Add  the error log from /var/log/neutron/server.log\n\nin 14 seconds.\n2016-04-28 05:15:26.482 5090 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 14 seconds.\n2016-04-28 05:15:27.596 5091 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 14 seconds.\n2016-04-28 05:15:27.610 5091 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 14 seconds.\n2016-04-28 05:15:27.618 5091 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 14 seconds.\n2016-04-28 05:15:27.718 5090 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 14 seconds.\n2016-04-28 05:15:40.472 5090 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 16 seconds.\n2016-04-28 05:15:40.476 5091 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 16 seconds.\n2016-04-28 05:15:40.481 5090 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 16 seconds.\n2016-04-28 05:15:40.490 5090 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 16 seconds.\n2016-04-28 05:15:41.604 5091 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 16 seconds.\n2016-04-28 05:15:41.618 5091 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 16 seconds.\n2016-04-28 05:15:41.626 5091 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 16 seconds.\n2016-04-28 05:15:41.725 5090 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on cescld:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 16 seconds.\n", 
            "date_created": "2016-04-29 02:43:18.663719+00:00", 
            "author": "https://api.launchpad.net/1.0/~lv-f-g"
        }, 
        {
            "content": "AMQP server may be had something wrong, it was not code bug.", 
            "date_created": "2016-05-09 11:36:51.681182+00:00", 
            "author": "https://api.launchpad.net/1.0/~tang-xing"
        }, 
        {
            "content": "Closing it as invalid because of comment #3", 
            "date_created": "2016-05-10 17:47:00.033060+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ]
}