{
    "status": "Fix Released", 
    "last_updated": "2013-04-04 11:21:10.717860+00:00", 
    "description": "Test job http://logs.openstack.org/21491/2/check/gate-nova-python26/18946/testr_results.html.gz failed with trace:\n\nft608.12: nova.tests.test_utils.GenericUtilsTestCase.test_get_shortened_ipv6_cidr_StringException: Empty attachments:\n\u00a0\u00a0pythonlogging:'nova'\n\u00a0\u00a0stderr\n\u00a0\u00a0stdout\n\nTraceback (most recent call last):\n\u00a0\u00a0File \"/home/jenkins/workspace/gate-nova-python26/nova/tests/test_utils.py\", line 530, in test_get_shortened_ipv6_cidr\n\u00a0\u00a0\u00a0\u00a0\"127.0.0.1\")\n\u00a0\u00a0File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/testcase.py\", line 394, in assertRaises\n\u00a0\u00a0\u00a0\u00a0self.assertThat(our_callable, matcher)\n\u00a0\u00a0File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/testcase.py\", line 406, in assertThat\n\u00a0\u00a0\u00a0\u00a0mismatch = matcher.match(matchee)\n\u00a0\u00a0File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/matchers/_exception.py\", line 97, in match\n\u00a0\u00a0\u00a0\u00a0mismatch = self.exception_matcher.match(exc_info)\n\u00a0\u00a0File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/matchers/_higherorder.py\", line 61, in match\n\u00a0\u00a0\u00a0\u00a0mismatch = matcher.match(matchee)\n\u00a0\u00a0File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/testcase.py\", line 386, in match\n\u00a0\u00a0\u00a0\u00a0reraise(*matchee)\n\u00a0\u00a0File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/matchers/_exception.py\", line 90, in match\n\u00a0\u00a0\u00a0\u00a0result = matchee()\n\u00a0\u00a0File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/testcase.py\", line 846, in __call__\n\u00a0\u00a0\u00a0\u00a0return self._callable_object(*self._args, **self._kwargs)\n\u00a0\u00a0File \"/home/jenkins/workspace/gate-nova-python26/nova/utils.py\", line 916, in get_shortened_ipv6_cidr\n\u00a0\u00a0\u00a0\u00a0net = netaddr.IPNetwork(address, version=6)\n\u00a0\u00a0File \"/usr/lib/python2.6/dist-packages/netaddr/ip/__init__.py\", line 906, in __init__\n\u00a0\u00a0\u00a0\u00a0implicit_prefix=implicit_prefix, flags=flags)\n\u00a0\u00a0File \"/usr/lib/python2.6/dist-packages/netaddr/ip/__init__.py\", line 782, in parse_ip_network\n\u00a0\u00a0\u00a0\u00a0value = ip._value\nUnboundLocalError: local variable 'ip' referenced before assignment\n\nThis issue is discussed here: https://github.com/drkjam/netaddr/issues/2.\nThe bug in netaddr was fixed in 0.7.6 on 13th Sep 2011.\n\nNeed to require at least this version in pip-requires.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1157058", 
    "owner": "https://api.launchpad.net/1.0/~aababilov", 
    "id": 1157058, 
    "index": 3526, 
    "created": "2013-03-19 08:57:05.036613+00:00", 
    "title": "netaddr 0.7.5 raises UnboundLocalError", 
    "comments": [
        {
            "content": "Test job http://logs.openstack.org/21491/2/check/gate-nova-python26/18946/testr_results.html.gz failed with trace:\n\nft608.12: nova.tests.test_utils.GenericUtilsTestCase.test_get_shortened_ipv6_cidr_StringException: Empty attachments:\n  pythonlogging:'nova'\n  stderr\n  stdout\n\nTraceback (most recent call last):\n  File \"/home/jenkins/workspace/gate-nova-python26/nova/tests/test_utils.py\", line 530, in test_get_shortened_ipv6_cidr\n    \"127.0.0.1\")\n  File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/testcase.py\", line 394, in assertRaises\n    self.assertThat(our_callable, matcher)\n  File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/testcase.py\", line 406, in assertThat\n    mismatch = matcher.match(matchee)\n  File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/matchers/_exception.py\", line 97, in match\n    mismatch = self.exception_matcher.match(exc_info)\n  File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/matchers/_higherorder.py\", line 61, in match\n    mismatch = matcher.match(matchee)\n  File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/testcase.py\", line 386, in match\n    reraise(*matchee)\n  File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/matchers/_exception.py\", line 90, in match\n    result = matchee()\n  File \"/home/jenkins/workspace/gate-nova-python26/.tox/py26/lib/python2.6/site-packages/testtools/testcase.py\", line 846, in __call__\n    return self._callable_object(*self._args, **self._kwargs)\n  File \"/home/jenkins/workspace/gate-nova-python26/nova/utils.py\", line 916, in get_shortened_ipv6_cidr\n    net = netaddr.IPNetwork(address, version=6)\n  File \"/usr/lib/python2.6/dist-packages/netaddr/ip/__init__.py\", line 906, in __init__\n    implicit_prefix=implicit_prefix, flags=flags)\n  File \"/usr/lib/python2.6/dist-packages/netaddr/ip/__init__.py\", line 782, in parse_ip_network\n    value = ip._value\nUnboundLocalError: local variable 'ip' referenced before assignment\n\n\nThis issue is discussed here: https://github.com/drkjam/netaddr/issues/5.\nThe bug in netaddr was fixed in 0.7.6 on 13th Sep 2011.\n\nNeed to require at least this version in pip-requires.", 
            "date_created": "2013-03-19 08:57:05.036613+00:00", 
            "author": "https://api.launchpad.net/1.0/~aababilov"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/24769", 
            "date_created": "2013-03-19 09:27:29.981721+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "For reference, this has been patched in netaddr RHEL/Centos/Fedora/... for a while: https://bugzilla.redhat.com/710373\n\nAlso ubuntu is patched since precise\n\nso I'm a bit confused as to which env is picking up such an old netaddr?", 
            "date_created": "2013-03-19 14:23:09.341085+00:00", 
            "author": "https://api.launchpad.net/1.0/~p-draigbrady"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/24769\nCommitted: http://github.com/openstack/nova/commit/96c874cac5f9bd20f322d01404eaf378b8333eb5\nSubmitter: Jenkins\nBranch:    master\n\ncommit 96c874cac5f9bd20f322d01404eaf378b8333eb5\nAuthor: Alessio Ababilov <email address hidden>\nDate:   Tue Mar 19 11:25:14 2013 +0200\n\n    Require netaddr>=0.7.6 to avoid UnboundLocalError\n    \n    This issue is discussed at https://github.com/drkjam/netaddr/issues/2.\n    The bug in netaddr was fixed in release 0.7.6 on 13th Sep 2011.\n    \n    Change-Id: Iea75a30963a09f9b0dd94138460bf041ab98fc66\n    Fixes: bug #1157058\n", 
            "date_created": "2013-03-19 15:24:00.547149+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}