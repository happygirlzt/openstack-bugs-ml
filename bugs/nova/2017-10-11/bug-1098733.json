{
    "status": "Fix Released", 
    "last_updated": "2013-04-04 11:10:15.266968+00:00", 
    "description": "$ nova-manage --debug flavor create  --help\nusage: nova-manage flavor create [-h] [--name <name>] [--memory <memory size>]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[--cpu <num cores>] [--root_gb <root_gb>]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[--ephemeral_gb <ephemeral_gb>]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[--flavor <flavor  id>] [--swap <swap>]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[--rxtx_factor <rxtx_factor>]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[--is_public <is_public>]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[action_args [action_args ...]]\n\npositional arguments:\n\u00a0\u00a0action_args\n\noptional arguments:\n\u00a0\u00a0-h, --help            show this help message and exit\n\u00a0\u00a0--name <name>         Name of instance type/flavor\n\u00a0\u00a0--memory <memory size>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Memory size\n\u00a0\u00a0--cpu <num cores>     Number cpus\n\u00a0\u00a0--root_gb <root_gb>   Root disk size\n\u00a0\u00a0--ephemeral_gb <ephemeral_gb>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Ephemeral disk size\n\u00a0\u00a0--flavor <flavor  id>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Flavor ID\n\u00a0\u00a0--swap <swap>         Swap\n\u00a0\u00a0--rxtx_factor <rxtx_factor>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rxtx_factor\n\u00a0\u00a0--is_public <is_public>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Make flavor accessible to the public\n\nThe above seems to me to imply that this is the correct way to invoke this command:\n\u00a0\u00a0\u00a0nova-manage flavor create  --name m1.smoser --memory 512 --cpu 1 --root_gb 2 --ephemeral_gb 1 --is_public 1 --flavor 6\n\nHowever, doing that results in an error, complaining:\n4 arguments are missing: name, memory, vcpus, root_gb\n\nThe correct way to specify name, memory, vcpus, root_gb is as positional args:\n\u00a0\u00a0nova-manage flavor create  m1.smoser 512 1 2\n\nThat will actually work.\n\nTo specify everything you want, you actually have to provide positional arguments with the following order:\n\u00a0name memory vcpus root_gb [ephemeral_gb flavor_id swap rxtx_factor is_public]\nis_public must be something like 'true', 'false', 1, 0. arbitrary string will not work.\n\nSo, as far as I can tell, then, there is no way to specify \"extra specs\", nor is there a way to specify public without specifying anything before it.\n\nSo the 2 issues here are:\n\u00a0* it really shoudl take flags for non-required variables so you can specify is_public without specifying ephemeral_gb\n\u00a0* the usage is very confusing.", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1098733", 
    "owner": "https://api.launchpad.net/1.0/~niuwl586-v", 
    "id": 1098733, 
    "index": 3199, 
    "created": "2013-01-11 22:06:14.124605+00:00", 
    "title": "nova-manage has several usage issues", 
    "comments": [
        {
            "content": "\n$ nova-manage --debug flavor create  --help\nusage: nova-manage flavor create [-h] [--name <name>] [--memory <memory size>]\n                                 [--cpu <num cores>] [--root_gb <root_gb>]\n                                 [--ephemeral_gb <ephemeral_gb>]\n                                 [--flavor <flavor  id>] [--swap <swap>]\n                                 [--rxtx_factor <rxtx_factor>]\n                                 [--is_public <is_public>]\n                                 [action_args [action_args ...]]\n\npositional arguments:\n  action_args\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --name <name>         Name of instance type/flavor\n  --memory <memory size>\n                        Memory size\n  --cpu <num cores>     Number cpus\n  --root_gb <root_gb>   Root disk size\n  --ephemeral_gb <ephemeral_gb>\n                        Ephemeral disk size\n  --flavor <flavor  id>\n                        Flavor ID\n  --swap <swap>         Swap\n  --rxtx_factor <rxtx_factor>\n                        rxtx_factor\n  --is_public <is_public>\n                        Make flavor accessible to the public\n\n\nThe above seems to me to imply that this is the correct way to invoke this command:\n   nova-manage flavor create  --name m1.smoser --memory 512 --cpu 1 --root_gb 2 --ephemeral_gb 1 --is_public 1 --flavor 6\n\nHowever, doing that results in an error, complaining:\n4 arguments are missing: name, memory, vcpus, root_gb\n\n\nThe correct way to specify name, memory, vcpus, root_gb is as positional args:\n  nova-manage flavor create  --name m1.smoser --memory 512 --cpu 1 --root_gb 2\n\nThat will actually work.\n\nTo specify everything you want, you actually have to provide positional arguments with the following order:\n name memory vcpus root_gb [ephemeral_gb flavor_id swap rxtx_factor is_public]\nis_public must be something like 'true', 'false', 1, 0. arbitrary string will not work.\n\nSo, as far as I can tell, then, there is no way to specify \"extra specs\", nor is there a way to specify public without specifying anything before it.\n\nSo the 2 issues here are:\n * it really shoudl take flags for non-required variables so you can specify is_public without specifying ephemeral_gb\n * the usage is very confusing.", 
            "date_created": "2013-01-11 22:06:14.124605+00:00", 
            "author": "https://api.launchpad.net/1.0/~smoser"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/19893", 
            "date_created": "2013-01-17 05:56:23.757308+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/19896", 
            "date_created": "2013-01-17 07:00:52.365533+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/19896\nCommitted: http://github.com/openstack/nova/commit/a99ddf204a32cf9390bc00eb5e6ca4ede956f034\nSubmitter: Jenkins\nBranch:    master\n\ncommit a99ddf204a32cf9390bc00eb5e6ca4ede956f034\nAuthor: Tony NIU <email address hidden>\nDate:   Thu Jan 17 13:52:24 2013 +0800\n\n    Fixed nova-manage argument parsing error\n    \n    In the dictionary CATEGORIES of file nova-manage, both 'flavor'\n    and 'instance_type' refer to InstanceTypeCommands, so the category\n    would be handled twice by add_command_parsers(). It would mess the\n    arguments if a command category is handled more than once by\n    function add_command_parsers().\n    Added a check to avoid the mess.\n    \n    Change-Id: I7a314a9b389b3dea848a7111cedfc762bbb6b30e\n    Fixes: bug #1098733\n", 
            "date_created": "2013-01-23 17:30:34.983113+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}