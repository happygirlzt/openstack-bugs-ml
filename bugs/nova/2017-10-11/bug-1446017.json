{
    "status": "Expired", 
    "last_updated": "2016-05-21 06:20:39.784724+00:00", 
    "description": "nova --debug boot --flavor 1 --image dockerc7  --nic net-id=40945ae1-344c-4ebd-a25b-2776feb0f409 d01\n.......\n\nDEBUG (iso8601:184) Parsed 2015-04-19T22:56:02Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'22', 'daydash': u'19', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'02', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'56'} with default timezone <iso8601.iso8601.Utc object at 0x16becd0>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'19' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 19 for 'day' with default 19\nDEBUG (iso8601:140) Got u'22' for 'hour' with default None\nDEBUG (iso8601:140) Got u'56' for 'minute' with default None\nDEBUG (iso8601:140) Got u'02' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-19T22:56:02Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'22', 'daydash': u'19', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'02', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'56'} with default timezone <iso8601.iso8601.Utc object at 0x16becd0>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'19' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 19 for 'day' with default 19\nDEBUG (iso8601:140) Got u'22' for 'hour' with default None\nDEBUG (iso8601:140) Got u'56' for 'minute' with default None\nDEBUG (iso8601:140) Got u'02' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X POST http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d66f80c62fd0af6d801994e38c69d8e2a1833370\" -d '{\"server\": {\"name\": \"d01\", \"imageRef\": \"b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"flavorRef\": \"1\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"40945ae1-344c-4ebd-a25b-2776feb0f409\"}]}}'\nDEBUG (retry:155) Converted retries value: 0 -> Retry(total=0, connect=None, read=None, redirect=0)\nDEBUG (connectionpool:383) \"POST /v2/959d7f7e020b48509aea18dcec819491/servers HTTP/1.1\" 500 128\nDEBUG (session:223) RESP:\nDEBUG (shell:914) The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 911, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 838, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/shell.py\", line 500, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 929, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 557, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 152, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 171, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/client.py\", line 97, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500)\n\n\nTraced back found the http 500 was returned by  request() in sessions.py, even the token string was valid.\n\n> /usr/lib/python2.7/site-packages/requests/sessions.py(309)request()-><Response [500]>\n-> return resp\n(Pdb) \n> /usr/lib/python2.7/site-packages/keystoneclient/session.py(435)_send_request()\n-> if log:\n(Pdb) p resp\n<Response [500]>\n(Pdb) p resp.status_code\n500", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 16, 
    "link": "https://bugs.launchpad.net/nova/+bug/1446017", 
    "owner": "None", 
    "id": 1446017, 
    "index": 5514, 
    "created": "2015-04-19 22:07:00.640525+00:00", 
    "title": "In Kilo code release, nova boot failed on keystoneclient returns 500 error", 
    "comments": [
        {
            "content": "nova --debug boot --flavor 1 --image dockerc7  --nic net-id=40945ae1-344c-4ebd-a25b-2776feb0f409 d01\n.......\n\nDEBUG (iso8601:184) Parsed 2015-04-19T22:56:02Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'22', 'daydash': u'19', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'02', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'56'} with default timezone <iso8601.iso8601.Utc object at 0x16becd0>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'19' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 19 for 'day' with default 19\nDEBUG (iso8601:140) Got u'22' for 'hour' with default None\nDEBUG (iso8601:140) Got u'56' for 'minute' with default None\nDEBUG (iso8601:140) Got u'02' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-19T22:56:02Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'22', 'daydash': u'19', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'02', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'56'} with default timezone <iso8601.iso8601.Utc object at 0x16becd0>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'19' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 19 for 'day' with default 19\nDEBUG (iso8601:140) Got u'22' for 'hour' with default None\nDEBUG (iso8601:140) Got u'56' for 'minute' with default None\nDEBUG (iso8601:140) Got u'02' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X POST http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d66f80c62fd0af6d801994e38c69d8e2a1833370\" -d '{\"server\": {\"name\": \"d01\", \"imageRef\": \"b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"flavorRef\": \"1\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"40945ae1-344c-4ebd-a25b-2776feb0f409\"}]}}'\nDEBUG (retry:155) Converted retries value: 0 -> Retry(total=0, connect=None, read=None, redirect=0)\nDEBUG (connectionpool:383) \"POST /v2/959d7f7e020b48509aea18dcec819491/servers HTTP/1.1\" 500 128\nDEBUG (session:223) RESP:\nDEBUG (shell:914) The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 911, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 838, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/shell.py\", line 500, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 929, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 557, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 152, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 171, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/client.py\", line 97, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500)\n\n\nTraced back found the http 500 was returned by  request() in sessions.py, even the token string was valid.\n\n> /usr/lib/python2.7/site-packages/requests/sessions.py(309)request()-><Response [500]>\n-> return resp\n(Pdb) \n> /usr/lib/python2.7/site-packages/keystoneclient/session.py(435)_send_request()\n-> if log:\n(Pdb) p resp\n<Response [500]>\n(Pdb) p resp.status_code\n500", 
            "date_created": "2015-04-19 22:07:00.640525+00:00", 
            "author": "https://api.launchpad.net/1.0/~alfredcs"
        }, 
        {
            "content": "seems all the log are from pdb perspective, can you attach the api logs?  \n", 
            "date_created": "2015-04-21 12:40:30.215662+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "Hey Jichenjc,\n\nThanks for looking into this. The nova-api.log with debug/verbose enabled is attached.  The 500 error was thrown when method equals to POST to nova API. GET requests worked OK. Following packages are installed.\n\n# rpm -qa | grep -Ei 'nova|urllib3|request|six'\nrequests-2.6.0-1.noarch\npython-novaclient-2.23.0.post13-1.noarch\nnova-2015.1.0rc1-1.noarch\nsix-1.9.0-1.noarch\nnova-docker-0.0.0.post183-1.noarch\nurllib3-1.10.1-1.noarch\n\n------------------------\n\n# nova service-list\n+----+------------------+----------+----------+---------+-------+----------------------------+-----------------+\n| Id | Binary           | Host     | Zone     | Status  | State | Updated_at                 | Disabled Reason |\n+----+------------------+----------+----------+---------+-------+----------------------------+-----------------+\n| 1  | nova-scheduler   | ctrail72 | internal | enabled | up    | 2015-04-22T05:09:56.000000 | -               |\n| 2  | nova-conductor   | ctrail72 | internal | enabled | up    | 2015-04-22T05:09:57.000000 | -               |\n| 3  | nova-console     | ctrail72 | internal | enabled | up    | 2015-04-22T05:09:59.000000 | -               |\n| 4  | nova-consoleauth | ctrail72 | internal | enabled | up    | 2015-04-22T05:10:00.000000 | -               |\n| 5  | nova-cert        | ctrail72 | internal | enabled | up    | 2015-04-22T05:10:01.000000 | -               |\n| 6  | nova-compute     | ctrail72 | nova     | enabled | up    | 2015-04-22T05:10:02.000000 | -               |\n| 7  | nova-compute     | comp70-1 | nova     | enabled | up    | 2015-04-22T05:10:00.000000 | -               |\n+----+------------------+----------+----------+---------+-------+----------------------------+-----------------+\n\n#nova --debug boot --flavor 1 --image dockerc7  --nic net-id=40945ae1-344c-4ebd-a25b-2776feb0f409 d01\nDEBUG (session:195) REQ: curl -g -i -X GET http://10.0.0.244:35357/v2.0 -H \"Accept: application/json\" -H \"User-Agent: python-keystoneclient\"\nINFO (connectionpool:203) Starting new HTTP connection (1): 10.0.0.244\nDEBUG (connectionpool:383) \"GET /v2.0 HTTP/1.1\" 200 337\nDEBUG (session:224) RESP: [200] date: Wed, 22 Apr 2015 05:10:24 GMT content-type: application/json content-length: 337 vary: X-Auth-Token server: Apache/2.4.6 (CentOS) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.5 \nRESP BODY: {\"version\": {\"status\": \"stable\", \"updated\": \"2014-04-17T00:00:00Z\", \"media-types\": [{\"base\": \"application/json\", \"type\": \"application/vnd.openstack.identity-v2.0+json\"}], \"id\": \"v2.0\", \"links\": [{\"href\": \"http://10.0.0.244:35357/v2.0/\", \"rel\": \"self\"}, {\"href\": \"http://docs.openstack.org/\", \"type\": \"text/html\", \"rel\": \"describedby\"}]}}\n\nDEBUG (v2:76) Making authentication request to http://10.0.0.244:35357/v2.0/tokens\nDEBUG (connectionpool:383) \"POST /v2.0/tokens HTTP/1.1\" 200 1738\nDEBUG (iso8601:184) Parsed 2015-04-22T06:10:25Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'06', 'daydash': u'22', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'25', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'10'} with default timezone <iso8601.iso8601.Utc object at 0x26eaf10>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'22' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 22 for 'day' with default 22\nDEBUG (iso8601:140) Got u'06' for 'hour' with default None\nDEBUG (iso8601:140) Got u'10' for 'minute' with default None\nDEBUG (iso8601:140) Got u'25' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X GET http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/images -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}c35b396ce834390ece3d2e04443c27ff7819c02f\"\nINFO (connectionpool:203) Starting new HTTP connection (1): 10.0.0.244\nDEBUG (connectionpool:383) \"GET /v2/959d7f7e020b48509aea18dcec819491/images HTTP/1.1\" 200 980\nDEBUG (session:224) RESP: [200] date: Wed, 22 Apr 2015 05:10:25 GMT content-length: 980 content-type: application/json \nRESP BODY: {\"images\": [{\"id\": \"b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"links\": [{\"href\": \"http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/images/b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"rel\": \"self\"}, {\"href\": \"http://10.0.0.244:8774/959d7f7e020b48509aea18dcec819491/images/b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"rel\": \"bookmark\"}, {\"href\": \"http://10.0.0.241:9292/images/b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"name\": \"dockerc7\"}, {\"id\": \"4a064b38-caae-4cf8-9396-e02a85b368f5\", \"links\": [{\"href\": \"http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/images/4a064b38-caae-4cf8-9396-e02a85b368f5\", \"rel\": \"self\"}, {\"href\": \"http://10.0.0.244:8774/959d7f7e020b48509aea18dcec819491/images/4a064b38-caae-4cf8-9396-e02a85b368f5\",\"rel\": \"bookmark\"}, {\"href\": \"http://10.0.0.241:9292/images/4a064b38-caae-4cf8-9396-e02a85b368f5\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"name\": \"cirros\"}]}\n\nDEBUG (iso8601:184) Parsed 2015-04-22T06:10:25Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'06', 'daydash': u'22', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'25', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'10'} with default timezone <iso8601.iso8601.Utc object at 0x26eaf10>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'22' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 22 for 'day' with default 22\nDEBUG (iso8601:140) Got u'06' for 'hour' with default None\nDEBUG (iso8601:140) Got u'10' for 'minute' with default None\nDEBUG (iso8601:140) Got u'25' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-22T06:10:25Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'06', 'daydash': u'22', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'25', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'10'} with default timezone <iso8601.iso8601.Utc object at 0x26eaf10>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'22' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 22 for 'day' with default 22\nDEBUG (iso8601:140) Got u'06' for 'hour' with default None\nDEBUG (iso8601:140) Got u'10' for 'minute' with default None\nDEBUG (iso8601:140) Got u'25' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X GET http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/images/b4ca9864-9ceb-4b42-9c82-620f0e2fd60d -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}c35b396ce834390ece3d2e04443c27ff7819c02f\"\nDEBUG (connectionpool:383) \"GET /v2/959d7f7e020b48509aea18dcec819491/images/b4ca9864-9ceb-4b42-9c82-620f0e2fd60d HTTP/1.1\" 200 679\nDEBUG (session:224) RESP: [200] date: Wed, 22 Apr 2015 05:10:25 GMT content-length: 679 content-type: application/json \nRESP BODY: {\"image\": {\"status\": \"ACTIVE\", \"updated\": \"2015-04-13T23:06:12Z\", \"links\": [{\"href\": \"http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/images/b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"rel\": \"self\"}, {\"href\": \"http://10.0.0.244:8774/959d7f7e020b48509aea18dcec819491/images/b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"rel\": \"bookmark\"}, {\"href\": \"http://10.0.0.241:9292/images/b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"id\": \"b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"OS-EXT-IMG-SIZE:size\": 357081088, \"name\": \"dockerc7\", \"created\": \"2015-04-13T23:06:11Z\", \"minDisk\": 0, \"progress\": 100, \"minRam\": 0, \"metadata\": {}}}\n\nDEBUG (iso8601:184) Parsed 2015-04-22T06:10:25Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'06', 'daydash': u'22', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'25', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'10'} with default timezone <iso8601.iso8601.Utc object at 0x26eaf10>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'22' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 22 for 'day' with default 22\nDEBUG (iso8601:140) Got u'06' for 'hour' with default None\nDEBUG (iso8601:140) Got u'10' for 'minute' with default None\nDEBUG (iso8601:140) Got u'25' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-22T06:10:25Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'06', 'daydash': u'22', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'25', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'10'} with default timezone <iso8601.iso8601.Utc object at 0x26eaf10>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'22' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 22 for 'day' with default 22\nDEBUG (iso8601:140) Got u'06' for 'hour' with default None\nDEBUG (iso8601:140) Got u'10' for 'minute' with default None\nDEBUG (iso8601:140) Got u'25' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X GET http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/flavors/1 -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}c35b396ce834390ece3d2e04443c27ff7819c02f\"\nDEBUG (connectionpool:383) \"GET /v2/959d7f7e020b48509aea18dcec819491/flavors/1 HTTP/1.1\" 200 418\nDEBUG (session:224) RESP: [200] date: Wed, 22 Apr 2015 05:10:25 GMT content-length: 418 content-type: application/json \nRESP BODY: {\"flavor\": {\"name\": \"m1.tiny\", \"links\": [{\"href\": \"http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/flavors/1\", \"rel\": \"self\"}, {\"href\": \"http://10.0.0.244:8774/959d7f7e020b48509aea18dcec819491/flavors/1\", \"rel\": \"bookmark\"}], \"ram\": 512, \"OS-FLV-DISABLED:disabled\": false, \"vcpus\": 1, \"swap\": \"\", \"os-flavor-access:is_public\": true, \"rxtx_factor\": 1.0, \"OS-FLV-EXT-DATA:ephemeral\": 0, \"disk\": 1, \"id\": \"1\"}}\n\nDEBUG (iso8601:184) Parsed 2015-04-22T06:10:25Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'06', 'daydash': u'22', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'25', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'10'} with default timezone <iso8601.iso8601.Utc object at 0x26eaf10>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'22' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 22 for 'day' with default 22\nDEBUG (iso8601:140) Got u'06' for 'hour' with default None\nDEBUG (iso8601:140) Got u'10' for 'minute' with default None\nDEBUG (iso8601:140) Got u'25' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-22T06:10:25Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'06', 'daydash': u'22', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'25', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'10'} with default timezone <iso8601.iso8601.Utc object at 0x26eaf10>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'22' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 22 for 'day' with default 22\nDEBUG (iso8601:140) Got u'06' for 'hour' with default None\nDEBUG (iso8601:140) Got u'10' for 'minute' with default None\nDEBUG (iso8601:140) Got u'25' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X POST http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}c35b396ce834390ece3d2e04443c27ff7819c02f\" -d '{\"server\": {\"name\": \"d01\", \"imageRef\": \"b4ca9864-9ceb-4b42-9c82-620f0e2fd60d\", \"flavorRef\": \"1\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"40945ae1-344c-4ebd-a25b-2776feb0f409\"}]}}'\nDEBUG (connectionpool:383) \"POST /v2/959d7f7e020b48509aea18dcec819491/servers HTTP/1.1\" 500 128\nDEBUG (session:224) RESP:\nDEBUG (shell:911) The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 908, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 835, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/shell.py\", line 501, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 907, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/servers.py\", line 531, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 161, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 176, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/client.py\", line 92, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500)\n\n\n\n\n-------------  nova-api.log  -------------------------\n\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack Traceback (most recent call last):\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/__init__.py\", line 125, in __call__\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return req.get_response(self.application)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/request.py\", line 1320, in send\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     application, catch_exc_info=False)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/request.py\", line 1284, in call_application\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/middleware/auth_token.py\", line 690, in __call__\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return self.app(env, start_response)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/routes/middleware.py\", line 136, in __call__\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 130, in __call__\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 195, in call_func\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py\", line 756, in __call__\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     content_type, body, accept)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py\", line 821, in _process_stack\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py\", line 911, in dispatch\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return method(req=request, **action_args)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 633, in create\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     self._handle_create_exception(*sys.exc_info())\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 464, in _handle_create_exception\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     six.reraise(*exc_info)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 618, in create\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     check_server_group_quota=check_server_group_quota)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 149, in inner\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     rv = f(*args, **kwargs)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1481, in create\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     check_server_group_quota=check_server_group_quota)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1100, in _create_instance\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     auto_disk_config, reservation_id, max_count)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 853, in _validate_and_build_base_options\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     pci_request_info, requested_networks)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 894, in create_pci_requests_for_sriov_ports\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     neutron = get_client(context, admin=True)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 205, in get_client\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 105, in get_token\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return self.get_access(session).auth_token\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 145, in get_access\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     self.auth_ref = self.get_auth_ref(session)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/v2.py\", line 78, in get_auth_ref\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     authenticated=False, log=False)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 500, in post\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return self.request(url, 'POST', **kwargs)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 318, in inner\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return func(*args, **kwargs)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 399, in request\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     raise exceptions.from_response(resp, method, url)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack ServiceUnavailable: Service Unavailable (HTTP 503)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack \n2015-04-22 04:46:38.160 21461 INFO nova.api.openstack [req-113eae4b-db59-4387-ac4d-3a7052038481 506d6c7f7e254f95957f4bc9fd2997d3 959d7f7e020b48509aea18dcec819491 - - -] http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/servers returned with HTTP 500\n2015-04-22 04:46:38.161 21461 DEBUG nova.api.openstack.wsgi [req-113eae4b-db59-4387-ac4d-3a7052038481 506d6c7f7e254f95957f4bc9fd2997d3 959d7f7e020b48509aea18dcec819491 - - -] Returning 500 to user: The server has either erred or is incapable of performing the requested operation. __call__ /usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py:1166\n2015-04-22 04:46:38.162 21461 INFO nova.osapi_compute.wsgi.server [req-113eae4b-db59-4387-ac4d-3a7052038481 506d6c7f7e254f95957f4bc9fd2997d3 959d7f7e020b48509aea18dcec819491 - - -] 10.0.0.241 \"POST /v2/959d7f7e020b48509aea18dcec819491/servers HTTP/1.1\" status: 500 len: 290 time: 0.3564620", 
            "date_created": "2015-04-22 05:13:46.549997+00:00", 
            "author": "https://api.launchpad.net/1.0/~alfredcs"
        }, 
        {
            "content": "From my limited understanding of keystone and neutron, I think you might \nhave problem in neutron or keystone setting or even something wrong with their services\n\nFrom ServiceUnavailable: Service Unavailable (HTTP 503)\nI think nova can't access to keystone or neutron and reported an error \nin this case, 500 might be a best one because we do have some internal errors in such circumstances ..\n\ncan you check the setting and keystone/neutron logs ? Thanks", 
            "date_created": "2015-04-22 11:23:31.952494+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "Both Keystone and Neutron seem to be working OK.  Able to create ports using \"neutron port-create\" and all CLIs which require auth_token with Keystone work OK as well.\n\nFurther traced down to \"def readline(self, size=-1):\" in /usr/lib64/python2.7/socket.py  in which \"data = self._sock.recv(self._rbufsize)\" returned following error. Looks like this a socket issue however yet able to ping point to root cause.\n\n> /usr/lib64/python2.7/socket.py(481)readline()\n-> if not data:\n(Pdb) l\n476  \t                    data = self._sock.recv(self._rbufsize)\n477  \t                except error, e:\n478  \t                    if e.args[0] == EINTR:\n479  \t                        continue\n480  \t                    raise\n481  ->\t                if not data:\n482  \t                    break\n483  \t                left = size - buf_len\n484  \t                # did we just receive a newline?\n485  \t                nl = data.find('\\n', 0, left)\n486  \t                if nl >= 0:\n(Pdb) p data\n'HTTP/1.1 500 Internal Server Error\\r\\nContent-Length: 128\\r\\nContent-Type: application/json; charset=UTF-8\\r\\nDate: Wed, 22 Apr 2015 18:21:28 GMT\\r\\nConnection: keep-alive\\r\\n\\r\\n{\"computeFault\": {\"message\": \"The server has either erred or is incapable of performing the requested operation.\", \"code\": 500}}'\n  ", 
            "date_created": "2015-04-22 18:32:51.156005+00:00", 
            "author": "https://api.launchpad.net/1.0/~alfredcs"
        }, 
        {
            "content": "the difference is nova need some neutron password and credentials to access neutron\nwhile you are use neutron client directly ,so \nsomething like neutron_admin_password maybe worthy to do a check\n\nI think we need more info to take it as a nova bug ... thanks", 
            "date_created": "2015-04-22 19:10:31.664649+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "I reset neutron's keystone password to \"password\" and verified it is valid. The nova's KS password has also been verified. Pls see following screen outputs. From pdb, urllib3's headers contained correct KS token. My puzzle is why  self._sock.recv(self._rbufsize) \n complained about computeFault.\n\n\n-----   Reset neutron's password -------\n# env| grep OS_\nOS_IMAGE_API_VERSION=1\nOS_PASSWORD=password\nOS_AUTH_URL=http://10.0.0.244:35357/v2.0\nOS_USERNAME=neutron\nOS_TENANT_NAME=service\n\n\n--- Get the token with neutron/password ----\n\n# openstack token issue\n+------------+----------------------------------+\n| Field      | Value                            |\n+------------+----------------------------------+\n| expires    | 2015-04-22T21:12:14Z             |\n| id         | 24e6a5e2546c41c98865c946f10f7ddb |\n| project_id | 0ece3f1cc56a4a0bba1906b43d1faceb |\n| user_id    | ef18eea137ed4dabad1f92f4a393fd70 |\n+------------+----------------------------------+\n\n -------------- Used the issued token to call nova API ---------------\n\n# curl  -g -i -X GET http://10.0.0.244:8774/v2/0ece3f1cc56a4a0bba1906b43d1faceb/os-services -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: 24e6a5e2546c41c98865c946f10f7ddb\"\nHTTP/1.1 200 OK\nContent-Type: application/json\nContent-Length: 1285\nDate: Wed, 22 Apr 2015 20:14:57 GMT\n\n{\"services\": [{\"status\": \"enabled\", \"binary\": \"nova-scheduler\", \"zone\": \"internal\", \"state\": \"up\", \"updated_at\": \"2015-04-22T20:14:53.000000\", \"host\": \"ctrail72\", \"disabled_reason\": null, \"id\": 1}, {\"status\": \"enabled\", \"binary\": \"nova-conductor\", \"zone\": \"internal\", \"state\": \"up\", \"updated_at\": \"2015-04-22T20:14:55.000000\", \"host\": \"ctrail72\", \"disabled_reason\": null, \"id\": 2}, {\"status\": \"enabled\", \"binary\": \"nova-console\", \"zone\": \"internal\", \"state\": \"up\", \"updated_at\": \"2015-04-22T20:14:47.000000\", \"host\": \"ctrail72\", \"disabled_reason\": null, \"id\": 3}, {\"status\": \"enabled\", \"binary\": \"nova-consoleauth\", \"zone\": \"internal\", \"state\": \"up\", \"updated_at\": \"2015-04-22T20:14:48.000000\", \"host\": \"ctrail72\", \"disabled_reason\": null, \"id\": 4}, {\"status\": \"enabled\", \"binary\": \"nova-cert\", \"zone\": \"internal\", \"state\": \"up\", \"updated_at\": \"2015-04-22T20:14:50.000000\", \"host\": \"ctrail72\", \"disabled_reason\": null, \"id\": 5}, {\"status\": \"enabled\", \"binary\": \"nova-compute\", \"zone\": \"nova\", \"state\": \"up\", \"updated_at\": \"2015-04-22T20:14:51.000000\", \"host\": \"ctrail72\", \"disabled_reason\": null, \"id\": 6}, {\"status\": \"enabled\", \"binary\": \"nova-compute\", \"zone\": \"nova\", \"state\": \"up\", \"updated_at\": \"2015-04-22T20:14:54.000000\", \"host\": \"comp70-1\", \"disabled_reason\": null, \"id\": 7}]}[\n\n\n---------- Same token works for neutron API ------\n# curl -g -i -X GET http://10.0.0.244:9696/v2.0/subnets.json -H \"X-Auth-Token: 24e6a5e2546c41c98865c946f10f7ddb\"\nHTTP/1.1 200 OK\nContent-Type: application/json; charset=UTF-8\nContent-Length: 898\nX-Openstack-Request-Id: req-4f547520-4cb2-4f59-835a-711c933664d1\nDate: Wed, 22 Apr 2015 20:16:15 GMT\n\n{\"subnets\": [{\"name\": \"sub101\", \"enable_dhcp\": true, \"network_id\": \"40945ae1-344c-4ebd-a25b-2776feb0f409\", \"tenant_id\": \"959d7f7e020b48509aea18dcec819491\", \"dns_nameservers\": [], \"gateway_ip\": \"10.0.0.1\", \"ipv6_ra_mode\": null, \"allocation_pools\": [{\"start\": \"10.0.0.2\", \"end\": \"10.0.0.254\"}], \"host_routes\": [], \"ip_version\": 4, \"ipv6_address_mode\": null, \"cidr\": \"10.0.0.0/24\", \"id\": \"383d09ec-1ca6-44dd-baf4-847c949f17cf\", \"subnetpool_id\": null}, {\"name\": \"public-sub\", \"enable_dhcp\": true, \"network_id\": \"c43e5d19-f6ad-49ab-9c3a-f2bcf2075cda\", \"tenant_id\": \"9a8249ad759f445c962d5450750be881\", \"dns_nameservers\": [], \"gateway_ip\": \"172.16.0.1\", \"ipv6_ra_mode\": null, \"allocation_pools\": [{\"start\": \"172.16.0.10\", \"end\": \"172.16.0.250\"}], \"host_routes\": [], \"ip_version\": 4, \"ipv6_address_mode\": null, \"cidr\": \"172.16.0.0/24\", \"id\": \"9228243c-766d-424f-963b-4da718dadd11\", \"subnetpool_id\": null}]}\n\n\n---------- nova.conf ---------------\n\n\n\n\n# cat /etc/nova/nova.conf | grep -v ^#\n[DEFAULT]\nverbose=True\ndebug=True\nlogdir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\nrootwrap_config=/etc/nova/rootwrap.conf\ncompute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler\ncompute_driver=novadocker.virt.docker.DockerDriver\ninstance_name_template=instance-%08x\napi_paste_config=/etc/nova/api-paste.ini\nallow_resize_to_same_host=True\nrpc_backend=nova.openstack.common.rpc.impl_kombu\nmy_ip=10.0.0.241\nservice_neutron_metadata_proxy = True\nquota_instances=200\nquota_cores=400\nquota_ram=5120000\nquota_floating_ips=100\nmetadata_workers=3\nmetadata_host=$my_ip\nmetadata_listen_port=9775\nmetadata_port=9775\napi_paste_config=/etc/nova/api-paste.ini\nauth_strategy=keystone\nglance_host=10.0.0.244\nglance_port=9292\nglance_protocol=http\nglance_api_insecure=True\nglance_api_servers=http://$glance_host:$glance_port\nimage_service=nova.image.glance.GlanceImageService\nosapi_compute_listen_port=8774\nosapi_compute_extension=nova.api.openstack.compute.contrib.standard_extensions\nnetwork_api_class=nova.network.neutronv2.api.API\nneutron_url=http://10.0.0.244:9696\nneutron_auth_strategy=keystone\nneutron_admin_tenant_name=service\nneutron_admin_username=neutron\nneutron_admin_password=password\nneutron_admin_auth_url=http://10.0.0.244:35357/v2.0\nsecurity_group_api=neutron\nfirewall_driver=nova.virt.firewall.NoopFirewallDriver\nservice_neutron_metadata_proxy=true\nneutron_metadata_proxy_shared_secret=neutronsucks\nvncserver_listen = 10.0.0.241\nvncserver_proxyclient_address = 10.0.0.241\nnovncproxy_host=10.0.0.241\nnovncproxy_port=6081\nnovncproxy_base_url=http://10.0.0.244:6080/vnc_auto.html\nquota_security_groups=50\nquota_security_group_rules=20\nquota_fixed_ips=400\nquota_instances=200\ncpu_allocation_ratio=4.0\nram_allocation_ratio=2.0\nimage_cache_manager_interval=2400\n[oslo_messaging_rabbit]\nrabbit_host=10.0.0.244\nrabbit_port=5672\nrabbit_userid=guest\nrabbit_password=guest\nrabbit_use_ssl=False\nrabbit_virtual_host=/\n[hyperv]\n[zookeeper]\n[osapi_v3]\n[conductor]\n[keymgr]\n[cells]\n[database]\nconnection = mysql://nova:<passwd>@10.0.0.241/nova\nidle_timeout=5\n[oslo_concurrency]\nlock_path=None\n[glance]\napi_servers=10.0.0.244:9292\n[image_file_url]\n[baremetal]\n[rpc_notifier2]\n[matchmaker_redis]\n[ssl]\n[trusted_computing]\n[upgrade_levels]\n[matchmaker_ring]\n[vmware]\n[spice]\n[keystone_authtoken]\nauth_host = 10.0.0.244\nauth_port = 35357\nauth_protocol = http\nauth_uri = http://10.0.0.244:5000\nauth_version = v2.0\nidentity_uri = http://10.0.0.244:35357/\nadmin_tenant_name = service\nadmin_user = nova\nadmin_password = <passwd>\nsigning_dir = /var/lib/nova/keystone-signing\ncache = None\ntoken_cache_time = 300", 
            "date_created": "2015-04-22 20:20:41.594567+00:00", 
            "author": "https://api.launchpad.net/1.0/~alfredcs"
        }, 
        {
            "content": "I think we need a dump of keystone's logs to progress this -- keystone is returning an error here.", 
            "date_created": "2015-04-23 07:17:42.657619+00:00", 
            "author": "https://api.launchpad.net/1.0/~mikal"
        }, 
        {
            "content": "Found a recently change in this area. not sure it's helpful \nhttps://review.openstack.org/#/c/136931\n\nmaybe you need check whether something is different...\n", 
            "date_created": "2015-04-23 11:38:03.801134+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "I did a tcpdump on ports 8774, 35358/5000 and 9696. The only traffic captured was to port 8774  when nova boot CLI was issued. In my humble opinion, Keystone and Neutron did not seem to be involved for this API call. The 500 error came from nova-api when calling /usr/lib64/python2.7/socket.py(481)readline() at data = self._sock.recv(self._rbufsize). Same code works for GET but not POST method.\n\n# curl -g -i -X POST http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}ce60fc16babd47b5c00b68c032c0fd3130ba3bca\" -d '{\"server\": {\"name\": \"c01\", \"imageRef\": \"4a064b38-caae-4cf8-9396-e02a85b368f5\", \"flavorRef\": \"1\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"40945ae1-344c-4ebd-a25b-2776feb0f409\"}]}}'\n\n\n\n#tcpdump -A -s 0 -q -t -XX -i eth0 'port 8774 and ( ((ip[2:2] - ((ip[0]&0xf)<<2)) - ((tcp[12:2]&0xf0)>>2)) != 0)'\n......\ncurl -g -i -X POST http://10.0.0.244:8774/v2/959d7f7e020b48509aea18dcec819491/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}fbf5cec4f10dc8f40a02b52c1bef7e3a9c05c6fa\" -d '{\"server\": {\"name\": \"c01\", \"imageRef\": \"4a064b38-caae-4cf8-9396-e02a85b368f5\", \"flavorRef\": \"1\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"40945ae1-344c-4ebd-a25b-2776feb0f409\"}]}}'\n\nt  \n\n:02:54.787760 IP comp70-1.reachout > comp70-2.8774: Flags [P.], seq 701:1169, ack 2402, win 158, options [nop,nop,TS val 800869015 ecr 4077426752], length 468\n\t0x0000:  fa16 3e88 fa58 fa16 3e45 9d4f 0800 4500  ..>..X..>E.O..E.\n\t0x0010:  0208 909d 4000 4006 928f 0a00 00d0 0a00  ....@.@.........\n\t0x0020:  00f4 a8b4 2246 f815 dc1c 07aa 5f5c 8018  ....\"F......_\\..\n\t0x0030:  009e 17be 0000 0101 080a 2fbc 4a97 f308  ........../.J...\n\t0x0040:  9840 504f 5354 202f 7632 2f39 3539 6437  .@POST./v2/959d7\n\t0x0050:  6637 6530 3230 6234 3835 3039 6165 6131  f7e020b48509aea1\n\t0x0060:  3864 6365 6338 3139 3439 312f 7365 7276  8dcec819491/serv\n\t0x0070:  6572 7320 4854 5450 2f31 2e31 0d0a 486f  ers.HTTP/1.1..Ho\n\t0x0080:  7374 3a20 3130 2e30 2e30 2e32 3434 3a38  st:.10.0.0.244:8\n\t0x0090:  3737 340d 0a43 6f6e 7465 6e74 2d4c 656e  774..Content-Len\n\t0x00a0:  6774 683a 2031 3933 0d0a 4163 6365 7074  gth:.193..Accept\n\t0x00b0:  2d45 6e63 6f64 696e 673a 2067 7a69 702c  -Encoding:.gzip,\n\t0x00c0:  2064 6566 6c61 7465 0d0a 4163 6365 7074  .deflate..Accept\n\t0x00d0:  3a20 6170 706c 6963 6174 696f 6e2f 6a73  :.application/js\n\t0x00e0:  6f6e 0d0a 5573 6572 2d41 6765 6e74 3a20  on..User-Agent:.\n\t0x00f0:  7079 7468 6f6e 2d6e 6f76 6163 6c69 656e  python-novaclien\n\t0x0100:  740d 0a58 2d41 7574 682d 546f 6b65 6e3a  t..X-Auth-Token:\n\t0x0110:  2066 6139 6464 3361 3032 6133 3634 6233  .fa9dd3a02a364b3\n\t0x0120:  6638 6561 6134 6438 3331 3931 3032 3164  f8eaa4d83191021d\n\t0x0130:  660d 0a43 6f6e 7465 6e74 2d54 7970 653a  f..Content-Type:\n\t0x0140:  2061 7070 6c69 6361 7469 6f6e 2f6a 736f  .application/jso\n\t0x0150:  6e0d 0a0d 0a7b 2273 6572 7665 7222 3a20  n....{\"server\":.\n\t0x0160:  7b22 6e61 6d65 223a 2022 6330 3122 2c20  {\"name\":.\"c01\",.\n\t0x0170:  2269 6d61 6765 5265 6622 3a20 2234 6130  \"imageRef\":.\"4a0\n\t0x0180:  3634 6233 382d 6361 6165 2d34 6366 382d  64b38-caae-4cf8-\n\t0x0190:  3933 3936 2d65 3032 6138 3562 3336 3866  9396-e02a85b368f\n\t0x01a0:  3522 2c20 2266 6c61 766f 7252 6566 223a  5\",.\"flavorRef\":\n\t0x01b0:  2022 3122 2c20 226d 6178 5f63 6f75 6e74  .\"1\",.\"max_count\n\t0x01c0:  223a 2031 2c20 226d 696e 5f63 6f75 6e74  \":.1,.\"min_count\n\t0x01d0:  223a 2031 2c20 226e 6574 776f 726b 7322  \":.1,.\"networks\"\n\t0x01e0:  3a20 5b7b 2275 7569 6422 3a20 2234 3039  :.[{\"uuid\":.\"409\n\t0x01f0:  3435 6165 312d 3334 3463 2d34 6562 642d  45ae1-344c-4ebd-\n\t0x0200:  6132 3562 2d32 3737 3666 6562 3066 3430  a25b-2776feb0f40\n\t0x0210:  3922 7d5d 7d7d                           9\"}]}}\n21:02:54.827433 IP comp70-2.8774 > comp70-1.reachout: Flags [.], ack 1169, win 139, options [nop,nop,TS val 4077426796 ecr 800869015], length 0\n\t0x0000:  fa16 3e45 9d4f fa16 3e88 fa58 0800 4500  ..>E.O..>..X..E.\n\t0x0010:  0034 c295 4000 4006 626b 0a00 00f4 0a00  .4..@.@.bk......\n\t0x0020:  00d0 2246 a8b4 07aa 5f5c f815 ddf0 8010  ..\"F...._\\......\n\t0x0030:  008b 15ea 0000 0101 080a f308 986c 2fbc  .............l/.\n\t0x0040:  4a97                                     J.\n21:02:54.974935 IP comp70-2.8774 > comp70-1.reachout: Flags [P.], seq 2402:2673, ack 1169, win 139, options [nop,nop,TS val 4077426943 ecr 800869015], length 271\n\t0x0000:  fa16 3e45 9d4f fa16 3e88 fa58 0800 4500  ..>E.O..>..X..E.\n\t0x0010:  0143 c296 4000 4006 615b 0a00 00f4 0a00  .C..@.@.a[......\n\t0x0020:  00d0 2246 a8b4 07aa 5f5c f815 ddf0 8018  ..\"F...._\\......\n\t0x0030:  008b 16f9 0000 0101 080a f308 98ff 2fbc  ............../.\n\t0x0040:  4a97 4854 5450 2f31 2e31 2035 3030 2049  J.HTTP/1.1.500.I\n\t0x0050:  6e74 6572 6e61 6c20 5365 7276 6572 2045  nternal.Server.E\n\t0x0060:  7272 6f72 0d0a 436f 6e74 656e 742d 4c65  rror..Content-Le\n\t0x0070:  6e67 7468 3a20 3132 380d 0a43 6f6e 7465  ngth:.128..Conte\n\t0x0080:  6e74 2d54 7970 653a 2061 7070 6c69 6361  nt-Type:.applica\n\t0x0090:  7469 6f6e 2f6a 736f 6e3b 2063 6861 7273  tion/json;.chars\n\t0x00a0:  6574 3d55 5446 2d38 0d0a 4461 7465 3a20  et=UTF-8..Date:.\n\t0x00b0:  5468 752c 2032 3320 4170 7220 3230 3135  Thu,.23.Apr.2015\n\t0x00c0:  2032 313a 3032 3a35 3420 474d 540d 0a0d  .21:02:54.GMT...\n\t0x00d0:  0a7b 2263 6f6d 7075 7465 4661 756c 7422  .{\"computeFault\"\n\t0x00e0:  3a20 7b22 6d65 7373 6167 6522 3a20 2254  :.{\"message\":.\"T\n\t0x00f0:  6865 2073 6572 7665 7220 6861 7320 6569  he.server.has.ei\n\t0x0100:  7468 6572 2065 7272 6564 206f 7220 6973  ther.erred.or.is\n\t0x0110:  2069 6e63 6170 6162 6c65 206f 6620 7065  .incapable.of.pe\n\t0x0120:  7266 6f72 6d69 6e67 2074 6865 2072 6571  rforming.the.req\n\t0x0130:  7565 7374 6564 206f 7065 7261 7469 6f6e  uested.operation\n\t0x0140:  2e22 2c20 2263 6f64 6522 3a20 3530 307d  .\",.\"code\":.500}\n\t0x0150:  7d                                       }\n", 
            "date_created": "2015-04-23 21:12:50.539043+00:00", 
            "author": "https://api.launchpad.net/1.0/~alfredcs"
        }, 
        {
            "content": "My conclusion from the API you pasted at #2\n\nAll the request and handling are in nova api and keystone client, so your network traffic is not started to keystone\nIf you take a look at 503 error , I still believe that's root cause\n\nBy the way, I saw your \nneutron_admin_auth_url=http://10.0.0.244:35357/v2.0\nwhile I am \nneutron_admin_auth_url=http://x.x.x.x:5000/v2.0\n\nnot sure it's a problem since I am not very familiar with keystone stuff\n\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py\", line 821, in _process_stack\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py\", line 911, in dispatch\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return method(req=request, **action_args)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 633, in create\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     self._handle_create_exception(*sys.exc_info())\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 464, in _handle_create_exception\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     six.reraise(*exc_info)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 618, in create\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     check_server_group_quota=check_server_group_quota)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 149, in inner\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     rv = f(*args, **kwargs)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1481, in create\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     check_server_group_quota=check_server_group_quota)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1100, in _create_instance\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     auto_disk_config, reservation_id, max_count)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 853, in _validate_and_build_base_options\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     pci_request_info, requested_networks)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 894, in create_pci_requests_for_sriov_ports\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     neutron = get_client(context, admin=True)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 205, in get_client\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 105, in get_token\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return self.get_access(session).auth_token\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 145, in get_access\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     self.auth_ref = self.get_auth_ref(session)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/v2.py\", line 78, in get_auth_ref\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     authenticated=False, log=False)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 500, in post\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return self.request(url, 'POST', **kwargs)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 318, in inner\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     return func(*args, **kwargs)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 399, in request\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack     raise exceptions.from_response(resp, method, url)\n2015-04-22 04:46:38.155 21461 TRACE nova.api.openstack ServiceUnavailable: Service Unavailable (HTTP 503)", 
            "date_created": "2015-04-24 12:25:27.487347+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "\n\nI'm also getting this issue.\nI have two logs to show here.\nHere's the debug from a nova boot command:\n\n\n\nnova --debug boot --flavor m1.tiny --image cirros --nic net-id=b653bc9c-c000-4453-b896-f3ec10422c08 test\n\nDEBUG (session:195) REQ: curl -g -i -X GET http://localhost:5000/v2.0/ -H \"Accept: application/json\" -H \"User-Agent: python-keystoneclient\"\nINFO (connectionpool:188) Starting new HTTP connection (1): localhost\nDEBUG (connectionpool:362) \"GET /v2.0/ HTTP/1.1\" 200 335\nDEBUG (session:223) RESP: [200] content-length: 335 vary: X-Auth-Token x-distribution: Ubuntu connection: keep-alive date: Mon, 27 Apr 2015 01:59:40 GMT content-type: application/json x-openstack-request-id: req-2e6b8212-3763-4ce6-b98a-af5345c566cd\nRESP BODY: {\"version\": {\"status\": \"stable\", \"updated\": \"2014-04-17T00:00:00Z\", \"media-types\": [{\"base\": \"application/json\", \"type\": \"application/vnd.openstack.identity-v2.0+json\"}], \"id\": \"v2.0\", \"links\": [{\"href\": \"http://localhost:5000/v2.0/\", \"rel\": \"self\"}, {\"href\": \"http://docs.openstack.org/\", \"type\": \"text/html\", \"rel\": \"describedby\"}]}}\n\nDEBUG (v2:76) Making authentication request to http://localhost:5000/v2.0/tokens\nDEBUG (connectionpool:362) \"POST /v2.0/tokens HTTP/1.1\" 200 1736\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X GET http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/images -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}45c50ed23875d40a95f86f914d745680f4d770bc\"\nINFO (connectionpool:188) Starting new HTTP connection (1): 192.168.0.105\nDEBUG (connectionpool:362) \"GET /v2/40f1c93d0a034d4587e21248b12b4777/images HTTP/1.1\" 200 504\nDEBUG (session:223) RESP: [200] date: Mon, 27 Apr 2015 01:59:42 GMT connection: keep-alive content-type: application/json content-length: 504 x-compute-request-id: req-83047e43-84d7-48e1-ae90-e19b678c91a4\nRESP BODY: {\"images\": [{\"id\": \"4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"links\": [{\"href\": \"http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/images/4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.105:8774/40f1c93d0a034d4587e21248b12b4777/images/4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"rel\": \"bookmark\"}, {\"href\": \"http://192.168.0.105:9292/images/4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"name\": \"Cirros\"}]}\n\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X GET http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/images -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}45c50ed23875d40a95f86f914d745680f4d770bc\"\nDEBUG (connectionpool:362) \"GET /v2/40f1c93d0a034d4587e21248b12b4777/images HTTP/1.1\" 200 504\nDEBUG (session:223) RESP: [200] date: Mon, 27 Apr 2015 01:59:42 GMT connection: keep-alive content-type: application/json content-length: 504 x-compute-request-id: req-c8cc9edb-336c-4079-b3ee-e3f740732740\nRESP BODY: {\"images\": [{\"id\": \"4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"links\": [{\"href\": \"http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/images/4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.105:8774/40f1c93d0a034d4587e21248b12b4777/images/4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"rel\": \"bookmark\"}, {\"href\": \"http://192.168.0.105:9292/images/4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"name\": \"Cirros\"}]}\n\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X GET http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/images/4cc10e54-f779-4aea-b57d-2e18df4d8345 -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}45c50ed23875d40a95f86f914d745680f4d770bc\"\nDEBUG (connectionpool:362) \"GET /v2/40f1c93d0a034d4587e21248b12b4777/images/4cc10e54-f779-4aea-b57d-2e18df4d8345 HTTP/1.1\" 200 684\nDEBUG (session:223) RESP: [200] date: Mon, 27 Apr 2015 01:59:42 GMT connection: keep-alive content-type: application/json content-length: 684 x-compute-request-id: req-617a02ac-ddd7-485f-b224-f9ccedf6fb8d\nRESP BODY: {\"image\": {\"status\": \"ACTIVE\", \"updated\": \"2015-04-27T00:36:26Z\", \"links\": [{\"href\": \"http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/images/4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.105:8774/40f1c93d0a034d4587e21248b12b4777/images/4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"rel\": \"bookmark\"}, {\"href\": \"http://192.168.0.105:9292/images/4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"id\": \"4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"OS-EXT-IMG-SIZE:size\": 9761280, \"name\": \"Cirros\", \"created\": \"2015-04-27T00:36:24Z\", \"minDisk\": 0, \"progress\": 100, \"minRam\": 0, \"metadata\": {}}}\n\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X GET http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/flavors/m1.tiny -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}45c50ed23875d40a95f86f914d745680f4d770bc\"\nDEBUG (connectionpool:362) \"GET /v2/40f1c93d0a034d4587e21248b12b4777/flavors/m1.tiny HTTP/1.1\" 404 78\nDEBUG (session:223) RESP:\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X GET http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/flavors?is_public=None -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}45c50ed23875d40a95f86f914d745680f4d770bc\"\nDEBUG (connectionpool:362) \"GET /v2/40f1c93d0a034d4587e21248b12b4777/flavors?is_public=None HTTP/1.1\" 200 1239\nDEBUG (session:223) RESP: [200] date: Mon, 27 Apr 2015 01:59:43 GMT connection: keep-alive content-type: application/json content-length: 1239 x-compute-request-id: req-63481958-e918-4108-9d13-e79e920ff6b1\nRESP BODY: {\"flavors\": [{\"id\": \"1\", \"links\": [{\"href\": \"http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/flavors/1\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.105:8774/40f1c93d0a034d4587e21248b12b4777/flavors/1\", \"rel\": \"bookmark\"}], \"name\": \"m1.tiny\"}, {\"id\": \"2\", \"links\": [{\"href\": \"http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/flavors/2\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.105:8774/40f1c93d0a034d4587e21248b12b4777/flavors/2\", \"rel\": \"bookmark\"}], \"name\": \"m1.small\"}, {\"id\": \"3\", \"links\": [{\"href\": \"http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/flavors/3\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.105:8774/40f1c93d0a034d4587e21248b12b4777/flavors/3\", \"rel\": \"bookmark\"}], \"name\": \"m1.medium\"}, {\"id\": \"4\", \"links\": [{\"href\": \"http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/flavors/4\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.105:8774/40f1c93d0a034d4587e21248b12b4777/flavors/4\", \"rel\": \"bookmark\"}], \"name\": \"m1.large\"}, {\"id\": \"5\", \"links\": [{\"href\": \"http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/flavors/5\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.105:8774/40f1c93d0a034d4587e21248b12b4777/flavors/5\", \"rel\": \"bookmark\"}], \"name\": \"m1.xlarge\"}]}\n\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X GET http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/flavors/1 -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}45c50ed23875d40a95f86f914d745680f4d770bc\"\nDEBUG (connectionpool:362) \"GET /v2/40f1c93d0a034d4587e21248b12b4777/flavors/1 HTTP/1.1\" 200 424\nDEBUG (session:223) RESP: [200] date: Mon, 27 Apr 2015 01:59:43 GMT connection: keep-alive content-type: application/json content-length: 424 x-compute-request-id: req-38b62d2b-34cc-40aa-9462-244ee3f07d8f\nRESP BODY: {\"flavor\": {\"name\": \"m1.tiny\", \"links\": [{\"href\": \"http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/flavors/1\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.105:8774/40f1c93d0a034d4587e21248b12b4777/flavors/1\", \"rel\": \"bookmark\"}], \"ram\": 512, \"OS-FLV-DISABLED:disabled\": false, \"vcpus\": 1, \"swap\": \"\", \"os-flavor-access:is_public\": true, \"rxtx_factor\": 1.0, \"OS-FLV-EXT-DATA:ephemeral\": 0, \"disk\": 1, \"id\": \"1\"}}\n\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (iso8601:184) Parsed 2015-04-27T02:59:40Z into {'tz_sign': None, 'second_fraction': None, 'hour': u'02', 'daydash': u'27', 'tz_hour': None, 'month': None, 'timezone': u'Z', 'second': u'40', 'tz_minute': None, 'year': u'2015', 'separator': u'T', 'monthdash': u'04', 'day': None, 'minute': u'59'} with default timezone <iso8601.iso8601.Utc object at 0x7efefd994050>\nDEBUG (iso8601:140) Got u'2015' for 'year' with default None\nDEBUG (iso8601:140) Got u'04' for 'monthdash' with default 1\nDEBUG (iso8601:140) Got 4 for 'month' with default 4\nDEBUG (iso8601:140) Got u'27' for 'daydash' with default 1\nDEBUG (iso8601:140) Got 27 for 'day' with default 27\nDEBUG (iso8601:140) Got u'02' for 'hour' with default None\nDEBUG (iso8601:140) Got u'59' for 'minute' with default None\nDEBUG (iso8601:140) Got u'40' for 'second' with default None\nDEBUG (session:195) REQ: curl -g -i -X POST http://192.168.0.105:8774/v2/40f1c93d0a034d4587e21248b12b4777/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}45c50ed23875d40a95f86f914d745680f4d770bc\" -d '{\"server\": {\"name\": \"test\", \"imageRef\": \"4cc10e54-f779-4aea-b57d-2e18df4d8345\", \"flavorRef\": \"1\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"b653bc9c-c000-4453-b896-f3ec10422c08\"}]}}'\nDEBUG (connectionpool:362) \"POST /v2/40f1c93d0a034d4587e21248b12b4777/servers HTTP/1.1\" 500 128\nDEBUG (session:223) RESP:\nDEBUG (shell:914) The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-97c6ea38-a3ea-4448-a23f-fbeaf536f02e)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 911, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 838, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/shell.py\", line 500, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 929, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 557, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/base.py\", line 152, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/dist-packages/keystoneclient/adapter.py\", line 170, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/client.py\", line 96, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-97c6ea38-a3ea-4448-a23f-fbeaf536f02e)\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-97c6ea38-a3ea-4448-a23f-fbeaf536f02e)\n\n\n-----------------------------------------------------------------------------\nHere's the log input from keystone ( from an earlier run of the same 'nova boot' command ):\n\n2015-04-26 21:48:05.428 11288 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:05] \"GET /v2.0/ HTTP/1.1\" 200 578 0.018937\n2015-04-26 21:48:05.429 11288 DEBUG keystone.middleware.core [-] Auth token not in the request header. Will not build auth context. process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:229\n2015-04-26 21:48:05.432 11288 INFO keystone.common.wsgi [-] POST /tokens?\n2015-04-26 21:48:05.481 11288 DEBUG oslo_db.sqlalchemy.session [-] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_e\nffective_sql_mode /usr/lib/python2.7/dist-packages/oslo_db/sqlalchemy/session.py:513\n2015-04-26 21:48:05.549 11288 INFO passlib.registry [-] registered crypt handler 'sha512_crypt': <class 'passlib.handlers.sha2_crypt.sha512_crypt'>\n2015-04-26 21:48:06.018 11288 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:06] \"POST /v2.0/tokens HTTP/1.1\" 200 1980 0.588901\n2015-04-26 21:48:06.041 11282 INFO keystone.common.wsgi [-] GET /?\n2015-04-26 21:48:06.043 11282 INFO eventlet.wsgi.server [-] 192.168.0.105 - - [26/Apr/2015 21:48:06] \"GET / HTTP/1.1\" 300 788 0.004470\n2015-04-26 21:48:06.048 11282 DEBUG keystone.middleware.core [-] Auth token not in the request header. Will not build auth context. process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:229\n2015-04-26 21:48:06.079 11282 INFO keystone.common.wsgi [-] POST /tokens?\n2015-04-26 21:48:06.128 11282 DEBUG oslo_db.sqlalchemy.session [-] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_e\nffective_sql_mode /usr/lib/python2.7/dist-packages/oslo_db/sqlalchemy/session.py:513\n2015-04-26 21:48:06.195 11282 INFO passlib.registry [-] registered crypt handler 'sha512_crypt': <class 'passlib.handlers.sha2_crypt.sha512_crypt'>\n2015-04-26 21:48:06.506 11282 INFO eventlet.wsgi.server [-] 192.168.0.105 - - [26/Apr/2015 21:48:06] \"POST /v2.0/tokens HTTP/1.1\" 200 1980 0.458166\n2015-04-26 21:48:06.529 11282 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'497cfd1c913848a99cd633ef500c1b5f', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, '\nconsumer_id': None, 'token': <KeystoneToken (audit_id=8TwwObQFT467YrR4JZHOVw, audit_chain_id=8TwwObQFT467YrR4JZHOVw) at 0x7fd175015be0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-pac\nkages/keystone/middleware/core.py:239\n2015-04-26 21:48:06.634 11282 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:06.635 11282 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:06.635 11282 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:06.650 11282 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'497cfd1c913848a99cd633ef500c1b5f', 'roles': [u'admin'], 'trustee_id': None, 't\nrustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=8TwwObQFT467YrR4JZHOVw, audit_chain_id=8TwwObQFT467YrR4JZHOVw) at 0x7fd175015be0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2\n.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:06.652 11282 DEBUG oslo_policy.openstack.common.fileutils [-] Reloading cached file /etc/keystone/policy.json read_cached_file /usr/lib/python2.7/dist-packages/oslo_policy/openstack/common/fileutils.py:64\n2015-04-26 21:48:06.659 11282 DEBUG oslo_policy.policy [-] Reloaded policy file: /etc/keystone/policy.json _load_policy_file /usr/lib/python2.7/dist-packages/oslo_policy/policy.py:403\n2015-04-26 21:48:06.660 11282 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:06.742 11282 INFO eventlet.wsgi.server [-] 192.168.0.105 - - [26/Apr/2015 21:48:06] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.233021\n2015-04-26 21:48:07.671 11280 DEBUG keystone.middleware.core [-] Auth token not in the request header. Will not build auth context. process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:229\n2015-04-26 21:48:07.704 11280 INFO keystone.common.wsgi [-] POST /tokens?\n2015-04-26 21:48:07.753 11280 DEBUG oslo_db.sqlalchemy.session [-] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_e\nffective_sql_mode /usr/lib/python2.7/dist-packages/oslo_db/sqlalchemy/session.py:513\n2015-04-26 21:48:07.821 11280 INFO passlib.registry [-] registered crypt handler 'sha512_crypt': <class 'passlib.handlers.sha2_crypt.sha512_crypt'>\n2015-04-26 21:48:08.294 11280 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:08] \"POST /v2.0/tokens HTTP/1.1\" 200 1984 0.625120\n2015-04-26 21:48:08.318 11280 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, '\nconsumer_id': None, 'token': <KeystoneToken (audit_id=_JFh9V7XRSGzv4SbXi52JA, audit_chain_id=_JFh9V7XRSGzv4SbXi52JA) at 0x7fd17500fbe0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-pac\nkages/keystone/middleware/core.py:239\n2015-04-26 21:48:08.428 11280 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:08.429 11280 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:08.429 11280 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:08.444 11280 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 't\nrustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=_JFh9V7XRSGzv4SbXi52JA, audit_chain_id=_JFh9V7XRSGzv4SbXi52JA) at 0x7fd17500fbe0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2\n.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:08.446 11280 DEBUG oslo_policy.openstack.common.fileutils [-] Reloading cached file /etc/keystone/policy.json read_cached_file /usr/lib/python2.7/dist-packages/oslo_policy/openstack/common/fileutils.py:64\n2015-04-26 21:48:08.452 11280 DEBUG oslo_policy.policy [-] Reloaded policy file: /etc/keystone/policy.json _load_policy_file /usr/lib/python2.7/dist-packages/oslo_policy/policy.py:403\n2015-04-26 21:48:08.454 11280 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:08.537 11280 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:08] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.239199\n2015-04-26 21:48:08.610 11285 DEBUG oslo_db.sqlalchemy.session [-] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_e\nffective_sql_mode /usr/lib/python2.7/dist-packages/oslo_db/sqlalchemy/session.py:513\n2015-04-26 21:48:08.680 11285 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, '\nconsumer_id': None, 'token': <KeystoneToken (audit_id=_X-QUlISTdSZ1sRG5mMBgw, audit_chain_id=_X-QUlISTdSZ1sRG5mMBgw) at 0x7fd178288e30>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-pac\nkages/keystone/middleware/core.py:239\n2015-04-26 21:48:08.787 11285 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:08.787 11285 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:08.788 11285 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:08.788 11285 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:08.803 11285 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=_X-QUlISTdSZ1sRG5mMBgw, audit_chain_id=_X-QUlISTdSZ1sRG5mMBgw) at 0x7fd178288e30>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:08.805 11285 DEBUG oslo_policy.openstack.common.fileutils [-] Reloading cached file /etc/keystone/policy.json read_cached_file /usr/lib/python2.7/dist-packages/oslo_policy/openstack/common/fileutils.py:64\n2015-04-26 21:48:08.812 11285 DEBUG oslo_policy.policy [-] Reloaded policy file: /etc/keystone/policy.json _load_policy_file /usr/lib/python2.7/dist-packages/oslo_policy/policy.py:403\n2015-04-26 21:48:08.814 11285 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:08.916 11285 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:08] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.366139\n2015-04-26 21:48:09.015 11280 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=fr0Cldk2SVKXiY3_BVjO4w, audit_chain_id=fr0Cldk2SVKXiY3_BVjO4w) at 0x7fd17500f2a0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:239\n2015-04-26 21:48:09.020 11280 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:09.020 11280 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:09.021 11280 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:09.037 11280 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=fr0Cldk2SVKXiY3_BVjO4w, audit_chain_id=fr0Cldk2SVKXiY3_BVjO4w) at 0x7fd17500f2a0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:09.038 11280 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:09.120 11280 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:09] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.122377\n2015-04-26 21:48:09.184 11279 DEBUG keystone.middleware.core [-] Auth token not in the request header. Will not build auth context. process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:229\n2015-04-26 21:48:09.216 11279 INFO keystone.common.wsgi [-] POST /tokens?\n2015-04-26 21:48:09.265 11279 DEBUG oslo_db.sqlalchemy.session [-] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/dist-packages/oslo_db/sqlalchemy/session.py:513\n2015-04-26 21:48:09.332 11279 INFO passlib.registry [-] registered crypt handler 'sha512_crypt': <class 'passlib.handlers.sha2_crypt.sha512_crypt'>\n2015-04-26 21:48:09.641 11279 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:09] \"POST /v2.0/tokens HTTP/1.1\" 200 1984 0.458642\n2015-04-26 21:48:09.664 11279 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=7d5sWdoRTG2S-ipEEYcQPA, audit_chain_id=7d5sWdoRTG2S-ipEEYcQPA) at 0x7fd17500fbe0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:239\n2015-04-26 21:48:09.769 11279 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:09.769 11279 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:09.770 11279 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:09.785 11279 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=7d5sWdoRTG2S-ipEEYcQPA, audit_chain_id=7d5sWdoRTG2S-ipEEYcQPA) at 0x7fd17500fbe0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:09.787 11279 DEBUG oslo_policy.openstack.common.fileutils [-] Reloading cached file /etc/keystone/policy.json read_cached_file /usr/lib/python2.7/dist-packages/oslo_policy/openstack/common/fileutils.py:64\n2015-04-26 21:48:09.795 11279 DEBUG oslo_policy.policy [-] Reloaded policy file: /etc/keystone/policy.json _load_policy_file /usr/lib/python2.7/dist-packages/oslo_policy/policy.py:403\n2015-04-26 21:48:09.796 11279 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:09.886 11279 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:09] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.241577\n2015-04-26 21:48:10.005 11277 DEBUG oslo_db.sqlalchemy.session [-] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/dist-packages/oslo_db/sqlalchemy/session.py:513\n2015-04-26 21:48:10.074 11277 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=0a5nqREfTlyOtr8dCEZ0Eg, audit_chain_id=0a5nqREfTlyOtr8dCEZ0Eg) at 0x7fd178288e30>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:239\n2015-04-26 21:48:10.181 11277 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:10.181 11277 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:10.182 11277 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:10.197 11277 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=0a5nqREfTlyOtr8dCEZ0Eg, audit_chain_id=0a5nqREfTlyOtr8dCEZ0Eg) at 0x7fd178288e30>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:10.198 11277 DEBUG oslo_policy.openstack.common.fileutils [-] Reloading cached file /etc/keystone/policy.json read_cached_file /usr/lib/python2.7/dist-packages/oslo_policy/openstack/common/fileutils.py:64\n2015-04-26 21:48:10.206 11277 DEBUG oslo_policy.policy [-] Reloaded policy file: /etc/keystone/policy.json _load_policy_file /usr/lib/python2.7/dist-packages/oslo_policy/policy.py:403\n2015-04-26 21:48:10.207 11277 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:10.302 11277 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:10] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.360853\n2015-04-26 21:48:10.842 11277 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=kYWFxd0DQGCOaTwbNPnw0Q, audit_chain_id=kYWFxd0DQGCOaTwbNPnw0Q) at 0x7fd177339990>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:239\n2015-04-26 21:48:10.847 11277 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:10.847 11277 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:10.848 11277 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:10.865 11277 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=kYWFxd0DQGCOaTwbNPnw0Q, audit_chain_id=kYWFxd0DQGCOaTwbNPnw0Q) at 0x7fd177339990>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:10.866 11277 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:10.950 11277 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:10] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.123711\n2015-04-26 21:48:10.980 11277 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=7hqvgt7pR-WR9wKS_xKhkQ, audit_chain_id=7hqvgt7pR-WR9wKS_xKhkQ) at 0x7fd17620f618>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:239\n2015-04-26 21:48:10.984 11277 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:10.985 11277 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:10.985 11277 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:11.002 11277 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=7hqvgt7pR-WR9wKS_xKhkQ, audit_chain_id=7hqvgt7pR-WR9wKS_xKhkQ) at 0x7fd17620f618>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:11.003 11277 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:11.084 11277 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:11] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.123524\n2015-04-26 21:48:11.139 11280 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=fv5AL1LfRtqY4TuKIF_aXA, audit_chain_id=fv5AL1LfRtqY4TuKIF_aXA) at 0x7fd174f10be0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:239\n2015-04-26 21:48:11.144 11280 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:11.144 11280 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:11.145 11280 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:11.160 11280 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'443ca3c88e1e4dafaa43211b847ae4e6', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=fv5AL1LfRtqY4TuKIF_aXA, audit_chain_id=fv5AL1LfRtqY4TuKIF_aXA) at 0x7fd174f10be0>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:11.161 11280 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:11.242 11280 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:11] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.116711\n2015-04-26 21:48:11.363 11280 DEBUG keystone.middleware.core [-] RBAC: auth_context: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'03a806faafa0428c959e080e6a8fd600', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=UOaLQfSmROiBHh3Za94WcQ, audit_chain_id=UOaLQfSmROiBHh3Za94WcQ) at 0x7fd174f62d08>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:239\n2015-04-26 21:48:11.368 11280 INFO keystone.common.wsgi [-] GET /auth/tokens?\n2015-04-26 21:48:11.369 11280 DEBUG keystone.common.controller [-] RBAC: Authorizing identity:validate_token() _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:57\n2015-04-26 21:48:11.369 11280 DEBUG keystone.common.controller [-] RBAC: using auth context from the request environment _build_policy_check_credentials /usr/lib/python2.7/dist-packages/keystone/common/controller.py:62\n2015-04-26 21:48:11.386 11280 DEBUG keystone.policy.backends.rules [-] enforce identity:validate_token: {'is_delegated_auth': False, 'access_token_id': None, 'user_id': u'03a806faafa0428c959e080e6a8fd600', 'roles': [u'admin'], 'trustee_id': None, 'trustor_id': None, 'consumer_id': None, 'token': <KeystoneToken (audit_id=UOaLQfSmROiBHh3Za94WcQ, audit_chain_id=UOaLQfSmROiBHh3Za94WcQ) at 0x7fd174f62d08>, 'project_id': u'c67739bd9af74fe09a1b434729184397', 'trust_id': None} enforce /usr/lib/python2.7/dist-packages/keystone/policy/backends/rules.py:76\n2015-04-26 21:48:11.387 11280 DEBUG keystone.common.controller [-] RBAC: Authorization granted inner /usr/lib/python2.7/dist-packages/keystone/common/controller.py:157\n2015-04-26 21:48:11.471 11280 INFO eventlet.wsgi.server [-] 192.168.0.105 - - [26/Apr/2015 21:48:11] \"GET /v3/auth/tokens HTTP/1.1\" 200 3141 0.123574\n2015-04-26 21:48:11.574 11288 DEBUG keystone.middleware.core [-] Auth token not in the request header. Will not build auth context. process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:229\n2015-04-26 21:48:11.577 11288 INFO keystone.common.wsgi [-] POST /tokens?\n2015-04-26 21:48:11.578 11288 WARNING keystone.common.wsgi [-] Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error.\n2015-04-26 21:48:11.580 11288 INFO eventlet.wsgi.server [-] 127.0.0.1 - - [26/Apr/2015 21:48:11] \"POST /v2.0/tokens HTTP/1.1\" 400 512 0.007020\n", 
            "date_created": "2015-04-27 02:01:37.322101+00:00", 
            "author": "https://api.launchpad.net/1.0/~dudymas"
        }, 
        {
            "content": "@Jeremy, do you have same novaapi log to #2 (you have nova cli and keystone log) ? Thanks ", 
            "date_created": "2015-04-27 12:21:11.619978+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "Hey Jichenjc,\n\nChanged neutron_admin_auth_url=http://10.0.0.244:35357/v2.0 to neutron_admin_auth_url=http://x.x.x.x:5000/v2.0 in nova.conf didn't seem to help from my tests unfortunately. I also used httplib in stead of urllib3/requests from novaclient to call the 8774 with POST but getting the same error. \n", 
            "date_created": "2015-04-28 14:36:46.624577+00:00", 
            "author": "https://api.launchpad.net/1.0/~alfredcs"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2015-06-28 04:17:26.788714+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }, 
        {
            "content": "I also have similar erro in Openstack Kilo.\nAny solution ?\n\n=> nova-api fails to call compute node\n\nnova --debug boot --flavor m1.small --image \"Cirros RAW-Image\" --nic net-id=7c204797-9da8-40fa-9dc0-2ee7dd0a2981 --security-group default --key-name test-key demo-instance1\n\nDEBUG (session:195) REQ: curl -g -i -X POST http://x.x.x.x:8774/v2/b291d93fa0db49e98de4073085925475/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}c86db8535580094e25d93dd3d33f6621396c76d5\" -d '{\"server\": {\"name\": \"demo-instance\", \"imageRef\": \"736526ba-1959-4788-9e50-c8ee44a435d9\", \"key_name\": \"test-key\", \"flavorRef\": \"2\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"7c204797-9da8-40fa-9dc0-2ee7dd0a2981\"}], \"security_groups\": [{\"name\": \"default\"}]}}'\nDEBUG (connectionpool:362) \"POST /v2/b291d93fa0db49e98de4073085925475/servers HTTP/1.1\" 500 128\nDEBUG (session:223) RESP:\nDEBUG (shell:914) The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-d72b72e4-ade5-4b36-bd41-790862349ad4)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 911, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 838, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/shell.py\", line 500, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 929, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 557, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/base.py\", line 152, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/dist-packages/keystoneclient/adapter.py\", line 170, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/client.py\", line 96, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-d72b72e4-ade5-4b36-bd41-790862349ad4)\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-d72b72e4-ade5-4b36-bd41-790862349ad4)", 
            "date_created": "2015-07-10 11:58:45.030136+00:00", 
            "author": "https://api.launchpad.net/1.0/~charolia"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2015-09-09 04:17:25.968132+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }, 
        {
            "content": "who can help me,same problem: (ubuntu14.04,kilo)\nDEBUG (connectionpool:415) \"POST /v2/9c8abba685dd4c5a8647d688223778db/servers HTTP/1.1\" 500 128\nDEBUG (session:223) RESP:\nDEBUG (shell:914) The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-1e0eb088-38d9-49ea-a0c1-c74f45707812)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 911, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 838, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/shell.py\", line 500, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 929, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 557, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/base.py\", line 152, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/dist-packages/keystoneclient/adapter.py\", line 170, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/client.py\", line 96, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-1e0eb088-38d9-49ea-a0c1-c74f45707812)\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-1e0eb088-38d9-49ea-a0c1-c74f45707812)", 
            "date_created": "2015-11-09 10:36:25.273092+00:00", 
            "author": "https://api.launchpad.net/1.0/~446369399-7"
        }, 
        {
            "content": "Hi\n\n  I am also facing the same issue with Open stack Kilo Version. Really appreciate your help in resolving the issues.\n\n [root@vnsk1 ~(keystone)]# nova --debug boot --flavor m1.tiny --image fedora-23 --security_group default Fedora-23\nDEBUG (session:195) REQ: curl -g -i -X GET http://15.213.85.99:35357/v3 -H \"Accept: application/json\" -H \"User-Agent: python-keystoneclient\"\nINFO (connectionpool:213) Starting new HTTP connection (1): 15.213.85.99\nDEBUG (connectionpool:395) \"GET /v3 HTTP/1.1\" 200 252\nDEBUG (session:224) RESP: [200] Date: Fri, 20 May 2016 19:03:52 GMT Server: Apache Content-Length: 252 Vary: X-Auth-Token x-openstack-request-id: req-a936c6ac-209b-4b6e-8cef-2c4ba0cc9f12 Keep-Alive: timeout=5, max=100 Connection: Keep-Alive Content-Type: application/json\nRESP BODY: {\"version\": {\"status\": \"stable\", \"updated\": \"2015-03-30T00:00:00Z\", \"media-types\": [{\"base\": \"application/json\", \"type\": \"application/vnd.openstack.identity-v3+json\"}], \"id\": \"v3.4\", \"links\": [{\"href\": \"http://15.213.85.99:35357/v3/\", \"rel\": \"self\"}]}}\n\nDEBUG (base:171) Making authentication request to http://15.213.85.99:35357/v3/auth/tokens\nDEBUG (connectionpool:395) \"POST /v3/auth/tokens HTTP/1.1\" 201 2890\nDEBUG (session:195) REQ: curl -g -i -X GET http://15.213.85.99:8774/v2/ad52985b9e234d38bd9b51dbae7188c6/images -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}1f58f98a353e25291d2f771dcab6b7ed3147d645\"\nINFO (connectionpool:213) Starting new HTTP connection (1): 15.213.85.99\nDEBUG (connectionpool:395) \"GET /v2/ad52985b9e234d38bd9b51dbae7188c6/images HTTP/1.1\" 200 504\nDEBUG (session:224) RESP: [200] Content-Type: application/json Content-Length: 504 X-Compute-Request-Id: req-f1932d21-2bae-4e10-97f5-512ee84859b4 Date: Fri, 20 May 2016 19:03:53 GMT Connection: keep-alive\nRESP BODY: {\"images\": [{\"id\": \"89c12dc3-9660-463f-8ca8-c5c1f246036a\", \"links\": [{\"href\": \"http://15.213.85.99:8774/v2/ad52985b9e234d38bd9b51dbae7188c6/images/89c12dc3-9660-463f-8ca8-c5c1f246036a\", \"rel\": \"self\"}, {\"href\": \"http://15.213.85.99:8774/ad52985b9e234d38bd9b51dbae7188c6/images/89c12dc3-9660-463f-8ca8-c5c1f246036a\", \"rel\": \"bookmark\"}, {\"href\": \"http://15.213.85.99:9292/images/89c12dc3-9660-463f-8ca8-c5c1f246036a\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"name\": \"fedora-23\"}]}\n\nDEBUG (session:195) REQ: curl -g -i -X GET http://15.213.85.99:8774/v2/ad52985b9e234d38bd9b51dbae7188c6/images/89c12dc3-9660-463f-8ca8-c5c1f246036a -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}1f58f98a353e25291d2f771dcab6b7ed3147d645\"\nDEBUG (connectionpool:395) \"GET /v2/ad52985b9e234d38bd9b51dbae7188c6/images/89c12dc3-9660-463f-8ca8-c5c1f246036a HTTP/1.1\" 500 128\nDEBUG (session:224) RESP:\nDEBUG (shell:914) The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-f3ff4ef5-ca00-4d71-bf49-b8be832e9b98)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 911, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 838, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/shell.py\", line 495, in do_boot\n    boot_args, boot_kwargs = _boot(cs, args)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/shell.py\", line 142, in _boot\n    image = _find_image(cs, args.image)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/shell.py\", line 1894, in _find_image\n    return utils.find_resource(cs.images, image)\n  File \"/usr/lib/python2.7/site-packages/novaclient/utils.py\", line 216, in find_resource\n    return manager.find(**kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 196, in find\n    matches = self.findall(**kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 258, in findall\n    found.append(self.get(obj.id))\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/images.py\", line 53, in get\n    return self._get(\"/images/%s\" % base.getid(image), \"image\")\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 156, in _get\n    _resp, body = self.api.client.get(url)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 170, in get\n    return self.request(url, 'GET', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/client.py\", line 96, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-f3ff4ef5-ca00-4d71-bf49-b8be832e9b98)\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-f3ff4ef5-ca00-4d71-bf49-b8be832e9b98)\n\n\n\nthanks/regards\nArun kurse ", 
            "date_created": "2016-05-21 06:20:39.070681+00:00", 
            "author": "https://api.launchpad.net/1.0/~arunkurse"
        }
    ]
}