{
    "status": "Expired", 
    "last_updated": "2017-07-04 04:17:23.307446+00:00", 
    "description": "Tried to run  \"openstack compute service list\" and below is the output i got.\n\n[root@localhost mysql(keystone_admin)]# openstack compute service list\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> (HTTP 500) (Request-ID: req-0d01c1bc-3fe1-45aa-920a-7a2179c62cde)\n\n\nplease find the API logs which are related to this command.\n\n______________________________________________________________________________________________________\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions [req-0d01c1bc-3fe1-45aa-920a-7a2179c62cde - - - - -] Unexpected exception in API method\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 338, in wrapped\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 205, in index\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     _services = self._get_services_list(req)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 88, in _get_services_list\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     _services = self._get_services(req)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 50, in _get_services\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     for s in self.host_api.service_get_all(context, set_zones=True)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/cells_api.py\", line 548, in service_get_all\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     filters=filters)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/cells/rpcapi.py\", line 283, in service_get_all\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     return cctxt.call(ctxt, 'service_get_all', filters=filters)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py\", line 169, in call\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     retry=self.retry)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/transport.py\", line 97, in _send\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     timeout=timeout, retry=retry)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 458, in send\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     retry=retry)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 447, in _send\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     result = self._waiter.wait(msg_id, timeout)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 339, in wait\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     message = self.waiters.get(msg_id, timeout=timeout)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 238, in get\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     'to message ID %s' % msg_id)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions MessagingTimeout: Timed out waiting for a reply to message ID d04be4c1b1b44c67a471a73242f2afeb\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions\n2017-04-08 12:57:03.856 31013 INFO nova.api.openstack.wsgi [req-0d01c1bc-3fe1-45aa-920a-7a2179c62cde - - - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\n______________________________________________________________________________________________________", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1687536", 
    "owner": "None", 
    "id": 1687536, 
    "index": 6832, 
    "created": "2017-05-02 04:55:02.962146+00:00", 
    "title": "[NOVA] Unexpected exception in API method.", 
    "comments": [
        {
            "content": "Tried to run  \"openstack compute service list\" and below is the output i got.\n\n[root@localhost mysql(keystone_admin)]# openstack compute service list\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> (HTTP 500) (Request-ID: req-0d01c1bc-3fe1-45aa-920a-7a2179c62cde)\n\n\nplease find the API logs which are related to this command.\n\n______________________________________________________________________________________________________\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions [req-0d01c1bc-3fe1-45aa-920a-7a2179c62cde - - - - -] Unexpected exception in API method\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 338, in wrapped\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 205, in index\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     _services = self._get_services_list(req)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 88, in _get_services_list\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     _services = self._get_services(req)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 50, in _get_services\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     for s in self.host_api.service_get_all(context, set_zones=True)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/cells_api.py\", line 548, in service_get_all\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     filters=filters)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/cells/rpcapi.py\", line 283, in service_get_all\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     return cctxt.call(ctxt, 'service_get_all', filters=filters)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py\", line 169, in call\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     retry=self.retry)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/transport.py\", line 97, in _send\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     timeout=timeout, retry=retry)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 458, in send\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     retry=retry)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 447, in _send\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     result = self._waiter.wait(msg_id, timeout)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 339, in wait\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     message = self.waiters.get(msg_id, timeout=timeout)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py\", line 238, in get\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions     'to message ID %s' % msg_id)\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions MessagingTimeout: Timed out waiting for a reply to message ID d04be4c1b1b44c67a471a73242f2afeb\n2017-04-08 12:57:03.855 31013 ERROR nova.api.openstack.extensions\n2017-04-08 12:57:03.856 31013 INFO nova.api.openstack.wsgi [req-0d01c1bc-3fe1-45aa-920a-7a2179c62cde - - - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\n______________________________________________________________________________________________________", 
            "date_created": "2017-05-02 04:55:02.962146+00:00", 
            "author": "https://api.launchpad.net/1.0/~sjopenstack"
        }, 
        {
            "content": "I think you are having issue in connecting to db or or conductor service? have you checked whether those services running well? \n\nthe oslo_messaging.exceptions.MessagingTimeout' shows it's really an internal error..", 
            "date_created": "2017-05-04 03:02:52.096952+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "@jichenjc :\nAll openstack services, maria-db and rabbitmq was in active state at the time of this issue. After getting this issue i found that all the services were running well and due to system restore i wasn't able to investigate it more. Even after restoring system i wasn't able to reproduce this issue.", 
            "date_created": "2017-05-04 05:24:28.657923+00:00", 
            "author": "https://api.launchpad.net/1.0/~sjopenstack"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2017-07-04 04:17:19.016898+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}