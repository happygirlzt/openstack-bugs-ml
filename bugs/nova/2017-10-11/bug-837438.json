{
    "status": "Fix Released", 
    "last_updated": "2011-09-22 12:57:17.575218+00:00", 
    "description": "I am running an OpenStack installation using Glance and the filesystem store. When I run 'euca-describe-images' (with or without admin privileges) only the most recent 25 images are returned and not the full list.\n\nSince I have 50 undeleted images, I expect that 50 images would be returned to the admin user and a subset of these to a non-privileged user.\n\n$ euca-describe-images | wc -l\n25\n\nImages in the Glance DB:\n\nsql> SELECT COUNT(*) FROM images;\n105\nsql> SELECT COUNT(*) FROM images WHERE deleted = 0;\n50\n\nThe SQL query run against the Glance database (note the LIMIT 25 in the query):\n\n2011-08-30 15:17:32     INFO [sqlalchemy.engine.base.Engine.0x...6b90] SELECT anon_1.images_created_at AS anon_1_images_created_at, anon_1.images_updated_at AS anon_1_images_updated_at, anon_1.images_deleted_at AS anon_1_images_deleted_at, anon_1.images_deleted AS anon_1_images_deleted, anon_1.images_id AS anon_1_images_id, anon_1.images_name AS anon_1_images_name, anon_1.images_disk_format AS anon_1_images_disk_format, anon_1.images_container_format AS anon_1_images_container_format, anon_1.images_size AS anon_1_images_size, anon_1.images_status AS anon_1_images_status, anon_1.images_is_public AS anon_1_images_is_public, anon_1.images_location AS anon_1_images_location, anon_1.images_checksum AS anon_1_images_checksum, anon_1.images_owner AS anon_1_images_owner, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.name AS image_properties_1_name, image_properties_1.value AS image_properties_1_value\nFROM (SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, images.owner AS images_owner\nFROM images\nWHERE images.deleted = ? AND images.status != ? ORDER BY images.created_at DESC, images.id DESC\n LIMIT 25 OFFSET 0) AS anon_1 LEFT OUTER JOIN image_properties AS image_properties_1 ON anon_1.images_id = image_properties_1.image_id ORDER BY anon_1.images_created_at DESC, anon_1.images_id DESC", 
    "tags": [], 
    "importance": "High", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/837438", 
    "owner": "https://api.launchpad.net/1.0/~bcwaldon", 
    "id": 837438, 
    "index": 466, 
    "created": "2011-08-30 14:45:45.994649+00:00", 
    "title": "euca-describe images returns only 25 images", 
    "comments": [
        {
            "content": "I am running an OpenStack installation using Glance and the filesystem store. When I run 'euca-describe-images' (with or without admin privileges) only the most recent 25 images are returned and not the full list.\n\nSince I have 50 undeleted images, I expect that 50 images would be returned to the admin user and a subset of these to a non-privileged user.\n\n$ euca-describe-images | wc -l\n25\n\nImages in the Glance DB:\n\nsql> SELECT COUNT(*) FROM images;\n105\nsql> SELECT COUNT(*) FROM images WHERE deleted = 0;\n50\n\nThe SQL query run against the Glance database (note the LIMIT 25 in the query):\n\n2011-08-30 15:17:32     INFO [sqlalchemy.engine.base.Engine.0x...6b90] SELECT anon_1.images_created_at AS anon_1_images_created_at, anon_1.images_updated_at AS anon_1_images_updated_at, anon_1.images_deleted_at AS anon_1_images_deleted_at, anon_1.images_deleted AS anon_1_images_deleted, anon_1.images_id AS anon_1_images_id, anon_1.images_name AS anon_1_images_name, anon_1.images_disk_format AS anon_1_images_disk_format, anon_1.images_container_format AS anon_1_images_container_format, anon_1.images_size AS anon_1_images_size, anon_1.images_status AS anon_1_images_status, anon_1.images_is_public AS anon_1_images_is_public, anon_1.images_location AS anon_1_images_location, anon_1.images_checksum AS anon_1_images_checksum, anon_1.images_owner AS anon_1_images_owner, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.name AS image_properties_1_name, image_properties_1.value AS image_properties_1_value\nFROM (SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, images.owner AS images_owner\nFROM images\nWHERE images.deleted = ? AND images.status != ? ORDER BY images.created_at DESC, images.id DESC\n LIMIT 25 OFFSET 0) AS anon_1 LEFT OUTER JOIN image_properties AS image_properties_1 ON anon_1.images_id = image_properties_1.image_id ORDER BY anon_1.images_created_at DESC, anon_1.images_id DESC", 
            "date_created": "2011-08-30 14:45:45.994649+00:00", 
            "author": "https://api.launchpad.net/1.0/~aglenyoung"
        }, 
        {
            "content": "I am running the following on Oneiric:\n\nglance 2011.3~d4~20110811.980-0ubuntu1\nnova 2011.3~d4~20110812.1417-0ubuntu1", 
            "date_created": "2011-08-30 14:48:00.304897+00:00", 
            "author": "https://api.launchpad.net/1.0/~aglenyoung"
        }, 
        {
            "content": "Looks like we need to make ec2 request images without pagination.", 
            "date_created": "2011-08-30 16:51:55.694512+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }
    ]
}