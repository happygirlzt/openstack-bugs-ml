{
    "status": "Invalid", 
    "last_updated": "2015-04-23 15:06:18.607976+00:00", 
    "description": "Environment:\n\u00a0- Two compute nodes, running Ubuntu 12.04 LTS\n\u00a0- KVM Hypervisor\n\u00a0- Ceph (dumpling) back-end for Cinder\n\u00a0- Grizzly-level Openstack\n\nSteps to reproduce:\n\u00a01) Create instance and volume\n\u00a02) Attach volume to instance\n\u00a03) Attempt a block migration between compute nodes - eg: nova live-migration --block-migrate 9b85b983-dced-4574-b14c-c72e4d92982a\n\nPackages:\nii  ceph                             0.67.5-1precise\nii  ceph-common                      0.67.5-1precise\nii  ceph-fs-common                   0.67.5-1precise\nii  ceph-fuse                        0.67.5-1precise\nii  ceph-mds                         0.67.5-1precise\nii  curl                             7.29.0-1precise.ceph\nii  kvm                              1:84+dfsg-0ubuntu16+1.0+noroms+0ubuntu14.13\nii  kvm-ipxe                         1.0.0+git-3.55f6c88-0ubuntu1\nii  libcephfs1                       0.67.5-1precise\nii  libcurl3                         7.29.0-1precise.ceph\nii  libcurl3-gnutls                  7.29.0-1precise.ceph\nii  libleveldb1                      1.12.0-1precise.ceph\nii  nova-common                      1:2013.1.4-0ubuntu1~cloud0\nii  nova-compute                     1:2013.1.4-0ubuntu1~cloud0\nii  nova-compute-kvm                 1:2013.1.4-0ubuntu1~cloud0\nii  python-ceph                      0.67.5-1precise\nii  python-cinderclient              1:1.0.3-0ubuntu1~cloud0\nii  python-nova                      1:2013.1.4-0ubuntu1~cloud0\nii  python-novaclient                1:2.13.0-0ubuntu1~cloud0\nii  qemu-common                      1.0+noroms-0ubuntu14.13\nii  qemu-kvm                         1.0+noroms-0ubuntu14.13\nii  qemu-utils                       1.0+noroms-0ubuntu14.13\nii  libvirt-bin                      1.0.2-0ubuntu11.13.04.5~cloud1\nii  libvirt0                         1.0.2-0ubuntu11.13.04.5~cloud1\nii  python-libvirt                   1.0.2-0ubuntu11.13.04.5~cloud1\n\n/var/log/nova/nova-compute on source:\n\n2014-02-05 16:36:46.014 998 INFO nova.compute.manager [-] Lifecycle event 2 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:36:46.233 998 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During sync_power_state the instance has a pending task. Skip.\n2014-02-05 16:36:46.234 998 INFO nova.compute.manager [-] Lifecycle event 2 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:36:46.468 998 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During sync_power_state the instance has a pending task. Skip.\n2014-02-05 16:41:09.029 998 INFO nova.compute.manager [-] Lifecycle event 1 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:41:09.265 998 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During sync_power_state the instance has a pending task. Skip.\n2014-02-05 16:41:09.640 998 ERROR nova.virt.libvirt.driver [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Live Migration failure: Unable to read from monitor: Connection reset by peer\n2014-02-05 16:41:12.165 998 WARNING nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Instance shutdown by itself. Calling the stop API.\n2014-02-05 16:41:12.398 998 INFO nova.virt.libvirt.driver [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Instance destroyed successfully.\n\n/var/log/libvirt/libvirtd.log on source:\n\n2014-02-05 14:41:07.607+0000: 3437: error : qemuMonitorIORead:502 : Unable to read from monitor: Connection reset by peer\n2014-02-05 14:41:09.633+0000: 3441: error : virNetClientProgramDispatchError:175 : An error occurred, but the cause is unknown\n2014-02-05 14:41:09.634+0000: 3441: error : qemuDomainObjEnterMonitorInternal:997 : operation failed: domain is no longer running\n2014-02-05 14:41:09.634+0000: 3441: warning : doPeer2PeerMigrate3:2872 : Guest instance-00000315 probably left in 'paused' state on source\n\n/var/log/nova/nova-compute.log on target:\n\n2014-02-05 16:36:38.841 INFO nova.virt.libvirt.driver [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] Instance launched has CPU info:\n{\"vendor\": \"Intel\", \"model\": \"SandyBridge\", \"arch\": \"x86_64\", \"features\": [\"pdpe1gb\", \"osxsave\", \"dca\", \"pcid\", \"pdcm\", \"xtpr\", \"tm2\", \"est\", \"smx\", \"vmx\", \"ds_cpl\", \"monitor\", \"dtes64\", \"pbe\", \"tm\", \"ht\", \"ss\", \"acpi\", \"ds\", \"vme\"], \"topology\": {\"cores\": 6, \"threads\": 2, \"sockets\": 1}}\n2014-02-05 16:36:46.008 28458 INFO nova.compute.manager [-] Lifecycle event 0 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:36:46.244 28458 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During the sync_power process the instance has moved from host ctpcmp003 to host ctpcmp005\n2014-02-05 16:41:09.634 28458 INFO nova.compute.manager [-] Lifecycle event 1 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:41:09.899 28458 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During the sync_power process the instance has moved from host ctpcmp003 to host ctpcmp005\n2014-02-05 16:41:11.056 AUDIT nova.compute.manager [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Detach volume 7e2f873e-f7ba-4ee1-85ee-cee133cefdcf from mountpoint /dev/vdc\n2014-02-05 16:41:11.061 WARNING nova.compute.manager [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Detaching volume from unknown instance\n2014-02-05 16:41:11.066 ERROR nova.compute.manager [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Failed to detach volume 7e2f873e-f7ba-4ee1-85ee-cee133cefdcf from /dev/vdc\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Traceback (most recent call last):\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2983, in _detach_volume\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]     mp)\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 1016, in detach_volume\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]     virt_dom = self._lookup_by_name(instance_name)\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 2386, in _lookup_by_name\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]     raise exception.InstanceNotFound(instance_id=instance_name)\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] InstanceNotFound: Instance instance-00000315 could not be found.\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]\n2014-02-05 16:41:12.261 28458 ERROR nova.virt.libvirt.driver [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During wait destroy, instance disappeared.\n2014-02-05 16:41:12.872 INFO nova.virt.libvirt.driver [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Deleting instance files /var/lib/nova/instances/9b85b983-dced-4574-b14c-c72e4d92982a\n\n/etc/nova/nova.conf includes the directive: vncserver_listen=0.0.0.0\n\nroot@ctpcmp003:~# grep \"tls\\|tcp\" /etc/libvirt/libvirtd.conf | grep -v \"^#\"\nlisten_tls = 0\nlisten_tcp = 1\nauth_tcp = \"none\"\n\nroot@ctpcmp003:~# grep vncserver_listen /etc/nova/nova.conf\nvncserver_listen=0.0.0.0\n\nroot@ctpcmp003:~# ps -ef | grep libvirtd\nroot     20608     1  0 16:29 ?        00:00:11 /usr/sbin/libvirtd -d -l", 
    "tags": [
        "live-migrate"
    ], 
    "importance": "Medium", 
    "heat": 36, 
    "link": "https://bugs.launchpad.net/nova/+bug/1276639", 
    "owner": "https://api.launchpad.net/1.0/~tdurakov", 
    "id": 1276639, 
    "index": 3785, 
    "created": "2014-02-05 14:59:27.975602+00:00", 
    "title": "block live migration does not work when a volume is attached", 
    "comments": [
        {
            "content": "Environment:\n - Two compute nodes, running Ubuntu 12.04 LTS\n - KVM Hypervisor\n - Ceph (dumpling) back-end for Cinder\n - Grizzly-level Openstack\n\nSteps to reproduce:\n 1) Create instance and volume\n 2) Attach volume to instance\n 3) Attempt a block migration between compute nodes\n\nPackages:\nii  ceph                             0.67.5-1precise                             distributed storage and file system\nii  ceph-common                      0.67.5-1precise                             common utilities to mount and interact with a ceph storage cluster\nii  ceph-fs-common                   0.67.5-1precise                             common utilities to mount and interact with a ceph file system\nii  ceph-fuse                        0.67.5-1precise                             FUSE-based client for the Ceph distributed file system\nii  ceph-mds                         0.67.5-1precise                             metadata server for the ceph distributed file system\nii  curl                             7.29.0-1precise.ceph                        command line tool for transferring data with URL syntax\nii  kvm                              1:84+dfsg-0ubuntu16+1.0+noroms+0ubuntu14.13 dummy transitional package from kvm to qemu-kvm\nii  kvm-ipxe                         1.0.0+git-3.55f6c88-0ubuntu1                PXE ROM's for KVM\nii  libcephfs1                       0.67.5-1precise                             Ceph distributed file system client library\nii  libcurl3                         7.29.0-1precise.ceph                        easy-to-use client-side URL transfer library (OpenSSL flavour)\nii  libcurl3-gnutls                  7.29.0-1precise.ceph                        easy-to-use client-side URL transfer library (GnuTLS flavour)\nii  libleveldb1                      1.12.0-1precise.ceph                        fast key-value storage library\nii  nova-common                      1:2013.1.4-0ubuntu1~cloud0                  OpenStack Compute - common files\nii  nova-compute                     1:2013.1.4-0ubuntu1~cloud0                  OpenStack Compute - compute node\nii  nova-compute-kvm                 1:2013.1.4-0ubuntu1~cloud0                  OpenStack Compute - compute node (KVM)\nii  python-ceph                      0.67.5-1precise                             Python libraries for the Ceph distributed filesystem\nii  python-cinderclient              1:1.0.3-0ubuntu1~cloud0                     python bindings to the OpenStack Volume API\nii  python-nova                      1:2013.1.4-0ubuntu1~cloud0                  OpenStack Compute Python libraries\nii  python-novaclient                1:2.13.0-0ubuntu1~cloud0                    client library for OpenStack Compute API\nii  qemu-common                      1.0+noroms-0ubuntu14.13                     qemu common functionality (bios, documentation, etc)\nii  qemu-kvm                         1.0+noroms-0ubuntu14.13                     Full virtualization on i386 and amd64 hardware\nii  qemu-utils                       1.0+noroms-0ubuntu14.13                     qemu utilities\nii  libvirt-bin                      1.0.2-0ubuntu11.13.04.5~cloud1              programs for the libvirt library\nii  libvirt0                         1.0.2-0ubuntu11.13.04.5~cloud1              library for interfacing with different virtualization systems\nii  python-libvirt                   1.0.2-0ubuntu11.13.04.5~cloud1              libvirt Python bindings\n\n/var/log/nova/nova-compute on source:\n\n2014-02-05 16:36:46.014 998 INFO nova.compute.manager [-] Lifecycle event 2 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:36:46.233 998 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During sync_power_state the instance has a pending task. Skip.\n2014-02-05 16:36:46.234 998 INFO nova.compute.manager [-] Lifecycle event 2 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:36:46.468 998 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During sync_power_state the instance has a pending task. Skip.\n2014-02-05 16:41:09.029 998 INFO nova.compute.manager [-] Lifecycle event 1 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:41:09.265 998 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During sync_power_state the instance has a pending task. Skip.\n2014-02-05 16:41:09.640 998 ERROR nova.virt.libvirt.driver [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Live Migration failure: Unable to read from monitor: Connection reset by peer\n2014-02-05 16:41:12.165 998 WARNING nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Instance shutdown by itself. Calling the stop API.\n2014-02-05 16:41:12.398 998 INFO nova.virt.libvirt.driver [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Instance destroyed successfully.\n\n\n/var/log/libvirt/libvirtd.log on source:\n\n2014-02-05 14:41:07.607+0000: 3437: error : qemuMonitorIORead:502 : Unable to read from monitor: Connection reset by peer\n2014-02-05 14:41:09.633+0000: 3441: error : virNetClientProgramDispatchError:175 : An error occurred, but the cause is unknown\n2014-02-05 14:41:09.634+0000: 3441: error : qemuDomainObjEnterMonitorInternal:997 : operation failed: domain is no longer running\n2014-02-05 14:41:09.634+0000: 3441: warning : doPeer2PeerMigrate3:2872 : Guest instance-00000315 probably left in 'paused' state on source\n\n\n/var/log/nova/nova-compute.log on target:\n\n2014-02-05 16:36:38.841 INFO nova.virt.libvirt.driver [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] Instance launched has CPU info:\n{\"vendor\": \"Intel\", \"model\": \"SandyBridge\", \"arch\": \"x86_64\", \"features\": [\"pdpe1gb\", \"osxsave\", \"dca\", \"pcid\", \"pdcm\", \"xtpr\", \"tm2\", \"est\", \"smx\", \"vmx\", \"ds_cpl\", \"monitor\", \"dtes64\", \"pbe\", \"tm\", \"ht\", \"ss\", \"acpi\", \"ds\", \"vme\"], \"topology\": {\"cores\": 6, \"threads\": 2, \"sockets\": 1}}\n2014-02-05 16:36:46.008 28458 INFO nova.compute.manager [-] Lifecycle event 0 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:36:46.244 28458 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During the sync_power process the instance has moved from host ctpcmp003 to host ctpcmp005\n2014-02-05 16:41:09.634 28458 INFO nova.compute.manager [-] Lifecycle event 1 on VM 9b85b983-dced-4574-b14c-c72e4d92982a\n2014-02-05 16:41:09.899 28458 INFO nova.compute.manager [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During the sync_power process the instance has moved from host ctpcmp003 to host ctpcmp005\n2014-02-05 16:41:11.056 AUDIT nova.compute.manager [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Detach volume 7e2f873e-f7ba-4ee1-85ee-cee133cefdcf from mountpoint /dev/vdc\n2014-02-05 16:41:11.061 WARNING nova.compute.manager [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Detaching volume from unknown instance\n2014-02-05 16:41:11.066 ERROR nova.compute.manager [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Failed to detach volume 7e2f873e-f7ba-4ee1-85ee-cee133cefdcf from /dev/vdc\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Traceback (most recent call last):\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2983, in _detach_volume\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]     mp)\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 1016, in detach_volume\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]     virt_dom = self._lookup_by_name(instance_name)\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 2386, in _lookup_by_name\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]     raise exception.InstanceNotFound(instance_id=instance_name)\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] InstanceNotFound: Instance instance-00000315 could not be found.\n2014-02-05 16:41:11.066 28458 TRACE nova.compute.manager [instance: 9b85b983-dced-4574-b14c-c72e4d92982a]\n2014-02-05 16:41:12.261 28458 ERROR nova.virt.libvirt.driver [-] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] During wait destroy, instance disappeared.\n2014-02-05 16:41:12.872 INFO nova.virt.libvirt.driver [req-0f0eaabf-9e29-4d45-88c9-20194be51d49 aaf3e92b69e04958b43348677ab7b38b 1859d80f51ff4180b591f7fe2668fd68] [instance: 9b85b983-dced-4574-b14c-c72e4d92982a] Deleting instance files /var/lib/nova/instances/9b85b983-dced-4574-b14c-c72e4d92982a\n\n/etc/nova/nova.conf includes the directive: vncserver_listen=0.0.0.0\n\nroot@ctpcmp003:~# grep \"tls\\|tcp\" /etc/libvirt/libvirtd.conf | grep -v \"^#\"\nlisten_tls = 0\nlisten_tcp = 1\nauth_tcp = \"none\"\n\nroot@ctpcmp003:~# grep vncserver_listen /etc/nova/nova.conf\nvncserver_listen=0.0.0.0\n\nroot@ctpcmp003:~# ps -ef | grep libvirtd\nroot     20608     1  0 16:29 ?        00:00:11 /usr/sbin/libvirtd -d -l", 
            "date_created": "2014-02-05 14:59:27.975602+00:00", 
            "author": "https://api.launchpad.net/1.0/~jesse-pretorius"
        }, 
        {
            "content": "We should check if this still happens with trunk, and see what release will need this backporting.", 
            "date_created": "2014-02-07 13:53:05.943964+00:00", 
            "author": "https://api.launchpad.net/1.0/~johngarbutt"
        }, 
        {
            "content": "Long incomplete bug waiting for confirmation.", 
            "date_created": "2014-09-16 21:09:01.427118+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "I met the same problems  while using  havana . And the logs show similar errors:\n\nThis is my sofware version:\n\nCentOS 6.4\nlibvirt  v0.10.2\nqemu  1.2\n\nwhen   block migrate with attached volume ( from Cinder 3PAR),  it failed at  https://github.com/openstack/nova/blob/havana-eol/nova/virt/libvirt/driver.py#L4130\n\ndom.migrateToURI(CONF.live_migration_uri % dest,\n\nin source compute log:\n2014-12-08 11:28:49.009 19017 ERROR nova.virt.libvirt.driver [-] [instance: e0d525b8-8987-44a4-b29e-3a2cecafc09d] Live Migration failure: Unable to read from monitor: Connection reset by peer\n\nNot sure this is related with  volume ( cinder driver) ,  block migration without attached volume works well. \n\nThis is  full logs  for \n\n\n\n\n", 
            "date_created": "2014-12-09 07:51:41.285923+00:00", 
            "author": "https://api.launchpad.net/1.0/~glongwave"
        }, 
        {
            "content": "Jesse Pretorius, ChangBo Guo, could you provide more info about this bug? what was the state of instance when the process finished? Also provide /etc/nova/nova.conf from compute nodes. What network-provider did you use(nova-network/neutron)?", 
            "date_created": "2015-04-16 08:06:30.166697+00:00", 
            "author": "https://api.launchpad.net/1.0/~tdurakov"
        }, 
        {
            "content": "Doesn't live-migration works only with attached storage, or it doen't work at all?", 
            "date_created": "2015-04-16 08:26:51.226544+00:00", 
            "author": "https://api.launchpad.net/1.0/~tdurakov"
        }, 
        {
            "content": "@tdurakov The '--block-migrate' allows live migration of instances to work without shared storage - it essentially uses ssh to copy the instance images from the source to the target. This was reported some time ago and I don't have access to it any more, but I think the network provider was neutron. I also can't recall the state the instance was left in. Essentially the block migration worked if there was no volume attached, but didn't work when there was a volume attached. Considering that the volume is connected to via iSCSI and therefore just needs to be detached at the source and re-attached at the destination, I found this surprising.", 
            "date_created": "2015-04-16 08:39:48.740659+00:00", 
            "author": "https://api.launchpad.net/1.0/~jesse-pretorius"
        }, 
        {
            "content": "According to http://lists.openstack.org/pipermail/openstack-dev/2014-June/038152.html nova should not allow block-migrate instances with attached volumes until libvirt functionality would be extended. ", 
            "date_created": "2015-04-23 14:27:13.683099+00:00", 
            "author": "https://api.launchpad.net/1.0/~tdurakov"
        }, 
        {
            "content": "moved bug to invalid state,Here is bug https://bugs.launchpad.net/nova/+bug/1276639 the closes this functionality in nova. \nPatch from it proposed  to stable/juno", 
            "date_created": "2015-04-23 14:32:12.625669+00:00", 
            "author": "https://api.launchpad.net/1.0/~tdurakov"
        }, 
        {
            "content": "moved bug to invalid state,Here is bug https://bugs.launchpad.net/nova/+bug/1398999 the closes this functionality in nova.\nPatch from it proposed to stable/juno", 
            "date_created": "2015-04-23 15:06:18.171468+00:00", 
            "author": "https://api.launchpad.net/1.0/~tdurakov"
        }
    ]
}