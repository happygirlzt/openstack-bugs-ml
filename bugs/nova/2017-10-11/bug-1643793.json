{
    "status": "Invalid", 
    "last_updated": "2016-12-05 06:43:09.343951+00:00", 
    "description": "Description\n===========\nDisplay incorrect flavor name in instance property after edit flavor\n\n\nSteps to reproduce\n==================\nAll of the below steps are on the web page.\n1.create a new flavor name is AAA\n2.create vm with AAA flavor\n3.check vm info that flavor name is AAA\n4.edit the flavor, change flavor name AAA to BBB\n5.check vm info again, the flavor name is not BBB\n\n\nExpected result\n===============\nDisplay correct flavor name after edit flavor name.\n\n\nActual result\n=============\nThe vm flavor name is not correct after edit flavor name.\nBy the nova-api.log file, the edit flavor operation is that first to delete the origin flavor, second to create a new flavor.\nBut vm flavor'id was original id, not the new id.\n\n\nEnvironment\n===========\n1. Devstack with newton version", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1643793", 
    "owner": "https://api.launchpad.net/1.0/~zhaolh", 
    "id": 1643793, 
    "index": 4685, 
    "created": "2016-11-22 08:33:05.500707+00:00", 
    "title": "Display incorrect flavor name in instance property after edit flavor", 
    "comments": [
        {
            "content": "Description\n===========\nDisplay incorrect flavor name in instance property after edit flavor\n\n\nSteps to reproduce\n==================\nAll of the below steps are on the web page.\n1.create a new flavor name is AAA\n2.create vm with AAA flavor\n3.check vm info that flavor name is AAA\n4.edit the flavor, change flavor name AAA to BBB\n5.check vm info again, the flavor name is not BBB\n\n\nExpected result\n===============\nDisplay correct flavor name after edit flavor name.\n\n\nActual result\n=============\nThe vm flavor name is not correct after edit flavor name.\nBy the nova-api.log file, the edit flavor operation is that first to delete the origin flavor, second to create a new flavor.\nBut vm flavor'id was original id, not the new id.\n\n\nEnvironment\n===========\n1. Devstack with newton version", 
            "date_created": "2016-11-22 08:33:05.500707+00:00", 
            "author": "https://api.launchpad.net/1.0/~zhaolh"
        }, 
        {
            "content": "It need horizon to change the api call.\nHorizon should call update instead of delete when edit flavor name.", 
            "date_created": "2016-11-22 09:27:18.364995+00:00", 
            "author": "https://api.launchpad.net/1.0/~zhaolh"
        }, 
        {
            "content": "per above comments #1", 
            "date_created": "2016-11-23 14:23:06.950825+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "It affects not only horizon but also nova", 
            "date_created": "2016-11-24 02:20:01.244692+00:00", 
            "author": "https://api.launchpad.net/1.0/~zhaolh"
        }, 
        {
            "content": "Hi All,\n\nI am not able to reproduce this issue in nova.\n\nSteps:\n\nCreated one flaovr:\n$nova flavor-create new_flavor 32 2 1 1\n\nCreated an instance with this flavor:\n$nova boot --image c98e9a7c-7720-420b-a5cb-4990a80ebeb4 --flavor 32 flavor_instance\n\nI can see flavor name in the instance information: new_flavor (32)\n\nDeleted a flavor:\t\n$nova flavor-delete 32\n\nShow the instance:\n$nova show 82b2b0a2-d904-4762-87f2-6c079e113494\n\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-SRV-ATTR:host                 | openstack-VirtualBox                                           |\n| OS-EXT-SRV-ATTR:hostname             | flavor-instance                                                |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | openstack-VirtualBox                                           |\n| OS-EXT-SRV-ATTR:instance_name        | instance-0000000a                                              |\n| OS-EXT-SRV-ATTR:kernel_id            | a5b4ae19-6b59-4db8-9b8f-80a95274b0ef                           |\n| OS-EXT-SRV-ATTR:launch_index         | 0                                                              |\n| OS-EXT-SRV-ATTR:ramdisk_id           | 74bf2775-4b4f-4f98-b5a3-d5b95a2fb2b5                           |\n| OS-EXT-SRV-ATTR:reservation_id       | r-ebvq7dqa                                                     |\n| OS-EXT-SRV-ATTR:root_device_name     | /dev/vda                                                       |\n| OS-EXT-SRV-ATTR:user_data            | -                                                              |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2016-12-01T07:58:50.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2016-12-01T07:58:39Z                                           |\n| description                          | -                                                              |\n| flavor                               | Flavor not found (32)                                          |\n| hostId                               | 29293b7a5610f0716c95bb5fd6bdbe157ec88120712bcb67c6c5c6a5       |\n| host_status                          | UP                                                             |\n| id                                   | 82b2b0a2-d904-4762-87f2-6c079e113494                           |\n| image                                | cirros-0.3.4-x86_64-uec (c98e9a7c-7720-420b-a5cb-4990a80ebeb4) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | flavor_instance                                                |\n| os-extended-volumes:volumes_attached | []                                                             |\n| progress                             | 0                                                              |\n| public network                       | 172.24.4.13, 2001:db8::7                                       |\n| security_groups                      | default                                                        |\n| status                               | ACTIVE                                                         |\n| tags                                 | []                                                             |\n| tenant_id                            | 514df258afd54361a0d9e8a8afc71a02                               |\n| updated                              | 2016-12-01T07:58:51Z                                           |\n| user_id                              | 4dcaf39d89f641a28e66a1b0c955df4b                               |\n+--------------------------------------+----------------------------------------------------------------+\n\nI can see flavor info as 'Flavor not found (32)' with respect to the id 32.\n\nCreated a new flavor with the same id:\n$nova flavor-create my_flavor 32 2 1 1\n\nShow the instance:\n$nova show 82b2b0a2-d904-4762-87f2-6c079e113494\n\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-SRV-ATTR:host                 | openstack-VirtualBox                                           |\n| OS-EXT-SRV-ATTR:hostname             | flavor-instance                                                |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | openstack-VirtualBox                                           |\n| OS-EXT-SRV-ATTR:instance_name        | instance-0000000a                                              |\n| OS-EXT-SRV-ATTR:kernel_id            | a5b4ae19-6b59-4db8-9b8f-80a95274b0ef                           |\n| OS-EXT-SRV-ATTR:launch_index         | 0                                                              |\n| OS-EXT-SRV-ATTR:ramdisk_id           | 74bf2775-4b4f-4f98-b5a3-d5b95a2fb2b5                           |\n| OS-EXT-SRV-ATTR:reservation_id       | r-ebvq7dqa                                                     |\n| OS-EXT-SRV-ATTR:root_device_name     | /dev/vda                                                       |\n| OS-EXT-SRV-ATTR:user_data            | -                                                              |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2016-12-01T07:58:50.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2016-12-01T07:58:39Z                                           |\n| description                          | -                                                              |\n| flavor                               | my_flavor (32)                                                 |\n| hostId                               | 29293b7a5610f0716c95bb5fd6bdbe157ec88120712bcb67c6c5c6a5       |\n| host_status                          | UP                                                             |\n| id                                   | 82b2b0a2-d904-4762-87f2-6c079e113494                           |\n| image                                | cirros-0.3.4-x86_64-uec (c98e9a7c-7720-420b-a5cb-4990a80ebeb4) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | flavor_instance                                                |\n| os-extended-volumes:volumes_attached | []                                                             |\n| progress                             | 0                                                              |\n| public network                       | 172.24.4.13, 2001:db8::7                                       |\n| security_groups                      | default                                                        |\n| status                               | ACTIVE                                                         |\n| tags                                 | []                                                             |\n| tenant_id                            | 514df258afd54361a0d9e8a8afc71a02                               |\n| updated                              | 2016-12-01T07:58:51Z                                           |\n| user_id                              | 4dcaf39d89f641a28e66a1b0c955df4b                               |\n+--------------------------------------+----------------------------------------------------------------+\n\nI can see a updated flavor name in instance info 'my_flavor (32)'.\n\nI have also tried with dashboard, with dashboard if we update an flavor name then it changes the id of the flavor so that's why \nit shows in the instance info as 'Flavor: Not available'.\n\nSo this is a different issue, If the flavor is updated then its id should remain same.\n\nPlease correct me if I am wrong.", 
            "date_created": "2016-12-01 09:18:01.993327+00:00", 
            "author": "https://api.launchpad.net/1.0/~dinesh-bhor"
        }, 
        {
            "content": "@Dinesh, pls follow the step strictly in bug description to reproduce. ", 
            "date_created": "2016-12-05 06:43:08.461728+00:00", 
            "author": "https://api.launchpad.net/1.0/~guoshan"
        }
    ]
}