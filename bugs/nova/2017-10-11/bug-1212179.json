{
    "status": "Fix Released", 
    "last_updated": "2013-10-24 04:53:21.192872+00:00", 
    "description": "If creating a flavor with is_public \"false\", the flavor should be accessible only by admin or user who is granted to access.\nNow \"get flavor details\" API checks the is_public of flavor but \"create an instance\" API does not check.\nIn the following case, a user (not admin) cannot access non-public flavor through \"get flavor details\" API, this is right behavior.\nHowever, he can access non-public flavor through \"create an instance\" API.\n\n=== admin ==============================================================\n$ nova flavor-create --is-public false private-flavor 6 512 0 1\n+----+----------------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name           | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+----------------+-----------+------+-----------+------+-------+-------------+-----------+\n| 6  | private-flavor | 512       | 0    | 0         |      | 1     | 1.0         | False     |\n+----+----------------+-----------+------+-----------+------+-------+-------------+-----------+\n$\n$ curl -i http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/flavors/5 -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: [..]\"\nHTTP/1.1 200 OK\nContent-Type: application/json\nContent-Length: 428\nX-Compute-Request-Id: req-53ab8206-f458-441c-a0ca-d17e333f4247\nDate: Wed, 14 Aug 2013 09:38:10 GMT\n\n{\"flavor\": {\"name\": \"m1.xlarge\", \"links\": [{\"href\": \"http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/flavors/5\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.30:8774/7a5c62d3cadb40d28e3c25acf7a05b05/flavors/5\", \"rel\": \"bookmark\"}], \"ram\": 16384, \"OS-FLV-DISABLED:disabled\": false, \"vcpus\": 8, \"swap\": \"\", \"os-flavor-access:is_public\": true, \"rxtx_factor\": 1.0, \"OS-FLV-EXT-DATA:ephemeral\": 0, \"disk\": 160, \"id\": \"5\"}}\n$\n\n=== user(\"demo\" user on devstack) ==============================================================\n$ nova flavor-list\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1  | m1.tiny   | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 42 | m1.nano   | 64        | 0    | 0         |      | 1     | 1.0         | True      |\n| 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n| 84 | m1.micro  | 128       | 0    | 0         |      | 1     | 1.0         | True      |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n$\n$ curl -i http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/flavors/6 -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: [..]\"\nHTTP/1.1 404 Not Found\nContent-Length: 78\nContent-Type: application/json; charset=UTF-8\nX-Compute-Request-Id: req-a7ac7e99-6d29-4893-97a7-6705083739df\nDate: Wed, 14 Aug 2013 09:36:52 GMT\n\n{\"itemNotFound\": {\"message\": \"The resource could not be found.\", \"code\": 404}}\n$\n$ curl -i http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/servers -X POST -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: [..]\" -d '{\"server\": {\"min_count\": 1, \"flavorRef\": \"6\", \"name\": \"test-not-public\", \"imageRef\": \"428f795d-01b0-44c8-a162-9ad86d1fea35\", \"max_count\": 1}}'\nHTTP/1.1 202 Accepted\nLocation: http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/servers/91407b32-7ed1-4108-9e62-192b3312ff20\nContent-Type: application/json\nContent-Length: 440\nX-Compute-Request-Id: req-7e561044-100a-4d70-8b83-cebd21dca8e2\nDate: Wed, 14 Aug 2013 09:41:50 GMT\n\n{\"server\": {\"security_groups\": [{\"name\": \"default\"}], \"OS-DCF:diskConfig\": \"MANUAL\", \"id\": \"91407b32-7ed1-4108-9e62-192b3312ff20\", \"links\": [{\"href\": \"http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/servers/91407b32-7ed1-4108-9e62-192b3312ff20\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.30:8774/7a5c62d3cadb40d28e3c25acf7a05b05/servers/91407b32-7ed1-4108-9e62-192b3312ff20\", \"rel\": \"bookmark\"}], \"adminPass\": \"xvFhTwd3yAzE\"}}\n$ nova list\n+--------------------------------------+-----------------+--------+------------+-------------+------------------+\n| ID                                   | Name            | Status | Task State | Power State | Networks         |\n+--------------------------------------+-----------------+--------+------------+-------------+------------------+\n| 91407b32-7ed1-4108-9e62-192b3312ff20 | test-not-public | ACTIVE | None       | Running     | private=10.0.0.3 |\n+--------------------------------------+-----------------+--------+------------+-------------+------------------+\n$", 
    "tags": [], 
    "importance": "Critical", 
    "heat": 260, 
    "link": "https://bugs.launchpad.net/nova/+bug/1212179", 
    "owner": "https://api.launchpad.net/1.0/~russellb", 
    "id": 1212179, 
    "index": 148, 
    "created": "2013-08-14 09:59:17.834591+00:00", 
    "title": "[OSSA 2013-024] nova should check the is_public of flavor when creating an instance", 
    "comments": [
        {
            "content": "If creating a flavor with is_public \"false\", the flavor should be accessible only by admin or user who is granted to access.\nNow \"get flavor details\" API checks the is_public of flavor but \"create an instance\" API does not check.\nIn the following case, a user (not admin) cannot access non-public flavor through \"get flavor details\" API, this is right behavior.\nHowever, he can access non-public flavor through \"create an instance\" API.\n\n=== admin ==============================================================\n$ nova flavor-create --is-public false private-flavor 6 512 0 1\n+----+----------------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name           | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+----------------+-----------+------+-----------+------+-------+-------------+-----------+\n| 6  | private-flavor | 512       | 0    | 0         |      | 1     | 1.0         | False     |\n+----+----------------+-----------+------+-----------+------+-------+-------------+-----------+\n$\n$ curl -i http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/flavors/5 -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: [..]\"\nHTTP/1.1 200 OK\nContent-Type: application/json\nContent-Length: 428\nX-Compute-Request-Id: req-53ab8206-f458-441c-a0ca-d17e333f4247\nDate: Wed, 14 Aug 2013 09:38:10 GMT\n\n{\"flavor\": {\"name\": \"m1.xlarge\", \"links\": [{\"href\": \"http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/flavors/5\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.30:8774/7a5c62d3cadb40d28e3c25acf7a05b05/flavors/5\", \"rel\": \"bookmark\"}], \"ram\": 16384, \"OS-FLV-DISABLED:disabled\": false, \"vcpus\": 8, \"swap\": \"\", \"os-flavor-access:is_public\": true, \"rxtx_factor\": 1.0, \"OS-FLV-EXT-DATA:ephemeral\": 0, \"disk\": 160, \"id\": \"5\"}}\n$\n\n=== user(\"demo\" user on devstack) ==============================================================\n$ nova flavor-list\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1  | m1.tiny   | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 42 | m1.nano   | 64        | 0    | 0         |      | 1     | 1.0         | True      |\n| 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n| 84 | m1.micro  | 128       | 0    | 0         |      | 1     | 1.0         | True      |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n$\n$ curl -i http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/flavors/6 -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: [..]\"\nHTTP/1.1 404 Not Found\nContent-Length: 78\nContent-Type: application/json; charset=UTF-8\nX-Compute-Request-Id: req-a7ac7e99-6d29-4893-97a7-6705083739df\nDate: Wed, 14 Aug 2013 09:36:52 GMT\n\n{\"itemNotFound\": {\"message\": \"The resource could not be found.\", \"code\": 404}}\n$\n$ curl -i http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/servers -X POST -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: [..]\" -d '{\"server\": {\"min_count\": 1, \"flavorRef\": \"6\", \"name\": \"test-not-public\", \"imageRef\": \"428f795d-01b0-44c8-a162-9ad86d1fea35\", \"max_count\": 1}}'\nHTTP/1.1 202 Accepted\nLocation: http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/servers/91407b32-7ed1-4108-9e62-192b3312ff20\nContent-Type: application/json\nContent-Length: 440\nX-Compute-Request-Id: req-7e561044-100a-4d70-8b83-cebd21dca8e2\nDate: Wed, 14 Aug 2013 09:41:50 GMT\n\n{\"server\": {\"security_groups\": [{\"name\": \"default\"}], \"OS-DCF:diskConfig\": \"MANUAL\", \"id\": \"91407b32-7ed1-4108-9e62-192b3312ff20\", \"links\": [{\"href\": \"http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/servers/91407b32-7ed1-4108-9e62-192b3312ff20\", \"rel\": \"self\"}, {\"href\": \"http://192.168.0.30:8774/7a5c62d3cadb40d28e3c25acf7a05b05/servers/91407b32-7ed1-4108-9e62-192b3312ff20\", \"rel\": \"bookmark\"}], \"adminPass\": \"xvFhTwd3yAzE\"}}\n$ nova list\n+--------------------------------------+-----------------+--------+------------+-------------+------------------+\n| ID                                   | Name            | Status | Task State | Power State | Networks         |\n+--------------------------------------+-----------------+--------+------------+-------------+------------------+\n| 91407b32-7ed1-4108-9e62-192b3312ff20 | test-not-public | ACTIVE | None       | Running     | private=10.0.0.3 |\n+--------------------------------------+-----------------+--------+------------+-------------+------------------+\n$", 
            "date_created": "2013-08-14 09:59:17.834591+00:00", 
            "author": "https://api.launchpad.net/1.0/~oomichi"
        }, 
        {
            "content": "Since the other instance of this problem resulted in issuing an advisory (OSSA 2013-019), I'm assuming this one warrants one as well. Opinions?", 
            "date_created": "2013-08-14 15:35:41.675897+00:00", 
            "author": "https://api.launchpad.net/1.0/~fungi"
        }, 
        {
            "content": "I suspect you are right.", 
            "date_created": "2013-08-14 17:25:40.521141+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "Can you confirm that you're testing with a version that includes the fix for OSSA 2013-019 ?  This sounds like a duplicate to me.", 
            "date_created": "2013-08-19 19:12:14.171181+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "According to Russell that looks like a duplicate for bug 1194093, rather than a continuation: instance-create was fixed in OSSA 2013-019.\r\n\r\nKen'ichi Ohmichi: Could you check that you can reproduce the issue with current master branch ? Or one with http://github.com/openstack/nova/commit/b65d506a5f9d9b2b20777a9aceb44a8ffed6a5de in ?", 
            "date_created": "2013-08-19 19:23:52.193795+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "> Can you confirm that you're testing with a version that includes the fix for OSSA 2013-019 ?\n> This sounds like a duplicate to me.\n\nI have confirmed my environment including OSSA 2013-019(commit-id: b65d506a5f9d9b2b20777a9aceb44a8ffed6a5de).\nOn the environment, this problem happens.\n\nPlease see the part \"user(\"demo\" user on devstack)\" of this report.\n\"show flavor\" API (curl -i http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/flavors/6 -X GET) returns HTTP404 against not-public flavor.\nHowever, \"create instance\" API (curl -i http://192.168.0.30:8774/v2/7a5c62d3cadb40d28e3c25acf7a05b05/servers -X POST) returns HTTP202, not 404.\n\nThis problem is related to OSSA 2013-019.\nThe commit (b65d506a5f9d9b2b20777a9aceb44a8ffed6a5de) fixes \"list flavors\" and \"show flavor\" APIS, but it does not include \"create instance\" API.\n", 
            "date_created": "2013-08-20 05:15:36.082480+00:00", 
            "author": "https://api.launchpad.net/1.0/~oomichi"
        }, 
        {
            "content": "Hi Russell,\n\nOne more thing.\nWe need to port the patch of OSSA 2013-019(commit-id: b65d506a5f9d9b2b20777a9aceb44a8ffed6a5de) to nova v3 tree.\nI have posted the patch for doing it, I am happy if you review it. (https://review.openstack.org/#/c/41843/)\n", 
            "date_created": "2013-08-20 06:04:50.230033+00:00", 
            "author": "https://api.launchpad.net/1.0/~oomichi"
        }, 
        {
            "content": "At first I thought I couldn't reproduce this, but I was only trying with novaclient.  With novaclient, it looks like it doesn't work.  It actually fails on trying to get flavor details and doesn't make it far enough to try to boot the server.  So, it does appear there is a problem here.\n\n$ . openrc admin\n\n$ nova flavor-create test2 8 512 4 2 --is-public False\n+----+-------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name  | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+-------+-----------+------+-----------+------+-------+-------------+-----------+\n| 8  | test2 | 512       | 4    | 0         |      | 2     | 1.0         | False     |\n+----+-------+-----------+------+-----------+------+-------+-------------+-----------+\n\n$ nova flavor-list --all\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1  | m1.tiny   | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 42 | m1.nano   | 64        | 0    | 0         |      | 1     | 1.0         | True      |\n| 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n| 8  | test2     | 512       | 4    | 0         |      | 2     | 1.0         | False     |\n| 84 | m1.micro  | 128       | 0    | 0         |      | 1     | 1.0         | True      |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n\n$ . openrc demo\n\n$ nova flavor-list --all\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1  | m1.tiny   | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 42 | m1.nano   | 64        | 0    | 0         |      | 1     | 1.0         | True      |\n| 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n| 84 | m1.micro  | 128       | 0    | 0         |      | 1     | 1.0         | True      |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n\n$ nova boot --flavor 8 --image 899f3f21-e3eb-41b2-b9b9-e805e1ec1e02 test\nERROR: No flavor with a name or ID of '8' exists.\n\n$ curl -i http://162.209.53.10:8774/v2/c7708d0551034f97b1c5fceb848cfcf1/servers -X POST -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token:...\" -d '{\"server\": {\"min_count\": 1, \"flavorRef\": \"8\", \"name\": \"test2\", \"imageRef\": \"899f3f21-e3eb-41b2-b9b9-e805e1ec1e02\", \"max_count\": 1}}'\nHTTP/1.1 202 Accepted\nLocation: http://162.209.53.10:8774/v2/c7708d0551034f97b1c5fceb848cfcf1/servers/9fb1fcdf-e7a7-40cb-af58-94111c5316bd\nContent-Type: application/json\nContent-Length: 442\nX-Compute-Request-Id: req-5d8e375f-1b05-4bc9-abaf-692ff73077d6\nDate: Tue, 20 Aug 2013 13:31:56 GMT\n\n{\"server\": {\"security_groups\": [{\"name\": \"default\"}], \"OS-DCF:diskConfig\": \"MANUAL\", \"id\": \"9fb1fcdf-e7a7-40cb-af58-94111c5316bd\", \"links\": [{\"href\": \"http://162.209.53.10:8774/v2/c7708d0551034f97b1c5fceb848cfcf1/servers/9fb1fcdf-e7a7-40cb-af58-94111c5316bd\", \"rel\": \"self\"}, {\"href\": \"http://162.209.53.10:8774/c7708d0551034f97b1c5fceb848cfcf1/servers/9fb1fcdf-e7a7-40cb-af58-94111c5316bd\", \"rel\": \"bookmark\"}], \"adminPass\": \"fgWiM7FXrac4\"}}", 
            "date_created": "2013-08-20 13:42:43.888181+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/42922\nCommitted: http://github.com/openstack/nova/commit/4054cc4a22a1fea997dec76afb5646fd6c6ea6b9\nSubmitter: Jenkins\nBranch:    master\n\ncommit 4054cc4a22a1fea997dec76afb5646fd6c6ea6b9\nAuthor: Russell Bryant <email address hidden>\nDate:   Tue Aug 20 11:06:12 2013 -0400\n\n    Enforce flavor access during instance boot\n    \n    The code in the servers API did not pass the context when retrieving\n    flavor details.  That means it would use an admin context instead,\n    bypassing all flavor access control checks.\n    \n    This patch includes the fix, and the corresponding unit test, for both\n    the v2 and v3 APIs.\n    \n    Closes-bug: #1212179\n    \n    Change-Id: I681ae9965e19767df22fa74c3315e4e03a459d3b\n", 
            "date_created": "2013-08-21 05:55:45.694904+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Too fast fixing, thanks!", 
            "date_created": "2013-08-21 07:25:40.104574+00:00", 
            "author": "https://api.launchpad.net/1.0/~oomichi"
        }, 
        {
            "content": "Russell: could you backport the fix for Folsom/Grizzly (if they are affected as well) ?\r\n\r\nProposed Impact description:\r\n=========================\r\nTitle: Resource limit circumvention in Nova private flavors\r\nReporter: Ken'ichi Ohmichi (NEC)\r\nProducts: Nova\r\nAffects: All versions\r\n\r\nDescription:\r\nKen'ichi Ohmichi from NEC reported that the fix for OSSA 2013-019 (CVE-2013-2256) was incomplete. Any tenant was still able to boot any other tenant's private flavors by guessing a flavor ID. This potentially allowed circumvention of any resource limits enforced through the os-flavor-access:is_public property.\r\n=========================", 
            "date_created": "2013-08-21 19:11:59.765828+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "I suspect we can reuse the same CVE. Asking the CNA for confirmation.", 
            "date_created": "2013-08-21 19:16:01.411605+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "Fix proposed to branch: stable/grizzly\nReview: https://review.openstack.org/43281", 
            "date_created": "2013-08-22 12:41:21.155018+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/folsom\nReview: https://review.openstack.org/43296", 
            "date_created": "2013-08-22 14:20:18.952254+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Please review impact statement", 
            "date_created": "2013-08-22 18:52:07.401999+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "This was assigned CVE-2013-4278", 
            "date_created": "2013-08-22 20:16:17.478415+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/43296\nCommitted: http://github.com/openstack/nova/commit/6825959560e06725d26625fd21f5c0b78b305492\nSubmitter: Jenkins\nBranch:    stable/folsom\n\ncommit 6825959560e06725d26625fd21f5c0b78b305492\nAuthor: Russell Bryant <email address hidden>\nDate:   Tue Aug 20 11:06:12 2013 -0400\n\n    Enforce flavor access during instance boot\n    \n    The code in the servers API did not pass the context when retrieving\n    flavor details.  That means it would use an admin context instead,\n    bypassing all flavor access control checks.\n    \n    This patch includes the fix, and the corresponding unit test for the v2\n    API.\n    \n    Closes-bug: #1212179\n    \n    (cherry picked from commit 4054cc4a22a1fea997dec76afb5646fd6c6ea6b9)\n    \n    Conflicts:\n    \tnova/api/openstack/compute/plugins/v3/servers.py\n    \tnova/api/openstack/compute/servers.py\n    \tnova/tests/api/openstack/compute/plugins/v3/test_servers.py\n    \tnova/tests/api/openstack/compute/test_servers.py\n    \n    Change-Id: I681ae9965e19767df22fa74c3315e4e03a459d3b\n", 
            "date_created": "2013-08-23 20:43:48.043210+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "The description is fine, thanks!", 
            "date_created": "2013-08-23 21:23:48.318777+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/43281\nCommitted: http://github.com/openstack/nova/commit/8b686195afe7e6dfb46c56c1ef2fe9c993d8e495\nSubmitter: Jenkins\nBranch:    stable/grizzly\n\ncommit 8b686195afe7e6dfb46c56c1ef2fe9c993d8e495\nAuthor: Russell Bryant <email address hidden>\nDate:   Tue Aug 20 11:06:12 2013 -0400\n\n    Enforce flavor access during instance boot\n    \n    The code in the servers API did not pass the context when retrieving\n    flavor details.  That means it would use an admin context instead,\n    bypassing all flavor access control checks.\n    \n    This patch includes the fix, and the corresponding unit test for the v2\n    API.\n    \n    Closes-bug: #1212179\n    \n    (cherry picked from commit 4054cc4a22a1fea997dec76afb5646fd6c6ea6b9)\n    \n    Conflicts:\n    \tnova/api/openstack/compute/plugins/v3/servers.py\n    \tnova/api/openstack/compute/servers.py\n    \tnova/tests/api/openstack/compute/plugins/v3/test_servers.py\n    \tnova/tests/api/openstack/compute/test_servers.py\n    \n    Change-Id: I681ae9965e19767df22fa74c3315e4e03a459d3b\n", 
            "date_created": "2013-08-24 17:43:36.745438+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}