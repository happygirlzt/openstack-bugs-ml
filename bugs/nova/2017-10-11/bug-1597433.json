{
    "status": "Fix Released", 
    "last_updated": "2016-10-11 15:02:22.649187+00:00", 
    "description": "We're seeing the following errors in ubuntu package builds since the recent XenAPI patches landed:\n\ncommit 5d15918076eef173a3d140f968260aeb19d0614e\nMerge: 44d8b0d 5915da7\nAuthor: Jenkins <email address hidden>\nDate:   Tue Jun 28 12:55:20 2016 +0000\n\n    Merge \"XenAPI: Stream config drive to XAPI\"\n\ncommit 44d8b0d0cfde1a0938f42eb6a89dbd210d9f88c5\nMerge: 7c0de90 b19e377\nAuthor: Jenkins <email address hidden>\nDate:   Tue Jun 28 11:07:05 2016 +0000\n\n    Merge \"Moving test helpers to a common place\"\n\ncommit 7c0de90203c5b9efd527c65f4d8dd32a1513c5bc\nMerge: 0c85650 f39e660\nAuthor: Jenkins <email address hidden>\nDate:   Tue Jun 28 11:01:34 2016 +0000\n\n    Merge \"Improve image signature verification failure notification\"\n\ncommit 0c8565097c690a0c93f7544c86318cee31417b76\nMerge: 5f75130 3e85b80\nAuthor: Jenkins <email address hidden>\nDate:   Tue Jun 28 10:28:36 2016 +0000\n\n    Merge \"XenAPI: Perform disk operations in dom0\"\n\n\nTest failures:\n\n==============================\nFailed 8 tests - output below:\n==============================\n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_wait_for_dev_ok\n--------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_ext3_no_label\n-----------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_wait_for_dev_timeout\n-------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_removes_partitions_exc\n--------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_ext3\n--------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_make_partition\n-------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_removes_partitions_ok\n-------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_swap\n--------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT", 
    "tags": [
        "unittests", 
        "xenserver"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1597433", 
    "owner": "https://api.launchpad.net/1.0/~bob-ball", 
    "id": 1597433, 
    "index": 765, 
    "created": "2016-06-29 16:32:38.547912+00:00", 
    "title": "xenapi unittest failures on Newton", 
    "comments": [
        {
            "content": "We're seeing the following errors in ubuntu package builds since the recent XenAPI patches landed:\n\ncommit 5d15918076eef173a3d140f968260aeb19d0614e\nMerge: 44d8b0d 5915da7\nAuthor: Jenkins <email address hidden>\nDate:   Tue Jun 28 12:55:20 2016 +0000\n\n    Merge \"XenAPI: Stream config drive to XAPI\"\n\ncommit 44d8b0d0cfde1a0938f42eb6a89dbd210d9f88c5\nMerge: 7c0de90 b19e377\nAuthor: Jenkins <email address hidden>\nDate:   Tue Jun 28 11:07:05 2016 +0000\n\n    Merge \"Moving test helpers to a common place\"\n\ncommit 7c0de90203c5b9efd527c65f4d8dd32a1513c5bc\nMerge: 0c85650 f39e660\nAuthor: Jenkins <email address hidden>\nDate:   Tue Jun 28 11:01:34 2016 +0000\n\n    Merge \"Improve image signature verification failure notification\"\n\ncommit 0c8565097c690a0c93f7544c86318cee31417b76\nMerge: 5f75130 3e85b80\nAuthor: Jenkins <email address hidden>\nDate:   Tue Jun 28 10:28:36 2016 +0000\n\n    Merge \"XenAPI: Perform disk operations in dom0\"\n\n\nTest failures:\n\n==============================\nFailed 8 tests - output below:\n==============================\n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_wait_for_dev_ok\n--------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_ext3_no_label\n-----------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_wait_for_dev_timeout\n-------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_removes_partitions_exc\n--------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_ext3\n--------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_make_partition\n-------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_removes_partitions_ok\n-------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT\n    \n\nnova.tests.unit.virt.xenapi.plugins.test_partition_utils.PartitionUtils.test_mkfs_swap\n--------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    Traceback (most recent call last):\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/test_partition_utils.py\", line 25, in setUp\n        self.partition_utils = self.load_plugin(\"partition_utils.py\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/nova/tests/unit/virt/xenapi/plugins/plugin_test.py\", line 68, in load_plugin\n        return imp.load_source(name, path)\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/partition_utils.py\", line 26, in <module>\n        pluginlib.configure_logging(\"disk_utils\")\n      File \"/\ufffd\ufffdPKGBUILDDIR\ufffd\ufffd/plugins/xenserver/xenapi/etc/xapi.d/plugins/pluginlib_nova.py\", line 42, in configure_logging\n        sysh = logging.handlers.SysLogHandler('/dev/log')\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 761, in __init__\n        self._connect_unixsocket(address)\n      File \"/usr/lib/python2.7/logging/handlers.py\", line 789, in _connect_unixsocket\n        self.socket.connect(address)\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 237, in connect\n        while not socket_connect(fd, address):\n      File \"/usr/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 39, in socket_connect\n        raise socket.error(err, errno.errorcode[err])\n    socket.error: [Errno 2] ENOENT", 
            "date_created": "2016-06-29 16:32:38.547912+00:00", 
            "author": "https://api.launchpad.net/1.0/~corey.bryant"
        }, 
        {
            "content": "Since the plugins are running in dom0, we can't use oslo's logging, so output to syslog.\n\nPresumably mocking partition_utils.pluginlib_nova.configure_logging would fix this for the packaging UT env?\n", 
            "date_created": "2016-07-01 12:07:08.861597+00:00", 
            "author": "https://api.launchpad.net/1.0/~bob-ball"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/336533", 
            "date_created": "2016-07-01 12:27:17.057448+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Please comment on the review at https://review.openstack.org/336533 as to whether this proposed fix addresses the issue in the Ubuntu build env?", 
            "date_created": "2016-07-01 12:27:51.501151+00:00", 
            "author": "https://api.launchpad.net/1.0/~bob-ball"
        }, 
        {
            "content": "Thanks Bob, I'll try it out and let you know.", 
            "date_created": "2016-07-01 12:37:10.152523+00:00", 
            "author": "https://api.launchpad.net/1.0/~corey.bryant"
        }, 
        {
            "content": "Commented with my +1 as that fixes it. Thanks for the quick fix!", 
            "date_created": "2016-07-01 13:32:42.473662+00:00", 
            "author": "https://api.launchpad.net/1.0/~corey.bryant"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/336533\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=fc0dfb369eb8fd0e71839ed71da85acff81fa36f\nSubmitter: Jenkins\nBranch:    master\n\ncommit fc0dfb369eb8fd0e71839ed71da85acff81fa36f\nAuthor: Bob Ball <email address hidden>\nDate:   Fri Jul 1 13:11:00 2016 +0100\n\n    XenAPI: UT: Always mock logging configuration\n    \n    The call to configure logging sets up logging to syslog.  Some\n    environments, such as the Ubuntu package builder environment,\n    do not permit this operation.\n    \n    Logging is made to syslog as the plugin runs in dom0 on XenServer,\n    not with the rest of Nova, so the oslo logging capabilities can't\n    be used.\n    \n    Mock out the call to configure logging to prevent attempts to use\n    syslog\n    \n    Change-Id: Ie32691d980aff052498c6c5822828ba9703d412b\n    Closes-Bug: 1597433\n", 
            "date_created": "2016-07-13 21:51:31.277440+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 14.0.0.0b2 development milestone.", 
            "date_created": "2016-07-14 13:00:38.496928+00:00", 
            "author": "https://api.launchpad.net/1.0/~doug-hellmann"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/383770\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=5c608abc929cbaf68b1e228fc83cecd9b14bb578\nSubmitter: Jenkins\nBranch:    master\n\ncommit 5c608abc929cbaf68b1e228fc83cecd9b14bb578\nAuthor: Diana Clarke <email address hidden>\nDate:   Fri Oct 7 10:47:05 2016 -0400\n\n    ENOENT error on '/dev/log'\n    \n    The nova unit tests recently started to fail on systems where you can't\n    assume '/dev/log' exists (like mac osx). Patching socket.connect allows\n    the basic configuration of SysLogHandler('/dev/log') to be tested still.\n    \n    Change-Id: I2f356ed6d456d6f0ca23b7bbf3943861865ff929\n    Related-Bug: #1597433\n", 
            "date_created": "2016-10-11 15:02:21.890033+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}