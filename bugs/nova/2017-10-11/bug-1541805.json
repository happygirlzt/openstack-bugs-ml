{
    "status": "Invalid", 
    "last_updated": "2016-02-05 04:47:11.321688+00:00", 
    "description": "issue description: i am installing Liberty on Ubuntu 14.04 LTS, when i tried to launch an instance i got this error. \n\nsnat@controller:~$ nova boot --flavor m1.small --image cirros --nic net-id=b9a485f1-3e77-4422-8ce8-26413a311450 --security-group default --key-name mykey public-instance\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-4d22b711-1423-45f4-b11e-d6f596ee2703)\n\nThis is definetely a bug. \n\nuname -a \n\nLinux controller 3.13.0-76-generic #120-Ubuntu SMP Mon Jan 18 15:59:10 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n\nNova.conf\n\n[DEFAULT]\ndhcpbridge_flagfile=/etc/nova/nova.conf\ndhcpbridge=/usr/bin/nova-dhcpbridge\nlogdir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\nforce_dhcp_release=True\nlibvirt_use_virtio_for_bridges=True\nverbose=True\nec2_private_dns_show_ip=True\napi_paste_config=/etc/nova/api-paste.ini\nenabled_apis=ec2,osapi_compute,metadata\nrpc_backend = rabbit\nuth_strategy = keystone\nmy_ip = 10.0.0.11\nnetwork_api_class = nova.network.neutronv2.api.API\nsecurity_group_api = neutron\nlinuxnet_interface_driver = nova.network.linux_net.NeutronLinuxBridgeInterfaceDriver\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\nenabled_apis=osapi_compute,metadata\nverbose = True\n\n[oslo_messaging_rabbit]\nrabbit_host = controller\nrabbit_userid = openstack\nrabbit_password = RABBIT_PASS\n[database]\nconnection = mysql+pymysql://nova:NOVA_DBPASS@controller/nova\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = nova\n[vnc]\nvncserver_listen = $my_ip\nvncserver_proxyclient_address = $my_ip\n[glance]\nhost = controller\n[oslo_concurrency]\nlock_path = /var/lib/nova/tmp\n\nsnat@controller:~$ nova flavor-list\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1  | m1.tiny   | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n\nso Nova flavor list works just fine and when i try to boot it says the flavor m1.small & m1.tiny does not exist. \n\ni have run a nova debug boot \n\nsnat@controller:~$ nova --debug boot --flavor m1.small --image cirros --nic net-id=b9a485f1-3e77-4422-8ce8-26413a311450 --security-group default --key-name mykey public-instance\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:5000/v3 -H \"Accept: application/json\" -H \"User-Agent: python-keystoneclient\"\nINFO (connectionpool:205) Starting new HTTP connection (1): controller\nDEBUG (connectionpool:385) \"GET /v3 HTTP/1.1\" 200 249\nDEBUG (session:215) RESP: [200] Content-Length: 249 Vary: X-Auth-Token Keep-Alive: timeout=5, max=100 Server: Apache/2.4.7 (Ubuntu) Connection: Keep-Alive Date: Thu, 04 Feb 2016 09:22:59 GMT x-openstack-request-id: req-2f991c43-7ffa-4abe-9a1c-f1f28e614cb1 Content-Type: application/json X-Distribution: Ubuntu\nRESP BODY: {\"version\": {\"status\": \"stable\", \"updated\": \"2015-03-30T00:00:00Z\", \"media-types\": [{\"base\": \"application/json\", \"type\": \"application/vnd.openstack.identity-v3+json\"}], \"id\": \"v3.4\", \"links\": [{\"href\": \"http://controller:5000/v3/\", \"rel\": \"self\"}]}}\n\nDEBUG (base:188) Making authentication request to http://controller:5000/v3/auth/tokens\nDEBUG (connectionpool:385) \"POST /v3/auth/tokens HTTP/1.1\" 201 2799\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/ -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nINFO (connectionpool:205) Starting new HTTP connection (1): controller\nDEBUG (connectionpool:385) \"GET /v2/ HTTP/1.1\" 200 375\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 375 X-Compute-Request-Id: req-708a6ab4-cb2a-4f3d-9d61-28468f6424ea\nRESP BODY: {\"version\": {\"status\": \"SUPPORTED\", \"updated\": \"2011-01-21T11:33:21Z\", \"links\": [{\"href\": \"http://controller:8774/v2/\", \"rel\": \"self\"}, {\"href\": \"http://docs.openstack.org/\", \"type\": \"text/html\", \"rel\": \"describedby\"}], \"min_version\": \"\", \"version\": \"\", \"media-types\": [{\"base\": \"application/json\", \"type\": \"application/vnd.openstack.compute+json;version=2\"}], \"id\": \"v2.0\"}}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/images -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/images HTTP/1.1\" 200 495\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 495 X-Compute-Request-Id: req-58e7bb5f-6af1-44c9-8813-fa0acbf19980\nRESP BODY: {\"images\": [{\"id\": \"de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"rel\": \"bookmark\"}, {\"href\": \"http://controller:9292/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"name\": \"cirros\"}]}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a HTTP/1.1\" 200 676\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 676 X-Compute-Request-Id: req-a3c2b1c7-394b-4786-bd9d-428748250756\nRESP BODY: {\"image\": {\"status\": \"ACTIVE\", \"updated\": \"2016-02-03T13:16:42Z\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"rel\": \"bookmark\"}, {\"href\": \"http://controller:9292/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"id\": \"de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"OS-EXT-IMG-SIZE:size\": 13287936, \"name\": \"cirros\", \"created\": \"2016-02-03T13:16:41Z\", \"minDisk\": 0, \"progress\": 100, \"minRam\": 0, \"metadata\": {}}}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/m1.small -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/m1.small HTTP/1.1\" 404 81\nDEBUG (session:215) RESP: [404] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json; charset=UTF-8 Content-Length: 81 X-Compute-Request-Id: req-d3830536-79be-4790-9f9e-ca3f6f131f48\nRESP BODY: {\"itemNotFound\": {\"message\": \"Flavor m1.small could not be found.\", \"code\": 404}}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors?is_public=None -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/flavors?is_public=None HTTP/1.1\" 200 1209\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 1209 X-Compute-Request-Id: req-68fe0f82-f6be-4e68-bb88-709848000556\nRESP BODY: {\"flavors\": [{\"id\": \"1\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/1\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/1\", \"rel\": \"bookmark\"}], \"name\": \"m1.tiny\"}, {\"id\": \"2\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/2\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/2\", \"rel\": \"bookmark\"}], \"name\": \"m1.small\"}, {\"id\": \"3\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/3\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/3\", \"rel\": \"bookmark\"}], \"name\": \"m1.medium\"}, {\"id\": \"4\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/4\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/4\", \"rel\": \"bookmark\"}], \"name\": \"m1.large\"}, {\"id\": \"5\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/5\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/5\", \"rel\": \"bookmark\"}], \"name\": \"m1.xlarge\"}]}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/2 -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/2 HTTP/1.1\" 200 421\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 421 X-Compute-Request-Id: req-ed87e9e8-2b18-49b2-a6d6-ccc8563c7d3e\nRESP BODY: {\"flavor\": {\"name\": \"m1.small\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/2\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/2\", \"rel\": \"bookmark\"}], \"ram\": 2048, \"OS-FLV-DISABLED:disabled\": false, \"vcpus\": 1, \"swap\": \"\", \"os-flavor-access:is_public\": true, \"rxtx_factor\": 1.0, \"OS-FLV-EXT-DATA:ephemeral\": 0, \"disk\": 20, \"id\": \"2\"}}\n\nDEBUG (session:198) REQ: curl -g -i -X POST http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\" -d '{\"server\": {\"name\": \"public-instance\", \"imageRef\": \"de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"key_name\": \"mykey\", \"flavorRef\": \"2\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"b9a485f1-3e77-4422-8ce8-26413a311450\"}], \"security_groups\": [{\"name\": \"default\"}]}}'\nDEBUG (connectionpool:385) \"POST /v2/7a95c6ea567345e496a48e6ac2243b1c/servers HTTP/1.1\" 500 210\nDEBUG (session:215) RESP: [500] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json; charset=UTF-8 Content-Length: 210 X-Compute-Request-Id: req-eef9f6ec-4de7-4541-b6d8-7c9948105fb7\nRESP BODY: {\"computeFault\": {\"message\": \"Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class 'keystoneclient.exceptions.BadRequest'>\", \"code\": 500}}\n\nDEBUG (shell:905) Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-eef9f6ec-4de7-4541-b6d8-7c9948105fb7)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 903, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 830, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/shell.py\", line 520, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 942, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 540, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/base.py\", line 169, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/dist-packages/keystoneclient/adapter.py\", line 176, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/client.py\", line 93, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-eef9f6ec-4de7-4541-b6d8-7c9948105fb7)\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-eef9f6ec-4de7-4541-b6d8-7c9948105fb7)\n\nsnat@controller:~$ dpkg -l | grep nova\nii  nova-api                             2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - API frontend\nii  nova-cert                            2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - certificate management\nii  nova-common                          2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - common files\nii  nova-conductor                       2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                     2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                      2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                       2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                          2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                    2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1541805", 
    "owner": "None", 
    "id": 1541805, 
    "index": 6017, 
    "created": "2016-02-04 11:43:47.645100+00:00", 
    "title": "nova boot gives an API error", 
    "comments": [
        {
            "content": "issue description: i am installing Liberty on Ubuntu 14.04 LTS, when i tried to launch an instance i got this error. \n\nsnat@controller:~$ nova boot --flavor m1.small --image cirros --nic net-id=b9a485f1-3e77-4422-8ce8-26413a311450 --security-group default --key-name mykey public-instance\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-4d22b711-1423-45f4-b11e-d6f596ee2703)\n\nThis is definetely a bug. \n\nuname -a \n\nLinux controller 3.13.0-76-generic #120-Ubuntu SMP Mon Jan 18 15:59:10 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n\nNova.conf\n\n[DEFAULT]\ndhcpbridge_flagfile=/etc/nova/nova.conf\ndhcpbridge=/usr/bin/nova-dhcpbridge\nlogdir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\nforce_dhcp_release=True\nlibvirt_use_virtio_for_bridges=True\nverbose=True\nec2_private_dns_show_ip=True\napi_paste_config=/etc/nova/api-paste.ini\nenabled_apis=ec2,osapi_compute,metadata\nrpc_backend = rabbit\nuth_strategy = keystone\nmy_ip = 10.0.0.11\nnetwork_api_class = nova.network.neutronv2.api.API\nsecurity_group_api = neutron\nlinuxnet_interface_driver = nova.network.linux_net.NeutronLinuxBridgeInterfaceDriver\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\nenabled_apis=osapi_compute,metadata\nverbose = True\n\n[oslo_messaging_rabbit]\nrabbit_host = controller\nrabbit_userid = openstack\nrabbit_password = RABBIT_PASS\n[database]\nconnection = mysql+pymysql://nova:NOVA_DBPASS@controller/nova\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = nova\n[vnc]\nvncserver_listen = $my_ip\nvncserver_proxyclient_address = $my_ip\n[glance]\nhost = controller\n[oslo_concurrency]\nlock_path = /var/lib/nova/tmp\n\nsnat@controller:~$ nova flavor-list\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1  | m1.tiny   | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n\nso Nova flavor list works just fine and when i try to boot it says the flavor m1.small & m1.tiny does not exist. \n\ni have run a nova debug boot \n\nsnat@controller:~$ nova --debug boot --flavor m1.small --image cirros --nic net-id=b9a485f1-3e77-4422-8ce8-26413a311450 --security-group default --key-name mykey public-instance\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:5000/v3 -H \"Accept: application/json\" -H \"User-Agent: python-keystoneclient\"\nINFO (connectionpool:205) Starting new HTTP connection (1): controller\nDEBUG (connectionpool:385) \"GET /v3 HTTP/1.1\" 200 249\nDEBUG (session:215) RESP: [200] Content-Length: 249 Vary: X-Auth-Token Keep-Alive: timeout=5, max=100 Server: Apache/2.4.7 (Ubuntu) Connection: Keep-Alive Date: Thu, 04 Feb 2016 09:22:59 GMT x-openstack-request-id: req-2f991c43-7ffa-4abe-9a1c-f1f28e614cb1 Content-Type: application/json X-Distribution: Ubuntu\nRESP BODY: {\"version\": {\"status\": \"stable\", \"updated\": \"2015-03-30T00:00:00Z\", \"media-types\": [{\"base\": \"application/json\", \"type\": \"application/vnd.openstack.identity-v3+json\"}], \"id\": \"v3.4\", \"links\": [{\"href\": \"http://controller:5000/v3/\", \"rel\": \"self\"}]}}\n\nDEBUG (base:188) Making authentication request to http://controller:5000/v3/auth/tokens\nDEBUG (connectionpool:385) \"POST /v3/auth/tokens HTTP/1.1\" 201 2799\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/ -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nINFO (connectionpool:205) Starting new HTTP connection (1): controller\nDEBUG (connectionpool:385) \"GET /v2/ HTTP/1.1\" 200 375\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 375 X-Compute-Request-Id: req-708a6ab4-cb2a-4f3d-9d61-28468f6424ea\nRESP BODY: {\"version\": {\"status\": \"SUPPORTED\", \"updated\": \"2011-01-21T11:33:21Z\", \"links\": [{\"href\": \"http://controller:8774/v2/\", \"rel\": \"self\"}, {\"href\": \"http://docs.openstack.org/\", \"type\": \"text/html\", \"rel\": \"describedby\"}], \"min_version\": \"\", \"version\": \"\", \"media-types\": [{\"base\": \"application/json\", \"type\": \"application/vnd.openstack.compute+json;version=2\"}], \"id\": \"v2.0\"}}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/images -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/images HTTP/1.1\" 200 495\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 495 X-Compute-Request-Id: req-58e7bb5f-6af1-44c9-8813-fa0acbf19980\nRESP BODY: {\"images\": [{\"id\": \"de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"rel\": \"bookmark\"}, {\"href\": \"http://controller:9292/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"name\": \"cirros\"}]}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a HTTP/1.1\" 200 676\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 676 X-Compute-Request-Id: req-a3c2b1c7-394b-4786-bd9d-428748250756\nRESP BODY: {\"image\": {\"status\": \"ACTIVE\", \"updated\": \"2016-02-03T13:16:42Z\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"rel\": \"bookmark\"}, {\"href\": \"http://controller:9292/images/de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"type\": \"application/vnd.openstack.image\", \"rel\": \"alternate\"}], \"id\": \"de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"OS-EXT-IMG-SIZE:size\": 13287936, \"name\": \"cirros\", \"created\": \"2016-02-03T13:16:41Z\", \"minDisk\": 0, \"progress\": 100, \"minRam\": 0, \"metadata\": {}}}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/m1.small -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/m1.small HTTP/1.1\" 404 81\nDEBUG (session:215) RESP: [404] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json; charset=UTF-8 Content-Length: 81 X-Compute-Request-Id: req-d3830536-79be-4790-9f9e-ca3f6f131f48\nRESP BODY: {\"itemNotFound\": {\"message\": \"Flavor m1.small could not be found.\", \"code\": 404}}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors?is_public=None -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/flavors?is_public=None HTTP/1.1\" 200 1209\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 1209 X-Compute-Request-Id: req-68fe0f82-f6be-4e68-bb88-709848000556\nRESP BODY: {\"flavors\": [{\"id\": \"1\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/1\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/1\", \"rel\": \"bookmark\"}], \"name\": \"m1.tiny\"}, {\"id\": \"2\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/2\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/2\", \"rel\": \"bookmark\"}], \"name\": \"m1.small\"}, {\"id\": \"3\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/3\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/3\", \"rel\": \"bookmark\"}], \"name\": \"m1.medium\"}, {\"id\": \"4\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/4\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/4\", \"rel\": \"bookmark\"}], \"name\": \"m1.large\"}, {\"id\": \"5\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/5\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/5\", \"rel\": \"bookmark\"}], \"name\": \"m1.xlarge\"}]}\n\nDEBUG (session:198) REQ: curl -g -i -X GET http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/2 -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\"\nDEBUG (connectionpool:385) \"GET /v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/2 HTTP/1.1\" 200 421\nDEBUG (session:215) RESP: [200] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json Content-Length: 421 X-Compute-Request-Id: req-ed87e9e8-2b18-49b2-a6d6-ccc8563c7d3e\nRESP BODY: {\"flavor\": {\"name\": \"m1.small\", \"links\": [{\"href\": \"http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/flavors/2\", \"rel\": \"self\"}, {\"href\": \"http://controller:8774/7a95c6ea567345e496a48e6ac2243b1c/flavors/2\", \"rel\": \"bookmark\"}], \"ram\": 2048, \"OS-FLV-DISABLED:disabled\": false, \"vcpus\": 1, \"swap\": \"\", \"os-flavor-access:is_public\": true, \"rxtx_factor\": 1.0, \"OS-FLV-EXT-DATA:ephemeral\": 0, \"disk\": 20, \"id\": \"2\"}}\n\nDEBUG (session:198) REQ: curl -g -i -X POST http://controller:8774/v2/7a95c6ea567345e496a48e6ac2243b1c/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}d1437835279b61c370c2ac34e6af5e3a86583436\" -d '{\"server\": {\"name\": \"public-instance\", \"imageRef\": \"de0f6ae3-c8ab-49e6-b27f-2916a3bd039a\", \"key_name\": \"mykey\", \"flavorRef\": \"2\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"b9a485f1-3e77-4422-8ce8-26413a311450\"}], \"security_groups\": [{\"name\": \"default\"}]}}'\nDEBUG (connectionpool:385) \"POST /v2/7a95c6ea567345e496a48e6ac2243b1c/servers HTTP/1.1\" 500 210\nDEBUG (session:215) RESP: [500] Date: Thu, 04 Feb 2016 09:23:00 GMT Connection: keep-alive Content-Type: application/json; charset=UTF-8 Content-Length: 210 X-Compute-Request-Id: req-eef9f6ec-4de7-4541-b6d8-7c9948105fb7\nRESP BODY: {\"computeFault\": {\"message\": \"Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class 'keystoneclient.exceptions.BadRequest'>\", \"code\": 500}}\n\nDEBUG (shell:905) Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-eef9f6ec-4de7-4541-b6d8-7c9948105fb7)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 903, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 830, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/shell.py\", line 520, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 942, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 540, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/base.py\", line 169, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/dist-packages/keystoneclient/adapter.py\", line 176, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/client.py\", line 93, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-eef9f6ec-4de7-4541-b6d8-7c9948105fb7)\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-eef9f6ec-4de7-4541-b6d8-7c9948105fb7)\n\nsnat@controller:~$ dpkg -l | grep nova\nii  nova-api                             2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - API frontend\nii  nova-cert                            2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - certificate management\nii  nova-common                          2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - common files\nii  nova-conductor                       2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                     2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                      2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                       2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                          2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                    2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API", 
            "date_created": "2016-02-04 11:43:47.645100+00:00", 
            "author": "https://api.launchpad.net/1.0/~natanam-sethu"
        }, 
        {
            "content": "", 
            "date_created": "2016-02-04 11:43:47.645100+00:00", 
            "author": "https://api.launchpad.net/1.0/~natanam-sethu"
        }, 
        {
            "content": "Here's the actual error:\n\n2016-02-04 16:59:10.745 2231 ERROR nova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-b530885b-bd1c-4532-a490-e98114328467)", 
            "date_created": "2016-02-05 04:38:53.423744+00:00", 
            "author": "https://api.launchpad.net/1.0/~auggy"
        }, 
        {
            "content": "Thanks for taking the time to file a bug! Unfortunately this like a configuration issue. Try searching the web for the error I pasted above for articles that may offer solutions. You can also try our support channels like the #openstack channel on irc.freenode.org or the mailing list. If you followed specific documentation and discover that it is inaccurate, please reopen this issue by changing the status to \"New\" and making a comment to that effect. We'll reassign it to the openstack-manuals team.", 
            "date_created": "2016-02-05 04:46:58.260367+00:00", 
            "author": "https://api.launchpad.net/1.0/~auggy"
        }
    ]
}