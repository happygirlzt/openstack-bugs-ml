{
    "status": "Invalid", 
    "last_updated": "2013-08-24 18:43:45.982993+00:00", 
    "description": "The tempest test tempest.api.compute.servers.test_list_server_filters.ListServerFiltersTestJSON is failing with an error of\n\nTraceback (most recent call last):\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/.venv/lib/python2.6/site-packages/nose/suite.py\", line 208, in run\n    self.setUp()\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/.venv/lib/python2.6/site-packages/nose/suite.py\", line 291, in setUp\n    self.setupContext(ancestor)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/.venv/lib/python2.6/site-packages/nose/suite.py\", line 314, in setupContext\n    try_run(context, names)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/.venv/lib/python2.6/site-packages/nose/util.py\", line 469, in try_run\n    return func()\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/api/compute/servers/test_list_server_filters.py\", line 68, in setUpClass\n    cls.flavor_ref_alt)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/services/compute/json/servers_client.py\", line 81, in create_server\n    resp, body = self.post('servers', post_body, self.headers)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/common/rest_client.py\", line 258, in post\n    return self.request('POST', url, headers, body)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/common/rest_client.py\", line 386, in request\n    resp, resp_body)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/common/rest_client.py\", line 436, in _error_checker\n    raise exceptions.BadRequest(resp_body)\nBadRequest: Bad request\nDetails: {u'badRequest': {u'message': u'The server could not comply with the request since it is either malformed or otherwise incorrect.', u'code': 400}}\n...\ntempest.common.rest_client: DEBUG: Response Headers: {'content-length': '438', 'location': 'http://10.20.64.99:8774/v2/26f09f199e254069a5ac892d12f5b8ae/servers/c8f70797-af0d-4f83-a2c8-ca77906caf75', 'date': 'Wed, 21 Aug 2013 12:48:00 GMT', 'x-compute-request-id': 'req-ac95f90e-5b48-4a13-9728-e90316e64e1d', 'content-type': 'application/json'}\ntempest.common.rest_client: DEBUG: Response Body: {\"server\": {\"security_groups\": [{\"name\": \"default\"}], \"OS-DCF:diskConfig\": \"MANUAL\", \"id\": \"c8f70797-af0d-4f83-a2c8-ca77906caf75\", \"links\": [{\"href\": \"http://10.20.64.99:8774/v2/26f09f199e254069a5ac892d12f5b8ae/servers/c8f70797-af0d-4f83-a2c8-ca77906caf75\", \"rel\": \"self\"}, {\"href\": \"http://10.20.64.99:8774/26f09f199e254069a5ac892d12f5b8ae/servers/c8f70797-af0d-4f83-a2c8-ca77906caf75\", \"rel\": \"bookmark\"}], \"adminPass\": \"GVtoDyWNq64z\"}}\ntempest.common.rest_client: INFO: Request: POST http://10.20.64.99:8774/v2/26f09f199e254069a5ac892d12f5b8ae/servers\ntempest.common.rest_client: DEBUG: Request Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': u'b3506e46f598401795ec277b5a3573f1'}\ntempest.common.rest_client: DEBUG: Request Body: {\"server\": {\"flavorRef\": 2, \"name\": \"server224515962\", \"imageRef\": \"493c6884-0078-4074-a547-6cb2eecb9ad8\"}}\ntempest.common.rest_client: INFO: Response Status: 400\ntempest.common.rest_client: DEBUG: Response Headers: {'date': 'Wed, 21 Aug 2013 12:48:01 GMT', 'content-length': '141', 'content-type': 'application/json; charset=UTF-8', 'x-compute-request-id': 'req-15c5913c-196f-4411-9da0-8d865d13ced1'}\ntempest.common.rest_client: DEBUG: Response Body: {\"badRequest\": {\"message\": \"The server could not comply with the request since it is either malformed or otherwise incorrect.\", \"code\": 400}}\n\nThe nova api.log contains the following stack trace.\n\n2013-08-21 12:48:01.077 ERROR nova.api.openstack.wsgi [req-15c5913c-196f-4411-9da0-8d865d13ced1 d28329ec238249c98d4c5511762a88dd 26f09f199e254069a5ac892d\n12f5b8ae] Exception handling resource: exceptions must be old-style classes or derived from BaseException, not NoneType\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi Traceback (most recent call last):\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 942, in _process_s\ntack\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     action_result = self.dispatch(meth, request, action_args)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 1022, in dispatch\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     return method(req=request, **action_args)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/compute/servers.py\", line 898, in\n create\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     scheduler_hints=scheduler_hints)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/hooks.py\", line 85, in inner\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     rv = f(*args, **kwargs)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 961, in create\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     scheduler_hints=scheduler_hints)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 675, in _create_instance\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     reservation_id, scheduler_hints)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 633, in _validate_and_provision_instance\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     QUOTAS.rollback(context, quota_reservations)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     self.gen.next()\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 615, in _validate_and_provision_instance\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     num_instances, i)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 900, in create_db_entry_for_new_instance\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     instance = self.db.instance_create(context, instance)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/db/api.py\", line 575, in instance_create\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     return IMPL.instance_create(context, values)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 113, in wrapper\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     return f(*args, **kwargs)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 1476, in instance_create\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     instance_ref.save(session=session)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/orm/session.py\", line 405, in __exit__\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     raise\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi TypeError: exceptions must be old-style classes or derived from BaseException, not NoneType\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi \n2013-08-21 12:48:01.086 INFO nova.osapi_compute.wsgi.server [req-15c5913c-196f-4411-9da0-8d865d13ced1 d28329ec238249c98d4c5511762a88dd 26f09f199e254069a5ac892d12f5b8ae] 10.20.112.199 \"POST /v2/26f09f199e254069a5ac892d12f5b8ae/servers HTTP/1.1\" status: 400 len: 338 time: 0.8252380\n\nWhy is this happening and how do I further debug it?\n\nThis is on grizzly-1.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1215198", 
    "owner": "None", 
    "id": 1215198, 
    "index": 3996, 
    "created": "2013-08-21 23:55:05.578856+00:00", 
    "title": "failed to create instance", 
    "comments": [
        {
            "content": "The tempest test tempest.api.compute.servers.test_list_server_filters.ListServerFiltersTestJSON is failing with an error of\n\nTraceback (most recent call last):\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/.venv/lib/python2.6/site-packages/nose/suite.py\", line 208, in run\n    self.setUp()\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/.venv/lib/python2.6/site-packages/nose/suite.py\", line 291, in setUp\n    self.setupContext(ancestor)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/.venv/lib/python2.6/site-packages/nose/suite.py\", line 314, in setupContext\n    try_run(context, names)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/.venv/lib/python2.6/site-packages/nose/util.py\", line 469, in try_run\n    return func()\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/api/compute/servers/test_list_server_filters.py\", line 68, in setUpClass\n    cls.flavor_ref_alt)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/services/compute/json/servers_client.py\", line 81, in create_server\n    resp, body = self.post('servers', post_body, self.headers)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/common/rest_client.py\", line 258, in post\n    return self.request('POST', url, headers, body)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/common/rest_client.py\", line 386, in request\n    resp, resp_body)\n  File \"/var/lib/jenkins/workspace/OpenStack-Tempest/tempest/common/rest_client.py\", line 436, in _error_checker\n    raise exceptions.BadRequest(resp_body)\nBadRequest: Bad request\nDetails: {u'badRequest': {u'message': u'The server could not comply with the request since it is either malformed or otherwise incorrect.', u'code': 400}}\n...\ntempest.common.rest_client: DEBUG: Response Headers: {'content-length': '438', 'location': 'http://10.20.64.99:8774/v2/26f09f199e254069a5ac892d12f5b8ae/servers/c8f70797-af0d-4f83-a2c8-ca77906caf75', 'date': 'Wed, 21 Aug 2013 12:48:00 GMT', 'x-compute-request-id': 'req-ac95f90e-5b48-4a13-9728-e90316e64e1d', 'content-type': 'application/json'}\ntempest.common.rest_client: DEBUG: Response Body: {\"server\": {\"security_groups\": [{\"name\": \"default\"}], \"OS-DCF:diskConfig\": \"MANUAL\", \"id\": \"c8f70797-af0d-4f83-a2c8-ca77906caf75\", \"links\": [{\"href\": \"http://10.20.64.99:8774/v2/26f09f199e254069a5ac892d12f5b8ae/servers/c8f70797-af0d-4f83-a2c8-ca77906caf75\", \"rel\": \"self\"}, {\"href\": \"http://10.20.64.99:8774/26f09f199e254069a5ac892d12f5b8ae/servers/c8f70797-af0d-4f83-a2c8-ca77906caf75\", \"rel\": \"bookmark\"}], \"adminPass\": \"GVtoDyWNq64z\"}}\ntempest.common.rest_client: INFO: Request: POST http://10.20.64.99:8774/v2/26f09f199e254069a5ac892d12f5b8ae/servers\ntempest.common.rest_client: DEBUG: Request Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': u'b3506e46f598401795ec277b5a3573f1'}\ntempest.common.rest_client: DEBUG: Request Body: {\"server\": {\"flavorRef\": 2, \"name\": \"server224515962\", \"imageRef\": \"493c6884-0078-4074-a547-6cb2eecb9ad8\"}}\ntempest.common.rest_client: INFO: Response Status: 400\ntempest.common.rest_client: DEBUG: Response Headers: {'date': 'Wed, 21 Aug 2013 12:48:01 GMT', 'content-length': '141', 'content-type': 'application/json; charset=UTF-8', 'x-compute-request-id': 'req-15c5913c-196f-4411-9da0-8d865d13ced1'}\ntempest.common.rest_client: DEBUG: Response Body: {\"badRequest\": {\"message\": \"The server could not comply with the request since it is either malformed or otherwise incorrect.\", \"code\": 400}}\n\nThe nova api.log contains the following stack trace.\n\n2013-08-21 12:48:01.077 ERROR nova.api.openstack.wsgi [req-15c5913c-196f-4411-9da0-8d865d13ced1 d28329ec238249c98d4c5511762a88dd 26f09f199e254069a5ac892d\n12f5b8ae] Exception handling resource: exceptions must be old-style classes or derived from BaseException, not NoneType\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi Traceback (most recent call last):\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 942, in _process_s\ntack\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     action_result = self.dispatch(meth, request, action_args)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 1022, in dispatch\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     return method(req=request, **action_args)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/compute/servers.py\", line 898, in\n create\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     scheduler_hints=scheduler_hints)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/hooks.py\", line 85, in inner\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     rv = f(*args, **kwargs)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 961, in create\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     scheduler_hints=scheduler_hints)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 675, in _create_instance\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     reservation_id, scheduler_hints)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 633, in _validate_and_provision_instance\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     QUOTAS.rollback(context, quota_reservations)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     self.gen.next()\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 615, in _validate_and_provision_instance\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     num_instances, i)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 900, in create_db_entry_for_new_instance\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     instance = self.db.instance_create(context, instance)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/db/api.py\", line 575, in instance_create\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     return IMPL.instance_create(context, values)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 113, in wrapper\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     return f(*args, **kwargs)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 1476, in instance_create\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     instance_ref.save(session=session)\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/orm/session.py\", line 405, in __exit__\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi     raise\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi TypeError: exceptions must be old-style classes or derived from BaseException, not NoneType\n2013-08-21 12:48:01.077 99505 TRACE nova.api.openstack.wsgi \n2013-08-21 12:48:01.086 INFO nova.osapi_compute.wsgi.server [req-15c5913c-196f-4411-9da0-8d865d13ced1 d28329ec238249c98d4c5511762a88dd 26f09f199e254069a5ac892d12f5b8ae] 10.20.112.199 \"POST /v2/26f09f199e254069a5ac892d12f5b8ae/servers HTTP/1.1\" status: 400 len: 338 time: 0.8252380\n\nWhy is this happening and how do I further debug it?\n\nThis is on grizzly-1.", 
            "date_created": "2013-08-21 23:55:05.578856+00:00", 
            "author": "https://api.launchpad.net/1.0/~jessica-blackburn"
        }, 
        {
            "content": "This isn't a bug per se, this is more of a support request, and for that you should go to the mailing list:\n\nhttps://wiki.openstack.org/wiki/Mailing_Lists\n\nAre you using tempest from the same time as grizzly-1?", 
            "date_created": "2013-08-24 18:43:45.434853+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ]
}