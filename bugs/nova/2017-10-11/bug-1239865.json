{
    "status": "Invalid", 
    "last_updated": "2013-10-14 23:47:16.151524+00:00", 
    "description": "Running a command such as 'nova keypair-list' returns a 500. The nova/api.log file shows the following. Editing the code to use iso8601.Utc() instead of iso8601.iso8601.Utc() corrects the problem. This is in the Havana release on RHEL(-ish) 6.\n\n2013-10-14 14:58:50.170 21371 ERROR nova.api.openstack [req-41ef110f-b3fe-4809-a479-59aa94c4c463 cd60cba79d3548bc90b7dee9f2e0ec0d f74b35bfadfb4e0b8141e10ee0d3f6ef] Caught error: 'module' object has no attribute 'iso8601'\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack Traceback (most recent call last):\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/__init__.py\", line 119, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/request.py\", line 1296, in send\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/request.py\", line 1260, in call_application\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 144, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/keystoneclient/middleware/auth_token.py\", line 539, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 144, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 144, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py\", line 131, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 144, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 130, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 195, in call_func\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 917, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     content_type, body, accept)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 976, in _process_stack\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 1057, in dispatch\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return method(req=request, **action_args)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/compute/contrib/keypairs.py\", line 147, in index\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     key_pairs = self.api.get_key_pairs(context, context.user_id)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 3284, in get_key_pairs\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return keypair_obj.KeyPairList.get_by_user(context, user_id)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 108, in wrapper\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     result = fn(cls, context, *args, **kwargs)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/keypair.py\", line 65, in get_by_user\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return base.obj_make_list(context, KeyPairList(), KeyPair, db_keypairs)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 569, in obj_make_list\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     **extra_args)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/keypair.py\", line 36, in _from_db_object\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     keypair[key] = db_keypair[key]\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 384, in __setitem__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     setattr(self, name, value)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 66, in setter\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return setattr(self, get_attrname(name), typefn(value))\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/utils.py\", line 47, in datetime_or_str_or_none\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return datetime_or_none(val)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/utils.py\", line 36, in datetime_or_none\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return dt.replace(tzinfo=iso8601.iso8601.Utc())\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack AttributeError: 'module' object has no attribute 'iso8601'", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1239865", 
    "owner": "None", 
    "id": 1239865, 
    "index": 4180, 
    "created": "2013-10-14 22:05:46.452889+00:00", 
    "title": "Nova API services uses python iso8601 module incorrectly causing a traceback", 
    "comments": [
        {
            "content": "Running a command such as 'nova keypair-list' returns a 500. The nova/api.log file shows the following. Editing the code to use iso8601.Utc() instead of iso8601.iso8601.Utc() corrects the problem. This is in the Havana release on RHEL(-ish) 6.\n\n2013-10-14 14:58:50.170 21371 ERROR nova.api.openstack [req-41ef110f-b3fe-4809-a479-59aa94c4c463 cd60cba79d3548bc90b7dee9f2e0ec0d f74b35bfadfb4e0b8141e10ee0d3f6ef] Caught error: 'module' object has no attribute 'iso8601'\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack Traceback (most recent call last):\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/__init__.py\", line 119, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/request.py\", line 1296, in send\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/request.py\", line 1260, in call_application\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 144, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/keystoneclient/middleware/auth_token.py\", line 539, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 144, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 144, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py\", line 131, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 144, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 130, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/webob/dec.py\", line 195, in call_func\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 917, in __call__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     content_type, body, accept)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 976, in _process_stack\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py\", line 1057, in dispatch\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return method(req=request, **action_args)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/api/openstack/compute/contrib/keypairs.py\", line 147, in index\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     key_pairs = self.api.get_key_pairs(context, context.user_id)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/compute/api.py\", line 3284, in get_key_pairs\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return keypair_obj.KeyPairList.get_by_user(context, user_id)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 108, in wrapper\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     result = fn(cls, context, *args, **kwargs)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/keypair.py\", line 65, in get_by_user\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return base.obj_make_list(context, KeyPairList(), KeyPair, db_keypairs)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 569, in obj_make_list\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     **extra_args)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/keypair.py\", line 36, in _from_db_object\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     keypair[key] = db_keypair[key]\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 384, in __setitem__\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     setattr(self, name, value)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 66, in setter\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return setattr(self, get_attrname(name), typefn(value))\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/utils.py\", line 47, in datetime_or_str_or_none\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return datetime_or_none(val)\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova/objects/utils.py\", line 36, in datetime_or_none\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack     return dt.replace(tzinfo=iso8601.iso8601.Utc())\n2013-10-14 14:58:50.170 21371 TRACE nova.api.openstack AttributeError: 'module' object has no attribute 'iso8601'", 
            "date_created": "2013-10-14 22:05:46.452889+00:00", 
            "author": "https://api.launchpad.net/1.0/~andrew-agaffney"
        }, 
        {
            "content": "This was an environmental problem. Disregard.", 
            "date_created": "2013-10-14 23:47:11.908234+00:00", 
            "author": "https://api.launchpad.net/1.0/~andrew-agaffney"
        }
    ]
}