{
    "status": "Fix Released", 
    "last_updated": "2011-09-22 13:12:49.961200+00:00", 
    "description": "I was playing with floating IP OS API extension with curl with nova trunk (rev 1417).\nI was able to allocate IP on my project but when I tried to release it, I get this error:\n\n\n2011-08-12 11:14:23,326 DEBUG routes.middleware [-] Matched DELETE /os-floating-ips/1 from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:100\n2011-08-12 11:14:23,437 DEBUG routes.middleware [-] Route path: '/os-floating-ips/:(id)', defaults: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:102\n2011-08-12 11:14:23,438 DEBUG routes.middleware [-] Match dict: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>, 'id': u'1'} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:103\n2011-08-12 11:14:23,438 INFO nova.api.openstack.wsgi [-] DELETE http://127.0.0.1:8774/v1.1/os-floating-ips/1\n2011-08-12 11:14:23,438 DEBUG nova.api.openstack.wsgi [-] Unrecognized Content-Type provided in request from (pid=27933) deserialize_body /usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py:231\n2011-08-12 11:14:23,456 ERROR nova.api.openstack.contrib.floating_ips [-] Error disassociating fixed_ip disassociate() takes exactly 3 arguments (4 given)\n(nova.api.openstack.contrib.floating_ips): TRACE: Traceback (most recent call last):\n(nova.api.openstack.contrib.floating_ips): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/contrib/floating_ips.py\", line 108, in delete\n(nova.api.openstack.contrib.floating_ips): TRACE:     self.disassociate(req, id, '')\n(nova.api.openstack.contrib.floating_ips): TRACE: TypeError: disassociate() takes exactly 3 arguments (4 given)\n(nova.api.openstack.contrib.floating_ips): TRACE: \n2011-08-12 11:14:23,467 ERROR nova.api.openstack [-] Erreur intercept\u00e9e : (ProgrammingError) (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \\'\\'project_id\\': \"\\'project_orange\\'\", \\'deleted\\': \\'0\\', \\'fixed_ip_id\\': \\'NULL\\', \\'create\\' at line 3') 'SELECT floating_ips.created_at AS floating_ips_created_at, floating_ips.updated_at AS floating_ips_updated_at, floating_ips.deleted_at AS floating_ips_deleted_at, floating_ips.deleted AS floating_ips_deleted, floating_ips.id AS floating_ips_id, floating_ips.address AS floating_ips_address, floating_ips.fixed_ip_id AS floating_ips_fixed_ip_id, floating_ips.project_id AS floating_ips_project_id, floating_ips.host AS floating_ips_host, floating_ips.auto_assigned AS floating_ips_auto_assigned, networks_1.created_at AS networks_1_created_at, networks_1.updated_at AS networks_1_updated_at, networks_1.deleted_at AS networks_1_deleted_at, networks_1.deleted AS networks_1_deleted, networks_1.id AS networks_1_id, networks_1.label AS networks_1_label, networks_1.injected AS networks_1_injected, networks_1.cidr AS networks_1_cidr, networks_1.cidr_v6 AS networks_1_cidr_v6, networks_1.multi_host AS networks_1_multi_host, networks_1.gateway_v6 AS networks_1_gateway_v6, networks_1.netmask_v6 AS networks_1_netmask_v6, networks_1.netmask AS networks_1_netmask, networks_1.bridge AS networks_1_bridge, networks_1.bridge_interface AS networks_1_bridge_interface, networks_1.gateway AS networks_1_gateway, networks_1.broadcast AS networks_1_broadcast, networks_1.dns1 AS networks_1_dns1, networks_1.dns2 AS networks_1_dns2, networks_1.vlan AS networks_1_vlan, networks_1.vpn_public_address AS networks_1_vpn_public_address, networks_1.vpn_public_port AS networks_1_vpn_public_port, networks_1.vpn_private_address AS networks_1_vpn_private_address, networks_1.dhcp_start AS networks_1_dhcp_start, networks_1.project_id AS networks_1_project_id, networks_1.host AS networks_1_host, fixed_ips_1.created_at AS fixed_ips_1_created_at, fixed_ips_1.updated_at AS fixed_ips_1_updated_at, fixed_ips_1.deleted_at AS fixed_ips_1_deleted_at, fixed_ips_1.deleted AS fixed_ips_1_deleted, fixed_ips_1.id AS fixed_ips_1_id, fixed_ips_1.address AS fixed_ips_1_address, fixed_ips_1.network_id AS fixed_ips_1_network_id, fixed_ips_1.virtual_interface_id AS fixed_ips_1_virtual_interface_id, fixed_ips_1.instance_id AS fixed_ips_1_instance_id, fixed_ips_1.allocated AS fixed_ips_1_allocated, fixed_ips_1.leased AS fixed_ips_1_leased, fixed_ips_1.reserved AS fixed_ips_1_reserved, fixed_ips_1.host AS fixed_ips_1_host \\nFROM floating_ips LEFT OUTER JOIN fixed_ips AS fixed_ips_1 ON floating_ips.fixed_ip_id = fixed_ips_1.id AND floating_ips.deleted = %s LEFT OUTER JOIN networks AS networks_1 ON networks_1.id = fixed_ips_1.network_id \\nWHERE floating_ips.address = %s AND floating_ips.deleted = %s \\n LIMIT 0, 1' (False, {'deleted_at': None, 'deleted': False, 'fixed_ip_id': None, 'created_at': datetime.datetime(2011, 8, 12, 9, 1, 41), 'updated_at': datetime.datetime(2011, 8, 12, 9, 1, 45), 'id': 1L, 'host': None, 'fixed_ip': None, 'address': '10.193.175.30', 'project_id': 'project_orange', 'auto_assigned': False}, False)\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/__init__.py\", line 64, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1053, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1022, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py\", line 490, in __call__\n(nova.api.openstack): TRACE:     action_result = self.dispatch(request, action, args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py\", line 518, in dispatch\n(nova.api.openstack): TRACE:     return controller_method(req=request, **action_args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/contrib/floating_ips.py\", line 112, in delete\n(nova.api.openstack): TRACE:     self.network_api.release_floating_ip(context, address=ip)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/network/api.py\", line 66, in release_floating_ip\n(nova.api.openstack): TRACE:     floating_ip = self.db.floating_ip_get_by_address(context, address)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/api.py\", line 287, in floating_ip_get_by_address\n(nova.api.openstack): TRACE:     return IMPL.floating_ip_get_by_address(context, address)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/sqlalchemy/api.py\", line 117, in wrapper\n(nova.api.openstack): TRACE:     return f(*args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/sqlalchemy/api.py\", line 635, in floating_ip_get_by_address\n(nova.api.openstack): TRACE:     filter_by(deleted=can_read_deleted(context)).\\\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1535, in first\n(nova.api.openstack): TRACE:     ret = list(self[0:1])\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1444, in __getitem__\n(nova.api.openstack): TRACE:     return list(res)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1604, in __iter__\n(nova.api.openstack): TRACE:     return self._execute_and_instances(context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1609, in _execute_and_instances\n(nova.api.openstack): TRACE:     mapper=self._mapper_zero_or_none())\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 701, in execute\n(nova.api.openstack): TRACE:     clause, params or {})\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1194, in execute\n(nova.api.openstack): TRACE:     params)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1274, in _execute_clauseelement\n(nova.api.openstack): TRACE:     return self.__execute_context(context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1305, in __execute_context\n(nova.api.openstack): TRACE:     context.parameters[0], context=context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1404, in _cursor_execute\n(nova.api.openstack): TRACE:     context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1397, in _cursor_execute\n(nova.api.openstack): TRACE:     context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 299, in do_execute\n(nova.api.openstack): TRACE:     cursor.execute(statement, parameters)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/MySQLdb/cursors.py\", line 166, in execute\n(nova.api.openstack): TRACE:     self.errorhandler(self, exc, value)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/MySQLdb/connections.py\", line 35, in defaulterrorhandler\n(nova.api.openstack): TRACE:     raise errorclass, errorvalue\n(nova.api.openstack): TRACE: ProgrammingError: (ProgrammingError) (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \\'\\'project_id\\': \"\\'project_orange\\'\", \\'deleted\\': \\'0\\', \\'fixed_ip_id\\': \\'NULL\\', \\'create\\' at line 3') 'SELECT floating_ips.created_at AS floating_ips_created_at, floating_ips.updated_at AS floating_ips_updated_at, floating_ips.deleted_at AS floating_ips_deleted_at, floating_ips.deleted AS floating_ips_deleted, floating_ips.id AS floating_ips_id, floating_ips.address AS floating_ips_address, floating_ips.fixed_ip_id AS floating_ips_fixed_ip_id, floating_ips.project_id AS floating_ips_project_id, floating_ips.host AS floating_ips_host, floating_ips.auto_assigned AS floating_ips_auto_assigned, networks_1.created_at AS networks_1_created_at, networks_1.updated_at AS networks_1_updated_at, networks_1.deleted_at AS networks_1_deleted_at, networks_1.deleted AS networks_1_deleted, networks_1.id AS networks_1_id, networks_1.label AS networks_1_label, networks_1.injected AS networks_1_injected, networks_1.cidr AS networks_1_cidr, networks_1.cidr_v6 AS networks_1_cidr_v6, networks_1.multi_host AS networks_1_multi_host, networks_1.gateway_v6 AS networks_1_gateway_v6, networks_1.netmask_v6 AS networks_1_netmask_v6, networks_1.netmask AS networks_1_netmask, networks_1.bridge AS networks_1_bridge, networks_1.bridge_interface AS networks_1_bridge_interface, networks_1.gateway AS networks_1_gateway, networks_1.broadcast AS networks_1_broadcast, networks_1.dns1 AS networks_1_dns1, networks_1.dns2 AS networks_1_dns2, networks_1.vlan AS networks_1_vlan, networks_1.vpn_public_address AS networks_1_vpn_public_address, networks_1.vpn_public_port AS networks_1_vpn_public_port, networks_1.vpn_private_address AS networks_1_vpn_private_address, networks_1.dhcp_start AS networks_1_dhcp_start, networks_1.project_id AS networks_1_project_id, networks_1.host AS networks_1_host, fixed_ips_1.created_at AS fixed_ips_1_created_at, fixed_ips_1.updated_at AS fixed_ips_1_updated_at, fixed_ips_1.deleted_at AS fixed_ips_1_deleted_at, fixed_ips_1.deleted AS fixed_ips_1_deleted, fixed_ips_1.id AS fixed_ips_1_id, fixed_ips_1.address AS fixed_ips_1_address, fixed_ips_1.network_id AS fixed_ips_1_network_id, fixed_ips_1.virtual_interface_id AS fixed_ips_1_virtual_interface_id, fixed_ips_1.instance_id AS fixed_ips_1_instance_id, fixed_ips_1.allocated AS fixed_ips_1_allocated, fixed_ips_1.leased AS fixed_ips_1_leased, fixed_ips_1.reserved AS fixed_ips_1_reserved, fixed_ips_1.host AS fixed_ips_1_host \\nFROM floating_ips LEFT OUTER JOIN fixed_ips AS fixed_ips_1 ON floating_ips.fixed_ip_id = fixed_ips_1.id AND floating_ips.deleted = %s LEFT OUTER JOIN networks AS networks_1 ON networks_1.id = fixed_ips_1.network_id \\nWHERE floating_ips.address = %s AND floating_ips.deleted = %s \\n LIMIT 0, 1' (False, {'deleted_at': None, 'deleted': False, 'fixed_ip_id': None, 'created_at': datetime.datetime(2011, 8, 12, 9, 1, 41), 'updated_at': datetime.datetime(2011, 8, 12, 9, 1, 45), 'id': 1L, 'host': None, 'fixed_ip': None, 'address': '10.193.175.30', 'project_id': 'project_orange', 'auto_assigned': False}, False)\n(nova.api.openstack): TRACE: \n2011-08-12 11:14:35,617 DEBUG routes.middleware [-] Matched GET /os-floating-ips from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:100\n2011-08-12 11:14:35,617 DEBUG routes.middleware [-] Route path: '/os-floating-ips', defaults: {'action': u'index', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:102\n2011-08-12 11:14:35,618 DEBUG routes.middleware [-] Match dict: {'action': u'index', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:103\n2011-08-12 11:14:35,618 INFO nova.api.openstack.wsgi [-] GET http://127.0.0.1:8774/v1.1/os-floating-ips\n2011-08-12 11:14:35,618 DEBUG nova.api.openstack.wsgi [-] Unrecognized Content-Type provided in request from (pid=27933) deserialize_body /usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py:231\n2011-08-12 11:14:35,634 INFO nova.api.openstack.wsgi [-] http://127.0.0.1:8774/v1.1/os-floating-ips returned with HTTP 200\n2011-08-12 11:14:50,045 DEBUG routes.middleware [-] Matched DELETE /os-floating-ips/1 from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:100\n2011-08-12 11:14:50,045 DEBUG routes.middleware [-] Route path: '/os-floating-ips/:(id)', defaults: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:102\n2011-08-12 11:14:50,045 DEBUG routes.middleware [-] Match dict: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>, 'id': u'1'} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:103\n2011-08-12 11:14:50,046 INFO nova.api.openstack.wsgi [-] DELETE http://127.0.0.1:8774/v1.1/os-floating-ips/1\n2011-08-12 11:14:50,046 DEBUG nova.api.openstack.wsgi [-] Unrecognized Content-Type provided in request from (pid=27933) deserialize_body /usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py:231\n2011-08-12 11:14:50,062 ERROR nova.api.openstack.contrib.floating_ips [-] Error disassociating fixed_ip disassociate() takes exactly 3 arguments (4 given)\n(nova.api.openstack.contrib.floating_ips): TRACE: Traceback (most recent call last):\n(nova.api.openstack.contrib.floating_ips): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/contrib/floating_ips.py\", line 108, in delete\n(nova.api.openstack.contrib.floating_ips): TRACE:     self.disassociate(req, id, '')\n(nova.api.openstack.contrib.floating_ips): TRACE: TypeError: disassociate() takes exactly 3 arguments (4 given)\n(nova.api.openstack.contrib.floating_ips): TRACE: \n2011-08-12 11:14:50,074 ERROR nova.api.openstack [-] Erreur intercept\u00e9e : (ProgrammingError) (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \\'\\'project_id\\': \"\\'project_orange\\'\", \\'deleted\\': \\'0\\', \\'fixed_ip_id\\': \\'NULL\\', \\'create\\' at line 3') 'SELECT floating_ips.created_at AS floating_ips_created_at, floating_ips.updated_at AS floating_ips_updated_at, floating_ips.deleted_at AS floating_ips_deleted_at, floating_ips.deleted AS floating_ips_deleted, floating_ips.id AS floating_ips_id, floating_ips.address AS floating_ips_address, floating_ips.fixed_ip_id AS floating_ips_fixed_ip_id, floating_ips.project_id AS floating_ips_project_id, floating_ips.host AS floating_ips_host, floating_ips.auto_assigned AS floating_ips_auto_assigned, networks_1.created_at AS networks_1_created_at, networks_1.updated_at AS networks_1_updated_at, networks_1.deleted_at AS networks_1_deleted_at, networks_1.deleted AS networks_1_deleted, networks_1.id AS networks_1_id, networks_1.label AS networks_1_label, networks_1.injected AS networks_1_injected, networks_1.cidr AS networks_1_cidr, networks_1.cidr_v6 AS networks_1_cidr_v6, networks_1.multi_host AS networks_1_multi_host, networks_1.gateway_v6 AS networks_1_gateway_v6, networks_1.netmask_v6 AS networks_1_netmask_v6, networks_1.netmask AS networks_1_netmask, networks_1.bridge AS networks_1_bridge, networks_1.bridge_interface AS networks_1_bridge_interface, networks_1.gateway AS networks_1_gateway, networks_1.broadcast AS networks_1_broadcast, networks_1.dns1 AS networks_1_dns1, networks_1.dns2 AS networks_1_dns2, networks_1.vlan AS networks_1_vlan, networks_1.vpn_public_address AS networks_1_vpn_public_address, networks_1.vpn_public_port AS networks_1_vpn_public_port, networks_1.vpn_private_address AS networks_1_vpn_private_address, networks_1.dhcp_start AS networks_1_dhcp_start, networks_1.project_id AS networks_1_project_id, networks_1.host AS networks_1_host, fixed_ips_1.created_at AS fixed_ips_1_created_at, fixed_ips_1.updated_at AS fixed_ips_1_updated_at, fixed_ips_1.deleted_at AS fixed_ips_1_deleted_at, fixed_ips_1.deleted AS fixed_ips_1_deleted, fixed_ips_1.id AS fixed_ips_1_id, fixed_ips_1.address AS fixed_ips_1_address, fixed_ips_1.network_id AS fixed_ips_1_network_id, fixed_ips_1.virtual_interface_id AS fixed_ips_1_virtual_interface_id, fixed_ips_1.instance_id AS fixed_ips_1_instance_id, fixed_ips_1.allocated AS fixed_ips_1_allocated, fixed_ips_1.leased AS fixed_ips_1_leased, fixed_ips_1.reserved AS fixed_ips_1_reserved, fixed_ips_1.host AS fixed_ips_1_host \\nFROM floating_ips LEFT OUTER JOIN fixed_ips AS fixed_ips_1 ON floating_ips.fixed_ip_id = fixed_ips_1.id AND floating_ips.deleted = %s LEFT OUTER JOIN networks AS networks_1 ON networks_1.id = fixed_ips_1.network_id \\nWHERE floating_ips.address = %s AND floating_ips.deleted = %s \\n LIMIT 0, 1' (False, {'deleted_at': None, 'deleted': False, 'fixed_ip_id': None, 'created_at': datetime.datetime(2011, 8, 12, 9, 1, 41), 'updated_at': datetime.datetime(2011, 8, 12, 9, 1, 45), 'id': 1L, 'host': None, 'fixed_ip': None, 'address': '10.193.175.30', 'project_id': 'project_orange', 'auto_assigned': False}, False)\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/__init__.py\", line 64, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1053, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1022, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py\", line 490, in __call__\n(nova.api.openstack): TRACE:     action_result = self.dispatch(request, action, args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py\", line 518, in dispatch\n(nova.api.openstack): TRACE:     return controller_method(req=request, **action_args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/contrib/floating_ips.py\", line 112, in delete\n(nova.api.openstack): TRACE:     self.network_api.release_floating_ip(context, address=ip)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/network/api.py\", line 66, in release_floating_ip\n(nova.api.openstack): TRACE:     floating_ip = self.db.floating_ip_get_by_address(context, address)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/api.py\", line 287, in floating_ip_get_by_address\n(nova.api.openstack): TRACE:     return IMPL.floating_ip_get_by_address(context, address)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/sqlalchemy/api.py\", line 117, in wrapper\n(nova.api.openstack): TRACE:     return f(*args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/sqlalchemy/api.py\", line 635, in floating_ip_get_by_address\n(nova.api.openstack): TRACE:     filter_by(deleted=can_read_deleted(context)).\\\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1535, in first\n(nova.api.openstack): TRACE:     ret = list(self[0:1])\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1444, in __getitem__\n(nova.api.openstack): TRACE:     return list(res)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1604, in __iter__\n(nova.api.openstack): TRACE:     return self._execute_and_instances(context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1609, in _execute_and_instances\n(nova.api.openstack): TRACE:     mapper=self._mapper_zero_or_none())\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 701, in execute\n(nova.api.openstack): TRACE:     clause, params or {})\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1194, in execute\n(nova.api.openstack): TRACE:     params)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1274, in _execute_clauseelement\n(nova.api.openstack): TRACE:     return self.__execute_context(context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1305, in __execute_context\n(nova.api.openstack): TRACE:     context.parameters[0], context=context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1404, in _cursor_execute\n(nova.api.openstack): TRACE:     context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1397, in _cursor_execute\n(nova.api.openstack): TRACE:     context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 299, in do_execute\n(nova.api.openstack): TRACE:     cursor.execute(statement, parameters)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/MySQLdb/cursors.py\", line 166, in execute\n(nova.api.openstack): TRACE:     self.errorhandler(self, exc, value)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/MySQLdb/connections.py\", line 35, in defaulterrorhandler\n(nova.api.openstack): TRACE:     raise errorclass, errorvalue\n(nova.api.openstack): TRACE: ProgrammingError: (ProgrammingError) (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \\'\\'project_id\\': \"\\'project_orange\\'\", \\'deleted\\': \\'0\\', \\'fixed_ip_id\\': \\'NULL\\', \\'create\\' at line 3') 'SELECT floating_ips.created_at AS floating_ips_created_at, floating_ips.updated_at AS floating_ips_updated_at, floating_ips.deleted_at AS floating_ips_deleted_at, floating_ips.deleted AS floating_ips_deleted, floating_ips.id AS floating_ips_id, floating_ips.address AS floating_ips_address, floating_ips.fixed_ip_id AS floating_ips_fixed_ip_id, floating_ips.project_id AS floating_ips_project_id, floating_ips.host AS floating_ips_host, floating_ips.auto_assigned AS floating_ips_auto_assigned, networks_1.created_at AS networks_1_created_at, networks_1.updated_at AS networks_1_updated_at, networks_1.deleted_at AS networks_1_deleted_at, networks_1.deleted AS networks_1_deleted, networks_1.id AS networks_1_id, networks_1.label AS networks_1_label, networks_1.injected AS networks_1_injected, networks_1.cidr AS networks_1_cidr, networks_1.cidr_v6 AS networks_1_cidr_v6, networks_1.multi_host AS networks_1_multi_host, networks_1.gateway_v6 AS networks_1_gateway_v6, networks_1.netmask_v6 AS networks_1_netmask_v6, networks_1.netmask AS networks_1_netmask, networks_1.bridge AS networks_1_bridge, networks_1.bridge_interface AS networks_1_bridge_interface, networks_1.gateway AS networks_1_gateway, networks_1.broadcast AS networks_1_broadcast, networks_1.dns1 AS networks_1_dns1, networks_1.dns2 AS networks_1_dns2, networks_1.vlan AS networks_1_vlan, networks_1.vpn_public_address AS networks_1_vpn_public_address, networks_1.vpn_public_port AS networks_1_vpn_public_port, networks_1.vpn_private_address AS networks_1_vpn_private_address, networks_1.dhcp_start AS networks_1_dhcp_start, networks_1.project_id AS networks_1_project_id, networks_1.host AS networks_1_host, fixed_ips_1.created_at AS fixed_ips_1_created_at, fixed_ips_1.updated_at AS fixed_ips_1_updated_at, fixed_ips_1.deleted_at AS fixed_ips_1_deleted_at, fixed_ips_1.deleted AS fixed_ips_1_deleted, fixed_ips_1.id AS fixed_ips_1_id, fixed_ips_1.address AS fixed_ips_1_address, fixed_ips_1.network_id AS fixed_ips_1_network_id, fixed_ips_1.virtual_interface_id AS fixed_ips_1_virtual_interface_id, fixed_ips_1.instance_id AS fixed_ips_1_instance_id, fixed_ips_1.allocated AS fixed_ips_1_allocated, fixed_ips_1.leased AS fixed_ips_1_leased, fixed_ips_1.reserved AS fixed_ips_1_reserved, fixed_ips_1.host AS fixed_ips_1_host \\nFROM floating_ips LEFT OUTER JOIN fixed_ips AS fixed_ips_1 ON floating_ips.fixed_ip_id = fixed_ips_1.id AND floating_ips.deleted = %s LEFT OUTER JOIN networks AS networks_1 ON networks_1.id = fixed_ips_1.network_id \\nWHERE floating_ips.address = %s AND floating_ips.deleted = %s \\n LIMIT 0, 1' (False, {'deleted_at': None, 'deleted': False, 'fixed_ip_id': None, 'created_at': datetime.datetime(2011, 8, 12, 9, 1, 41), 'updated_at': datetime.datetime(2011, 8, 12, 9, 1, 45), 'id': 1L, 'host': None, 'fixed_ip': None, 'address': '10.193.175.30', 'project_id': 'project_orange', 'auto_assigned': False}, False)\n(nova.api.openstack): TRACE: \n\n\nI don't know if I made mistakes with curl commands or if it's a bug.", 
    "tags": [
        "api", 
        "extension", 
        "floating", 
        "ip", 
        "os"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/825074", 
    "owner": "https://api.launchpad.net/1.0/~dan-prince", 
    "id": 825074, 
    "index": 5139, 
    "created": "2011-08-12 09:20:03.750509+00:00", 
    "title": "Release floating IP with OS API", 
    "comments": [
        {
            "content": "I was playing with floating IP OS API extension with curl with nova trunk (rev 1417).\nI was able to allocate IP on my project but when I tried to release it, I get this error:\n\n\n2011-08-12 11:14:23,326 DEBUG routes.middleware [-] Matched DELETE /os-floating-ips/1 from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:100\n2011-08-12 11:14:23,437 DEBUG routes.middleware [-] Route path: '/os-floating-ips/:(id)', defaults: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:102\n2011-08-12 11:14:23,438 DEBUG routes.middleware [-] Match dict: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>, 'id': u'1'} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:103\n2011-08-12 11:14:23,438 INFO nova.api.openstack.wsgi [-] DELETE http://127.0.0.1:8774/v1.1/os-floating-ips/1\n2011-08-12 11:14:23,438 DEBUG nova.api.openstack.wsgi [-] Unrecognized Content-Type provided in request from (pid=27933) deserialize_body /usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py:231\n2011-08-12 11:14:23,456 ERROR nova.api.openstack.contrib.floating_ips [-] Error disassociating fixed_ip disassociate() takes exactly 3 arguments (4 given)\n(nova.api.openstack.contrib.floating_ips): TRACE: Traceback (most recent call last):\n(nova.api.openstack.contrib.floating_ips): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/contrib/floating_ips.py\", line 108, in delete\n(nova.api.openstack.contrib.floating_ips): TRACE:     self.disassociate(req, id, '')\n(nova.api.openstack.contrib.floating_ips): TRACE: TypeError: disassociate() takes exactly 3 arguments (4 given)\n(nova.api.openstack.contrib.floating_ips): TRACE: \n2011-08-12 11:14:23,467 ERROR nova.api.openstack [-] Erreur intercept\u00e9e : (ProgrammingError) (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \\'\\'project_id\\': \"\\'project_orange\\'\", \\'deleted\\': \\'0\\', \\'fixed_ip_id\\': \\'NULL\\', \\'create\\' at line 3') 'SELECT floating_ips.created_at AS floating_ips_created_at, floating_ips.updated_at AS floating_ips_updated_at, floating_ips.deleted_at AS floating_ips_deleted_at, floating_ips.deleted AS floating_ips_deleted, floating_ips.id AS floating_ips_id, floating_ips.address AS floating_ips_address, floating_ips.fixed_ip_id AS floating_ips_fixed_ip_id, floating_ips.project_id AS floating_ips_project_id, floating_ips.host AS floating_ips_host, floating_ips.auto_assigned AS floating_ips_auto_assigned, networks_1.created_at AS networks_1_created_at, networks_1.updated_at AS networks_1_updated_at, networks_1.deleted_at AS networks_1_deleted_at, networks_1.deleted AS networks_1_deleted, networks_1.id AS networks_1_id, networks_1.label AS networks_1_label, networks_1.injected AS networks_1_injected, networks_1.cidr AS networks_1_cidr, networks_1.cidr_v6 AS networks_1_cidr_v6, networks_1.multi_host AS networks_1_multi_host, networks_1.gateway_v6 AS networks_1_gateway_v6, networks_1.netmask_v6 AS networks_1_netmask_v6, networks_1.netmask AS networks_1_netmask, networks_1.bridge AS networks_1_bridge, networks_1.bridge_interface AS networks_1_bridge_interface, networks_1.gateway AS networks_1_gateway, networks_1.broadcast AS networks_1_broadcast, networks_1.dns1 AS networks_1_dns1, networks_1.dns2 AS networks_1_dns2, networks_1.vlan AS networks_1_vlan, networks_1.vpn_public_address AS networks_1_vpn_public_address, networks_1.vpn_public_port AS networks_1_vpn_public_port, networks_1.vpn_private_address AS networks_1_vpn_private_address, networks_1.dhcp_start AS networks_1_dhcp_start, networks_1.project_id AS networks_1_project_id, networks_1.host AS networks_1_host, fixed_ips_1.created_at AS fixed_ips_1_created_at, fixed_ips_1.updated_at AS fixed_ips_1_updated_at, fixed_ips_1.deleted_at AS fixed_ips_1_deleted_at, fixed_ips_1.deleted AS fixed_ips_1_deleted, fixed_ips_1.id AS fixed_ips_1_id, fixed_ips_1.address AS fixed_ips_1_address, fixed_ips_1.network_id AS fixed_ips_1_network_id, fixed_ips_1.virtual_interface_id AS fixed_ips_1_virtual_interface_id, fixed_ips_1.instance_id AS fixed_ips_1_instance_id, fixed_ips_1.allocated AS fixed_ips_1_allocated, fixed_ips_1.leased AS fixed_ips_1_leased, fixed_ips_1.reserved AS fixed_ips_1_reserved, fixed_ips_1.host AS fixed_ips_1_host \\nFROM floating_ips LEFT OUTER JOIN fixed_ips AS fixed_ips_1 ON floating_ips.fixed_ip_id = fixed_ips_1.id AND floating_ips.deleted = %s LEFT OUTER JOIN networks AS networks_1 ON networks_1.id = fixed_ips_1.network_id \\nWHERE floating_ips.address = %s AND floating_ips.deleted = %s \\n LIMIT 0, 1' (False, {'deleted_at': None, 'deleted': False, 'fixed_ip_id': None, 'created_at': datetime.datetime(2011, 8, 12, 9, 1, 41), 'updated_at': datetime.datetime(2011, 8, 12, 9, 1, 45), 'id': 1L, 'host': None, 'fixed_ip': None, 'address': '10.193.175.30', 'project_id': 'project_orange', 'auto_assigned': False}, False)\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/__init__.py\", line 64, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1053, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1022, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py\", line 490, in __call__\n(nova.api.openstack): TRACE:     action_result = self.dispatch(request, action, args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py\", line 518, in dispatch\n(nova.api.openstack): TRACE:     return controller_method(req=request, **action_args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/contrib/floating_ips.py\", line 112, in delete\n(nova.api.openstack): TRACE:     self.network_api.release_floating_ip(context, address=ip)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/network/api.py\", line 66, in release_floating_ip\n(nova.api.openstack): TRACE:     floating_ip = self.db.floating_ip_get_by_address(context, address)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/api.py\", line 287, in floating_ip_get_by_address\n(nova.api.openstack): TRACE:     return IMPL.floating_ip_get_by_address(context, address)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/sqlalchemy/api.py\", line 117, in wrapper\n(nova.api.openstack): TRACE:     return f(*args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/sqlalchemy/api.py\", line 635, in floating_ip_get_by_address\n(nova.api.openstack): TRACE:     filter_by(deleted=can_read_deleted(context)).\\\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1535, in first\n(nova.api.openstack): TRACE:     ret = list(self[0:1])\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1444, in __getitem__\n(nova.api.openstack): TRACE:     return list(res)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1604, in __iter__\n(nova.api.openstack): TRACE:     return self._execute_and_instances(context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1609, in _execute_and_instances\n(nova.api.openstack): TRACE:     mapper=self._mapper_zero_or_none())\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 701, in execute\n(nova.api.openstack): TRACE:     clause, params or {})\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1194, in execute\n(nova.api.openstack): TRACE:     params)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1274, in _execute_clauseelement\n(nova.api.openstack): TRACE:     return self.__execute_context(context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1305, in __execute_context\n(nova.api.openstack): TRACE:     context.parameters[0], context=context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1404, in _cursor_execute\n(nova.api.openstack): TRACE:     context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1397, in _cursor_execute\n(nova.api.openstack): TRACE:     context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 299, in do_execute\n(nova.api.openstack): TRACE:     cursor.execute(statement, parameters)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/MySQLdb/cursors.py\", line 166, in execute\n(nova.api.openstack): TRACE:     self.errorhandler(self, exc, value)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/MySQLdb/connections.py\", line 35, in defaulterrorhandler\n(nova.api.openstack): TRACE:     raise errorclass, errorvalue\n(nova.api.openstack): TRACE: ProgrammingError: (ProgrammingError) (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \\'\\'project_id\\': \"\\'project_orange\\'\", \\'deleted\\': \\'0\\', \\'fixed_ip_id\\': \\'NULL\\', \\'create\\' at line 3') 'SELECT floating_ips.created_at AS floating_ips_created_at, floating_ips.updated_at AS floating_ips_updated_at, floating_ips.deleted_at AS floating_ips_deleted_at, floating_ips.deleted AS floating_ips_deleted, floating_ips.id AS floating_ips_id, floating_ips.address AS floating_ips_address, floating_ips.fixed_ip_id AS floating_ips_fixed_ip_id, floating_ips.project_id AS floating_ips_project_id, floating_ips.host AS floating_ips_host, floating_ips.auto_assigned AS floating_ips_auto_assigned, networks_1.created_at AS networks_1_created_at, networks_1.updated_at AS networks_1_updated_at, networks_1.deleted_at AS networks_1_deleted_at, networks_1.deleted AS networks_1_deleted, networks_1.id AS networks_1_id, networks_1.label AS networks_1_label, networks_1.injected AS networks_1_injected, networks_1.cidr AS networks_1_cidr, networks_1.cidr_v6 AS networks_1_cidr_v6, networks_1.multi_host AS networks_1_multi_host, networks_1.gateway_v6 AS networks_1_gateway_v6, networks_1.netmask_v6 AS networks_1_netmask_v6, networks_1.netmask AS networks_1_netmask, networks_1.bridge AS networks_1_bridge, networks_1.bridge_interface AS networks_1_bridge_interface, networks_1.gateway AS networks_1_gateway, networks_1.broadcast AS networks_1_broadcast, networks_1.dns1 AS networks_1_dns1, networks_1.dns2 AS networks_1_dns2, networks_1.vlan AS networks_1_vlan, networks_1.vpn_public_address AS networks_1_vpn_public_address, networks_1.vpn_public_port AS networks_1_vpn_public_port, networks_1.vpn_private_address AS networks_1_vpn_private_address, networks_1.dhcp_start AS networks_1_dhcp_start, networks_1.project_id AS networks_1_project_id, networks_1.host AS networks_1_host, fixed_ips_1.created_at AS fixed_ips_1_created_at, fixed_ips_1.updated_at AS fixed_ips_1_updated_at, fixed_ips_1.deleted_at AS fixed_ips_1_deleted_at, fixed_ips_1.deleted AS fixed_ips_1_deleted, fixed_ips_1.id AS fixed_ips_1_id, fixed_ips_1.address AS fixed_ips_1_address, fixed_ips_1.network_id AS fixed_ips_1_network_id, fixed_ips_1.virtual_interface_id AS fixed_ips_1_virtual_interface_id, fixed_ips_1.instance_id AS fixed_ips_1_instance_id, fixed_ips_1.allocated AS fixed_ips_1_allocated, fixed_ips_1.leased AS fixed_ips_1_leased, fixed_ips_1.reserved AS fixed_ips_1_reserved, fixed_ips_1.host AS fixed_ips_1_host \\nFROM floating_ips LEFT OUTER JOIN fixed_ips AS fixed_ips_1 ON floating_ips.fixed_ip_id = fixed_ips_1.id AND floating_ips.deleted = %s LEFT OUTER JOIN networks AS networks_1 ON networks_1.id = fixed_ips_1.network_id \\nWHERE floating_ips.address = %s AND floating_ips.deleted = %s \\n LIMIT 0, 1' (False, {'deleted_at': None, 'deleted': False, 'fixed_ip_id': None, 'created_at': datetime.datetime(2011, 8, 12, 9, 1, 41), 'updated_at': datetime.datetime(2011, 8, 12, 9, 1, 45), 'id': 1L, 'host': None, 'fixed_ip': None, 'address': '10.193.175.30', 'project_id': 'project_orange', 'auto_assigned': False}, False)\n(nova.api.openstack): TRACE: \n2011-08-12 11:14:35,617 DEBUG routes.middleware [-] Matched GET /os-floating-ips from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:100\n2011-08-12 11:14:35,617 DEBUG routes.middleware [-] Route path: '/os-floating-ips', defaults: {'action': u'index', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:102\n2011-08-12 11:14:35,618 DEBUG routes.middleware [-] Match dict: {'action': u'index', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:103\n2011-08-12 11:14:35,618 INFO nova.api.openstack.wsgi [-] GET http://127.0.0.1:8774/v1.1/os-floating-ips\n2011-08-12 11:14:35,618 DEBUG nova.api.openstack.wsgi [-] Unrecognized Content-Type provided in request from (pid=27933) deserialize_body /usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py:231\n2011-08-12 11:14:35,634 INFO nova.api.openstack.wsgi [-] http://127.0.0.1:8774/v1.1/os-floating-ips returned with HTTP 200\n2011-08-12 11:14:50,045 DEBUG routes.middleware [-] Matched DELETE /os-floating-ips/1 from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:100\n2011-08-12 11:14:50,045 DEBUG routes.middleware [-] Route path: '/os-floating-ips/:(id)', defaults: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:102\n2011-08-12 11:14:50,045 DEBUG routes.middleware [-] Match dict: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x1a88e50>, 'id': u'1'} from (pid=27933) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:103\n2011-08-12 11:14:50,046 INFO nova.api.openstack.wsgi [-] DELETE http://127.0.0.1:8774/v1.1/os-floating-ips/1\n2011-08-12 11:14:50,046 DEBUG nova.api.openstack.wsgi [-] Unrecognized Content-Type provided in request from (pid=27933) deserialize_body /usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py:231\n2011-08-12 11:14:50,062 ERROR nova.api.openstack.contrib.floating_ips [-] Error disassociating fixed_ip disassociate() takes exactly 3 arguments (4 given)\n(nova.api.openstack.contrib.floating_ips): TRACE: Traceback (most recent call last):\n(nova.api.openstack.contrib.floating_ips): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/contrib/floating_ips.py\", line 108, in delete\n(nova.api.openstack.contrib.floating_ips): TRACE:     self.disassociate(req, id, '')\n(nova.api.openstack.contrib.floating_ips): TRACE: TypeError: disassociate() takes exactly 3 arguments (4 given)\n(nova.api.openstack.contrib.floating_ips): TRACE: \n2011-08-12 11:14:50,074 ERROR nova.api.openstack [-] Erreur intercept\u00e9e : (ProgrammingError) (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \\'\\'project_id\\': \"\\'project_orange\\'\", \\'deleted\\': \\'0\\', \\'fixed_ip_id\\': \\'NULL\\', \\'create\\' at line 3') 'SELECT floating_ips.created_at AS floating_ips_created_at, floating_ips.updated_at AS floating_ips_updated_at, floating_ips.deleted_at AS floating_ips_deleted_at, floating_ips.deleted AS floating_ips_deleted, floating_ips.id AS floating_ips_id, floating_ips.address AS floating_ips_address, floating_ips.fixed_ip_id AS floating_ips_fixed_ip_id, floating_ips.project_id AS floating_ips_project_id, floating_ips.host AS floating_ips_host, floating_ips.auto_assigned AS floating_ips_auto_assigned, networks_1.created_at AS networks_1_created_at, networks_1.updated_at AS networks_1_updated_at, networks_1.deleted_at AS networks_1_deleted_at, networks_1.deleted AS networks_1_deleted, networks_1.id AS networks_1_id, networks_1.label AS networks_1_label, networks_1.injected AS networks_1_injected, networks_1.cidr AS networks_1_cidr, networks_1.cidr_v6 AS networks_1_cidr_v6, networks_1.multi_host AS networks_1_multi_host, networks_1.gateway_v6 AS networks_1_gateway_v6, networks_1.netmask_v6 AS networks_1_netmask_v6, networks_1.netmask AS networks_1_netmask, networks_1.bridge AS networks_1_bridge, networks_1.bridge_interface AS networks_1_bridge_interface, networks_1.gateway AS networks_1_gateway, networks_1.broadcast AS networks_1_broadcast, networks_1.dns1 AS networks_1_dns1, networks_1.dns2 AS networks_1_dns2, networks_1.vlan AS networks_1_vlan, networks_1.vpn_public_address AS networks_1_vpn_public_address, networks_1.vpn_public_port AS networks_1_vpn_public_port, networks_1.vpn_private_address AS networks_1_vpn_private_address, networks_1.dhcp_start AS networks_1_dhcp_start, networks_1.project_id AS networks_1_project_id, networks_1.host AS networks_1_host, fixed_ips_1.created_at AS fixed_ips_1_created_at, fixed_ips_1.updated_at AS fixed_ips_1_updated_at, fixed_ips_1.deleted_at AS fixed_ips_1_deleted_at, fixed_ips_1.deleted AS fixed_ips_1_deleted, fixed_ips_1.id AS fixed_ips_1_id, fixed_ips_1.address AS fixed_ips_1_address, fixed_ips_1.network_id AS fixed_ips_1_network_id, fixed_ips_1.virtual_interface_id AS fixed_ips_1_virtual_interface_id, fixed_ips_1.instance_id AS fixed_ips_1_instance_id, fixed_ips_1.allocated AS fixed_ips_1_allocated, fixed_ips_1.leased AS fixed_ips_1_leased, fixed_ips_1.reserved AS fixed_ips_1_reserved, fixed_ips_1.host AS fixed_ips_1_host \\nFROM floating_ips LEFT OUTER JOIN fixed_ips AS fixed_ips_1 ON floating_ips.fixed_ip_id = fixed_ips_1.id AND floating_ips.deleted = %s LEFT OUTER JOIN networks AS networks_1 ON networks_1.id = fixed_ips_1.network_id \\nWHERE floating_ips.address = %s AND floating_ips.deleted = %s \\n LIMIT 0, 1' (False, {'deleted_at': None, 'deleted': False, 'fixed_ip_id': None, 'created_at': datetime.datetime(2011, 8, 12, 9, 1, 41), 'updated_at': datetime.datetime(2011, 8, 12, 9, 1, 45), 'id': 1L, 'host': None, 'fixed_ip': None, 'address': '10.193.175.30', 'project_id': 'project_orange', 'auto_assigned': False}, False)\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/__init__.py\", line 64, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1053, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1022, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py\", line 490, in __call__\n(nova.api.openstack): TRACE:     action_result = self.dispatch(request, action, args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/wsgi.py\", line 518, in dispatch\n(nova.api.openstack): TRACE:     return controller_method(req=request, **action_args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/api/openstack/contrib/floating_ips.py\", line 112, in delete\n(nova.api.openstack): TRACE:     self.network_api.release_floating_ip(context, address=ip)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/network/api.py\", line 66, in release_floating_ip\n(nova.api.openstack): TRACE:     floating_ip = self.db.floating_ip_get_by_address(context, address)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/api.py\", line 287, in floating_ip_get_by_address\n(nova.api.openstack): TRACE:     return IMPL.floating_ip_get_by_address(context, address)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/sqlalchemy/api.py\", line 117, in wrapper\n(nova.api.openstack): TRACE:     return f(*args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/nova/db/sqlalchemy/api.py\", line 635, in floating_ip_get_by_address\n(nova.api.openstack): TRACE:     filter_by(deleted=can_read_deleted(context)).\\\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1535, in first\n(nova.api.openstack): TRACE:     ret = list(self[0:1])\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1444, in __getitem__\n(nova.api.openstack): TRACE:     return list(res)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1604, in __iter__\n(nova.api.openstack): TRACE:     return self._execute_and_instances(context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 1609, in _execute_and_instances\n(nova.api.openstack): TRACE:     mapper=self._mapper_zero_or_none())\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 701, in execute\n(nova.api.openstack): TRACE:     clause, params or {})\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1194, in execute\n(nova.api.openstack): TRACE:     params)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1274, in _execute_clauseelement\n(nova.api.openstack): TRACE:     return self.__execute_context(context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1305, in __execute_context\n(nova.api.openstack): TRACE:     context.parameters[0], context=context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1404, in _cursor_execute\n(nova.api.openstack): TRACE:     context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1397, in _cursor_execute\n(nova.api.openstack): TRACE:     context)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 299, in do_execute\n(nova.api.openstack): TRACE:     cursor.execute(statement, parameters)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/MySQLdb/cursors.py\", line 166, in execute\n(nova.api.openstack): TRACE:     self.errorhandler(self, exc, value)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/MySQLdb/connections.py\", line 35, in defaulterrorhandler\n(nova.api.openstack): TRACE:     raise errorclass, errorvalue\n(nova.api.openstack): TRACE: ProgrammingError: (ProgrammingError) (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \\'\\'project_id\\': \"\\'project_orange\\'\", \\'deleted\\': \\'0\\', \\'fixed_ip_id\\': \\'NULL\\', \\'create\\' at line 3') 'SELECT floating_ips.created_at AS floating_ips_created_at, floating_ips.updated_at AS floating_ips_updated_at, floating_ips.deleted_at AS floating_ips_deleted_at, floating_ips.deleted AS floating_ips_deleted, floating_ips.id AS floating_ips_id, floating_ips.address AS floating_ips_address, floating_ips.fixed_ip_id AS floating_ips_fixed_ip_id, floating_ips.project_id AS floating_ips_project_id, floating_ips.host AS floating_ips_host, floating_ips.auto_assigned AS floating_ips_auto_assigned, networks_1.created_at AS networks_1_created_at, networks_1.updated_at AS networks_1_updated_at, networks_1.deleted_at AS networks_1_deleted_at, networks_1.deleted AS networks_1_deleted, networks_1.id AS networks_1_id, networks_1.label AS networks_1_label, networks_1.injected AS networks_1_injected, networks_1.cidr AS networks_1_cidr, networks_1.cidr_v6 AS networks_1_cidr_v6, networks_1.multi_host AS networks_1_multi_host, networks_1.gateway_v6 AS networks_1_gateway_v6, networks_1.netmask_v6 AS networks_1_netmask_v6, networks_1.netmask AS networks_1_netmask, networks_1.bridge AS networks_1_bridge, networks_1.bridge_interface AS networks_1_bridge_interface, networks_1.gateway AS networks_1_gateway, networks_1.broadcast AS networks_1_broadcast, networks_1.dns1 AS networks_1_dns1, networks_1.dns2 AS networks_1_dns2, networks_1.vlan AS networks_1_vlan, networks_1.vpn_public_address AS networks_1_vpn_public_address, networks_1.vpn_public_port AS networks_1_vpn_public_port, networks_1.vpn_private_address AS networks_1_vpn_private_address, networks_1.dhcp_start AS networks_1_dhcp_start, networks_1.project_id AS networks_1_project_id, networks_1.host AS networks_1_host, fixed_ips_1.created_at AS fixed_ips_1_created_at, fixed_ips_1.updated_at AS fixed_ips_1_updated_at, fixed_ips_1.deleted_at AS fixed_ips_1_deleted_at, fixed_ips_1.deleted AS fixed_ips_1_deleted, fixed_ips_1.id AS fixed_ips_1_id, fixed_ips_1.address AS fixed_ips_1_address, fixed_ips_1.network_id AS fixed_ips_1_network_id, fixed_ips_1.virtual_interface_id AS fixed_ips_1_virtual_interface_id, fixed_ips_1.instance_id AS fixed_ips_1_instance_id, fixed_ips_1.allocated AS fixed_ips_1_allocated, fixed_ips_1.leased AS fixed_ips_1_leased, fixed_ips_1.reserved AS fixed_ips_1_reserved, fixed_ips_1.host AS fixed_ips_1_host \\nFROM floating_ips LEFT OUTER JOIN fixed_ips AS fixed_ips_1 ON floating_ips.fixed_ip_id = fixed_ips_1.id AND floating_ips.deleted = %s LEFT OUTER JOIN networks AS networks_1 ON networks_1.id = fixed_ips_1.network_id \\nWHERE floating_ips.address = %s AND floating_ips.deleted = %s \\n LIMIT 0, 1' (False, {'deleted_at': None, 'deleted': False, 'fixed_ip_id': None, 'created_at': datetime.datetime(2011, 8, 12, 9, 1, 41), 'updated_at': datetime.datetime(2011, 8, 12, 9, 1, 45), 'id': 1L, 'host': None, 'fixed_ip': None, 'address': '10.193.175.30', 'project_id': 'project_orange', 'auto_assigned': False}, False)\n(nova.api.openstack): TRACE: \n\n\nI don't know if I made mistakes with curl commands or if it's a bug.", 
            "date_created": "2011-08-12 09:20:03.750509+00:00", 
            "author": "https://api.launchpad.net/1.0/~ethuleau"
        }, 
        {
            "content": "I forget to post the curl command generate this error:\n\ncurl -ik -H 'X-Auth-Token: f3333b49510191ad02c117466f5738aca11cf04e' -X DELETE http://127.0.0.1:8774/v1.1/os-floating-ips/1\n", 
            "date_created": "2011-08-12 09:20:56.227531+00:00", 
            "author": "https://api.launchpad.net/1.0/~ethuleau"
        }, 
        {
            "content": "Hi Edouard,\n\nI think this patch should fix the issue for you.", 
            "date_created": "2011-08-12 15:05:58.703641+00:00", 
            "author": "https://api.launchpad.net/1.0/~dan-prince"
        }, 
        {
            "content": "Yes Dan, this patch corrects the bug.", 
            "date_created": "2011-08-12 15:30:52.596327+00:00", 
            "author": "https://api.launchpad.net/1.0/~ethuleau"
        }
    ]
}