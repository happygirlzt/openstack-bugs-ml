{
    "status": "Fix Released", 
    "last_updated": "2013-04-04 11:07:12.110452+00:00", 
    "description": "Steps to reproduce\n--\nlibvirt_type=lxc to choose LXC as hypervisor type\nlibvirt_images_type=lvm to choose LVM as imagebackend store\n\nnova boot container1\nnova boot container2\nnova delete container1\n\nExpected result\n--\nNicely destroy container and remove LVM disk\n\nActual result\n--\nlibvirt driver fail to remove LVM disk due to device mapper error: \"device-mapper: remove ioctl on  failed: Device or resource busy\"\n\nLogs\n--\n2012-12-18 14:01:46 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/openstack/common/rpc/amqp.py\", line 276, in _process_data\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/exception.py\", line 117, in wrapped\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/exception.py\", line 92, in wrapped\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 196, in decorated_function\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     kwargs['instance']['uuid'], e, sys.exc_info())\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 190, in decorated_function\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 945, in terminate_instance\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     do_terminate_instance(instance)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/utils.py\", line 760, in inner\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     retval = f(*args, **kwargs)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 937, in do_terminate_instance\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self._delete_instance(context, instance)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 890, in _delete_instance\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self._shutdown_instance(context, instance)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 854, in _shutdown_instance\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     block_device_info)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/driver.py\", line 498, in destroy\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self._cleanup(instance, network_info, block_device_info)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/driver.py\", line 574, in _cleanup\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self._cleanup_lvm(instance)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/driver.py\", line 580, in _cleanup_lvm\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     libvirt_utils.remove_logical_volumes(*disks)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/utils.py\", line 156, in remove_logical_volumes\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     execute(*lvremove, attempts=3, run_as_root=True)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/utils.py\", line 53, in execute\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     return utils.execute(*args, **kwargs)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/utils.py\", line 206, in execute\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     cmd=' '.join(cmd))\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp ProcessExecutionError: Unexpected error while running command.\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Command: sudo /usr/bin/nova-rootwrap /etc/nova/rootwrap.conf lvremove -f /dev/xenvg/instance-00000589_disk\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Exit code: 5\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Stdout: ''\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Stderr: '  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  Unable to deactivate lxcvg-instance--00000589_disk (253:5)\\n  Unable to deactivate logical volume \"instance-00000589_disk\"\\n'", 
    "tags": [
        "lxc"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1091639", 
    "owner": "https://api.launchpad.net/1.0/~unicell", 
    "id": 1091639, 
    "index": 3274, 
    "created": "2012-12-18 12:39:44.774891+00:00", 
    "title": "LXC with LVM image backend: fail to delete instance", 
    "comments": [
        {
            "content": "Steps to reproduce\n--\nlibvirt_type=lxc to choose LXC as hypervisor type\nlibvirt_images_type=lvm to choose LVM as imagebackend store\n\nnova boot container1\nnova boot container2\nnova delete container1\n\nExpected result\n--\nNicely destroy container and remove LVM disk\n\nActual result\n--\nlibvirt driver fail to remove LVM disk due to device mapper error: \"device-mapper: remove ioctl on  failed: Device or resource busy\"\n\nLogs\n--\n2012-12-18 14:01:46 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/openstack/common/rpc/amqp.py\", line 276, in _process_data\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/exception.py\", line 117, in wrapped\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/exception.py\", line 92, in wrapped\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 196, in decorated_function\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     kwargs['instance']['uuid'], e, sys.exc_info())\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 190, in decorated_function\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 945, in terminate_instance\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     do_terminate_instance(instance)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/utils.py\", line 760, in inner\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     retval = f(*args, **kwargs)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 937, in do_terminate_instance\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self._delete_instance(context, instance)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 890, in _delete_instance\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self._shutdown_instance(context, instance)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/compute/manager.py\", line 854, in _shutdown_instance\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     block_device_info)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/driver.py\", line 498, in destroy\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self._cleanup(instance, network_info, block_device_info)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/driver.py\", line 574, in _cleanup\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     self._cleanup_lvm(instance)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/driver.py\", line 580, in _cleanup_lvm\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     libvirt_utils.remove_logical_volumes(*disks)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/utils.py\", line 156, in remove_logical_volumes\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     execute(*lvremove, attempts=3, run_as_root=True)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/virt/libvirt/utils.py\", line 53, in execute\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     return utils.execute(*args, **kwargs)\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp   File \"/home/stack/nova/nova/utils.py\", line 206, in execute\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp     cmd=' '.join(cmd))\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp ProcessExecutionError: Unexpected error while running command.\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Command: sudo /usr/bin/nova-rootwrap /etc/nova/rootwrap.conf lvremove -f /dev/xenvg/instance-00000589_disk\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Exit code: 5\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Stdout: ''\n2012-12-18 14:01:46 TRACE nova.openstack.common.rpc.amqp Stderr: '  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  device-mapper: remove ioctl on  failed: Device or resource busy\\n  Unable to deactivate lxcvg-instance--00000589_disk (253:5)\\n  Unable to deactivate logical volume \"instance-00000589_disk\"\\n'", 
            "date_created": "2012-12-18 12:39:44.774891+00:00", 
            "author": "https://api.launchpad.net/1.0/~unicell"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/18309", 
            "date_created": "2012-12-18 13:32:44.451770+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/18309\nCommitted: http://github.com/openstack/nova/commit/5f697f64e5c445ba1b62c82d9167fd6b9c7256d2\nSubmitter: Jenkins\nBranch:    master\n\ncommit 5f697f64e5c445ba1b62c82d9167fd6b9c7256d2\nAuthor: unicell <email address hidden>\nDate:   Mon Dec 24 18:08:56 2012 +0800\n\n    Teardown container rootfs in host namespace for lxc\n    \n    Unlike other hypervisor to directly using image for VM, rootfs need to\n    be mounted in setup_container() for lxc before launching the domain.\n    \n    However, this leads to several problems:\n    \n    * previously spawned container polluted later spawned container, which\n      in turn causing lvm device refused to be removed, as bug descirbes\n    * container rootfs not mounted after nova stop/start sequence\n    \n    This commit addresses above two issues.\n    \n    Fixes bug 1091639\n    \n    Change-Id: I718baa6e46cf07a5458a5b80d42139dd353ae51c\n", 
            "date_created": "2012-12-25 00:59:52.614756+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "hi, i\u2018am the bug report of bug1093379(https://bugs.launchpad.net/nova/+bug/1093379)\n\ntoday i try your patch in the folsom release(via apt-get),and append the following configration in \"nova-compute.conf\"\n\n==\n\n[DEFAULT]\nlibvirt_type=lxc\nlibvirt_images_type=lvm\nlibvirt_images_volume_group=cinder-volumes\n\n== \n\nnow i can boot lxc instance succesfully,but i can't ping the fixed ip and i can see nothing when connecting to lxc instance via \"virsh --connect lxc:/// console\"\n\nwhen i stop lxc instance ,the nova-compute.log will report error message\n\n==\n\n2013-02-19 17:08:27 2630 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 276, in _process_data\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 117, in wrapped\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 92, in wrapped\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 175, in decorated_function\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     pass\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 161, in decorated_function\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 196, in decorated_function\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     kwargs['instance']['uuid'], e, sys.exc_info())\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 190, in decorated_function\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 955, in stop_instance\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     final_state=vm_states.STOPPED)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 117, in wrapped\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 92, in wrapped\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 175, in decorated_function\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     pass\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 161, in decorated_function\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 196, in decorated_function\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp     kwargs['instance']['uuid'], e, sys.exc_info())\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp KeyError: 'instance'\n2013-02-19 17:08:27 2630 TRACE nova.openstack.common.rpc.amqp \n\n==\n\nsorry for the delay reply......", 
            "date_created": "2013-02-19 09:25:26.241938+00:00", 
            "author": "https://api.launchpad.net/1.0/~jing"
        }
    ]
}