{
    "status": "Won't Fix", 
    "last_updated": "2013-05-22 11:20:09.669762+00:00", 
    "description": "2012-03-13 05:41:32 DEBUG nova.virt.xenapi.host [-] Updating host stats from (pid=20186) update_status /usr/lib/python2.7/dist-packages/nova/virt/xenapi/host.py:124\n2012-03-13 05:41:32 WARNING nova.virt.xenapi_conn [-] Task [Async.host.call_plugin] OpaqueRef:71f0f3bb-3086-9a05-4313-d8a423ab9d45 status: failure    ['XENAPI_PLUGIN_FAILURE', 'non-zero exit', '', '']\n2012-03-13 05:41:32 ERROR nova.virt.xenapi.host [-] The call to host_data returned an error: ['XENAPI_PLUGIN_FAILURE', 'non-zero exit', '', ''].\n2012-03-13 05:41:32 CRITICAL nova [-] 'str' object does not support item assignment\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-compute\", line 49, in <module>\n(nova): TRACE:     service.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 413, in wait\n(nova): TRACE:     _launcher.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 131, in wait\n(nova): TRACE:     service.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 166, in wait\n(nova): TRACE:     return self._exit_event.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/event.py\", line 116, in wait\n(nova): TRACE:     return hubs.get_hub().switch()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 177, in switch\n(nova): TRACE:     return self.greenlet.switch()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 192, in main\n(nova): TRACE:     result = function(*args, **kwargs)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 101, in run_server\n(nova): TRACE:     server.start()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 174, in start\n(nova): TRACE:     self.manager.update_available_resource(ctxt)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2293, in update_available_resource\n(nova): TRACE:     self.driver.update_available_resource(context, self.host)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 398, in update_available_resource\n(nova): TRACE:     host_stats = self.get_host_stats(refresh=True)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 472, in get_host_stats\n(nova): TRACE:     return self.host_state.get_host_stats(refresh=refresh)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 187, in host_state\n(nova): TRACE:     self._host_state = host.HostState(self._session)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi/host.py\", line 110, in __init__\n(nova): TRACE:     self.update_status()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi/host.py\", line 137, in update_status\n(nova): TRACE:     data[\"disk_total\"] = total\n(nova): TRACE: TypeError: 'str' object does not support item assignment\n(nova): TRACE:", 
    "tags": [
        "xenserver"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/954913", 
    "owner": "None", 
    "id": 954913, 
    "index": 5371, 
    "created": "2012-03-14 11:09:37.351462+00:00", 
    "title": "xenapi host refresh not dealing with exceptions well when updating host stats", 
    "comments": [
        {
            "content": "2012-03-13 05:41:32 DEBUG nova.virt.xenapi.host [-] Updating host stats from (pid=20186) update_status /usr/lib/python2.7/dist-packages/nova/virt/xenapi/host.py:124\n2012-03-13 05:41:32 WARNING nova.virt.xenapi_conn [-] Task [Async.host.call_plugin] OpaqueRef:71f0f3bb-3086-9a05-4313-d8a423ab9d45 status: failure    ['XENAPI_PLUGIN_FAILURE', 'non-zero exit', '', '']\n2012-03-13 05:41:32 ERROR nova.virt.xenapi.host [-] The call to host_data returned an error: ['XENAPI_PLUGIN_FAILURE', 'non-zero exit', '', ''].\n2012-03-13 05:41:32 CRITICAL nova [-] 'str' object does not support item assignment\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-compute\", line 49, in <module>\n(nova): TRACE:     service.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 413, in wait\n(nova): TRACE:     _launcher.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 131, in wait\n(nova): TRACE:     service.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 166, in wait\n(nova): TRACE:     return self._exit_event.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/event.py\", line 116, in wait\n(nova): TRACE:     return hubs.get_hub().switch()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 177, in switch\n(nova): TRACE:     return self.greenlet.switch()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 192, in main\n(nova): TRACE:     result = function(*args, **kwargs)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 101, in run_server\n(nova): TRACE:     server.start()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 174, in start\n(nova): TRACE:     self.manager.update_available_resource(ctxt)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2293, in update_available_resource\n(nova): TRACE:     self.driver.update_available_resource(context, self.host)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 398, in update_available_resource\n(nova): TRACE:     host_stats = self.get_host_stats(refresh=True)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 472, in get_host_stats\n(nova): TRACE:     return self.host_state.get_host_stats(refresh=refresh)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 187, in host_state\n(nova): TRACE:     self._host_state = host.HostState(self._session)\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi/host.py\", line 110, in __init__\n(nova): TRACE:     self.update_status()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi/host.py\", line 137, in update_status\n(nova): TRACE:     data[\"disk_total\"] = total\n(nova): TRACE: TypeError: 'str' object does not support item assignment\n(nova): TRACE:", 
            "date_created": "2012-03-14 11:09:37.351462+00:00", 
            "author": "https://api.launchpad.net/1.0/~johngarbutt"
        }, 
        {
            "content": "This is a bit of non issue", 
            "date_created": "2013-05-22 11:20:08.401378+00:00", 
            "author": "https://api.launchpad.net/1.0/~johngarbutt"
        }
    ]
}