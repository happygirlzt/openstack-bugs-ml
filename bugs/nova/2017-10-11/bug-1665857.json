{
    "status": "Invalid", 
    "last_updated": "2017-02-18 23:43:21.812251+00:00", 
    "description": "Followed the steps present in below link to create a instance\nhttps://docs.openstack.org/newton/install-guide-rdo/launch-instance-selfservice.html\n\nWhen tried to create an instance it throws Unexpected API Error. Please help.\n\nAttached the nova-api.log for your reference\n\n[root@controller etc]# openstack flavor list\n+----+---------+------+------+-----------+-------+-----------+\n| ID | Name    |  RAM | Disk | Ephemeral | VCPUs | Is Public |\n+----+---------+------+------+-----------+-------+-----------+\n| 0  | m1.nano | 2048 |   10 |         0 |     1 | True      |\n+----+---------+------+------+-----------+-------+-----------+\n[root@controller etc]# openstack image list\n+--------------------------------------+--------+--------+\n| ID                                   | Name   | Status |\n+--------------------------------------+--------+--------+\n| 035b1118-5b11-40b1-b86b-de316b18dd34 | centos | active |\n| 20d44d5f-4547-418e-a964-84f38682e4cd | cirros | active |\n+--------------------------------------+--------+--------+\n[root@controller etc]# openstack network list\n+--------------------------------------+-------------+--------------------------------------+\n| ID                                   | Name        | Subnets                              |\n+--------------------------------------+-------------+--------------------------------------+\n| 18770c07-7aa6-41a8-b3cf-4396cee203eb | provider    | 5355ef76-7424-4c84-bfb1-bcc6cc6db215 |\n| 9339a6a8-661b-4072-9332-edcde242217f | selfservice | e33704ba-ed18-42b2-a312-1a6e39254e1d |\n+--------------------------------------+-------------+--------------------------------------+\n[root@controller etc]# openstack server create --flavor m1.nano --image centos --nic net-id=9339a6a8-661b-4072-9332-edcde242217f --security-group default --key-name mykey selfservice-instance\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.TypeError'> (HTTP 500) (Request-ID: req-66ef449b-a92d-46d3-9ab1-7a735b990433)\n[root@controller etc]#", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1665857", 
    "owner": "None", 
    "id": 1665857, 
    "index": 6690, 
    "created": "2017-02-18 07:28:49.787591+00:00", 
    "title": "Instance creation failed: Unable to create the server.", 
    "comments": [
        {
            "content": "Followed the steps present in below link to create a instance\nhttps://docs.openstack.org/newton/install-guide-rdo/launch-instance-selfservice.html\n\nWhen tried to create an instance it throws Unexpected API Error. Please help.\n\nAttached the nova-api.log for your reference\n\n[root@controller etc]# openstack flavor list\n+----+---------+------+------+-----------+-------+-----------+\n| ID | Name    |  RAM | Disk | Ephemeral | VCPUs | Is Public |\n+----+---------+------+------+-----------+-------+-----------+\n| 0  | m1.nano | 2048 |   10 |         0 |     1 | True      |\n+----+---------+------+------+-----------+-------+-----------+\n[root@controller etc]# openstack image list\n+--------------------------------------+--------+--------+\n| ID                                   | Name   | Status |\n+--------------------------------------+--------+--------+\n| 035b1118-5b11-40b1-b86b-de316b18dd34 | centos | active |\n| 20d44d5f-4547-418e-a964-84f38682e4cd | cirros | active |\n+--------------------------------------+--------+--------+\n[root@controller etc]# openstack network list\n+--------------------------------------+-------------+--------------------------------------+\n| ID                                   | Name        | Subnets                              |\n+--------------------------------------+-------------+--------------------------------------+\n| 18770c07-7aa6-41a8-b3cf-4396cee203eb | provider    | 5355ef76-7424-4c84-bfb1-bcc6cc6db215 |\n| 9339a6a8-661b-4072-9332-edcde242217f | selfservice | e33704ba-ed18-42b2-a312-1a6e39254e1d |\n+--------------------------------------+-------------+--------------------------------------+\n[root@controller etc]# openstack server create --flavor m1.nano --image centos --nic net-id=9339a6a8-661b-4072-9332-edcde242217f --security-group default --key-name mykey selfservice-instance\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.TypeError'> (HTTP 500) (Request-ID: req-66ef449b-a92d-46d3-9ab1-7a735b990433)\n[root@controller etc]#", 
            "date_created": "2017-02-18 07:28:49.787591+00:00", 
            "author": "https://api.launchpad.net/1.0/~shajeer"
        }, 
        {
            "content": "", 
            "date_created": "2017-02-18 07:28:49.787591+00:00", 
            "author": "https://api.launchpad.net/1.0/~shajeer"
        }, 
        {
            "content": "You don't have [glance]api_servers set in nova.conf:\n\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions [req-37e6fa7c-a06f-448b-89e0-554cad79d8c5 5dbdb080a5de495d82f8488dfb9d395b a4185d11a0124aed95cd4892b3e4f563 - default default] Unexpected exception in API method\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 338, in wrapped\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/images.py\", line 90, in show\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions     image = self._image_api.get(context, id)\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/api.py\", line 93, in get\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions     show_deleted=show_deleted)\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 477, in show\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions     _reraise_translated_image_exception(image_id)\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 1069, in _reraise_translated_image_exception\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions     six.reraise(new_exc, None, exc_trace)\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 475, in show\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions     image = self._client.call(context, 2, 'get', image_id)\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 173, in call\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions     version)\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 152, in _create_onetime_client\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions     self.api_servers = get_api_servers()\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 114, in get_api_servers\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions     for api_server in CONF.glance.api_servers:\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions TypeError: 'NoneType' object is not iterable\n2017-02-18 12:38:28.592 7395 ERROR nova.api.openstack.extensions \n\n\n\n#\n# List of glance api servers endpoints available to nova.\n#\n# https is used for ssl-based glance api servers.\n#\n# Possible values:\n#\n# * A list of any fully qualified url of the form\n# \"scheme://hostname:port[/path]\"\n#   (i.e. \"http://10.0.1.0:9292\" or \"https://my.glance.server/image\").\n#  (list value)\n#api_servers = <None>", 
            "date_created": "2017-02-18 23:36:27.159769+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Actually we need to handle this since we shouldn't return a 500 out of the REST API.", 
            "date_created": "2017-02-18 23:42:05.848515+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Nevermind this is an internal server error, so 500 is the correct error here.", 
            "date_created": "2017-02-18 23:43:16.025403+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ]
}