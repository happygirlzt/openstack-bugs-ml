{
    "status": "Invalid", 
    "last_updated": "2013-05-22 05:29:13.672398+00:00", 
    "description": "I am trying to commit a change in Gerrit on a patch (https://review.openstack.org/#/c/28308/).  However, I got an error from gate-nova-python27 that didn't happen before in previous patchset. Looking into the error log, I found the following timeout error below. I believe this is an undeterministic behavior from CI and thus report it here.\n\nGLOB sdist-make: /home/jenkins/workspace/gate-nova-python27/setup.py\n2013-05-06 21:39:24.478 | py27 create: /home/jenkins/workspace/gate-nova-python27/.tox/py27\n2013-05-06 21:39:26.723 | py27 installdeps: -r/home/jenkins/workspace/gate-nova-python27/tools/pip-requires, -r/home/jenkins/workspace/gate-nova-python27/tools/test-requires\n2013-05-06 21:40:54.314 | py27 inst: /home/jenkins/workspace/gate-nova-python27/.tox/dist/nova-2013.2.a531.g37ad4cb.zip\n2013-05-06 21:41:01.798 | py27 runtests: commands[0]\n2013-05-06 21:41:01.861 | py27 runtests: commands[1]\n2013-05-06 21:41:02.564 | running testr\n2013-05-06 21:45:42.219 | libvir:  error : internal error could not initialize domain event timer\n2013-05-06 21:47:16.925 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests --list \n2013-05-06 21:47:16.926 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests  --load-list /tmp/tmp.yWrHfqUkPh/tmp_HwWq0\n2013-05-06 21:47:16.926 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests  --load-list /tmp/tmp.yWrHfqUkPh/tmp0Bcxxb\n2013-05-06 21:47:16.926 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests  --load-list /tmp/tmp.yWrHfqUkPh/tmpnaHCiF\n2013-05-06 21:47:16.926 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests  --load-list /tmp/tmp.yWrHfqUkPh/tmpiTiJHz\n2013-05-06 21:47:16.926 | ======================================================================\n2013-05-06 21:47:16.926 | FAIL: nova.tests.test_migrations.TestNovaMigrations.test_mysql_opportunistically", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1177216", 
    "owner": "None", 
    "id": 1177216, 
    "index": 3634, 
    "created": "2013-05-07 06:09:58.124063+00:00", 
    "title": "libvirt domain timeout error", 
    "comments": [
        {
            "content": "I am trying to commit a change in Gerrit on a patch (https://review.openstack.org/#/c/28308/).  However, I got an error from gate-nova-python27 that didn't happen before in previous patchset. Looking into the error log, I found the following timeout error below. I believe this is an undeterministic behavior from CI and thus report it here.\n\nGLOB sdist-make: /home/jenkins/workspace/gate-nova-python27/setup.py\n2013-05-06 21:39:24.478 | py27 create: /home/jenkins/workspace/gate-nova-python27/.tox/py27\n2013-05-06 21:39:26.723 | py27 installdeps: -r/home/jenkins/workspace/gate-nova-python27/tools/pip-requires, -r/home/jenkins/workspace/gate-nova-python27/tools/test-requires\n2013-05-06 21:40:54.314 | py27 inst: /home/jenkins/workspace/gate-nova-python27/.tox/dist/nova-2013.2.a531.g37ad4cb.zip\n2013-05-06 21:41:01.798 | py27 runtests: commands[0]\n2013-05-06 21:41:01.861 | py27 runtests: commands[1]\n2013-05-06 21:41:02.564 | running testr\n2013-05-06 21:45:42.219 | libvir:  error : internal error could not initialize domain event timer\n2013-05-06 21:47:16.925 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests --list \n2013-05-06 21:47:16.926 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests  --load-list /tmp/tmp.yWrHfqUkPh/tmp_HwWq0\n2013-05-06 21:47:16.926 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests  --load-list /tmp/tmp.yWrHfqUkPh/tmp0Bcxxb\n2013-05-06 21:47:16.926 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests  --load-list /tmp/tmp.yWrHfqUkPh/tmpnaHCiF\n2013-05-06 21:47:16.926 | running=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ ./nova/tests  --load-list /tmp/tmp.yWrHfqUkPh/tmpiTiJHz\n2013-05-06 21:47:16.926 | ======================================================================\n2013-05-06 21:47:16.926 | FAIL: nova.tests.test_migrations.TestNovaMigrations.test_mysql_opportunistically", 
            "date_created": "2013-05-07 06:09:58.124063+00:00", 
            "author": "https://api.launchpad.net/1.0/~rerngvit"
        }, 
        {
            "content": "If you're basing this conjecture on the \"libvir: error : internal error could not initialize domain event timer\" log message, I feel compelled to point out that this is benign noise present in all nova unit test runs. See, for example, the successful run following your recheck comment... http://logs.openstack.org/28308/4/check/gate-nova-python27/21148/console.html.gz\n\n    [...]\n    2013-05-07 06:44:57.751 | libvir:  error : internal error could not initialize domain event timer\n    [...]\n    2013-05-07 06:46:56.581 | Finished: SUCCESS\n\nIn your failed run, the actual detail of the failure (which seems to be a database migration test timeout) comes after the bits you quoted above:\n\n    2013-05-06 21:47:16.932 | Failed to migrate to version 156 on engine Engine(mysql+mysqldb://openstack_citest:openstack_citest@localhost/openstack_citest)\n    2013-05-06 21:47:16.932 | }}}\n    2013-05-06 21:47:16.932 | \n    2013-05-06 21:47:16.933 | Traceback (most recent call last):\n    2013-05-06 21:47:16.933 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/test_migrations.py\", line 167, in test_mysql_opportunistically\n    2013-05-06 21:47:16.933 |     self._test_mysql_opportunistically()\n    2013-05-06 21:47:16.933 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/test_migrations.py\", line 323, in _test_mysql_opportunistically\n    2013-05-06 21:47:16.933 |     self._walk_versions(engine, False, False)\n    2013-05-06 21:47:16.933 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/test_migrations.py\", line 380, in _walk_versions\n    2013-05-06 21:47:16.933 |     self._migrate_up(engine, version, with_data=True)\n    2013-05-06 21:47:16.933 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/test_migrations.py\", line 438, in _migrate_up\n    2013-05-06 21:47:16.933 |     self.migration_api.upgrade(engine, self.REPOSITORY, version)\n    2013-05-06 21:47:16.934 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/migrate/versioning/api.py\", line 186, in upgrade\n    2013-05-06 21:47:16.934 |     return _migrate(url, repository, version, upgrade=True, err=err, **opts)\n    2013-05-06 21:47:16.934 |   File \"<string>\", line 2, in _migrate\n    2013-05-06 21:47:16.934 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/db/sqlalchemy/migration.py\", line 39, in patched_with_engine\n    2013-05-06 21:47:16.934 |     return f(*a, **kw)\n    2013-05-06 21:47:16.934 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/migrate/versioning/api.py\", line 366, in _migrate\n    2013-05-06 21:47:16.934 |     schema.runchange(ver, change, changeset.step)\n    2013-05-06 21:47:16.934 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/migrate/versioning/schema.py\", line 91, in runchange\n    2013-05-06 21:47:16.934 |     change.run(self.engine, step)\n    2013-05-06 21:47:16.935 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/migrate/versioning/script/py.py\", line 145, in run\n    2013-05-06 21:47:16.935 |     script_func(engine)\n    2013-05-06 21:47:16.935 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/db/sqlalchemy/migrate_repo/versions/156_cidr_column_length.py\", line 47, in upgrade\n    2013-05-06 21:47:16.935 |     getattr(t.c, column).alter(type=String(43))\n    2013-05-06 21:47:16.935 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/migrate/changeset/schema.py\", line 491, in alter\n    2013-05-06 21:47:16.935 |     return alter_column(self, *p, **k)\n    2013-05-06 21:47:16.935 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/migrate/changeset/schema.py\", line 136, in alter_column\n    2013-05-06 21:47:16.935 |     engine._run_visitor(visitorcallable, delta)\n    2013-05-06 21:47:44.453 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 2302, in _run_visitor\n    2013-05-06 21:47:44.453 |     conn._run_visitor(visitorcallable, element, **kwargs)\n    2013-05-06 21:47:44.453 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1972, in _run_visitor\n    2013-05-06 21:47:44.453 |     **kwargs).traverse_single(element)\n    2013-05-06 21:47:44.453 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/migrate/changeset/ansisql.py\", line 53, in traverse_single\n    2013-05-06 21:47:44.453 |     ret = super(AlterTableVisitor, self).traverse_single(elem)\n    2013-05-06 21:47:44.453 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/sqlalchemy/sql/visitors.py\", line 106, in traverse_single\n    2013-05-06 21:47:44.453 |     return meth(obj, **kw)\n    2013-05-06 21:47:44.454 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/migrate/changeset/databases/mysql.py\", line 43, in visit_column\n    2013-05-06 21:47:44.454 |     self.execute()\n    2013-05-06 21:47:44.454 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/migrate/changeset/ansisql.py\", line 42, in execute\n    2013-05-06 21:47:44.454 |     return self.connection.execute(self.buffer.getvalue())\n    2013-05-06 21:47:44.454 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1449, in execute\n    2013-05-06 21:47:44.454 |     params)\n    2013-05-06 21:47:44.454 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1628, in _execute_text\n    2013-05-06 21:47:44.454 |     statement, parameters\n    2013-05-06 21:47:44.454 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1691, in _execute_context\n    2013-05-06 21:47:44.454 |     context)\n    2013-05-06 21:47:44.455 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/sqlalchemy/engine/default.py\", line 331, in do_execute\n    2013-05-06 21:47:44.455 |     cursor.execute(statement, parameters)\n    2013-05-06 21:47:44.455 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/MySQLdb/cursors.py\", line 201, in execute\n    2013-05-06 21:47:44.455 |     self.errorhandler(self, exc, value)\n    2013-05-06 21:47:44.455 |   File \"/home/jenkins/workspace/gate-nova-python27/.tox/py27/local/lib/python2.7/site-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n    2013-05-06 21:47:44.455 |     raise errorclass, errorvalue\n    2013-05-06 21:47:44.455 | TimeoutException\n\nIn the future, you may find it easier to separate out the failure detail by looking at the digested HTML detail output instead... http://logs.openstack.org/28308/4/check/gate-nova-python27/21128/testr_results.html.gz\n\nQuickly skimming open nova issues this looks like it might be a duplicate of bug 1105284, do you concur? Punting to nova for deeper analysis.", 
            "date_created": "2013-05-07 13:56:24.539054+00:00", 
            "author": "https://api.launchpad.net/1.0/~fungi"
        }, 
        {
            "content": "I think we need more information here before we can really do anything.", 
            "date_created": "2013-05-07 21:18:32.983322+00:00", 
            "author": "https://api.launchpad.net/1.0/~mikal"
        }, 
        {
            "content": "Ok, as you state already, I'm also not certain the cause of this as well. However, it seems to resolve for the moment.", 
            "date_created": "2013-05-07 21:47:37.995259+00:00", 
            "author": "https://api.launchpad.net/1.0/~rerngvit"
        }
    ]
}