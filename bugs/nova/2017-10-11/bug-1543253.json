{
    "status": "Fix Released", 
    "last_updated": "2016-03-03 16:20:14.847436+00:00", 
    "description": "This Tempest test will not pass as it relies on creating a security_group and using it which has never worked with cells.\n\n\n2016-02-08 11:22:30.886 | tempest.scenario.test_rebuild_instance_with_volume.TestRebuildInstanceWithVolume.test_rebuild_instance_with_volume[compute,id-36c3d492-f5bd-11e4-b9b2-1697f925ec7b,image,network,volume]\n2016-02-08 11:22:30.887 | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n2016-02-08 11:22:30.887 | \n2016-02-08 11:22:30.887 | Captured traceback-1:\n2016-02-08 11:22:30.887 | ~~~~~~~~~~~~~~~~~~~~~\n2016-02-08 11:22:30.887 |     Traceback (most recent call last):\n2016-02-08 11:22:30.887 |       File \"tempest/scenario/manager.py\", line 108, in delete_wrapper\n2016-02-08 11:22:30.887 |         delete_thing(*args, **kwargs)\n2016-02-08 11:22:30.887 |       File \"/opt/stack/new/tempest/.tox/all/local/lib/python2.7/site-packages/tempest_lib/services/compute/security_groups_client.py\", line 75, in delete_security_group\n2016-02-08 11:22:30.887 |         'os-security-groups/%s' % security_group_id)\n2016-02-08 11:22:30.887 |       File \"/opt/stack/new/tempest/.tox/all/local/lib/python2.7/site-packages/tempest_lib/common/rest_client.py\", line 290, in delete\n2016-02-08 11:22:30.887 |         return self.request('DELETE', url, extra_headers, headers, body)\n2016-02-08 11:22:30.888 |       File \"/opt/stack/new/tempest/.tox/all/local/lib/python2.7/site-packages/tempest_lib/common/rest_client.py\", line 642, in request\n2016-02-08 11:22:30.888 |         resp, resp_body)\n2016-02-08 11:22:30.888 |       File \"/opt/stack/new/tempest/.tox/all/local/lib/python2.7/site-packages/tempest_lib/common/rest_client.py\", line 700, in _error_checker\n2016-02-08 11:22:30.888 |         raise exceptions.BadRequest(resp_body, resp=resp)\n2016-02-08 11:22:30.888 |     tempest_lib.exceptions.BadRequest: Bad request\n2016-02-08 11:22:30.888 |     Details: {u'code': 400, u'message': u'Security group is still in use'}\n2016-02-08 11:22:30.888 |     \n\nhttp://logs.openstack.org/68/276868/2/gate/gate-tempest-dsvm-cells/60eafe4/console.html", 
    "tags": [], 
    "importance": "Critical", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1543253", 
    "owner": "https://api.launchpad.net/1.0/~alaski", 
    "id": 1543253, 
    "index": 271, 
    "created": "2016-02-08 19:09:28.510664+00:00", 
    "title": "cells test_rebuild_instance_with_volume Tempest test fails", 
    "comments": [
        {
            "content": "This Tempest test will not pass as it relies on creating a security_group and using it which has never worked with cells.\n\n\n2016-02-08 11:22:30.886 | tempest.scenario.test_rebuild_instance_with_volume.TestRebuildInstanceWithVolume.test_rebuild_instance_with_volume[compute,id-36c3d492-f5bd-11e4-b9b2-1697f925ec7b,image,network,volume]\n2016-02-08 11:22:30.887 | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n2016-02-08 11:22:30.887 | \n2016-02-08 11:22:30.887 | Captured traceback-1:\n2016-02-08 11:22:30.887 | ~~~~~~~~~~~~~~~~~~~~~\n2016-02-08 11:22:30.887 |     Traceback (most recent call last):\n2016-02-08 11:22:30.887 |       File \"tempest/scenario/manager.py\", line 108, in delete_wrapper\n2016-02-08 11:22:30.887 |         delete_thing(*args, **kwargs)\n2016-02-08 11:22:30.887 |       File \"/opt/stack/new/tempest/.tox/all/local/lib/python2.7/site-packages/tempest_lib/services/compute/security_groups_client.py\", line 75, in delete_security_group\n2016-02-08 11:22:30.887 |         'os-security-groups/%s' % security_group_id)\n2016-02-08 11:22:30.887 |       File \"/opt/stack/new/tempest/.tox/all/local/lib/python2.7/site-packages/tempest_lib/common/rest_client.py\", line 290, in delete\n2016-02-08 11:22:30.887 |         return self.request('DELETE', url, extra_headers, headers, body)\n2016-02-08 11:22:30.888 |       File \"/opt/stack/new/tempest/.tox/all/local/lib/python2.7/site-packages/tempest_lib/common/rest_client.py\", line 642, in request\n2016-02-08 11:22:30.888 |         resp, resp_body)\n2016-02-08 11:22:30.888 |       File \"/opt/stack/new/tempest/.tox/all/local/lib/python2.7/site-packages/tempest_lib/common/rest_client.py\", line 700, in _error_checker\n2016-02-08 11:22:30.888 |         raise exceptions.BadRequest(resp_body, resp=resp)\n2016-02-08 11:22:30.888 |     tempest_lib.exceptions.BadRequest: Bad request\n2016-02-08 11:22:30.888 |     Details: {u'code': 400, u'message': u'Security group is still in use'}\n2016-02-08 11:22:30.888 |     \n\nhttp://logs.openstack.org/68/276868/2/gate/gate-tempest-dsvm-cells/60eafe4/console.html", 
            "date_created": "2016-02-08 19:09:28.510664+00:00", 
            "author": "https://api.launchpad.net/1.0/~alaski"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/277536\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=674531df15d30faea08a58421160816c56b4bfba\nSubmitter: Jenkins\nBranch:    master\n\ncommit 674531df15d30faea08a58421160816c56b4bfba\nAuthor: Matthew Treinish <email address hidden>\nDate:   Mon Feb 8 13:57:47 2016 -0500\n\n    Add new test_rebuild_instance_with_volume to cells exclude list\n    \n    This commit adds a newly added tempest test to the cells exclude list.\n    The test is always failing on cells and it's because it's doing\n    operations that don't work with cells turned on. So lets exclude it\n    for now. Ideally all this skip logic will be in the tempest config and\n    we don't have to do this anymore.\n    \n    Closes-Bug: #1543253\n    Change-Id: Ic9db51a41f95b0d18f97745a0da7e99fdfa21e51\n", 
            "date_created": "2016-02-09 07:17:54.777368+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 13.0.0.0b3 development milestone.", 
            "date_created": "2016-03-03 16:20:14.263053+00:00", 
            "author": "https://api.launchpad.net/1.0/~doug-hellmann"
        }
    ]
}