{
    "status": "Invalid", 
    "last_updated": "2013-08-06 13:54:05.303693+00:00", 
    "description": "V3 API for v3/flavors/detail?minRam=<value> is broken as it is unable to filter flavors by minRam Value. It doesn't respect the filter and instead lists all the flavors.\n\nSteps to reproduce:\n\n1. List the flavors and filter out the flavor by minRam value.\n\ncurl -k -H 'Content-type: application/json' -H \"X-Auth-Token: *****\" -X 'GET'  http://*******/v3/flavors/detail?minRam=16384 | python -m json.tool\n\n\nReponse recvd:\n---------------------\n\n{\n    \"flavors\": [\n        {\n            \"disk\": 1, \n            \"ephemeral\": \"\", \n            \"id\": \"1\", \n            \"links\": [\n                {\n                    \"href\": \"http://******/v3/flavors/1\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://******/flavors/1\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.tiny\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 512, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 1\n        }, \n        {\n            \"disk\": 20, \n            \"ephemeral\": \"\", \n            \"id\": \"2\", \n            \"links\": [\n                {\n                    \"href\": \"http://******/v3/flavors/2\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://*********/flavors/2\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.small\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 2048, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 1\n        }, \n        {\n            \"disk\": 40, \n            \"ephemeral\": \"\", \n            \"id\": \"3\", \n            \"links\": [\n                {\n                    \"href\": \"http://*********/v3/flavors/3\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://*********/flavors/3\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.medium\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 4096, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 2\n        }, \n        {\n            \"disk\": 80, \n            \"ephemeral\": \"\", \n            \"id\": \"4\", \n            \"links\": [\n                {\n                    \"href\": \"http://***********/v3/flavors/4\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://**********/flavors/4\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.large\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 8192, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 4\n        }, \n        {\n            \"disk\": 0, \n            \"ephemeral\": \"\", \n            \"id\": \"42\", \n            \"links\": [\n                {\n                    \"href\": \"http://**********/v3/flavors/42\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://**********/flavors/42\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.nano\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 64, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 1\n        }, \n        {\n            \"disk\": 160, \n            \"ephemeral\": \"\", \n            \"id\": \"5\", \n            \"links\": [\n                {\n                    \"href\": \"http://*************/v3/flavors/5\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://*********/flavors/5\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.xlarge\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 16384, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 8\n        }, \n        {\n            \"disk\": 0, \n            \"ephemeral\": \"\", \n            \"id\": \"84\", \n            \"links\": [\n                {\n                    \"href\": \"http://***********/v3/flavors/84\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://************/flavors/84\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.micro\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 128, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 1\n        }\n    ]\n}\n\n\nIt is unable to filter only this value.\n\nBehaviour in v2 API\n--------------------------\n\n$ curl -k -H 'Content-type: application/json' -H \"X-Auth-Token: *******\" -X 'GET'  http://*******/v2/f9653b99395d47d38f8b992575f750fd/flavors/detail?minRam=16384 | python -m json.tool\n{\n    \"flavors\": [\n        {\n            \"OS-FLV-DISABLED:disabled\": false, \n            \"OS-FLV-EXT-DATA:ephemeral\": 0, \n            \"disk\": 160, \n            \"id\": \"5\", \n            \"links\": [\n                {\n                    \"href\": \"http://*************/v2/f9653b99395d47d38f8b992575f750fd/flavors/5\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://************/f9653b99395d47d38f8b992575f750fd/flavors/5\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.xlarge\", \n            \"os-flavor-access:is_public\": true, \n            \"ram\": 16384, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 8\n        }\n    ]\n}", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1208695", 
    "owner": "None", 
    "id": 1208695, 
    "index": 3926, 
    "created": "2013-08-06 06:05:14.133061+00:00", 
    "title": "Bug in flavor Nova v3 api when filtering flavors by minRam", 
    "comments": [
        {
            "content": "V3 API for v3/flavors/detail?minRam=<value> is broken as it is unable to filter flavors by minRam Value. It doesn't respect the filter and instead lists all the flavors.\n\nSteps to reproduce:\n\n1. List the flavors and filter out the flavor by minRam value.\n\ncurl -k -H 'Content-type: application/json' -H \"X-Auth-Token: *****\" -X 'GET'  http://*******/v3/flavors/detail?minRam=16384 | python -m json.tool\n\n\nReponse recvd:\n---------------------\n\n{\n    \"flavors\": [\n        {\n            \"disk\": 1, \n            \"ephemeral\": \"\", \n            \"id\": \"1\", \n            \"links\": [\n                {\n                    \"href\": \"http://******/v3/flavors/1\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://******/flavors/1\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.tiny\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 512, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 1\n        }, \n        {\n            \"disk\": 20, \n            \"ephemeral\": \"\", \n            \"id\": \"2\", \n            \"links\": [\n                {\n                    \"href\": \"http://******/v3/flavors/2\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://*********/flavors/2\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.small\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 2048, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 1\n        }, \n        {\n            \"disk\": 40, \n            \"ephemeral\": \"\", \n            \"id\": \"3\", \n            \"links\": [\n                {\n                    \"href\": \"http://*********/v3/flavors/3\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://*********/flavors/3\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.medium\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 4096, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 2\n        }, \n        {\n            \"disk\": 80, \n            \"ephemeral\": \"\", \n            \"id\": \"4\", \n            \"links\": [\n                {\n                    \"href\": \"http://***********/v3/flavors/4\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://**********/flavors/4\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.large\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 8192, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 4\n        }, \n        {\n            \"disk\": 0, \n            \"ephemeral\": \"\", \n            \"id\": \"42\", \n            \"links\": [\n                {\n                    \"href\": \"http://**********/v3/flavors/42\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://**********/flavors/42\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.nano\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 64, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 1\n        }, \n        {\n            \"disk\": 160, \n            \"ephemeral\": \"\", \n            \"id\": \"5\", \n            \"links\": [\n                {\n                    \"href\": \"http://*************/v3/flavors/5\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://*********/flavors/5\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.xlarge\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 16384, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 8\n        }, \n        {\n            \"disk\": 0, \n            \"ephemeral\": \"\", \n            \"id\": \"84\", \n            \"links\": [\n                {\n                    \"href\": \"http://***********/v3/flavors/84\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://************/flavors/84\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.micro\", \n            \"os-flavor-access:is_public\": true, \n            \"os-flavor-disabled:disabled\": false, \n            \"ram\": 128, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 1\n        }\n    ]\n}\n\n\nIt is unable to filter only this value.\n\nBehaviour in v2 API\n--------------------------\n\n$ curl -k -H 'Content-type: application/json' -H \"X-Auth-Token: *******\" -X 'GET'  http://*******/v2/f9653b99395d47d38f8b992575f750fd/flavors/detail?minRam=16384 | python -m json.tool\n{\n    \"flavors\": [\n        {\n            \"OS-FLV-DISABLED:disabled\": false, \n            \"OS-FLV-EXT-DATA:ephemeral\": 0, \n            \"disk\": 160, \n            \"id\": \"5\", \n            \"links\": [\n                {\n                    \"href\": \"http://*************/v2/f9653b99395d47d38f8b992575f750fd/flavors/5\", \n                    \"rel\": \"self\"\n                }, \n                {\n                    \"href\": \"http://************/f9653b99395d47d38f8b992575f750fd/flavors/5\", \n                    \"rel\": \"bookmark\"\n                }\n            ], \n            \"name\": \"m1.xlarge\", \n            \"os-flavor-access:is_public\": true, \n            \"ram\": 16384, \n            \"rxtx_factor\": 1.0, \n            \"swap\": \"\", \n            \"vcpus\": 8\n        }\n    ]\n}", 
            "date_created": "2013-08-06 06:05:14.133061+00:00", 
            "author": "https://api.launchpad.net/1.0/~prem-karat"
        }, 
        {
            "content": "The call for V3 api is,\n\nv3/flavors/detail?min_ram=<value> and not\n\nv3/flavors/detail?minRam=<value>.\n\nits the same case with min_disk too (minDisk in V2)\n\n\nI think this will be clear once we complete documentation for V3 api.", 
            "date_created": "2013-08-06 13:11:26.785115+00:00", 
            "author": "https://api.launchpad.net/1.0/~sumanth-nagadavalli"
        }, 
        {
            "content": "Moved it to opinion, as to know if the expectation, is that syntax in V3 should follow the one with V2", 
            "date_created": "2013-08-06 13:12:52.866219+00:00", 
            "author": "https://api.launchpad.net/1.0/~sumanth-nagadavalli"
        }, 
        {
            "content": "Yea this is deliberate change in the api for V3. We have been converting all attribute cases of CamelCase to camel_case to make the attribute naming consistent across the API.\n", 
            "date_created": "2013-08-06 13:53:19.485249+00:00", 
            "author": "https://api.launchpad.net/1.0/~cyeoh-0"
        }, 
        {
            "content": "Just for future reference if you see any attribute name that looks like CamelCase instead of camel_case its a bug", 
            "date_created": "2013-08-06 13:54:04.594886+00:00", 
            "author": "https://api.launchpad.net/1.0/~cyeoh-0"
        }
    ]
}