{
    "status": "Confirmed", 
    "last_updated": "2017-08-30 15:24:00.381810+00:00", 
    "description": "[root@controller ~]# virsh  list\n Id    Name                           State\n----------------------------------------------------\n 10    instance-0000001a              running\n\n\n\n\n\n[root@controller ~]# cat /var/log/libvirt/qemu/instance-0000001a.log \n2017-01-01 15:27:19.429+0000: starting up libvirt version: 2.0.0, package: 10.el7_3.2 (CentOS BuildSystem <http://bugs.centos.org>, 2016-12-06-19:53:38, c1bm.rdu2.centos.org), qemu version: 2.6.0 (qemu-kvm-ev-2.6.0-27.1.el7), hostname: controller\nLC_ALL=C PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin HOME=/root USER=root LOGNAME=root QEMU_AUDIO_DRV=none /usr/libexec/qemu-kvm -name guest=instance-0000001a,debug-threads=on -S -object secret,id=masterKey0,format=raw,file=/var/lib/libvirt/qemu/domain-10-instance-0000001a/master-key.aes -machine pc-i440fx-rhel7.3.0,accel=tcg,usb=off -cpu Haswell-noTSX,+vme,+ds,+ss,+ht,+osxsave,+f16c,+rdrand,+hypervisor,+arat,+tsc_adjust,+xsaveopt,+pdpe1gb,+abm -m 64 -realtime mlock=off -smp 1,sockets=1,cores=1,threads=1 -uuid 8cbaa40d-c061-47fc-83df-698f2455c7d9 -smbios 'type=1,manufacturer=RDO,product=OpenStack Compute,version=14.0.2-1.el7,serial=4803ff26-9107-4c8c-b9f9-83cda5553350,uuid=8cbaa40d-c061-47fc-83df-698f2455c7d9,family=Virtual Machine' -no-user-config -nodefaults -chardev socket,id=charmonitor,path=/var/lib/libvirt/qemu/domain-10-instance-0000001a/monitor.sock,server,nowait -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc -no-shutdown -boot strict=on -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2 -drive file=/var/lib/nova/instances/8cbaa40d-c061-47fc-83df-698f2455c7d9/disk,format=qcow2,if=none,id=drive-virtio-disk0,cache=none -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-virtio-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=26,id=hostnet0 -device virtio-net-pci,netdev=hostnet0,id=net0,mac=fa:16:3e:3e:38:f9,bus=pci.0,addr=0x3 -add-fd set=1,fd=29 -chardev file,id=charserial0,path=/dev/fdset/1,append=on -device isa-serial,chardev=charserial0,id=serial0 -chardev pty,id=charserial1 -device isa-serial,chardev=charserial1,id=serial1 -device usb-tablet,id=input0,bus=usb.0,port=1 -vnc 10.40.1.70:0 -k en-us -device cirrus-vga,id=video0,bus=pci.0,addr=0x2 -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5 -msg timestamp=on\nchar device redirected to /dev/pts/0 (label charserial1)\nwarning: TCG doesn't support requested feature: CPUID.01H:EDX.vme [bit 1]\nwarning: TCG doesn't support requested feature: CPUID.01H:EDX.ds [bit 21]\nwarning: TCG doesn't support requested feature: CPUID.01H:EDX.ht [bit 28]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.fma [bit 12]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.pcid [bit 17]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.x2apic [bit 21]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.tsc-deadline [bit 24]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.osxsave [bit 27]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.avx [bit 28]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.f16c [bit 29]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.rdrand [bit 30]\nwarning: TCG doesn't support requested feature: CPUID.07H:EBX.tsc_adjust [bit 1]\nwarning: TCG doesn't support requested feature: CPUID.07H:EBX.avx2 [bit 5]\nwarning: TCG doesn't support requested feature: CPUID.07H:EBX.erms [bit 9]\nwarning: TCG doesn't support requested feature: CPUID.07H:EBX.invpcid [bit 10]\n\n\n\n\nerror:\nInstance status   Starting up .......\n\n\n\n\n\n\nnova use  qemu", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 46, 
    "link": "https://bugs.launchpad.net/nova/+bug/1653430", 
    "owner": "None", 
    "id": 1653430, 
    "index": 6599, 
    "created": "2017-01-01 14:36:30.979363+00:00", 
    "title": " Launch Instance vm Starting up", 
    "comments": [
        {
            "content": "[root@controller ~]# virsh  list\n Id    Name                           State\n----------------------------------------------------\n 10    instance-0000001a              running\n\n\n\n\n\n[root@controller ~]# cat /var/log/libvirt/qemu/instance-0000001a.log \n2017-01-01 15:27:19.429+0000: starting up libvirt version: 2.0.0, package: 10.el7_3.2 (CentOS BuildSystem <http://bugs.centos.org>, 2016-12-06-19:53:38, c1bm.rdu2.centos.org), qemu version: 2.6.0 (qemu-kvm-ev-2.6.0-27.1.el7), hostname: controller\nLC_ALL=C PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin HOME=/root USER=root LOGNAME=root QEMU_AUDIO_DRV=none /usr/libexec/qemu-kvm -name guest=instance-0000001a,debug-threads=on -S -object secret,id=masterKey0,format=raw,file=/var/lib/libvirt/qemu/domain-10-instance-0000001a/master-key.aes -machine pc-i440fx-rhel7.3.0,accel=tcg,usb=off -cpu Haswell-noTSX,+vme,+ds,+ss,+ht,+osxsave,+f16c,+rdrand,+hypervisor,+arat,+tsc_adjust,+xsaveopt,+pdpe1gb,+abm -m 64 -realtime mlock=off -smp 1,sockets=1,cores=1,threads=1 -uuid 8cbaa40d-c061-47fc-83df-698f2455c7d9 -smbios 'type=1,manufacturer=RDO,product=OpenStack Compute,version=14.0.2-1.el7,serial=4803ff26-9107-4c8c-b9f9-83cda5553350,uuid=8cbaa40d-c061-47fc-83df-698f2455c7d9,family=Virtual Machine' -no-user-config -nodefaults -chardev socket,id=charmonitor,path=/var/lib/libvirt/qemu/domain-10-instance-0000001a/monitor.sock,server,nowait -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc -no-shutdown -boot strict=on -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2 -drive file=/var/lib/nova/instances/8cbaa40d-c061-47fc-83df-698f2455c7d9/disk,format=qcow2,if=none,id=drive-virtio-disk0,cache=none -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-virtio-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=26,id=hostnet0 -device virtio-net-pci,netdev=hostnet0,id=net0,mac=fa:16:3e:3e:38:f9,bus=pci.0,addr=0x3 -add-fd set=1,fd=29 -chardev file,id=charserial0,path=/dev/fdset/1,append=on -device isa-serial,chardev=charserial0,id=serial0 -chardev pty,id=charserial1 -device isa-serial,chardev=charserial1,id=serial1 -device usb-tablet,id=input0,bus=usb.0,port=1 -vnc 10.40.1.70:0 -k en-us -device cirrus-vga,id=video0,bus=pci.0,addr=0x2 -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5 -msg timestamp=on\nchar device redirected to /dev/pts/0 (label charserial1)\nwarning: TCG doesn't support requested feature: CPUID.01H:EDX.vme [bit 1]\nwarning: TCG doesn't support requested feature: CPUID.01H:EDX.ds [bit 21]\nwarning: TCG doesn't support requested feature: CPUID.01H:EDX.ht [bit 28]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.fma [bit 12]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.pcid [bit 17]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.x2apic [bit 21]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.tsc-deadline [bit 24]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.osxsave [bit 27]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.avx [bit 28]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.f16c [bit 29]\nwarning: TCG doesn't support requested feature: CPUID.01H:ECX.rdrand [bit 30]\nwarning: TCG doesn't support requested feature: CPUID.07H:EBX.tsc_adjust [bit 1]\nwarning: TCG doesn't support requested feature: CPUID.07H:EBX.avx2 [bit 5]\nwarning: TCG doesn't support requested feature: CPUID.07H:EBX.erms [bit 9]\nwarning: TCG doesn't support requested feature: CPUID.07H:EBX.invpcid [bit 10]\n\n\n\n\nerror:\nInstance status   Starting up .......\n\n\n\n\n\n\nnova use  qemu", 
            "date_created": "2017-01-01 14:36:30.979363+00:00", 
            "author": "https://api.launchpad.net/1.0/~keyi"
        }, 
        {
            "content": "", 
            "date_created": "2017-01-01 14:36:30.979363+00:00", 
            "author": "https://api.launchpad.net/1.0/~keyi"
        }, 
        {
            "content": "I am also facing the same issue on vmware fusion and vmware v-center. I have tested on liberty, mitaka, and newton have the same isuue, but when I have deployed on virtual box it's working fine. ", 
            "date_created": "2017-01-03 20:50:45.932517+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "Unfortunately this isn't a valid or supported method for deploying nova-compute.\n\nThat said are you sure virt_type is qemu and not kvm?", 
            "date_created": "2017-01-04 13:42:25.518486+00:00", 
            "author": "https://api.launchpad.net/1.0/~lyarwood"
        }, 
        {
            "content": "this is the actual output of my nova.conf. I have done this deployment\nusing packstack. Interesting part is, when I have deployed on virtualbox I\ndidn't face any issue. On vmwarefusion and vceneter having an issue.\n\n\n\n\n[DEFAULT]\n\nnotify_api_faults=False\n\nstate_path=/var/lib/nova\n\nreport_interval=10\n\nenabled_apis=osapi_compute,metadata\n\nosapi_compute_listen=0.0.0.0\n\nosapi_compute_listen_port=8774\n\nosapi_compute_workers=4\n\nmetadata_listen=0.0.0.0\n\nmetadata_listen_port=8775\n\nmetadata_workers=4\n\ncompute_manager=nova.compute.manager.ComputeManager\n\nservice_down_time=60\n\nrootwrap_config=/etc/nova/rootwrap.conf\n\nvolume_api_class=nova.volume.cinder.API\n\nauth_strategy=keystone\n\nuse_forwarded_for=False\n\nfping_path=/usr/sbin/fping\n\nheal_instance_info_cache_interval=60\n\nreserved_host_memory_mb=512\n\ncpu_allocation_ratio=16.0\n\nram_allocation_ratio=1.5\n\nallow_resize_to_same_host=False\n\nscheduler_default_filters=RetryFilter,AvailabilityZoneFilter,RamFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,CoreFilter\n\nscheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler\n\ncompute_driver=libvirt.LibvirtDriver\n\nvif_plugging_is_fatal=True\n\nvif_plugging_timeout=300\n\nfirewall_driver=nova.virt.firewall.NoopFirewallDriver\n\nforce_raw_images=True\n\napi_paste_config=api-paste.ini\n\nuse_neutron=True\n\ndefault_floating_pool=public\n\nforce_snat_range =0.0.0.0/0\n\nmetadata_host=10.10.150.191\n\ndhcp_domain=novalocal\n\nsecurity_group_api=neutron\n\ndebug=False\n\nverbose=True\n\nlog_dir=/var/log/nova\n\nrpc_backend=rabbit\n\nnotification_driver=nova.openstack.common.notifier.rabbit_notifier,ceilometer.compute.nova_notifier\n\nimage_service=nova.image.glance.GlanceImageService\n\nnotification_topics=notifications\n\nosapi_volume_listen=0.0.0.0\n\nnovncproxy_host=0.0.0.0\n\nnovncproxy_port=6080\n\n[api_database]\n\nconnection=mysql+pymysql://nova_api:d1222572bbef4d72@10.10.150.191/nova_api\n\n[barbican]\n\n[cache]\n\n[cells]\n\n[cinder]\n\ncatalog_info=volumev2:cinderv2:publicURL\n\n[conductor]\n\nuse_local=False\n\n[cors]\n\n[cors.subdomain]\n\n[database]\n\nconnection=mysql+pymysql://nova:d1222572bbef4d72@10.10.150.191/nova\n\n[ephemeral_storage_encryption]\n\n[glance]\n\napi_servers=10.10.150.191:9292\n\n[guestfs]\n\n[hyperv]\n\n[image_file_url]\n\n[ironic]\n\n[keymgr]\n\n[keystone_authtoken]\n\nauth_uri=http://10.10.150.191:5000/v2.0\n\nadmin_password=8af6ad5a51d34738\n\nadmin_user=nova\n\nadmin_tenant_name=services\n\nidentity_uri=http://10.10.150.191:35357\n\n[libvirt]\n\nvirt_type=qemu\n\ninject_password=False\n\ninject_key=False\n\ninject_partition=-1\n\nlive_migration_uri=qemu+tcp://nova@%s/system\n\ncpu_mode=host-model\n\nvif_driver=nova.virt.libvirt.vif.LibvirtGenericVIFDriver\n\n[matchmaker_redis]\n\n[metrics]\n\n[neutron]\n\nservice_metadata_proxy=True\n\nmetadata_proxy_shared_secret =7a6c8c24d1c645c9\n\nurl=http://10.10.150.191:9696\n\nregion_name=RegionOne\n\novs_bridge=br-int\n\nextension_sync_interval=600\n\nauth_url=http://10.10.150.191:35357/v3\n\npassword=b344ceafa3c94a4f\n\nproject_domain_name=Default\n\nproject_name=services\n\ntimeout=60\n\nuser_domain_name=Default\n\nusername=neutron\n\nauth_plugin=v3password\n\n[osapi_v21]\n\n[oslo_concurrency]\n\nlock_path=/var/lib/nova/tmp\n\n[oslo_messaging_amqp]\n\n[oslo_messaging_notifications]\n\n[oslo_messaging_rabbit]\n\namqp_durable_queues=False\n\nkombu_reconnect_delay=1.0\n\nrabbit_host=10.10.150.191\n\nrabbit_port=5672\n\nrabbit_hosts=10.10.150.191:5672\n\nrabbit_use_ssl=False\n\nrabbit_userid=guest\n\nrabbit_password=guest\n\nrabbit_virtual_host=/\n\nrabbit_ha_queues=False\n\nheartbeat_timeout_threshold=0\n\nheartbeat_rate=2\n\n[oslo_middleware]\n\n[oslo_policy]\n\n[rdp]\n\n[serial_console]\n\n[spice]\n\n[ssl]\n\n[trusted_computing]\n\n[upgrade_levels]\n\n[vmware]\n\n[vnc]\n\nenabled=True\n\nkeymap=en-us\n\nvncserver_listen=0.0.0.0\n\nvncserver_proxyclient_address=10.10.150.191\n\nnovncproxy_base_url=http://10.10.150.191:6080/vnc_auto.html\n\n[workarounds]\n\n[xenserver]\n\n[osapi_v3]\n\nenabled=False\n\nOn Wed, Jan 4, 2017 at 8:42 AM, Lee Yarwood <email address hidden> wrote:\n\n> Unfortunately this isn't a valid or supported method for deploying nova-\n> compute.\n>\n> That said are you sure virt_type is qemu and not kvm?\n>\n> ** Changed in: nova\n>        Status: New => Invalid\n>\n> --\n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/1653430\n>\n> Title:\n>    Launch Instance vm Starting up\n>\n> Status in OpenStack Compute (nova):\n>   Invalid\n>\n> Bug description:\n>   [root@controller ~]# virsh  list\n>    Id    Name                           State\n>   ----------------------------------------------------\n>    10    instance-0000001a              running\n>\n>\n>\n>   [root@controller ~]# cat /var/log/libvirt/qemu/instance-0000001a.log\n>   2017-01-01 15:27:19.429+0000: starting up libvirt version: 2.0.0,\n> package: 10.el7_3.2 (CentOS BuildSystem <http://bugs.centos.org>,\n> 2016-12-06-19:53:38, c1bm.rdu2.centos.org), qemu version: 2.6.0\n> (qemu-kvm-ev-2.6.0-27.1.el7), hostname: controller\n>   LC_ALL=C PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n> HOME=/root USER=root LOGNAME=root QEMU_AUDIO_DRV=none /usr/libexec/qemu-kvm\n> -name guest=instance-0000001a,debug-threads=on -S -object\n> secret,id=masterKey0,format=raw,file=/var/lib/libvirt/\n> qemu/domain-10-instance-0000001a/master-key.aes -machine\n> pc-i440fx-rhel7.3.0,accel=tcg,usb=off -cpu Haswell-noTSX,+vme,+ds,+ss,+\n> ht,+osxsave,+f16c,+rdrand,+hypervisor,+arat,+tsc_adjust,+xsaveopt,+pdpe1gb,+abm\n> -m 64 -realtime mlock=off -smp 1,sockets=1,cores=1,threads=1 -uuid\n> 8cbaa40d-c061-47fc-83df-698f2455c7d9 -smbios 'type=1,manufacturer=RDO,product=OpenStack\n> Compute,version=14.0.2-1.el7,serial=4803ff26-9107-4c8c-\n> b9f9-83cda5553350,uuid=8cbaa40d-c061-47fc-83df-698f2455c7d9,family=Virtual\n> Machine' -no-user-config -nodefaults -chardev socket,id=charmonitor,path=/\n> var/lib/libvirt/qemu/domain-10-instance-0000001a/monitor.sock,server,nowait\n> -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc\n> -no-shutdown -boot strict=on -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2\n> -drive file=/var/lib/nova/instances/8cbaa40d-c061-47fc-83df-\n> 698f2455c7d9/disk,format=qcow2,if=none,id=drive-virtio-disk0,cache=none\n> -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-\n> virtio-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=26,id=hostnet0\n> -device virtio-net-pci,netdev=hostnet0,id=net0,mac=fa:16:3e:3e:38:f9,bus=pci.0,addr=0x3\n> -add-fd set=1,fd=29 -chardev file,id=charserial0,path=/dev/fdset/1,append=on\n> -device isa-serial,chardev=charserial0,id=serial0 -chardev\n> pty,id=charserial1 -device isa-serial,chardev=charserial1,id=serial1\n> -device usb-tablet,id=input0,bus=usb.0,port=1 -vnc 10.40.1.70:0 -k en-us\n> -device cirrus-vga,id=video0,bus=pci.0,addr=0x2 -device\n> virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5 -msg timestamp=on\n>   char device redirected to /dev/pts/0 (label charserial1)\n>   warning: TCG doesn't support requested feature: CPUID.01H:EDX.vme [bit 1]\n>   warning: TCG doesn't support requested feature: CPUID.01H:EDX.ds [bit 21]\n>   warning: TCG doesn't support requested feature: CPUID.01H:EDX.ht [bit 28]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.fma [bit\n> 12]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.pcid [bit\n> 17]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.x2apic\n> [bit 21]\n>   warning: TCG doesn't support requested feature:\n> CPUID.01H:ECX.tsc-deadline [bit 24]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.osxsave\n> [bit 27]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.avx [bit\n> 28]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.f16c [bit\n> 29]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.rdrand\n> [bit 30]\n>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.tsc_adjust\n> [bit 1]\n>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.avx2 [bit\n> 5]\n>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.erms [bit\n> 9]\n>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.invpcid\n> [bit 10]\n>\n>\n>\n>   error:\n>   Instance status   Starting up .......\n>\n>\n>\n>\n>   nova use  qemu\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1653430/+subscriptions\n>\n", 
            "date_created": "2017-01-04 14:50:34+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "I have run this command egrep -c '(vmx|svm)' /proc/cpuinfo its returning 0\nand I have double checked nova.conf file as well where virt_type=qemu,\nrestart libvirt service but no luck\n\nOn Wed, Jan 4, 2017 at 9:50 AM, Bobby khan <email address hidden> wrote:\n\n> this is the actual output of my nova.conf. I have done this deployment\n> using packstack. Interesting part is, when I have deployed on virtualbox I\n> didn't face any issue. On vmwarefusion and vceneter having an issue.\n>\n>\n>\n>\n> [DEFAULT]\n>\n> notify_api_faults=False\n>\n> state_path=/var/lib/nova\n>\n> report_interval=10\n>\n> enabled_apis=osapi_compute,metadata\n>\n> osapi_compute_listen=0.0.0.0\n>\n> osapi_compute_listen_port=8774\n>\n> osapi_compute_workers=4\n>\n> metadata_listen=0.0.0.0\n>\n> metadata_listen_port=8775\n>\n> metadata_workers=4\n>\n> compute_manager=nova.compute.manager.ComputeManager\n>\n> service_down_time=60\n>\n> rootwrap_config=/etc/nova/rootwrap.conf\n>\n> volume_api_class=nova.volume.cinder.API\n>\n> auth_strategy=keystone\n>\n> use_forwarded_for=False\n>\n> fping_path=/usr/sbin/fping\n>\n> heal_instance_info_cache_interval=60\n>\n> reserved_host_memory_mb=512\n>\n> cpu_allocation_ratio=16.0\n>\n> ram_allocation_ratio=1.5\n>\n> allow_resize_to_same_host=False\n>\n> scheduler_default_filters=RetryFilter,AvailabilityZoneFilter,\n> RamFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,\n> CoreFilter\n>\n> scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler\n>\n> compute_driver=libvirt.LibvirtDriver\n>\n> vif_plugging_is_fatal=True\n>\n> vif_plugging_timeout=300\n>\n> firewall_driver=nova.virt.firewall.NoopFirewallDriver\n>\n> force_raw_images=True\n>\n> api_paste_config=api-paste.ini\n>\n> use_neutron=True\n>\n> default_floating_pool=public\n>\n> force_snat_range =0.0.0.0/0\n>\n> metadata_host=10.10.150.191\n>\n> dhcp_domain=novalocal\n>\n> security_group_api=neutron\n>\n> debug=False\n>\n> verbose=True\n>\n> log_dir=/var/log/nova\n>\n> rpc_backend=rabbit\n>\n> notification_driver=nova.openstack.common.notifier.\n> rabbit_notifier,ceilometer.compute.nova_notifier\n>\n> image_service=nova.image.glance.GlanceImageService\n>\n> notification_topics=notifications\n>\n> osapi_volume_listen=0.0.0.0\n>\n> novncproxy_host=0.0.0.0\n>\n> novncproxy_port=6080\n>\n> [api_database]\n>\n> connection=mysql+pymysql://nova_api:d1222572bbef4d72@10.10.\n> 150.191/nova_api\n>\n> [barbican]\n>\n> [cache]\n>\n> [cells]\n>\n> [cinder]\n>\n> catalog_info=volumev2:cinderv2:publicURL\n>\n> [conductor]\n>\n> use_local=False\n>\n> [cors]\n>\n> [cors.subdomain]\n>\n> [database]\n>\n> connection=mysql+pymysql://nova:d1222572bbef4d72@10.10.150.191/nova\n>\n> [ephemeral_storage_encryption]\n>\n> [glance]\n>\n> api_servers=10.10.150.191:9292\n>\n> [guestfs]\n>\n> [hyperv]\n>\n> [image_file_url]\n>\n> [ironic]\n>\n> [keymgr]\n>\n> [keystone_authtoken]\n>\n> auth_uri=http://10.10.150.191:5000/v2.0\n>\n> admin_password=8af6ad5a51d34738\n>\n> admin_user=nova\n>\n> admin_tenant_name=services\n>\n> identity_uri=http://10.10.150.191:35357\n>\n> [libvirt]\n>\n> virt_type=qemu\n>\n> inject_password=False\n>\n> inject_key=False\n>\n> inject_partition=-1\n>\n> live_migration_uri=qemu+tcp://nova@%s/system\n>\n> cpu_mode=host-model\n>\n> vif_driver=nova.virt.libvirt.vif.LibvirtGenericVIFDriver\n>\n> [matchmaker_redis]\n>\n> [metrics]\n>\n> [neutron]\n>\n> service_metadata_proxy=True\n>\n> metadata_proxy_shared_secret =7a6c8c24d1c645c9\n>\n> url=http://10.10.150.191:9696\n>\n> region_name=RegionOne\n>\n> ovs_bridge=br-int\n>\n> extension_sync_interval=600\n>\n> auth_url=http://10.10.150.191:35357/v3\n>\n> password=b344ceafa3c94a4f\n>\n> project_domain_name=Default\n>\n> project_name=services\n>\n> timeout=60\n>\n> user_domain_name=Default\n>\n> username=neutron\n>\n> auth_plugin=v3password\n>\n> [osapi_v21]\n>\n> [oslo_concurrency]\n>\n> lock_path=/var/lib/nova/tmp\n>\n> [oslo_messaging_amqp]\n>\n> [oslo_messaging_notifications]\n>\n> [oslo_messaging_rabbit]\n>\n> amqp_durable_queues=False\n>\n> kombu_reconnect_delay=1.0\n>\n> rabbit_host=10.10.150.191\n>\n> rabbit_port=5672\n>\n> rabbit_hosts=10.10.150.191:5672\n>\n> rabbit_use_ssl=False\n>\n> rabbit_userid=guest\n>\n> rabbit_password=guest\n>\n> rabbit_virtual_host=/\n>\n> rabbit_ha_queues=False\n>\n> heartbeat_timeout_threshold=0\n>\n> heartbeat_rate=2\n>\n> [oslo_middleware]\n>\n> [oslo_policy]\n>\n> [rdp]\n>\n> [serial_console]\n>\n> [spice]\n>\n> [ssl]\n>\n> [trusted_computing]\n>\n> [upgrade_levels]\n>\n> [vmware]\n>\n> [vnc]\n>\n> enabled=True\n>\n> keymap=en-us\n>\n> vncserver_listen=0.0.0.0\n>\n> vncserver_proxyclient_address=10.10.150.191\n>\n> novncproxy_base_url=http://10.10.150.191:6080/vnc_auto.html\n>\n> [workarounds]\n>\n> [xenserver]\n>\n> [osapi_v3]\n>\n> enabled=False\n>\n> On Wed, Jan 4, 2017 at 8:42 AM, Lee Yarwood <email address hidden> wrote:\n>\n>> Unfortunately this isn't a valid or supported method for deploying nova-\n>> compute.\n>>\n>> That said are you sure virt_type is qemu and not kvm?\n>>\n>> ** Changed in: nova\n>>        Status: New => Invalid\n>>\n>> --\n>> You received this bug notification because you are subscribed to the bug\n>> report.\n>> https://bugs.launchpad.net/bugs/1653430\n>>\n>> Title:\n>>    Launch Instance vm Starting up\n>>\n>> Status in OpenStack Compute (nova):\n>>   Invalid\n>>\n>> Bug description:\n>>   [root@controller ~]# virsh  list\n>>    Id    Name                           State\n>>   ----------------------------------------------------\n>>    10    instance-0000001a              running\n>>\n>>\n>>\n>>   [root@controller ~]# cat /var/log/libvirt/qemu/instance-0000001a.log\n>>   2017-01-01 15:27:19.429+0000: starting up libvirt version: 2.0.0,\n>> package: 10.el7_3.2 (CentOS BuildSystem <http://bugs.centos.org>,\n>> 2016-12-06-19:53:38, c1bm.rdu2.centos.org), qemu version: 2.6.0\n>> (qemu-kvm-ev-2.6.0-27.1.el7), hostname: controller\n>>   LC_ALL=C PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n>> HOME=/root USER=root LOGNAME=root QEMU_AUDIO_DRV=none /usr/libexec/qemu-kvm\n>> -name guest=instance-0000001a,debug-threads=on -S -object\n>> secret,id=masterKey0,format=raw,file=/var/lib/libvirt/qemu/\n>> domain-10-instance-0000001a/master-key.aes -machine\n>> pc-i440fx-rhel7.3.0,accel=tcg,usb=off -cpu Haswell-noTSX,+vme,+ds,+ss,+ht\n>> ,+osxsave,+f16c,+rdrand,+hypervisor,+arat,+tsc_adjust,+xsaveopt,+pdpe1gb,+abm\n>> -m 64 -realtime mlock=off -smp 1,sockets=1,cores=1,threads=1 -uuid\n>> 8cbaa40d-c061-47fc-83df-698f2455c7d9 -smbios\n>> 'type=1,manufacturer=RDO,product=OpenStack Compute,version=14.0.2-1.el7,s\n>> erial=4803ff26-9107-4c8c-b9f9-83cda5553350,uuid=8cbaa40d-\n>> c061-47fc-83df-698f2455c7d9,family=Virtual Machine' -no-user-config\n>> -nodefaults -chardev socket,id=charmonitor,path=/va\n>> r/lib/libvirt/qemu/domain-10-instance-0000001a/monitor.sock,server,nowait\n>> -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc\n>> -no-shutdown -boot strict=on -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2\n>> -drive file=/var/lib/nova/instances/8cbaa40d-c061-47fc-83df-698f245\n>> 5c7d9/disk,format=qcow2,if=none,id=drive-virtio-disk0,cache=none -device\n>> virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-virti\n>> o-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=26,id=hostnet0\n>> -device virtio-net-pci,netdev=hostnet0,id=net0,mac=fa:16:3e:3e:38:f9,bus=pci.0,addr=0x3\n>> -add-fd set=1,fd=29 -chardev file,id=charserial0,path=/dev/fdset/1,append=on\n>> -device isa-serial,chardev=charserial0,id=serial0 -chardev\n>> pty,id=charserial1 -device isa-serial,chardev=charserial1,id=serial1\n>> -device usb-tablet,id=input0,bus=usb.0,port=1 -vnc 10.40.1.70:0 -k en-us\n>> -device cirrus-vga,id=video0,bus=pci.0,addr=0x2 -device\n>> virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5 -msg timestamp=on\n>>   char device redirected to /dev/pts/0 (label charserial1)\n>>   warning: TCG doesn't support requested feature: CPUID.01H:EDX.vme [bit\n>> 1]\n>>   warning: TCG doesn't support requested feature: CPUID.01H:EDX.ds [bit\n>> 21]\n>>   warning: TCG doesn't support requested feature: CPUID.01H:EDX.ht [bit\n>> 28]\n>>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.fma [bit\n>> 12]\n>>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.pcid [bit\n>> 17]\n>>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.x2apic\n>> [bit 21]\n>>   warning: TCG doesn't support requested feature:\n>> CPUID.01H:ECX.tsc-deadline [bit 24]\n>>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.osxsave\n>> [bit 27]\n>>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.avx [bit\n>> 28]\n>>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.f16c [bit\n>> 29]\n>>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.rdrand\n>> [bit 30]\n>>   warning: TCG doesn't support requested feature:\n>> CPUID.07H:EBX.tsc_adjust [bit 1]\n>>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.avx2 [bit\n>> 5]\n>>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.erms [bit\n>> 9]\n>>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.invpcid\n>> [bit 10]\n>>\n>>\n>>\n>>   error:\n>>   Instance status   Starting up .......\n>>\n>>\n>>\n>>\n>>   nova use  qemu\n>>\n>> To manage notifications about this bug go to:\n>> https://bugs.launchpad.net/nova/+bug/1653430/+subscriptions\n>>\n>\n>\n", 
            "date_created": "2017-01-04 19:01:54+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "", 
            "date_created": "2017-01-05 16:51:13.070486+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "", 
            "date_created": "2017-01-05 16:51:35.026641+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "", 
            "date_created": "2017-01-05 16:51:53.963750+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "", 
            "date_created": "2017-01-05 16:52:17.376666+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "All my services are normal, just like yours\u3002\n\nI use virtual machine testing, the use of qemu\uff08egrep -c '(vmx|svm)' /proc/cpuinfo its returning 0\uff09\n\nsystem centos7.3   \uff0cFound qemu version upgrade  \n[root@controller ~]# /usr/libexec/qemu-kvm -version\nQEMU emulator version 2.6.0 (qemu-kvm-ev-2.6.0-27.1.el7), Copyright (c) 2003-2008 Fabrice Bellard\n\n\nI have built before the openstack N version is normal, but the computing node is a physical server, using kvm\n\nInstances can be booted normally\n[root@node1 ~]# /usr/libexec/qemu-kvm -version\nQEMU emulator version 1.5.3 (qemu-kvm-1.5.3-126.el7), Copyright (c) 2003-2008 Fabrice Bellard\n\n\n\n\n\nDo not know whether the version with qemu\uff1f", 
            "date_created": "2017-01-06 01:18:53.266871+00:00", 
            "author": "https://api.launchpad.net/1.0/~keyi"
        }, 
        {
            "content": "Hi there,\n\nafter I have run  egrep -c '(vmx|svm)' /proc/cpuinfo  the output is 2 now\nbut it was 0, I have changed virt_type= kvm and restart the nova services.\nNow try to access console and the output it's different then before on\nconsole.\n\n\nOUTPUT:\n\nseaBIOS (version 1.9.1-5.e17)\nmachine uuid d1....-78-......\niPXE  http://ipxe.org pc12.00000\n\n\nbooting from hard disk\ngrub\n\n\n egrep -c '(vmx|svm)' /proc/cpuinfo\n\n2\n\n[root@mitaka ~]# /usr/libexec/qemu-kvm -version\n\nQEMU emulator version 2.6.0 (qemu-kvm-ev-2.6.0-27.1.el7), Copyright (c)\n2003-2008 Fabrice Bellard\n\n\n\n\nOn Thu, Jan 5, 2017 at 8:18 PM, men <email address hidden> wrote:\n\n> All my services are normal, just like yours\u3002\n>\n> I use virtual machine testing, the use of qemu\uff08egrep -c '(vmx|svm)'\n> /proc/cpuinfo its returning 0\uff09\n>\n> system centos7.3   \uff0cFound qemu version upgrade\n> [root@controller ~]# /usr/libexec/qemu-kvm -version\n> QEMU emulator version 2.6.0 (qemu-kvm-ev-2.6.0-27.1.el7), Copyright (c)\n> 2003-2008 Fabrice Bellard\n>\n>\n> I have built before the openstack N version is normal, but the computing\n> node is a physical server, using kvm\n>\n> Instances can be booted normally\n> [root@node1 ~]# /usr/libexec/qemu-kvm -version\n> QEMU emulator version 1.5.3 (qemu-kvm-1.5.3-126.el7), Copyright (c)\n> 2003-2008 Fabrice Bellard\n>\n>\n>\n> Do not know whether the version with qemu\uff1f\n>\n> --\n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/1653430\n>\n> Title:\n>    Launch Instance vm Starting up\n>\n> Status in OpenStack Compute (nova):\n>   Invalid\n>\n> Bug description:\n>   [root@controller ~]# virsh  list\n>    Id    Name                           State\n>   ----------------------------------------------------\n>    10    instance-0000001a              running\n>\n>\n>\n>   [root@controller ~]# cat /var/log/libvirt/qemu/instance-0000001a.log\n>   2017-01-01 15:27:19.429+0000: starting up libvirt version: 2.0.0,\n> package: 10.el7_3.2 (CentOS BuildSystem <http://bugs.centos.org>,\n> 2016-12-06-19:53:38, c1bm.rdu2.centos.org), qemu version: 2.6.0\n> (qemu-kvm-ev-2.6.0-27.1.el7), hostname: controller\n>   LC_ALL=C PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n> HOME=/root USER=root LOGNAME=root QEMU_AUDIO_DRV=none /usr/libexec/qemu-kvm\n> -name guest=instance-0000001a,debug-threads=on -S -object\n> secret,id=masterKey0,format=raw,file=/var/lib/libvirt/\n> qemu/domain-10-instance-0000001a/master-key.aes -machine\n> pc-i440fx-rhel7.3.0,accel=tcg,usb=off -cpu Haswell-noTSX,+vme,+ds,+ss,+\n> ht,+osxsave,+f16c,+rdrand,+hypervisor,+arat,+tsc_adjust,+xsaveopt,+pdpe1gb,+abm\n> -m 64 -realtime mlock=off -smp 1,sockets=1,cores=1,threads=1 -uuid\n> 8cbaa40d-c061-47fc-83df-698f2455c7d9 -smbios 'type=1,manufacturer=RDO,product=OpenStack\n> Compute,version=14.0.2-1.el7,serial=4803ff26-9107-4c8c-\n> b9f9-83cda5553350,uuid=8cbaa40d-c061-47fc-83df-698f2455c7d9,family=Virtual\n> Machine' -no-user-config -nodefaults -chardev socket,id=charmonitor,path=/\n> var/lib/libvirt/qemu/domain-10-instance-0000001a/monitor.sock,server,nowait\n> -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc\n> -no-shutdown -boot strict=on -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2\n> -drive file=/var/lib/nova/instances/8cbaa40d-c061-47fc-83df-\n> 698f2455c7d9/disk,format=qcow2,if=none,id=drive-virtio-disk0,cache=none\n> -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-\n> virtio-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=26,id=hostnet0\n> -device virtio-net-pci,netdev=hostnet0,id=net0,mac=fa:16:3e:3e:38:f9,bus=pci.0,addr=0x3\n> -add-fd set=1,fd=29 -chardev file,id=charserial0,path=/dev/fdset/1,append=on\n> -device isa-serial,chardev=charserial0,id=serial0 -chardev\n> pty,id=charserial1 -device isa-serial,chardev=charserial1,id=serial1\n> -device usb-tablet,id=input0,bus=usb.0,port=1 -vnc 10.40.1.70:0 -k en-us\n> -device cirrus-vga,id=video0,bus=pci.0,addr=0x2 -device\n> virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5 -msg timestamp=on\n>   char device redirected to /dev/pts/0 (label charserial1)\n>   warning: TCG doesn't support requested feature: CPUID.01H:EDX.vme [bit 1]\n>   warning: TCG doesn't support requested feature: CPUID.01H:EDX.ds [bit 21]\n>   warning: TCG doesn't support requested feature: CPUID.01H:EDX.ht [bit 28]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.fma [bit\n> 12]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.pcid [bit\n> 17]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.x2apic\n> [bit 21]\n>   warning: TCG doesn't support requested feature:\n> CPUID.01H:ECX.tsc-deadline [bit 24]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.osxsave\n> [bit 27]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.avx [bit\n> 28]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.f16c [bit\n> 29]\n>   warning: TCG doesn't support requested feature: CPUID.01H:ECX.rdrand\n> [bit 30]\n>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.tsc_adjust\n> [bit 1]\n>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.avx2 [bit\n> 5]\n>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.erms [bit\n> 9]\n>   warning: TCG doesn't support requested feature: CPUID.07H:EBX.invpcid\n> [bit 10]\n>\n>\n>\n>   error:\n>   Instance status   Starting up .......\n>\n>\n>\n>\n>   nova use  qemu\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1653430/+subscriptions\n>\n", 
            "date_created": "2017-01-06 15:00:31+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "I think believe it's the issue with qemu version. causing I am facing the same exact issur. I have launched instance on lab environment where qemu version is previous version  qemu. I even install virt-manager on both environment where different qemu version and I could have created a vm on previous version of qemu but not on the ltest version of qemu.", 
            "date_created": "2017-01-11 14:48:19.492596+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "I'm having the same issue. Not sure why QEMU would be an invalid or non-supported manner of starting an instance (as mentioned in #3 as a reason to invalidate the bug), as kvm is an accelerator. Nice feature, but should not be essential.  This would also be indicated by this setting being in the /etc/nova/nova.conf file - using qemu would be a valid type of hypervisor. The file actually says this:\n# Allowed values: kvm, lxc, qemu, uml, xen, parallels\n\nHaving deployed RDO Liberty on AWS nodes many times this issue started when I moved to Newton.  As AWS nodes dose not show vmx or svm flags the virt_type was set to qemu instead of kvm during packstack installation. \n\nI can create a qemu instance by hand and log in. It throws a warning that the kvm module is unavailable, but does work without the accelerator. Guestfish shows the image to be good and downloading it to my local system the cirros vm boots without issue. \n\nUsing the same AWS ami and instance type, with the same configuration edits for packstack the install can no longer deploy a usable instance.  Every permutation of install appears to work but the console says: \"Starting up ....\"\n\nWhen I download cirros image to a different node, running QEMU emulator version 2.7.1(qemu-2.7.1-1.fc25), it boots just fine.   This is a bug in the qemu-kvm-ev used in OpenStack, or how nova works with qemu-kvm-ev\n", 
            "date_created": "2017-02-01 18:08:03.083096+00:00", 
            "author": "https://api.launchpad.net/1.0/~h-tim-2"
        }, 
        {
            "content": "\n\nHi Tim,\n\nThank you for reply. I have resolved the issue by changing in nova.conf file and change was virt_type=qemu,  cpu_mode=none in mitaka version. After make these changes in mitaka I am able to access the console, private ip address which also can access to external network. \n\nNow, I have same issue with liberty version I have made same changes but now the error is\n\nThanks,\nMohammed Khan\n\n\n> On Feb 1, 2017, at 1:08 PM, Tim Serewicz <email address hidden> wrote:\n> \n> I'm having the same issue. Not sure why QEMU would be an invalid or non-supported manner of starting an instance (as mentioned in #3 as a reason to invalidate the bug), as kvm is an accelerator. Nice feature, but should not be essential.  This would also be indicated by this setting being in the /etc/nova/nova.conf file - using qemu would be a valid type of hypervisor. The file actually says this:\n> # Allowed values: kvm, lxc, qemu, uml, xen, parallels\n> \n> Having deployed RDO Liberty on AWS nodes many times this issue started\n> when I moved to Newton.  As AWS nodes dose not show vmx or svm flags the\n> virt_type was set to qemu instead of kvm during packstack installation.\n> \n> I can create a qemu instance by hand and log in. It throws a warning\n> that the kvm module is unavailable, but does work without the\n> accelerator. Guestfish shows the image to be good and downloading it to\n> my local system the cirros vm boots without issue.\n> \n> Using the same AWS ami and instance type, with the same configuration\n> edits for packstack the install can no longer deploy a usable instance.\n> Every permutation of install appears to work but the console says:\n> \"Starting up ....\"\n> \n> When I download cirros image to a different node, running QEMU emulator\n> version 2.7.1(qemu-2.7.1-1.fc25), it boots just fine.   This is a bug in\n> the qemu-kvm-ev used in OpenStack, or how nova works with qemu-kvm-ev\n> \n> -- \n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/1653430\n> \n> Title:\n>   Launch Instance vm Starting up\n> \n> Status in OpenStack Compute (nova):\n>  Invalid\n> \n> Bug description:\n>  [root@controller ~]# virsh  list\n>   Id    Name                           State\n>  ----------------------------------------------------\n>   10    instance-0000001a              running\n> \n> \n> \n>  [root@controller ~]# cat /var/log/libvirt/qemu/instance-0000001a.log \n>  2017-01-01 15:27:19.429+0000: starting up libvirt version: 2.0.0, package: 10.el7_3.2 (CentOS BuildSystem <http://bugs.centos.org>, 2016-12-06-19:53:38, c1bm.rdu2.centos.org), qemu version: 2.6.0 (qemu-kvm-ev-2.6.0-27.1.el7), hostname: controller\n>  LC_ALL=C PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin HOME=/root USER=root LOGNAME=root QEMU_AUDIO_DRV=none /usr/libexec/qemu-kvm -name guest=instance-0000001a,debug-threads=on -S -object secret,id=masterKey0,format=raw,file=/var/lib/libvirt/qemu/domain-10-instance-0000001a/master-key.aes -machine pc-i440fx-rhel7.3.0,accel=tcg,usb=off -cpu Haswell-noTSX,+vme,+ds,+ss,+ht,+osxsave,+f16c,+rdrand,+hypervisor,+arat,+tsc_adjust,+xsaveopt,+pdpe1gb,+abm -m 64 -realtime mlock=off -smp 1,sockets=1,cores=1,threads=1 -uuid 8cbaa40d-c061-47fc-83df-698f2455c7d9 -smbios 'type=1,manufacturer=RDO,product=OpenStack Compute,version=14.0.2-1.el7,serial=4803ff26-9107-4c8c-b9f9-83cda5553350,uuid=8cbaa40d-c061-47fc-83df-698f2455c7d9,family=Virtual Machine' -no-user-config -nodefaults -chardev socket,id=charmonitor,path=/var/lib/libvirt/qemu/domain-10-instance-0000001a/monitor.sock,server,nowait -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc -no-shutdown -boot strict=on -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2 -drive file=/var/lib/nova/instances/8cbaa40d-c061-47fc-83df-698f2455c7d9/disk,format=qcow2,if=none,id=drive-virtio-disk0,cache=none -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-virtio-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=26,id=hostnet0 -device virtio-net-pci,netdev=hostnet0,id=net0,mac=fa:16:3e:3e:38:f9,bus=pci.0,addr=0x3 -add-fd set=1,fd=29 -chardev file,id=charserial0,path=/dev/fdset/1,append=on -device isa-serial,chardev=charserial0,id=serial0 -chardev pty,id=charserial1 -device isa-serial,chardev=charserial1,id=serial1 -device usb-tablet,id=input0,bus=usb.0,port=1 -vnc 10.40.1.70:0 -k en-us -device cirrus-vga,id=video0,bus=pci.0,addr=0x2 -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5 -msg timestamp=on\n>  char device redirected to /dev/pts/0 (label charserial1)\n>  warning: TCG doesn't support requested feature: CPUID.01H:EDX.vme [bit 1]\n>  warning: TCG doesn't support requested feature: CPUID.01H:EDX.ds [bit 21]\n>  warning: TCG doesn't support requested feature: CPUID.01H:EDX.ht [bit 28]\n>  warning: TCG doesn't support requested feature: CPUID.01H:ECX.fma [bit 12]\n>  warning: TCG doesn't support requested feature: CPUID.01H:ECX.pcid [bit 17]\n>  warning: TCG doesn't support requested feature: CPUID.01H:ECX.x2apic [bit 21]\n>  warning: TCG doesn't support requested feature: CPUID.01H:ECX.tsc-deadline [bit 24]\n>  warning: TCG doesn't support requested feature: CPUID.01H:ECX.osxsave [bit 27]\n>  warning: TCG doesn't support requested feature: CPUID.01H:ECX.avx [bit 28]\n>  warning: TCG doesn't support requested feature: CPUID.01H:ECX.f16c [bit 29]\n>  warning: TCG doesn't support requested feature: CPUID.01H:ECX.rdrand [bit 30]\n>  warning: TCG doesn't support requested feature: CPUID.07H:EBX.tsc_adjust [bit 1]\n>  warning: TCG doesn't support requested feature: CPUID.07H:EBX.avx2 [bit 5]\n>  warning: TCG doesn't support requested feature: CPUID.07H:EBX.erms [bit 9]\n>  warning: TCG doesn't support requested feature: CPUID.07H:EBX.invpcid [bit 10]\n> \n> \n> \n>  error:\n>  Instance status   Starting up .......\n> \n> \n> \n> \n>  nova use  qemu\n> \n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1653430/+subscriptions\n\n", 
            "date_created": "2017-02-01 18:44:45+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkhan1976"
        }, 
        {
            "content": "Thank you Mohammed!\n\nYour changes are a great work-around. I've been trying to figure out a fix for weeks now. Thank you! I would guess that whatever logic is used to determine which type of cpu_mode to choose needs to be updated for environments which use qemu but not kvm. I am not nearly good enough with code to make the change.\n\nWhile troubleshooting I saw the same PXE error on the console you mention. I did not have this same issue on Liberty. Using AWS nodes, CentOS 7.3-1611, Liberty works with QEMU without issue.\n\nWhile trying to get Newton to work when I swapped out qemu-kvm for qemu-kvm-ev it would boot to an immediate PXE output like your image shows. Perhaps an update to the python doesn't understand how to view the boot code any more. If I find a fix I will definitly let you know.\n\nThanks again!\n\nTim", 
            "date_created": "2017-02-01 21:47:43.761109+00:00", 
            "author": "https://api.launchpad.net/1.0/~h-tim-2"
        }, 
        {
            "content": "This issue seems similar as reported through\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1404627\n\nThe fix is now available in RHEL 7.4\n\nYou would be needing the packages:\nlibvirt-client-3.2.0-10.el7.x86_64\nqemu-kvm-rhev-2.9.0-10.el7.x86_64\n\nHad been hitting exactly the same issue and the resolution provided in bugzilla works perfectly with above version of packages\n\nReferring the comment from chhu: https://bugzilla.redhat.com/show_bug.cgi?id=1404627#c23\n\nwith packages:\nlibvirt-client-3.2.0-10.el7.x86_64\nqemu-kvm-rhev-2.9.0-10.el7.x86_64\n\nSteps:\n1. Edit the /etc/nova/nova.conf, and restart OpenStack services.\nvirt_type=qemu\ncpu_mode=host-model\n#service openstack-nova-api restart\n#service openstack-nova-compute restart\n\nThen, try to start a VM with cirros image.\nThe VM start successfully. No hang.\n\n2. Edit the /etc/nova/nova.conf, and restart OpenStack services.\nvirt_type=kvm\ncpu_mode=host-model\n\n#service openstack-nova-api restart\n#service openstack-nova-compute restart\n\nThen, try to start a VM with cirros image.\nThe VM start successfully. No hang.\n\nCentOS 7.4 should be released with the mentioned packages with said versions within 1 month's time I believe\n\nTo confirm above fix resolved the issue for me:\n\nRHEL 7.4 VM on vSphere 6.0\nOcata Packstack AIO deployed\nCloudbase Windows 2012 Eval Qcow2 image imported into glance and instance launched successfully\n", 
            "date_created": "2017-08-15 16:06:02.694170+00:00", 
            "author": "https://api.launchpad.net/1.0/~neoanantha"
        }, 
        {
            "content": "If your compute host is centos/rhel 7.3 running as a VM on ESXi, \nthere is a quick fix to have hardware assisted virtualization (virt_type = kvm) work.\n \nIn the [libvirt] section of /etc/nova/nova.conf set hw_machine_type as follows:\n\nhw_machine_type = x86_64=pc-i440fx-rhel7.2.0", 
            "date_created": "2017-08-30 15:23:59.657849+00:00", 
            "author": "https://api.launchpad.net/1.0/~trakatelis"
        }
    ]
}