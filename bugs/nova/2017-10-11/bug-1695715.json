{
    "status": "Invalid", 
    "last_updated": "2017-06-23 11:14:22.651301+00:00", 
    "description": "Used latest kolla version, kolla/centos-binary-nova-compute:4.0.0\n\nWhen I make request from dashboard or cli, I have the follow error:\n\n2017-06-04 09:33:58.725 19 INFO nova.osapi_compute.wsgi.server [req-e0486c0a-8a95-4fae-a91f-0982ad142417 - - - - -] 172.28.128.254,172.28.128.9 \"GET /v2.1/75020645316741a49315d764b7b8f238/flavors/detail HTTP/1.1\" status: 200 len: 848 time: 0.3621480\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions [req-0347f25d-f083-4f68-9c32-7c32961a7bf0 - - - - -] Unexpected exception in API method\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 338, in wrapped\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 181, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 181, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 214, in detail\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     servers = self._get_servers(req, is_detail=True)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 352, in _get_servers\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 2429, in get_all\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 2569, in _get_instances_by_filters\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     expected_attrs=fields, sort_keys=sort_keys, sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_versionedobjects/base.py\", line 184, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/objects/instance.py\", line 1220, in get_by_filters\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     use_slave=use_slave, sort_keys=sort_keys, sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 236, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/objects/instance.py\", line 1204, in _get_by_filters_impl\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/api.py\", line 763, in instance_get_all_by_filters_sort\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 180, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 281, in wrapped\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return f(context, *args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 2260, in instance_get_all_by_filters_sort\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return _instances_fill_metadata(context, query_prefix.all(), manual_joins)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2588, in all\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return list(self)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2736, in __iter__\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return self._execute_and_instances(context)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2751, in _execute_and_instances\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     result = conn.execute(querycontext.statement, self._params)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return meth(self, multiparams, params)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return connection._execute_clauseelement(self, multiparams, params)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     compiled_sql, distilled_params\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     context)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1337, in _handle_dbapi_exception\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     util.raise_from_cause(newraise, exc_info)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/util/compat.py\", line 200, in raise_from_cause\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     reraise(type(exception), exception, tb=exc_tb)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     context)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     cursor.execute(statement, parameters)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 166, in execute\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     result = self._query(query)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 322, in _query\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     conn.query(q)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 841, in query\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 1029, in _read_query_result\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     result.read()\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 1312, in read\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     first_packet = self.connection._read_packet()\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 991, in _read_packet\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     packet.check_error()\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 393, in check_error\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     err.raise_mysql_exception(self._data)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/err.py\", line 107, in raise_mysql_exception\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     raise errorclass(errno, errval)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions ProgrammingError: (pymysql.err.ProgrammingError) (1146, u\"Table 'nova_cell0.instance_extra' doesn't exist\") [SQL: u'SELECT anon_1.instances_created_at AS anon_1_instances_created_at, anon_1.instances_updated_at AS anon_1_instances_updated_at, anon_1.instances_deleted_at AS anon_1_instances_deleted_at, anon_1.instances_deleted AS anon_1_instances_deleted, anon_1.instances_id AS anon_1_instances_id, anon_1.instances_user_id AS anon_1_instances_user_id, anon_1.instances_project_id AS anon_1_instances_project_id, anon_1.instances_image_ref AS anon_1_instances_image_ref, anon_1.instances_kernel_id AS anon_1_instances_kernel_id, anon_1.instances_ramdisk_id AS anon_1_instances_ramdisk_id, anon_1.instances_hostname AS anon_1_instances_hostname, anon_1.instances_launch_index AS anon_1_instances_launch_index, anon_1.instances_key_name AS anon_1_instances_key_name, anon_1.instances_key_data AS anon_1_instances_key_data, anon_1.instances_power_state AS anon_1_instances_power_state, anon_1.instances_vm_state AS anon_1_instances_vm_state, anon_1.instances_task_state AS anon_1_instances_task_state, anon_1.instances_memory_mb AS anon_1_instances_memory_mb, anon_1.instances_vcpus AS anon_1_instances_vcpus, anon_1.instances_root_gb AS anon_1_instances_root_gb, anon_1.instances_ephemeral_gb AS anon_1_instances_ephemeral_gb, anon_1.instances_ephemeral_key_uuid AS anon_1_instances_ephemeral_key_uuid, anon_1.instances_host AS anon_1_instances_host, anon_1.instances_node AS anon_1_instances_node, anon_1.instances_instance_type_id AS anon_1_instances_instance_type_id, anon_1.instances_user_data AS anon_1_instances_user_data, anon_1.instances_reservation_id AS anon_1_instances_reservation_id, anon_1.instances_launched_at AS anon_1_instances_launched_at, anon_1.instances_terminated_at AS anon_1_instances_terminated_at, anon_1.instances_availability_zone AS anon_1_instances_availability_zone, anon_1.instances_display_name AS anon_1_instances_display_name, anon_1.instances_display_description AS anon_1_instances_display_description, anon_1.instances_launched_on AS anon_1_instances_launched_on, anon_1.instances_locked AS anon_1_instances_locked, anon_1.instances_locked_by AS anon_1_instances_locked_by, anon_1.instances_os_type AS anon_1_instances_os_type, anon_1.instances_architecture AS anon_1_instances_architecture, anon_1.instances_vm_mode AS anon_1_instances_vm_mode, anon_1.instances_uuid AS anon_1_instances_uuid, anon_1.instances_root_device_name AS anon_1_instances_root_device_name, anon_1.instances_default_ephemeral_device AS anon_1_instances_default_ephemeral_device, anon_1.instances_default_swap_device AS anon_1_instances_default_swap_device, anon_1.instances_config_drive AS anon_1_instances_config_drive, anon_1.instances_access_ip_v4 AS anon_1_instances_access_ip_v4, anon_1.instances_access_ip_v6 AS anon_1_instances_access_ip_v6, anon_1.instances_auto_disk_config AS anon_1_instances_auto_disk_config, anon_1.instances_progress AS anon_1_instances_progress, anon_1.instances_shutdown_terminate AS anon_1_instances_shutdown_terminate, anon_1.instances_disable_terminate AS anon_1_instances_disable_terminate, anon_1.instances_cell_name AS anon_1_instances_cell_name, anon_1.instances_cleaned AS anon_1_instances_cleaned, instance_extra_1.flavor AS instance_extra_1_flavor, instance_extra_1.created_at AS instance_extra_1_created_at, instance_extra_1.updated_at AS instance_extra_1_updated_at, instance_extra_1.deleted_at AS instance_extra_1_deleted_at, instance_extra_1.deleted AS instance_extra_1_deleted, instance_extra_1.id AS instance_extra_1_id, instance_extra_1.instance_uuid AS instance_extra_1_instance_uuid, services_1.created_at AS services_1_created_at, services_1.updated_at AS services_1_updated_at, services_1.deleted_at AS services_1_deleted_at, services_1.deleted AS services_1_deleted, services_1.id AS services_1_id, services_1.host AS services_1_host, services_1.`binary` AS services_1_binary, services_1.topic AS services_1_topic, services_1.report_count AS services_1_report_count, services_1.disabled AS services_1_disabled, services_1.disabled_reason AS services_1_disabled_reason, services_1.last_seen_up AS services_1_last_seen_up, services_1.forced_down AS services_1_forced_down, services_1.version AS services_1_version, instance_info_caches_1.created_at AS instance_info_caches_1_created_at, instance_info_caches_1.updated_at AS instance_info_caches_1_updated_at, instance_info_caches_1.deleted_at AS instance_info_caches_1_deleted_at, instance_info_caches_1.deleted AS instance_info_caches_1_deleted, instance_info_caches_1.id AS instance_info_caches_1_id, instance_info_caches_1.network_info AS instance_info_caches_1_network_info, instance_info_caches_1.instance_uuid AS instance_info_caches_1_instance_uuid, security_groups_1.created_at AS security_groups_1_created_at, security_groups_1.updated_at AS security_groups_1_updated_at, security_groups_1.deleted_at AS security_groups_1_deleted_at, security_groups_1.deleted AS security_groups_1_deleted, security_groups_1.id AS security_groups_1_id, security_groups_1.name AS security_groups_1_name, security_groups_1.description AS security_groups_1_description, security_groups_1.user_id AS security_groups_1_user_id, security_groups_1.project_id AS security_groups_1_project_id \\nFROM (SELECT instances.created_at AS instances_created_at, instances.updated_at AS instances_updated_at, instances.deleted_at AS instances_deleted_at, instances.deleted AS instances_deleted, instances.id AS instances_id, instances.user_id AS instances_user_id, instances.project_id AS instances_project_id, instances.image_ref AS instances_image_ref, instances.kernel_id AS instances_kernel_id, instances.ramdisk_id AS instances_ramdisk_id, instances.hostname AS instances_hostname, instances.launch_index AS instances_launch_index, instances.key_name AS instances_key_name, instances.key_data AS instances_key_data, instances.power_state AS instances_power_state, instances.vm_state AS instances_vm_state, instances.task_state AS instances_task_state, instances.memory_mb AS instances_memory_mb, instances.vcpus AS instances_vcpus, instances.root_gb AS instances_root_gb, instances.ephemeral_gb AS instances_ephemeral_gb, instances.ephemeral_key_uuid AS instances_ephemeral_key_uuid, instances.host AS instances_host, instances.node AS instances_node, instances.instance_type_id AS instances_instance_type_id, instances.user_data AS instances_user_data, instances.reservation_id AS instances_reservation_id, instances.launched_at AS instances_launched_at, instances.terminated_at AS instances_terminated_at, instances.availability_zone AS instances_availability_zone, instances.display_name AS instances_display_name, instances.display_description AS instances_display_description, instances.launched_on AS instances_launched_on, instances.locked AS instances_locked, instances.locked_by AS instances_locked_by, instances.os_type AS instances_os_type, instances.architecture AS instances_architecture, instances.vm_mode AS instances_vm_mode, instances.uuid AS instances_uuid, instances.root_device_name AS instances_root_device_name, instances.default_ephemeral_device AS instances_default_ephemeral_device, instances.default_swap_device AS instances_default_swap_device, instances.config_drive AS instances_config_drive, instances.access_ip_v4 AS instances_access_ip_v4, instances.access_ip_v6 AS instances_access_ip_v6, instances.auto_disk_config AS instances_auto_disk_config, instances.progress AS instances_progress, instances.shutdown_terminate AS instances_shutdown_terminate, instances.disable_terminate AS instances_disable_terminate, instances.cell_name AS instances_cell_name, instances.cleaned AS instances_cleaned \\nFROM instances \\nWHERE instances.deleted = %(deleted_1)s AND (instances.vm_state != %(vm_state_1)s OR instances.vm_state IS NULL) AND instances.project_id = %(project_id_1)s ORDER BY instances.created_at DESC, instances.id DESC \\n LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN instance_extra AS instance_extra_1 ON instance_extra_1.instance_uuid = anon_1.instances_uuid LEFT OUTER JOIN services AS services_1 ON services_1.host = anon_1.instances_host AND services_1.`binary` = %(binary_1)s AND anon_1.instances_deleted = %(deleted_2)s LEFT OUTER JOIN instance_info_caches AS instance_info_caches_1 ON instance_info_caches_1.instance_uuid = anon_1.instances_uuid LEFT OUTER JOIN (security_group_instance_association AS security_group_instance_association_1 INNER JOIN security_groups AS security_groups_1 ON security_groups_1.id = security_group_instance_association_1.security_group_id AND security_group_instance_association_1.deleted = %(deleted_3)s AND security_groups_1.deleted = %(deleted_4)s) ON security_group_instance_association_1.instance_uuid = anon_1.instances_uuid AND anon_1.instances_deleted = %(deleted_5)s ORDER BY anon_1.instances_created_at DESC, anon_1.instances_id DESC'] [parameters: {u'binary_1': 'nova-compute', u'deleted_3': 0, u'deleted_5': 0, u'deleted_4': 0, u'param_1': 19, u'deleted_2': 0, u'deleted_1': 0, u'vm_state_1': 'soft-delete', u'project_id_1': u'75020645316741a49315d764b7b8f238'}]\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions\n2017-06-04 09:33:58.970 19 INFO nova.api.openstack.wsgi [req-0347f25d-f083-4f68-9c32-7c32961a7bf0 - - - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'sqlalchemy.exc.ProgrammingError'>\n2017-06-04 09:33:58.972 19 INFO nova.osapi_compute.wsgi.server [req-0347f25d-f083-4f68-9c32-7c32961a7bf0 - - - - -] 172.28.128.254,172.28.128.9 \"GET /v2.1/75020645316741a49315d764b7b8f238/servers/detail?limit=21&project_id=75020645316741a49315d764b7b8f238 HTTP/1.1\" status: 500 len: 548 time: 0.1852560\n2017-06-04 09:33:59.690 19 INFO nova.osapi_compute.wsgi.server [req-ec5fa612-c973-400a-b433-fdf75a48a6b3 - - - - -] 172.28.128.254,172.28.128.9 \"GET /v2.1/75020645316741a49315d764b7b8f238/limits?reserved=1 HTTP/1.1\" status: 200 len: 823 time: 0.2321832\n2017-06-04 09:33:59.834 19 INFO nova.osapi_compute.wsgi.server [req-e2be1c38-c381-46ca-a000-d0ac32006be9 - - - - -] 172.28.128.254,172.28.128.9 \"GET /v2.1/75020645316741a49315d764b7b8f238/limits?reserved=1 HTTP/1.1\" status: 200 len: 823 time: 0.1197052", 
    "tags": [
        "cells"
    ], 
    "importance": "Undecided", 
    "heat": 12, 
    "link": "https://bugs.launchpad.net/nova/+bug/1695715", 
    "owner": "None", 
    "id": 1695715, 
    "index": 6883, 
    "created": "2017-06-04 09:40:58.435393+00:00", 
    "title": "Kolla / Nova / Table 'nova_cell0.instance_extra' doesn't exist", 
    "comments": [
        {
            "content": "Used latest kolla version, kolla/centos-binary-nova-compute:4.0.0\n\nWhen I make request from dashboard or cli, I have the follow error:\n\n2017-06-04 09:33:58.725 19 INFO nova.osapi_compute.wsgi.server [req-e0486c0a-8a95-4fae-a91f-0982ad142417 - - - - -] 172.28.128.254,172.28.128.9 \"GET /v2.1/75020645316741a49315d764b7b8f238/flavors/detail HTTP/1.1\" status: 200 len: 848 time: 0.3621480\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions [req-0347f25d-f083-4f68-9c32-7c32961a7bf0 - - - - -] Unexpected exception in API method\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 338, in wrapped\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 181, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 181, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 214, in detail\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     servers = self._get_servers(req, is_detail=True)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 352, in _get_servers\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 2429, in get_all\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 2569, in _get_instances_by_filters\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     expected_attrs=fields, sort_keys=sort_keys, sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_versionedobjects/base.py\", line 184, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/objects/instance.py\", line 1220, in get_by_filters\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     use_slave=use_slave, sort_keys=sort_keys, sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 236, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/objects/instance.py\", line 1204, in _get_by_filters_impl\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/api.py\", line 763, in instance_get_all_by_filters_sort\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     sort_dirs=sort_dirs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 180, in wrapper\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 281, in wrapped\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return f(context, *args, **kwargs)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 2260, in instance_get_all_by_filters_sort\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return _instances_fill_metadata(context, query_prefix.all(), manual_joins)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2588, in all\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return list(self)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2736, in __iter__\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return self._execute_and_instances(context)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2751, in _execute_and_instances\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     result = conn.execute(querycontext.statement, self._params)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return meth(self, multiparams, params)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     return connection._execute_clauseelement(self, multiparams, params)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     compiled_sql, distilled_params\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     context)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1337, in _handle_dbapi_exception\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     util.raise_from_cause(newraise, exc_info)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/util/compat.py\", line 200, in raise_from_cause\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     reraise(type(exception), exception, tb=exc_tb)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     context)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     cursor.execute(statement, parameters)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 166, in execute\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     result = self._query(query)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 322, in _query\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     conn.query(q)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 841, in query\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 1029, in _read_query_result\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     result.read()\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 1312, in read\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     first_packet = self.connection._read_packet()\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 991, in _read_packet\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     packet.check_error()\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 393, in check_error\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     err.raise_mysql_exception(self._data)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/err.py\", line 107, in raise_mysql_exception\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions     raise errorclass(errno, errval)\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions ProgrammingError: (pymysql.err.ProgrammingError) (1146, u\"Table 'nova_cell0.instance_extra' doesn't exist\") [SQL: u'SELECT anon_1.instances_created_at AS anon_1_instances_created_at, anon_1.instances_updated_at AS anon_1_instances_updated_at, anon_1.instances_deleted_at AS anon_1_instances_deleted_at, anon_1.instances_deleted AS anon_1_instances_deleted, anon_1.instances_id AS anon_1_instances_id, anon_1.instances_user_id AS anon_1_instances_user_id, anon_1.instances_project_id AS anon_1_instances_project_id, anon_1.instances_image_ref AS anon_1_instances_image_ref, anon_1.instances_kernel_id AS anon_1_instances_kernel_id, anon_1.instances_ramdisk_id AS anon_1_instances_ramdisk_id, anon_1.instances_hostname AS anon_1_instances_hostname, anon_1.instances_launch_index AS anon_1_instances_launch_index, anon_1.instances_key_name AS anon_1_instances_key_name, anon_1.instances_key_data AS anon_1_instances_key_data, anon_1.instances_power_state AS anon_1_instances_power_state, anon_1.instances_vm_state AS anon_1_instances_vm_state, anon_1.instances_task_state AS anon_1_instances_task_state, anon_1.instances_memory_mb AS anon_1_instances_memory_mb, anon_1.instances_vcpus AS anon_1_instances_vcpus, anon_1.instances_root_gb AS anon_1_instances_root_gb, anon_1.instances_ephemeral_gb AS anon_1_instances_ephemeral_gb, anon_1.instances_ephemeral_key_uuid AS anon_1_instances_ephemeral_key_uuid, anon_1.instances_host AS anon_1_instances_host, anon_1.instances_node AS anon_1_instances_node, anon_1.instances_instance_type_id AS anon_1_instances_instance_type_id, anon_1.instances_user_data AS anon_1_instances_user_data, anon_1.instances_reservation_id AS anon_1_instances_reservation_id, anon_1.instances_launched_at AS anon_1_instances_launched_at, anon_1.instances_terminated_at AS anon_1_instances_terminated_at, anon_1.instances_availability_zone AS anon_1_instances_availability_zone, anon_1.instances_display_name AS anon_1_instances_display_name, anon_1.instances_display_description AS anon_1_instances_display_description, anon_1.instances_launched_on AS anon_1_instances_launched_on, anon_1.instances_locked AS anon_1_instances_locked, anon_1.instances_locked_by AS anon_1_instances_locked_by, anon_1.instances_os_type AS anon_1_instances_os_type, anon_1.instances_architecture AS anon_1_instances_architecture, anon_1.instances_vm_mode AS anon_1_instances_vm_mode, anon_1.instances_uuid AS anon_1_instances_uuid, anon_1.instances_root_device_name AS anon_1_instances_root_device_name, anon_1.instances_default_ephemeral_device AS anon_1_instances_default_ephemeral_device, anon_1.instances_default_swap_device AS anon_1_instances_default_swap_device, anon_1.instances_config_drive AS anon_1_instances_config_drive, anon_1.instances_access_ip_v4 AS anon_1_instances_access_ip_v4, anon_1.instances_access_ip_v6 AS anon_1_instances_access_ip_v6, anon_1.instances_auto_disk_config AS anon_1_instances_auto_disk_config, anon_1.instances_progress AS anon_1_instances_progress, anon_1.instances_shutdown_terminate AS anon_1_instances_shutdown_terminate, anon_1.instances_disable_terminate AS anon_1_instances_disable_terminate, anon_1.instances_cell_name AS anon_1_instances_cell_name, anon_1.instances_cleaned AS anon_1_instances_cleaned, instance_extra_1.flavor AS instance_extra_1_flavor, instance_extra_1.created_at AS instance_extra_1_created_at, instance_extra_1.updated_at AS instance_extra_1_updated_at, instance_extra_1.deleted_at AS instance_extra_1_deleted_at, instance_extra_1.deleted AS instance_extra_1_deleted, instance_extra_1.id AS instance_extra_1_id, instance_extra_1.instance_uuid AS instance_extra_1_instance_uuid, services_1.created_at AS services_1_created_at, services_1.updated_at AS services_1_updated_at, services_1.deleted_at AS services_1_deleted_at, services_1.deleted AS services_1_deleted, services_1.id AS services_1_id, services_1.host AS services_1_host, services_1.`binary` AS services_1_binary, services_1.topic AS services_1_topic, services_1.report_count AS services_1_report_count, services_1.disabled AS services_1_disabled, services_1.disabled_reason AS services_1_disabled_reason, services_1.last_seen_up AS services_1_last_seen_up, services_1.forced_down AS services_1_forced_down, services_1.version AS services_1_version, instance_info_caches_1.created_at AS instance_info_caches_1_created_at, instance_info_caches_1.updated_at AS instance_info_caches_1_updated_at, instance_info_caches_1.deleted_at AS instance_info_caches_1_deleted_at, instance_info_caches_1.deleted AS instance_info_caches_1_deleted, instance_info_caches_1.id AS instance_info_caches_1_id, instance_info_caches_1.network_info AS instance_info_caches_1_network_info, instance_info_caches_1.instance_uuid AS instance_info_caches_1_instance_uuid, security_groups_1.created_at AS security_groups_1_created_at, security_groups_1.updated_at AS security_groups_1_updated_at, security_groups_1.deleted_at AS security_groups_1_deleted_at, security_groups_1.deleted AS security_groups_1_deleted, security_groups_1.id AS security_groups_1_id, security_groups_1.name AS security_groups_1_name, security_groups_1.description AS security_groups_1_description, security_groups_1.user_id AS security_groups_1_user_id, security_groups_1.project_id AS security_groups_1_project_id \\nFROM (SELECT instances.created_at AS instances_created_at, instances.updated_at AS instances_updated_at, instances.deleted_at AS instances_deleted_at, instances.deleted AS instances_deleted, instances.id AS instances_id, instances.user_id AS instances_user_id, instances.project_id AS instances_project_id, instances.image_ref AS instances_image_ref, instances.kernel_id AS instances_kernel_id, instances.ramdisk_id AS instances_ramdisk_id, instances.hostname AS instances_hostname, instances.launch_index AS instances_launch_index, instances.key_name AS instances_key_name, instances.key_data AS instances_key_data, instances.power_state AS instances_power_state, instances.vm_state AS instances_vm_state, instances.task_state AS instances_task_state, instances.memory_mb AS instances_memory_mb, instances.vcpus AS instances_vcpus, instances.root_gb AS instances_root_gb, instances.ephemeral_gb AS instances_ephemeral_gb, instances.ephemeral_key_uuid AS instances_ephemeral_key_uuid, instances.host AS instances_host, instances.node AS instances_node, instances.instance_type_id AS instances_instance_type_id, instances.user_data AS instances_user_data, instances.reservation_id AS instances_reservation_id, instances.launched_at AS instances_launched_at, instances.terminated_at AS instances_terminated_at, instances.availability_zone AS instances_availability_zone, instances.display_name AS instances_display_name, instances.display_description AS instances_display_description, instances.launched_on AS instances_launched_on, instances.locked AS instances_locked, instances.locked_by AS instances_locked_by, instances.os_type AS instances_os_type, instances.architecture AS instances_architecture, instances.vm_mode AS instances_vm_mode, instances.uuid AS instances_uuid, instances.root_device_name AS instances_root_device_name, instances.default_ephemeral_device AS instances_default_ephemeral_device, instances.default_swap_device AS instances_default_swap_device, instances.config_drive AS instances_config_drive, instances.access_ip_v4 AS instances_access_ip_v4, instances.access_ip_v6 AS instances_access_ip_v6, instances.auto_disk_config AS instances_auto_disk_config, instances.progress AS instances_progress, instances.shutdown_terminate AS instances_shutdown_terminate, instances.disable_terminate AS instances_disable_terminate, instances.cell_name AS instances_cell_name, instances.cleaned AS instances_cleaned \\nFROM instances \\nWHERE instances.deleted = %(deleted_1)s AND (instances.vm_state != %(vm_state_1)s OR instances.vm_state IS NULL) AND instances.project_id = %(project_id_1)s ORDER BY instances.created_at DESC, instances.id DESC \\n LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN instance_extra AS instance_extra_1 ON instance_extra_1.instance_uuid = anon_1.instances_uuid LEFT OUTER JOIN services AS services_1 ON services_1.host = anon_1.instances_host AND services_1.`binary` = %(binary_1)s AND anon_1.instances_deleted = %(deleted_2)s LEFT OUTER JOIN instance_info_caches AS instance_info_caches_1 ON instance_info_caches_1.instance_uuid = anon_1.instances_uuid LEFT OUTER JOIN (security_group_instance_association AS security_group_instance_association_1 INNER JOIN security_groups AS security_groups_1 ON security_groups_1.id = security_group_instance_association_1.security_group_id AND security_group_instance_association_1.deleted = %(deleted_3)s AND security_groups_1.deleted = %(deleted_4)s) ON security_group_instance_association_1.instance_uuid = anon_1.instances_uuid AND anon_1.instances_deleted = %(deleted_5)s ORDER BY anon_1.instances_created_at DESC, anon_1.instances_id DESC'] [parameters: {u'binary_1': 'nova-compute', u'deleted_3': 0, u'deleted_5': 0, u'deleted_4': 0, u'param_1': 19, u'deleted_2': 0, u'deleted_1': 0, u'vm_state_1': 'soft-delete', u'project_id_1': u'75020645316741a49315d764b7b8f238'}]\n2017-06-04 09:33:58.968 19 ERROR nova.api.openstack.extensions\n2017-06-04 09:33:58.970 19 INFO nova.api.openstack.wsgi [req-0347f25d-f083-4f68-9c32-7c32961a7bf0 - - - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'sqlalchemy.exc.ProgrammingError'>\n2017-06-04 09:33:58.972 19 INFO nova.osapi_compute.wsgi.server [req-0347f25d-f083-4f68-9c32-7c32961a7bf0 - - - - -] 172.28.128.254,172.28.128.9 \"GET /v2.1/75020645316741a49315d764b7b8f238/servers/detail?limit=21&project_id=75020645316741a49315d764b7b8f238 HTTP/1.1\" status: 500 len: 548 time: 0.1852560\n2017-06-04 09:33:59.690 19 INFO nova.osapi_compute.wsgi.server [req-ec5fa612-c973-400a-b433-fdf75a48a6b3 - - - - -] 172.28.128.254,172.28.128.9 \"GET /v2.1/75020645316741a49315d764b7b8f238/limits?reserved=1 HTTP/1.1\" status: 200 len: 823 time: 0.2321832\n2017-06-04 09:33:59.834 19 INFO nova.osapi_compute.wsgi.server [req-e2be1c38-c381-46ca-a000-d0ac32006be9 - - - - -] 172.28.128.254,172.28.128.9 \"GET /v2.1/75020645316741a49315d764b7b8f238/limits?reserved=1 HTTP/1.1\" status: 200 len: 823 time: 0.1197052", 
            "date_created": "2017-06-04 09:40:58.435393+00:00", 
            "author": "https://api.launchpad.net/1.0/~askjuise"
        }, 
        {
            "content": "Have the DB schema migrations been run for the cell0 database?\n\nIn other words, was this run? nova-manage db sync\n\nThat needs to be run *after* the nova_cell0 database is created and the \"nova-manage cell_v2 map_cell0\" command is run.", 
            "date_created": "2017-06-12 14:29:32.835788+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Unfortunately, I can't reproduce this problem in my vagrant box, so let's close this issue.", 
            "date_created": "2017-06-23 10:57:32.374016+00:00", 
            "author": "https://api.launchpad.net/1.0/~askjuise"
        }
    ]
}