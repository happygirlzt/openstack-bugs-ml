{
    "status": "Expired", 
    "last_updated": "2016-04-18 04:17:36.963850+00:00", 
    "description": "Testing on openstack master:\nLibvirt version 1.2.2\nHypervisor: KVM\n\nOn Booting a VM the VM goes into error with the following error log:\n\n2015-09-18 01:30:29.723 ERROR nova.compute.manager [req-c5b00bd7-943b-44cd-847b-064286501d6a admin admin] [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] Instance failed to spaw\nn\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] Traceback (most recent call last):\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/compute/manager.py\", line 2152, in _build_resourc\nes\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] yield resources\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/compute/manager.py\", line 2006, in _build_and_run\n_instance\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] block_device_info=block_device_info)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/driver.py\", line 2451, in spawn\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] block_device_info=block_device_info)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/driver.py\", line 4522, in _create_do\nmain_and_network\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] xml, pause=pause, power_on=power_on)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/driver.py\", line 4452, in _create_do\nmain\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] guest.launch(pause=pause)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/guest.py\", line 141, in launch\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] self._encoded_xml, errors='ignore')\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 1\n95, in __exit__\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] six.reraise(self.type_, self.value, self.tb)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/guest.py\", line 136, in launch\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] return self._domain.createWithFlags(flags)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, i\nn doit\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, i\nn proxy_call\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] rv = execute(f, *args, **kwargs)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, i\nn execute\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] six.reraise(c, e, tb)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in\n tworker\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] rv = meth(*args, **kwargs)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/libvirt.py\", line 900, in creat\neWithFlags\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] if ret == -1: raise libvirtError ('virDomainCreateWithFlags() failed', dom=self)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] libvirtError: unsupported configuration: scripts are not supported on interfaces of type bridge\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5]\n\nThis is because the vm xml is forced to have the line \"<script path=''/>\" under the <interfaces> tags which is not supported in KVM with libvirt version 1.2.2", 
    "tags": [
        "libvirt", 
        "network"
    ], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1497485", 
    "owner": "None", 
    "id": 1497485, 
    "index": 5775, 
    "created": "2015-09-19 00:40:20.998432+00:00", 
    "title": "Nova VM goes into an error State because VM xml is forced to have ''<script path=''/>'' which is not supported with KVM libvirt 1.2.2", 
    "comments": [
        {
            "content": "Testing on openstack master:\nLibvirt version 1.2.2\nHypervisor: KVM\n\nOn Booting a VM the VM goes into error with the following error log:\n\n2015-09-18 01:30:29.723 ERROR nova.compute.manager [req-c5b00bd7-943b-44cd-847b-064286501d6a admin admin] [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] Instance failed to spaw\nn\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] Traceback (most recent call last):\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/compute/manager.py\", line 2152, in _build_resourc\nes\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] yield resources\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/compute/manager.py\", line 2006, in _build_and_run\n_instance\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] block_device_info=block_device_info)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/driver.py\", line 2451, in spawn\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] block_device_info=block_device_info)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/driver.py\", line 4522, in _create_do\nmain_and_network\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] xml, pause=pause, power_on=power_on)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/driver.py\", line 4452, in _create_do\nmain\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] guest.launch(pause=pause)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/guest.py\", line 141, in launch\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] self._encoded_xml, errors='ignore')\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 1\n95, in __exit__\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] six.reraise(self.type_, self.value, self.tb)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/opt/stack/nova/nova/virt/libvirt/guest.py\", line 136, in launch\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] return self._domain.createWithFlags(flags)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, i\nn doit\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, i\nn proxy_call\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] rv = execute(f, *args, **kwargs)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, i\nn execute\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] six.reraise(c, e, tb)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in\n tworker\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] rv = meth(*args, **kwargs)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] File \"/usr/local/lib/python2.7/dist-packages/libvirt.py\", line 900, in creat\neWithFlags\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] if ret == -1: raise libvirtError ('virDomainCreateWithFlags() failed', dom=self)\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5] libvirtError: unsupported configuration: scripts are not supported on interfaces of type bridge\n2015-09-18 01:30:29.723 TRACE nova.compute.manager [instance: 6d9297cc-d97f-40f9-a504-a17b79d279a5]\n\nThis is because the vm xml is forced to have the line \"<script path=''/>\" under the <interfaces> tags which is not supported in KVM with libvirt version 1.2.2", 
            "date_created": "2015-09-19 00:40:20.998432+00:00", 
            "author": "https://api.launchpad.net/1.0/~nairprinikasankaran"
        }, 
        {
            "content": "@Prinika: Could you add a link (to a release letter or similar) which shows the \"not supported for KVM libvirt 1.2.2\" statement, please? I didn't find a hint for that at [1].\n\n[1] http://libvirt.org/formatdomain.html#elementsNICSEthernet", 
            "date_created": "2015-09-21 09:15:25.781101+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "@Markus Zoeller\nI had saw upstream code of libvirt. It still not support other interfaces of type except ethernet. You can checkout following link\nhttp://libvirt.org/git/?p=libvirt.git;a=blob;f=src/qemu/qemu_command.c;h=f727d0bc3d761e961d41d68b2b64ffffc2f3839b;hb=HEAD#l5596\n", 
            "date_created": "2015-10-11 12:59:40.458929+00:00", 
            "author": "https://api.launchpad.net/1.0/~lyanchih"
        }, 
        {
            "content": "I removed tags which don't have a subteam which watches for them.", 
            "date_created": "2015-11-26 16:05:11.317781+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "We need more of the setup you are using here so this is reproducable. Can you explain more about your environment, and show more of the commands being run to do this?", 
            "date_created": "2016-02-17 16:30:08.395904+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2016-04-18 04:17:33.820734+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}