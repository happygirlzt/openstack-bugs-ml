{
    "status": "Invalid", 
    "last_updated": "2015-04-01 13:41:36.368314+00:00", 
    "description": "When try to create instance snapshot via 'nova image-create', I hint following error in the nova log file:\n\n2014-03-07 03:04:35.436 7213 DEBUG nova.virt.vmwareapi.vmware_images [req-d82fb9c2-9325-43a4-814a-4ea1bae14c5c 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] [instance: 23261217-c2e6-472c-85e9-9afbd708391d] Uploading image 64a0b47b-ba53-4e7b-9877-f56186916d73 to the Glance image server upload_image /usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmware_images.py:141\n2014-03-07 03:04:35.437 7213 DEBUG nova.virt.vmwareapi.read_write_util [req-d82fb9c2-9325-43a4-814a-4ea1bae14c5c 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] aaaaaaa-https://172.16.151.254/folder/vmware_temp/be5acd3b-b68b-4e6e-9039-43dd7bf910bf-flat.vmdk?dsName=datastore1&dcPath=smartlcouds __init__ /usr/lib/python2.6/site-packages/nova/virt/vmwareapi/read_write_util.py:162\n2014-03-07 03:04:35.438 7213 DEBUG nova.virt.vmwareapi.read_write_util [req-d82fb9c2-9325-43a4-814a-4ea1bae14c5c 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] bbbbbbb-<urllib2.Request instance at 0xd36d680> __init__ /usr/lib/python2.6/site-packages/nova/virt/vmwareapi/read_write_util.py:163\n2014-03-07 03:04:35.477 7213 DEBUG nova.compute.manager [req-d82fb9c2-9325-43a4-814a-4ea1bae14c5c 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] [instance: 23261217-c2e6-472c-85e9-9afbd708391d] Cleaning up image 64a0b47b-ba53-4e7b-9877-f56186916d73 decorated_function /usr/lib/python2.6/site-packages/nova/compute/manager.py:317\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d] Traceback (most recent call last):\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 313, in decorated_function\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     *args, **kwargs)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2525, in snapshot_instance\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     task_states.IMAGE_SNAPSHOT)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2560, in _snapshot_instance\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     update_task_state)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/driver.py\", line 614, in snapshot\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     _vmops.snapshot(context, instance, name, update_task_state)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\", line 939, in snapshot\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     _upload_vmdk_to_image_repository()\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\", line 933, in _upload_vmdk_to_image_repository\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     file_path=\"%s/%s-flat.vmdk\" % (self._tmp_folder, random_name))\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmware_images.py\", line 147, in upload_image\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     kwargs.get(\"file_path\"))\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/read_write_util.py\", line 164, in __init__\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     conn = urllib2.urlopen(request)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 126, in urlopen\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     return _opener.open(url, data, timeout)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 397, in open\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     response = meth(req, response)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 510, in http_response\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     'http', request, response, code, msg, hdrs)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 435, in error\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     return self._call_chain(*args)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 369, in _call_chain\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     result = func(*args)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 518, in http_error_default\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d] HTTPError: HTTP Error 404: Not Found\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]", 
    "tags": [
        "vmware"
    ], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1289205", 
    "owner": "None", 
    "id": 1289205, 
    "index": 4629, 
    "created": "2014-03-07 08:33:06.275414+00:00", 
    "title": "VMware: 404 Not Found error when create snapshot", 
    "comments": [
        {
            "content": "When try to create instance snapshot via 'nova image-create', I hint following error in the nova log file:\n\n2014-03-07 03:04:35.436 7213 DEBUG nova.virt.vmwareapi.vmware_images [req-d82fb9c2-9325-43a4-814a-4ea1bae14c5c 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] [instance: 23261217-c2e6-472c-85e9-9afbd708391d] Uploading image 64a0b47b-ba53-4e7b-9877-f56186916d73 to the Glance image server upload_image /usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmware_images.py:141\n2014-03-07 03:04:35.437 7213 DEBUG nova.virt.vmwareapi.read_write_util [req-d82fb9c2-9325-43a4-814a-4ea1bae14c5c 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] aaaaaaa-https://172.16.151.254/folder/vmware_temp/be5acd3b-b68b-4e6e-9039-43dd7bf910bf-flat.vmdk?dsName=datastore1&dcPath=smartlcouds __init__ /usr/lib/python2.6/site-packages/nova/virt/vmwareapi/read_write_util.py:162\n2014-03-07 03:04:35.438 7213 DEBUG nova.virt.vmwareapi.read_write_util [req-d82fb9c2-9325-43a4-814a-4ea1bae14c5c 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] bbbbbbb-<urllib2.Request instance at 0xd36d680> __init__ /usr/lib/python2.6/site-packages/nova/virt/vmwareapi/read_write_util.py:163\n2014-03-07 03:04:35.477 7213 DEBUG nova.compute.manager [req-d82fb9c2-9325-43a4-814a-4ea1bae14c5c 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] [instance: 23261217-c2e6-472c-85e9-9afbd708391d] Cleaning up image 64a0b47b-ba53-4e7b-9877-f56186916d73 decorated_function /usr/lib/python2.6/site-packages/nova/compute/manager.py:317\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d] Traceback (most recent call last):\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 313, in decorated_function\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     *args, **kwargs)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2525, in snapshot_instance\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     task_states.IMAGE_SNAPSHOT)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2560, in _snapshot_instance\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     update_task_state)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/driver.py\", line 614, in snapshot\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     _vmops.snapshot(context, instance, name, update_task_state)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\", line 939, in snapshot\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     _upload_vmdk_to_image_repository()\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\", line 933, in _upload_vmdk_to_image_repository\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     file_path=\"%s/%s-flat.vmdk\" % (self._tmp_folder, random_name))\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmware_images.py\", line 147, in upload_image\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     kwargs.get(\"file_path\"))\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/read_write_util.py\", line 164, in __init__\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     conn = urllib2.urlopen(request)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 126, in urlopen\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     return _opener.open(url, data, timeout)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 397, in open\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     response = meth(req, response)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 510, in http_response\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     'http', request, response, code, msg, hdrs)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 435, in error\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     return self._call_chain(*args)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 369, in _call_chain\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     result = func(*args)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]   File \"/usr/lib64/python2.6/urllib2.py\", line 518, in http_error_default\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]     raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d] HTTPError: HTTP Error 404: Not Found\n2014-03-07 03:04:35.477 7213 TRACE nova.compute.manager [instance: 23261217-c2e6-472c-85e9-9afbd708391d]", 
            "date_created": "2014-03-07 08:33:06.275414+00:00", 
            "author": "https://api.launchpad.net/1.0/~genggjh"
        }, 
        {
            "content": "I can not find the be5acd3b-b68b-4e6e-9039-43dd7bf910bf-flat.vmdk be created in my datastore1.", 
            "date_created": "2014-03-07 08:33:54.689475+00:00", 
            "author": "https://api.launchpad.net/1.0/~genggjh"
        }, 
        {
            "content": "There is only be5acd3b-b68b-4e6e-9039-43dd7bf910bf.vmdk and be5acd3b-b68b-4e6e-9039-43dd7bf910bf-delta.vmdk under the vmware_temp folder. \nThe CopyVirtualDisk_Task should be successful without error in my vCenter. \n\nMy vCenter/EXSi version is 5.0, do we support this vmware version?", 
            "date_created": "2014-03-07 09:29:08.368813+00:00", 
            "author": "https://api.launchpad.net/1.0/~genggjh"
        }, 
        {
            "content": "@genggjh, may i know what's the path of the be5acd3b-b68b-4e6e-9039-43dd7bf910bf-flat.vmdk file within datastore1?", 
            "date_created": "2014-03-11 15:49:28.983434+00:00", 
            "author": "https://api.launchpad.net/1.0/~lzy-dev"
        }, 
        {
            "content": "Is vmware_temp in datastore1?\n\nFrom what we are trying to read as the source data (\"https://172.16.151.254/folder/vmware_temp/be5acd3b-b68b-4e6e-9039-43dd7bf910bf-flat.vmdk?dsName=datastore1&dcPath=smartlcouds\"), the disk to be uploaded looked to be where it should be\n(/vmfs/volumes/datastore1/vmware_temp/).", 
            "date_created": "2014-03-11 17:40:12.920159+00:00", 
            "author": "https://api.launchpad.net/1.0/~vui"
        }, 
        {
            "content": "Sorry I misread David's previous comments. If the -flat vmdk is missing in vmware_temp, then something is amiss.\nCan you show the logs that capture the copyvirtualdisk call? Also take a look from the VC client on the details of the copy task and see what what actually was done.\n", 
            "date_created": "2014-03-11 18:37:36.687870+00:00", 
            "author": "https://api.launchpad.net/1.0/~vui"
        }, 
        {
            "content": "I tried to create snapshot on another vm since the original one had been deleted,  do we support EXSi 5.0? Maybe the behavior is different with 5.1/5.5 ?\n\nHere is the message from VC client:\nCreate virtual machine snapshot\n2dc8aa02-e293-42d5-9ba0-ec01be53eaf3\nCompleted\nAdministrator\nWIN-7SSPLNDEBPE\n3/12/2014 1:09:39 PM\n3/12/2014 1:09:39 PM\n3/12/2014 1:09:42 PM\n\nCopy virtual disk\ndatastore1\nCompleted\nAdministrator\nWIN-7SSPLNDEBPE\n3/12/2014 1:09:44 PM\n3/12/2014 1:09:44 PM\n3/12/2014 1:09:48 PM\n\nFile or directory [datastore1] 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3/2dc8aa02-e293-42d5-9ba0-ec01be53eaf3\n.vmdk copied from datastore1 to datastore1 as [datastore1] \nvmware_temp/6ca860c1-9734-453b-955a-5a76ec21a5c5.vmdk\ninfo\n3/12/2014 1:09:48 PM\ndatastore1\nAdministrator\n\nHere is the log from nova.log:\n2014-03-12 08:12:06.929 2886 DEBUG nova.virt.vmwareapi.driver [-] Task [CopyVirtualDisk_Task] (returnval){\n   value = \"task-9609\"\n   _type = \"Task\"\n } status: success _poll_task /usr/lib/python2.6/site-packages/nova/virt/vmwareapi/driver.py:902\n2014-03-12 08:12:06.930 2886 DEBUG nova.virt.vmwareapi.vmops [req-f9a323fa-96d6-426f-a7ca-31e1763a5959 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3] Copied disk data before snapshot of the VM _copy_vmdk_content /usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py:911\n\n\n\n2014-03-12 08:12:07.047 2886 DEBUG nova.compute.manager [req-f9a323fa-96d6-426f-a7ca-31e1763a5959 8f4bfb793af946b6a25288456143e920 e4a913fb2d1e4a33a4acacc806dd6153] [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3] Cleaning up image c38442df-8103-496e-80e2-4275a4e2e496 decorated_function /usr/lib/python2.6/site-packages/nova/compute/manager.py:317\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3] Traceback (most recent call last):\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 313, in decorated_function\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     *args, **kwargs)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2525, in snapshot_instance\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     task_states.IMAGE_SNAPSHOT)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2560, in _snapshot_instance\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     update_task_state)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/driver.py\", line 614, in snapshot\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     _vmops.snapshot(context, instance, name, update_task_state)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\", line 939, in snapshot\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     _upload_vmdk_to_image_repository()\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\", line 933, in _upload_vmdk_to_image_repository\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     file_path=\"%s/%s-flat.vmdk\" % (self._tmp_folder, random_name))\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmware_images.py\", line 147, in upload_image\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     kwargs.get(\"file_path\"))\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/read_write_util.py\", line 164, in __init__\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     conn = urllib2.urlopen(request)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib64/python2.6/urllib2.py\", line 126, in urlopen\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     return _opener.open(url, data, timeout)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib64/python2.6/urllib2.py\", line 397, in open\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     response = meth(req, response)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib64/python2.6/urllib2.py\", line 510, in http_response\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     'http', request, response, code, msg, hdrs)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib64/python2.6/urllib2.py\", line 435, in error\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     return self._call_chain(*args)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib64/python2.6/urllib2.py\", line 369, in _call_chain\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     result = func(*args)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]   File \"/usr/lib64/python2.6/urllib2.py\", line 518, in http_error_default\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]     raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3] HTTPError: HTTP Error 404: Not Found\n2014-03-12 08:12:07.047 2886 TRACE nova.compute.manager [instance: 2dc8aa02-e293-42d5-9ba0-ec01be53eaf3]\n\n\n", 
            "date_created": "2014-03-12 12:21:45.372163+00:00", 
            "author": "https://api.launchpad.net/1.0/~genggjh"
        }, 
        {
            "content": "IFY Arnaud Legendre told me current vmware driver support EXSi/VC 5.0 .", 
            "date_created": "2014-03-17 05:48:52.554718+00:00", 
            "author": "https://api.launchpad.net/1.0/~lzy-dev"
        }, 
        {
            "content": "we cannot reconcile the trace with the latest top of trunk.  Can you share what version you are running or what change list you are synced to.", 
            "date_created": "2014-03-17 17:26:43.660386+00:00", 
            "author": "https://api.launchpad.net/1.0/~tjones-i"
        }, 
        {
            "content": "[root@openstack-vmware-nativedriver-test2 virt]# nova --version\n2.15.0\n\nHere is the version, but it should be little different with RDO repo since the we packaged the rpms by our internal.\n\nI can provide you the source code I have.", 
            "date_created": "2014-03-18 01:56:47.429719+00:00", 
            "author": "https://api.launchpad.net/1.0/~genggjh"
        }, 
        {
            "content": "Anyone has an input on this?\n\nI'm having exactly the same issue. With KVM hosts, instance snapshots are created and saved sucessfully, but not with VC5.0.\n\nThanks in advance.", 
            "date_created": "2014-07-24 14:17:32.153516+00:00", 
            "author": "https://api.launchpad.net/1.0/~froment-je"
        }, 
        {
            "content": "Would it be possible that you please try with the latest code. The whole snapot has been improved to use streamoptimized images", 
            "date_created": "2015-04-01 13:40:34.472695+00:00", 
            "author": "https://api.launchpad.net/1.0/~garyk"
        }, 
        {
            "content": "As mention above the code has been updated considerably. Lets check again with the new code and then if the issue oocurs lets address it on a new bug.\nThanks\ngary", 
            "date_created": "2015-04-01 13:41:35.940834+00:00", 
            "author": "https://api.launchpad.net/1.0/~garyk"
        }
    ]
}