{
    "status": "Invalid", 
    "last_updated": "2011-03-04 20:45:31.179155+00:00", 
    "description": "I have setup nova on single machine.\n\n1) created the br100 interface on the same machine (10.2.3.154)\n\na)brctl addbr br100 \nb)brctl addif br100 eth0\nc) ifconfig br100 172.16.0.1 broadcast 172.16.0.255 netmask 255.255.255.0\n\n2) Output of ifconfig command\n-------------------------\nroot@ubuntu-volume-01:/home/tpatil# ifconfig\nbr100     Link encap:Ethernet  HWaddr b8:ac:6f:93:48:11\n          inet addr:172.16.0.1  Bcast:172.16.0.255  Mask:255.255.255.0\n          inet6 addr: fe80::baac:6fff:fe93:4811/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:138 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:4 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0\n          RX bytes:24916 (24.9 KB)  TX bytes:368 (368.0 B)\n\neth0      Link encap:Ethernet  HWaddr b8:ac:6f:93:48:11\n          inet addr:192.168.0.6  Bcast:192.168.0.255  Mask:255.255.255.0\n          inet6 addr: fe80::baac:6fff:fe93:4811/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:620683 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:39883 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:67866252 (67.8 MB)  TX bytes:2569182 (2.5 MB)\n          Interrupt:16 Memory:da000000-da012800\n\neth1      Link encap:Ethernet  HWaddr b8:ac:6f:93:48:12\n          inet addr:10.2.3.154  Bcast:10.2.3.255  Mask:255.255.255.0\n          inet6 addr: fe80::baac:6fff:fe93:4812/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:1279604 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:681876 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:247677217 (247.6 MB)  TX bytes:62583469 (62.5 MB)\n          Interrupt:17 Memory:dc000000-dc012800\n\nlo        Link encap:Local Loopback\n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:16436  Metric:1\n          RX packets:209631 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:209631 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0\n          RX bytes:53337867 (53.3 MB)  TX bytes:53337867 (53.3 MB)\n\nvnet0     Link encap:Ethernet  HWaddr fe:16:3e:4a:ad:02\n          inet6 addr: fe80::fc16:3eff:fe4a:ad02/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:18 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:28 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:500\n          RX bytes:4332 (4.3 KB)  TX bytes:6380 (6.3 KB)\n--------------------------------------------------------------------------------------------------------\n3) Create network using nova-manage\n $/usr/local/bin/nova-manage --flagfile=/etc/nova/nova.conf network create 172.16.0.0/24 1 256\n\n\n4) nova.conf\n--daemonize=1\n--dhcpbridge_flagfile=/etc/nova/nova.conf\n--dhcpbridge=/home/openstack/nova/bin/nova-dhcpbridge\n--logdir=/var/log/nova\n--state_path=/var/lib/nova\n--networks_path=/var/lib/nova/networks\n--sql_connection=mysql://root:nova@10.2.3.154/nova\n--scheduler_driver=nova.scheduler.simple.SimpleScheduler\n--s3_host=10.2.3.154\n--cc_host=10.2.3.154\n--rabbit_host=10.2.3.154\n--ec2_url=http://10.2.3.154:8773/services/Cloud\n--network_manager=nova.network.manager.FlatManager\n--fixed_range=172.16.0.0/24\n--network_size=32\n--routing_source_ip=10.2.3.154\n--verbose\n--libvirt_type=kvm\n--vlan_interface=eth0\n--public_interface=eth1\n--default_log_levels=amqplib=INFO, sqlalchemy=INFO, eventlet.wsgi.server=DEBUG\n--use_ipv6=False\n--ec2_prefix=http\n--ec2_host=10.2.3.154\n--ec2_port=8773\n--ec2_suffix=services/Cloud\n--allow_project_net_traffic=true\n\n\n5) Run a new instance\n$euca-run-instances -k flat -n 1 -t m1.tiny ami-tty\n\n\n6) New instance launched is in the running state\n$root@ubuntu-volume-01:/home/tpatil# euca-describe-instances\nRESERVATION     r-7m0lu20j      admin   default\nINSTANCE        i-00000005      ami-tty 172.16.0.5      172.16.0.5      running flat (admin, ubuntu-volume-01)  0               m1.tiny 2011-02-23 00:52:55     nova\n\n\n7) Security groups\n$root@ubuntu-volume-01:/home/tpatil# euca-describe-groups\nGROUP   admin   default default\nPERMISSION      admin   default ALLOWS  icmp    -1      -1      FROM    CIDR    0.0.0.0/0\nPERMISSION      admin   default ALLOWS  tcp     22      22      FROM    CIDR    0.0.0.0/0\n\n\n8) Iptables output\nroot@ubuntu-volume-01:/home/tpatil# iptables -n -L\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination\n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination\nnova-local  all  --  0.0.0.0/0            0.0.0.0/0\n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination\nnova-local  all  --  0.0.0.0/0            0.0.0.0/0\n\nChain nova-fallback (1 references)\ntarget     prot opt source               destination\nDROP       all  --  0.0.0.0/0            0.0.0.0/0\n\nChain nova-inst-5 (1 references)\ntarget     prot opt source               destination\nDROP       all  --  0.0.0.0/0            0.0.0.0/0           state INVALID\nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state RELATED,ESTABLISHED\nnova-sg-1  all  --  0.0.0.0/0            0.0.0.0/0\nACCEPT     udp  --  172.16.0.1           0.0.0.0/0           udp spt:67 dpt:68\nACCEPT     all  --  172.16.0.0/24        0.0.0.0/0\nnova-fallback  all  --  0.0.0.0/0            0.0.0.0/0\n\nChain nova-local (2 references)\ntarget     prot opt source               destination\nnova-inst-5  all  --  0.0.0.0/0            172.16.0.5\n\nChain nova-sg-1 (1 references)\ntarget     prot opt source               destination\nACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0\nACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:22\n\n9) libvirt.xml\n<domain type='kvm'>\n    <name>instance-00000005</name>\n    <memory>524288</memory>\n    <os>\n            <type>hvm</type>\n            <kernel>/var/lib/nova/instances/instance-00000005/kernel</kernel>\n                <cmdline>root=/dev/vda console=ttyS0</cmdline>\n                <initrd>/var/lib/nova/instances/instance-00000005/ramdisk</initrd>\n    </os>\n    <features>\n        <acpi/>\n    </features>\n    <vcpu>1</vcpu>\n    <devices>\n        <disk type='file'>\n            <driver type='qcow2'/>\n            <source file='/var/lib/nova/instances/instance-00000005/disk'/>\n            <target dev='vda' bus='virtio'/>\n        </disk>\n        <interface type='bridge'>\n            <source bridge='br100'/>\n            <mac address='02:16:3e:4a:ad:02'/>\n            <!--   <model type='virtio'/>  CANT RUN virtio network right now -->\n            <filterref filter=\"nova-instance-instance-00000005\">\n                <parameter name=\"IP\" value=\"172.16.0.5\" />\n                <parameter name=\"DHCPSERVER\" value=\"172.16.0.1\" />\n                <parameter name=\"PROJNET\" value=\"172.16.0.0\" />\n<parameter name=\"PROJMASK\" value=\"255.255.255.0\" />\n\n            </filterref>\n        </interface>\n\n        <!-- The order is significant here.  File must be defined first -->\n        <serial type=\"file\">\n            <source path='/var/lib/nova/instances/instance-00000005/console.log'/>\n            <target port='1'/>\n        </serial>\n\n        <console type='pty' tty='/dev/pts/2'>\n            <source path='/dev/pts/2'/>\n            <target port='0'/>\n        </console>\n:q!\n        <serial type='pty'>\n            <source path='/dev/pts/2'/>\n            <target port='0'/>\n        </serial>\n\n    </devices>\n</domain>\n\n10) tcpdump output\nroot@ubuntu-volume-01:/var/lib/nova/instances/instance-00000005# tcpdump -i br100 port 67 or port  68\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on br100, link-type EN10MB (Ethernet), capture size 96 bytes\n17:13:09.119573 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:12.122724 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:15.125840 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:38.180931 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:41.184208 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:44.187426 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n\nI cannot ping or ssh to the instance after the instance is launched successfully using --network_manager==nova.network.manager.FlatManager\n\nI feel that even if the network model is flat the vm instance is requesting ip address from dhcp instead of static ip address (/etcnetwork/interfaces is properly injected). Please refer to libvirt.xml in #point9 above.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/723488", 
    "owner": "None", 
    "id": 723488, 
    "index": 2041, 
    "created": "2011-02-23 01:21:56.236431+00:00", 
    "title": "Using FlatManager, Cannot ping or ssh to the instance", 
    "comments": [
        {
            "content": "I have setup nova on single machine.\n\n1) created the br100 interface on the same machine (10.2.3.154)\n\na)brctl addbr br100 \nb)brctl addif br100 eth0\nc) ifconfig br100 172.16.0.1 broadcast 172.16.0.255 netmask 255.255.255.0\n\n2) Output of ifconfig command\n-------------------------\nroot@ubuntu-volume-01:/home/tpatil# ifconfig\nbr100     Link encap:Ethernet  HWaddr b8:ac:6f:93:48:11\n          inet addr:172.16.0.1  Bcast:172.16.0.255  Mask:255.255.255.0\n          inet6 addr: fe80::baac:6fff:fe93:4811/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:138 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:4 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0\n          RX bytes:24916 (24.9 KB)  TX bytes:368 (368.0 B)\n\neth0      Link encap:Ethernet  HWaddr b8:ac:6f:93:48:11\n          inet addr:192.168.0.6  Bcast:192.168.0.255  Mask:255.255.255.0\n          inet6 addr: fe80::baac:6fff:fe93:4811/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:620683 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:39883 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:67866252 (67.8 MB)  TX bytes:2569182 (2.5 MB)\n          Interrupt:16 Memory:da000000-da012800\n\neth1      Link encap:Ethernet  HWaddr b8:ac:6f:93:48:12\n          inet addr:10.2.3.154  Bcast:10.2.3.255  Mask:255.255.255.0\n          inet6 addr: fe80::baac:6fff:fe93:4812/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:1279604 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:681876 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:247677217 (247.6 MB)  TX bytes:62583469 (62.5 MB)\n          Interrupt:17 Memory:dc000000-dc012800\n\nlo        Link encap:Local Loopback\n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:16436  Metric:1\n          RX packets:209631 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:209631 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0\n          RX bytes:53337867 (53.3 MB)  TX bytes:53337867 (53.3 MB)\n\nvnet0     Link encap:Ethernet  HWaddr fe:16:3e:4a:ad:02\n          inet6 addr: fe80::fc16:3eff:fe4a:ad02/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:18 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:28 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:500\n          RX bytes:4332 (4.3 KB)  TX bytes:6380 (6.3 KB)\n--------------------------------------------------------------------------------------------------------\n3) Create network using nova-manage\n $/usr/local/bin/nova-manage --flagfile=/etc/nova/nova.conf network create 172.16.0.0/24 1 256\n\n\n4) nova.conf\n--daemonize=1\n--dhcpbridge_flagfile=/etc/nova/nova.conf\n--dhcpbridge=/home/openstack/nova/bin/nova-dhcpbridge\n--logdir=/var/log/nova\n--state_path=/var/lib/nova\n--networks_path=/var/lib/nova/networks\n--sql_connection=mysql://root:nova@10.2.3.154/nova\n--scheduler_driver=nova.scheduler.simple.SimpleScheduler\n--s3_host=10.2.3.154\n--cc_host=10.2.3.154\n--rabbit_host=10.2.3.154\n--ec2_url=http://10.2.3.154:8773/services/Cloud\n--network_manager=nova.network.manager.FlatManager\n--fixed_range=172.16.0.0/24\n--network_size=32\n--routing_source_ip=10.2.3.154\n--verbose\n--libvirt_type=kvm\n--vlan_interface=eth0\n--public_interface=eth1\n--default_log_levels=amqplib=INFO, sqlalchemy=INFO, eventlet.wsgi.server=DEBUG\n--use_ipv6=False\n--ec2_prefix=http\n--ec2_host=10.2.3.154\n--ec2_port=8773\n--ec2_suffix=services/Cloud\n--allow_project_net_traffic=true\n\n\n5) Run a new instance\n$euca-run-instances -k flat -n 1 -t m1.tiny ami-tty\n\n\n6) New instance launched is in the running state\n$root@ubuntu-volume-01:/home/tpatil# euca-describe-instances\nRESERVATION     r-7m0lu20j      admin   default\nINSTANCE        i-00000005      ami-tty 172.16.0.5      172.16.0.5      running flat (admin, ubuntu-volume-01)  0               m1.tiny 2011-02-23 00:52:55     nova\n\n\n7) Security groups\n$root@ubuntu-volume-01:/home/tpatil# euca-describe-groups\nGROUP   admin   default default\nPERMISSION      admin   default ALLOWS  icmp    -1      -1      FROM    CIDR    0.0.0.0/0\nPERMISSION      admin   default ALLOWS  tcp     22      22      FROM    CIDR    0.0.0.0/0\n\n\n8) Iptables output\nroot@ubuntu-volume-01:/home/tpatil# iptables -n -L\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination\n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination\nnova-local  all  --  0.0.0.0/0            0.0.0.0/0\n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination\nnova-local  all  --  0.0.0.0/0            0.0.0.0/0\n\nChain nova-fallback (1 references)\ntarget     prot opt source               destination\nDROP       all  --  0.0.0.0/0            0.0.0.0/0\n\nChain nova-inst-5 (1 references)\ntarget     prot opt source               destination\nDROP       all  --  0.0.0.0/0            0.0.0.0/0           state INVALID\nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state RELATED,ESTABLISHED\nnova-sg-1  all  --  0.0.0.0/0            0.0.0.0/0\nACCEPT     udp  --  172.16.0.1           0.0.0.0/0           udp spt:67 dpt:68\nACCEPT     all  --  172.16.0.0/24        0.0.0.0/0\nnova-fallback  all  --  0.0.0.0/0            0.0.0.0/0\n\nChain nova-local (2 references)\ntarget     prot opt source               destination\nnova-inst-5  all  --  0.0.0.0/0            172.16.0.5\n\nChain nova-sg-1 (1 references)\ntarget     prot opt source               destination\nACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0\nACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:22\n\n9) libvirt.xml\n<domain type='kvm'>\n    <name>instance-00000005</name>\n    <memory>524288</memory>\n    <os>\n            <type>hvm</type>\n            <kernel>/var/lib/nova/instances/instance-00000005/kernel</kernel>\n                <cmdline>root=/dev/vda console=ttyS0</cmdline>\n                <initrd>/var/lib/nova/instances/instance-00000005/ramdisk</initrd>\n    </os>\n    <features>\n        <acpi/>\n    </features>\n    <vcpu>1</vcpu>\n    <devices>\n        <disk type='file'>\n            <driver type='qcow2'/>\n            <source file='/var/lib/nova/instances/instance-00000005/disk'/>\n            <target dev='vda' bus='virtio'/>\n        </disk>\n        <interface type='bridge'>\n            <source bridge='br100'/>\n            <mac address='02:16:3e:4a:ad:02'/>\n            <!--   <model type='virtio'/>  CANT RUN virtio network right now -->\n            <filterref filter=\"nova-instance-instance-00000005\">\n                <parameter name=\"IP\" value=\"172.16.0.5\" />\n                <parameter name=\"DHCPSERVER\" value=\"172.16.0.1\" />\n                <parameter name=\"PROJNET\" value=\"172.16.0.0\" />\n<parameter name=\"PROJMASK\" value=\"255.255.255.0\" />\n\n            </filterref>\n        </interface>\n\n        <!-- The order is significant here.  File must be defined first -->\n        <serial type=\"file\">\n            <source path='/var/lib/nova/instances/instance-00000005/console.log'/>\n            <target port='1'/>\n        </serial>\n\n        <console type='pty' tty='/dev/pts/2'>\n            <source path='/dev/pts/2'/>\n            <target port='0'/>\n        </console>\n:q!\n        <serial type='pty'>\n            <source path='/dev/pts/2'/>\n            <target port='0'/>\n        </serial>\n\n    </devices>\n</domain>\n\n10) tcpdump output\nroot@ubuntu-volume-01:/var/lib/nova/instances/instance-00000005# tcpdump -i br100 port 67 or port  68\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on br100, link-type EN10MB (Ethernet), capture size 96 bytes\n17:13:09.119573 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:12.122724 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:15.125840 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:38.180931 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:41.184208 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n17:13:44.187426 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n\nI cannot ping or ssh to the instance after the instance is launched successfully using --network_manager==nova.network.manager.FlatManager\n\nI feel that even if the network model is flat the vm instance is requesting ip address from dhcp instead of static ip address (/etcnetwork/interfaces is properly injected). Please refer to libvirt.xml in #point9 above.", 
            "date_created": "2011-02-23 01:21:56.236431+00:00", 
            "author": "https://api.launchpad.net/1.0/~tpatil"
        }, 
        {
            "content": "Generally networking does not work if you have an interface with an ip and a bridge bridged into that interface.  You generally have to move the ip to the bridge.  I'm not sure if that is causing your issue, but it might be.\n\nOn Feb 22, 2011, at 5:21 PM, Tushar Patil wrote:\n\n> Public bug reported:\n> \n> I have setup nova on single machine.\n> \n> 1) created the br100 interface on the same machine (10.2.3.154)\n> \n> a)brctl addbr br100 \n> b)brctl addif br100 eth0\n> c) ifconfig br100 172.16.0.1 broadcast 172.16.0.255 netmask 255.255.255.0\n> \n> 2) Output of ifconfig command\n> -------------------------\n> root@ubuntu-volume-01:/home/tpatil# ifconfig\n> br100     Link encap:Ethernet  HWaddr b8:ac:6f:93:48:11\n>          inet addr:172.16.0.1  Bcast:172.16.0.255  Mask:255.255.255.0\n>          inet6 addr: fe80::baac:6fff:fe93:4811/64 Scope:Link\n>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n>          RX packets:138 errors:0 dropped:0 overruns:0 frame:0\n>          TX packets:4 errors:0 dropped:0 overruns:0 carrier:0\n>          collisions:0 txqueuelen:0\n>          RX bytes:24916 (24.9 KB)  TX bytes:368 (368.0 B)\n> \n> eth0      Link encap:Ethernet  HWaddr b8:ac:6f:93:48:11\n>          inet addr:192.168.0.6  Bcast:192.168.0.255  Mask:255.255.255.0\n>          inet6 addr: fe80::baac:6fff:fe93:4811/64 Scope:Link\n>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n>          RX packets:620683 errors:0 dropped:0 overruns:0 frame:0\n>          TX packets:39883 errors:0 dropped:0 overruns:0 carrier:0\n>          collisions:0 txqueuelen:1000\n>          RX bytes:67866252 (67.8 MB)  TX bytes:2569182 (2.5 MB)\n>          Interrupt:16 Memory:da000000-da012800\n> \n> eth1      Link encap:Ethernet  HWaddr b8:ac:6f:93:48:12\n>          inet addr:10.2.3.154  Bcast:10.2.3.255  Mask:255.255.255.0\n>          inet6 addr: fe80::baac:6fff:fe93:4812/64 Scope:Link\n>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n>          RX packets:1279604 errors:0 dropped:0 overruns:0 frame:0\n>          TX packets:681876 errors:0 dropped:0 overruns:0 carrier:0\n>          collisions:0 txqueuelen:1000\n>          RX bytes:247677217 (247.6 MB)  TX bytes:62583469 (62.5 MB)\n>          Interrupt:17 Memory:dc000000-dc012800\n> \n> lo        Link encap:Local Loopback\n>          inet addr:127.0.0.1  Mask:255.0.0.0\n>          inet6 addr: ::1/128 Scope:Host\n>          UP LOOPBACK RUNNING  MTU:16436  Metric:1\n>          RX packets:209631 errors:0 dropped:0 overruns:0 frame:0\n>          TX packets:209631 errors:0 dropped:0 overruns:0 carrier:0\n>          collisions:0 txqueuelen:0\n>          RX bytes:53337867 (53.3 MB)  TX bytes:53337867 (53.3 MB)\n> \n> vnet0     Link encap:Ethernet  HWaddr fe:16:3e:4a:ad:02\n>          inet6 addr: fe80::fc16:3eff:fe4a:ad02/64 Scope:Link\n>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n>          RX packets:18 errors:0 dropped:0 overruns:0 frame:0\n>          TX packets:28 errors:0 dropped:0 overruns:0 carrier:0\n>          collisions:0 txqueuelen:500\n>          RX bytes:4332 (4.3 KB)  TX bytes:6380 (6.3 KB)\n> --------------------------------------------------------------------------------------------------------\n> 3) Create network using nova-manage\n> $/usr/local/bin/nova-manage --flagfile=/etc/nova/nova.conf network create 172.16.0.0/24 1 256\n> \n> \n> 4) nova.conf\n> --daemonize=1\n> --dhcpbridge_flagfile=/etc/nova/nova.conf\n> --dhcpbridge=/home/openstack/nova/bin/nova-dhcpbridge\n> --logdir=/var/log/nova\n> --state_path=/var/lib/nova\n> --networks_path=/var/lib/nova/networks\n> --sql_connection=mysql://root:nova@10.2.3.154/nova\n> --scheduler_driver=nova.scheduler.simple.SimpleScheduler\n> --s3_host=10.2.3.154\n> --cc_host=10.2.3.154\n> --rabbit_host=10.2.3.154\n> --ec2_url=http://10.2.3.154:8773/services/Cloud\n> --network_manager=nova.network.manager.FlatManager\n> --fixed_range=172.16.0.0/24\n> --network_size=32\n> --routing_source_ip=10.2.3.154\n> --verbose\n> --libvirt_type=kvm\n> --vlan_interface=eth0\n> --public_interface=eth1\n> --default_log_levels=amqplib=INFO, sqlalchemy=INFO, eventlet.wsgi.server=DEBUG\n> --use_ipv6=False\n> --ec2_prefix=http\n> --ec2_host=10.2.3.154\n> --ec2_port=8773\n> --ec2_suffix=services/Cloud\n> --allow_project_net_traffic=true\n> \n> \n> 5) Run a new instance\n> $euca-run-instances -k flat -n 1 -t m1.tiny ami-tty\n> \n> \n> 6) New instance launched is in the running state\n> $root@ubuntu-volume-01:/home/tpatil# euca-describe-instances\n> RESERVATION     r-7m0lu20j      admin   default\n> INSTANCE        i-00000005      ami-tty 172.16.0.5      172.16.0.5      running flat (admin, ubuntu-volume-01)  0               m1.tiny 2011-02-23 00:52:55     nova\n> \n> \n> 7) Security groups\n> $root@ubuntu-volume-01:/home/tpatil# euca-describe-groups\n> GROUP   admin   default default\n> PERMISSION      admin   default ALLOWS  icmp    -1      -1      FROM    CIDR    0.0.0.0/0\n> PERMISSION      admin   default ALLOWS  tcp     22      22      FROM    CIDR    0.0.0.0/0\n> \n> \n> 8) Iptables output\n> root@ubuntu-volume-01:/home/tpatil# iptables -n -L\n> Chain INPUT (policy ACCEPT)\n> target     prot opt source               destination\n> \n> Chain FORWARD (policy ACCEPT)\n> target     prot opt source               destination\n> nova-local  all  --  0.0.0.0/0            0.0.0.0/0\n> \n> Chain OUTPUT (policy ACCEPT)\n> target     prot opt source               destination\n> nova-local  all  --  0.0.0.0/0            0.0.0.0/0\n> \n> Chain nova-fallback (1 references)\n> target     prot opt source               destination\n> DROP       all  --  0.0.0.0/0            0.0.0.0/0\n> \n> Chain nova-inst-5 (1 references)\n> target     prot opt source               destination\n> DROP       all  --  0.0.0.0/0            0.0.0.0/0           state INVALID\n> ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state RELATED,ESTABLISHED\n> nova-sg-1  all  --  0.0.0.0/0            0.0.0.0/0\n> ACCEPT     udp  --  172.16.0.1           0.0.0.0/0           udp spt:67 dpt:68\n> ACCEPT     all  --  172.16.0.0/24        0.0.0.0/0\n> nova-fallback  all  --  0.0.0.0/0            0.0.0.0/0\n> \n> Chain nova-local (2 references)\n> target     prot opt source               destination\n> nova-inst-5  all  --  0.0.0.0/0            172.16.0.5\n> \n> Chain nova-sg-1 (1 references)\n> target     prot opt source               destination\n> ACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0\n> ACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:22\n> \n> 9) libvirt.xml\n> <domain type='kvm'>\n>    <name>instance-00000005</name>\n>    <memory>524288</memory>\n>    <os>\n>            <type>hvm</type>\n>            <kernel>/var/lib/nova/instances/instance-00000005/kernel</kernel>\n>                <cmdline>root=/dev/vda console=ttyS0</cmdline>\n>                <initrd>/var/lib/nova/instances/instance-00000005/ramdisk</initrd>\n>    </os>\n>    <features>\n>        <acpi/>\n>    </features>\n>    <vcpu>1</vcpu>\n>    <devices>\n>        <disk type='file'>\n>            <driver type='qcow2'/>\n>            <source file='/var/lib/nova/instances/instance-00000005/disk'/>\n>            <target dev='vda' bus='virtio'/>\n>        </disk>\n>        <interface type='bridge'>\n>            <source bridge='br100'/>\n>            <mac address='02:16:3e:4a:ad:02'/>\n>            <!--   <model type='virtio'/>  CANT RUN virtio network right now -->\n>            <filterref filter=\"nova-instance-instance-00000005\">\n>                <parameter name=\"IP\" value=\"172.16.0.5\" />\n>                <parameter name=\"DHCPSERVER\" value=\"172.16.0.1\" />\n>                <parameter name=\"PROJNET\" value=\"172.16.0.0\" />\n> <parameter name=\"PROJMASK\" value=\"255.255.255.0\" />\n> \n>            </filterref>\n>        </interface>\n> \n>        <!-- The order is significant here.  File must be defined first -->\n>        <serial type=\"file\">\n>            <source path='/var/lib/nova/instances/instance-00000005/console.log'/>\n>            <target port='1'/>\n>        </serial>\n> \n>        <console type='pty' tty='/dev/pts/2'>\n>            <source path='/dev/pts/2'/>\n>            <target port='0'/>\n>        </console>\n> :q!\n>        <serial type='pty'>\n>            <source path='/dev/pts/2'/>\n>            <target port='0'/>\n>        </serial>\n> \n>    </devices>\n> </domain>\n> \n> 10) tcpdump output\n> root@ubuntu-volume-01:/var/lib/nova/instances/instance-00000005# tcpdump -i br100 port 67 or port  68\n> tcpdump: verbose output suppressed, use -v or -vv for full protocol decode\n> listening on br100, link-type EN10MB (Ethernet), capture size 96 bytes\n> 17:13:09.119573 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n> 17:13:12.122724 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n> 17:13:15.125840 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n> 17:13:38.180931 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n> 17:13:41.184208 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n> 17:13:44.187426 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n> \n> I cannot ping or ssh to the instance after the instance is launched\n> successfully using --network_manager==nova.network.manager.FlatManager\n> \n> I feel that even if the network model is flat the vm instance is\n> requesting ip address from dhcp instead of static ip address\n> (/etcnetwork/interfaces is properly injected). Please refer to\n> libvirt.xml in #point9 above.\n> \n> ** Affects: nova\n>     Importance: Undecided\n>         Status: New\n> \n> -- \n> You received this bug notification because you are a member of Nova Bug\n> Team, which is subscribed to OpenStack Compute (nova).\n> https://bugs.launchpad.net/bugs/723488\n> \n> Title:\n>  Using FlatManager, Cannot ping or ssh to the instance\n> \n> Status in OpenStack Compute (Nova):\n>  New\n> \n> Bug description:\n>  I have setup nova on single machine.\n> \n>  1) created the br100 interface on the same machine (10.2.3.154)\n> \n>  a)brctl addbr br100 \n>  b)brctl addif br100 eth0\n>  c) ifconfig br100 172.16.0.1 broadcast 172.16.0.255 netmask 255.255.255.0\n> \n>  2) Output of ifconfig command\n>  -------------------------\n>  root@ubuntu-volume-01:/home/tpatil# ifconfig\n>  br100     Link encap:Ethernet  HWaddr b8:ac:6f:93:48:11\n>            inet addr:172.16.0.1  Bcast:172.16.0.255  Mask:255.255.255.0\n>            inet6 addr: fe80::baac:6fff:fe93:4811/64 Scope:Link\n>            UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n>            RX packets:138 errors:0 dropped:0 overruns:0 frame:0\n>            TX packets:4 errors:0 dropped:0 overruns:0 carrier:0\n>            collisions:0 txqueuelen:0\n>            RX bytes:24916 (24.9 KB)  TX bytes:368 (368.0 B)\n> \n>  eth0      Link encap:Ethernet  HWaddr b8:ac:6f:93:48:11\n>            inet addr:192.168.0.6  Bcast:192.168.0.255  Mask:255.255.255.0\n>            inet6 addr: fe80::baac:6fff:fe93:4811/64 Scope:Link\n>            UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n>            RX packets:620683 errors:0 dropped:0 overruns:0 frame:0\n>            TX packets:39883 errors:0 dropped:0 overruns:0 carrier:0\n>            collisions:0 txqueuelen:1000\n>            RX bytes:67866252 (67.8 MB)  TX bytes:2569182 (2.5 MB)\n>            Interrupt:16 Memory:da000000-da012800\n> \n>  eth1      Link encap:Ethernet  HWaddr b8:ac:6f:93:48:12\n>            inet addr:10.2.3.154  Bcast:10.2.3.255  Mask:255.255.255.0\n>            inet6 addr: fe80::baac:6fff:fe93:4812/64 Scope:Link\n>            UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n>            RX packets:1279604 errors:0 dropped:0 overruns:0 frame:0\n>            TX packets:681876 errors:0 dropped:0 overruns:0 carrier:0\n>            collisions:0 txqueuelen:1000\n>            RX bytes:247677217 (247.6 MB)  TX bytes:62583469 (62.5 MB)\n>            Interrupt:17 Memory:dc000000-dc012800\n> \n>  lo        Link encap:Local Loopback\n>            inet addr:127.0.0.1  Mask:255.0.0.0\n>            inet6 addr: ::1/128 Scope:Host\n>            UP LOOPBACK RUNNING  MTU:16436  Metric:1\n>            RX packets:209631 errors:0 dropped:0 overruns:0 frame:0\n>            TX packets:209631 errors:0 dropped:0 overruns:0 carrier:0\n>            collisions:0 txqueuelen:0\n>            RX bytes:53337867 (53.3 MB)  TX bytes:53337867 (53.3 MB)\n> \n>  vnet0     Link encap:Ethernet  HWaddr fe:16:3e:4a:ad:02\n>            inet6 addr: fe80::fc16:3eff:fe4a:ad02/64 Scope:Link\n>            UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n>            RX packets:18 errors:0 dropped:0 overruns:0 frame:0\n>            TX packets:28 errors:0 dropped:0 overruns:0 carrier:0\n>            collisions:0 txqueuelen:500\n>            RX bytes:4332 (4.3 KB)  TX bytes:6380 (6.3 KB)\n>  --------------------------------------------------------------------------------------------------------\n>  3) Create network using nova-manage\n>   $/usr/local/bin/nova-manage --flagfile=/etc/nova/nova.conf network create 172.16.0.0/24 1 256\n> \n> \n>  4) nova.conf\n>  --daemonize=1\n>  --dhcpbridge_flagfile=/etc/nova/nova.conf\n>  --dhcpbridge=/home/openstack/nova/bin/nova-dhcpbridge\n>  --logdir=/var/log/nova\n>  --state_path=/var/lib/nova\n>  --networks_path=/var/lib/nova/networks\n>  --sql_connection=mysql://root:nova@10.2.3.154/nova\n>  --scheduler_driver=nova.scheduler.simple.SimpleScheduler\n>  --s3_host=10.2.3.154\n>  --cc_host=10.2.3.154\n>  --rabbit_host=10.2.3.154\n>  --ec2_url=http://10.2.3.154:8773/services/Cloud\n>  --network_manager=nova.network.manager.FlatManager\n>  --fixed_range=172.16.0.0/24\n>  --network_size=32\n>  --routing_source_ip=10.2.3.154\n>  --verbose\n>  --libvirt_type=kvm\n>  --vlan_interface=eth0\n>  --public_interface=eth1\n>  --default_log_levels=amqplib=INFO, sqlalchemy=INFO, eventlet.wsgi.server=DEBUG\n>  --use_ipv6=False\n>  --ec2_prefix=http\n>  --ec2_host=10.2.3.154\n>  --ec2_port=8773\n>  --ec2_suffix=services/Cloud\n>  --allow_project_net_traffic=true\n> \n> \n>  5) Run a new instance\n>  $euca-run-instances -k flat -n 1 -t m1.tiny ami-tty\n> \n> \n>  6) New instance launched is in the running state\n>  $root@ubuntu-volume-01:/home/tpatil# euca-describe-instances\n>  RESERVATION     r-7m0lu20j      admin   default\n>  INSTANCE        i-00000005      ami-tty 172.16.0.5      172.16.0.5      running flat (admin, ubuntu-volume-01)  0               m1.tiny 2011-02-23 00:52:55     nova\n> \n> \n>  7) Security groups\n>  $root@ubuntu-volume-01:/home/tpatil# euca-describe-groups\n>  GROUP   admin   default default\n>  PERMISSION      admin   default ALLOWS  icmp    -1      -1      FROM    CIDR    0.0.0.0/0\n>  PERMISSION      admin   default ALLOWS  tcp     22      22      FROM    CIDR    0.0.0.0/0\n> \n> \n>  8) Iptables output\n>  root@ubuntu-volume-01:/home/tpatil# iptables -n -L\n>  Chain INPUT (policy ACCEPT)\n>  target     prot opt source               destination\n> \n>  Chain FORWARD (policy ACCEPT)\n>  target     prot opt source               destination\n>  nova-local  all  --  0.0.0.0/0            0.0.0.0/0\n> \n>  Chain OUTPUT (policy ACCEPT)\n>  target     prot opt source               destination\n>  nova-local  all  --  0.0.0.0/0            0.0.0.0/0\n> \n>  Chain nova-fallback (1 references)\n>  target     prot opt source               destination\n>  DROP       all  --  0.0.0.0/0            0.0.0.0/0\n> \n>  Chain nova-inst-5 (1 references)\n>  target     prot opt source               destination\n>  DROP       all  --  0.0.0.0/0            0.0.0.0/0           state INVALID\n>  ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state RELATED,ESTABLISHED\n>  nova-sg-1  all  --  0.0.0.0/0            0.0.0.0/0\n>  ACCEPT     udp  --  172.16.0.1           0.0.0.0/0           udp spt:67 dpt:68\n>  ACCEPT     all  --  172.16.0.0/24        0.0.0.0/0\n>  nova-fallback  all  --  0.0.0.0/0            0.0.0.0/0\n> \n>  Chain nova-local (2 references)\n>  target     prot opt source               destination\n>  nova-inst-5  all  --  0.0.0.0/0            172.16.0.5\n> \n>  Chain nova-sg-1 (1 references)\n>  target     prot opt source               destination\n>  ACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0\n>  ACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:22\n> \n>  9) libvirt.xml\n>  <domain type='kvm'>\n>      <name>instance-00000005</name>\n>      <memory>524288</memory>\n>      <os>\n>              <type>hvm</type>\n>              <kernel>/var/lib/nova/instances/instance-00000005/kernel</kernel>\n>                  <cmdline>root=/dev/vda console=ttyS0</cmdline>\n>                  <initrd>/var/lib/nova/instances/instance-00000005/ramdisk</initrd>\n>      </os>\n>      <features>\n>          <acpi/>\n>      </features>\n>      <vcpu>1</vcpu>\n>      <devices>\n>          <disk type='file'>\n>              <driver type='qcow2'/>\n>              <source file='/var/lib/nova/instances/instance-00000005/disk'/>\n>              <target dev='vda' bus='virtio'/>\n>          </disk>\n>          <interface type='bridge'>\n>              <source bridge='br100'/>\n>              <mac address='02:16:3e:4a:ad:02'/>\n>              <!--   <model type='virtio'/>  CANT RUN virtio network right now -->\n>              <filterref filter=\"nova-instance-instance-00000005\">\n>                  <parameter name=\"IP\" value=\"172.16.0.5\" />\n>                  <parameter name=\"DHCPSERVER\" value=\"172.16.0.1\" />\n>                  <parameter name=\"PROJNET\" value=\"172.16.0.0\" />\n>  <parameter name=\"PROJMASK\" value=\"255.255.255.0\" />\n> \n>              </filterref>\n>          </interface>\n> \n>          <!-- The order is significant here.  File must be defined first -->\n>          <serial type=\"file\">\n>              <source path='/var/lib/nova/instances/instance-00000005/console.log'/>\n>              <target port='1'/>\n>          </serial>\n> \n>          <console type='pty' tty='/dev/pts/2'>\n>              <source path='/dev/pts/2'/>\n>              <target port='0'/>\n>          </console>\n>  :q!\n>          <serial type='pty'>\n>              <source path='/dev/pts/2'/>\n>              <target port='0'/>\n>          </serial>\n> \n>      </devices>\n>  </domain>\n> \n>  10) tcpdump output\n>  root@ubuntu-volume-01:/var/lib/nova/instances/instance-00000005# tcpdump -i br100 port 67 or port  68\n>  tcpdump: verbose output suppressed, use -v or -vv for full protocol decode\n>  listening on br100, link-type EN10MB (Ethernet), capture size 96 bytes\n>  17:13:09.119573 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n>  17:13:12.122724 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n>  17:13:15.125840 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n>  17:13:38.180931 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n>  17:13:41.184208 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n>  17:13:44.187426 IP 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP/DHCP, Request from 02:16:3e:4a:ad:02 (oui Unknown), length 280\n> \n>  I cannot ping or ssh to the instance after the instance is launched\n>  successfully using --network_manager==nova.network.manager.FlatManager\n> \n>  I feel that even if the network model is flat the vm instance is\n>  requesting ip address from dhcp instead of static ip address\n>  (/etcnetwork/interfaces is properly injected). Please refer to\n>  libvirt.xml in #point9 above.\n\n", 
            "date_created": "2011-02-23 02:31:11+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "Check if the field \"injected\" in table \"networks\" is set to \"1\". If this field is \"0\" there will be no network configuration injected into new instances.\n\nTake a look into the nova-compute logfile, you'll find there some logging messages about the injection.\n\n            if key:\n                LOG.info(_('instance %(inst_name)s: injecting key into'\n                        ' image %(img_id)s') % locals())\n            if net:\n                LOG.info(_('instance %(inst_name)s: injecting net into'\n                        ' image %(img_id)s') % locals()) \n\nI don't think that the filterref defintion in your libvirt.xml file has something in common with the DHCPREQUEST. It's only a filter rule for the nwfilter in libvirt (take a look here: http://libvirt.org/formatnwfilter.html).\n\nTry to login through the serial console after spawning the instance and check the network configuration.", 
            "date_created": "2011-02-23 09:11:54.825027+00:00", 
            "author": "https://api.launchpad.net/1.0/~berendt"
        }, 
        {
            "content": "The field \"injected\" in table \"networks\" is set to 1 as I am using FlatManager.\nI have used  http://images.ansolabs.com/tty.tgz images for spawning the instance.\nI will try with other images too and see If I get same results.\n\n>>Try to login through the serial console after spawning the instance and check the network configuration.\nIs the serial console information is same as we get from the euca-get-console-output command?\nAny help or direction on how to login through serial console is much appreciated.\n", 
            "date_created": "2011-02-23 18:51:11.653708+00:00", 
            "author": "https://api.launchpad.net/1.0/~tpatil"
        }, 
        {
            "content": "In my test environment following VM images does not work with FlatManager.\n\n1) ami-tiny image ( http://c2477062.cdn.cloudfiles.rackspacecloud.com/images.tgz)\n2) ami-tty image ( http://images.ansolabs.com/tty.tgz) \n\nI tried with another image which I have built using vmbuilder command and it works fine now with FlatManager.\n\nI do made changes to the network configuration (bridge creation) as Vishy suggested\nbrctl addbr br100\nbrctl addif br100 eth0\nifconfig br100 10.0.0.1 broadcast 10.0.0.0 netmask 255.255.255.0 up\nifconfig eth0 0.0.0.0 up\n\nNow I can ping as well SSH to the VM instance.", 
            "date_created": "2011-02-23 19:54:14.167061+00:00", 
            "author": "https://api.launchpad.net/1.0/~tpatil"
        }, 
        {
            "content": "Those images rely on DHCP to get their IP address... Network injection doesn't work since it's not debian-based (no /etc/network/interfaces in the image).", 
            "date_created": "2011-02-24 08:17:38.263863+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "You could check if my modified injection code is working for you: https://code.launchpad.net/~berendt/nova/bp_injection/+merge/50737", 
            "date_created": "2011-02-24 08:28:00.000938+00:00", 
            "author": "https://api.launchpad.net/1.0/~berendt"
        }, 
        {
            "content": "After using proper VM Image, I can ping and SSH to the VM instance.\r\nMarking as invalid.", 
            "date_created": "2011-03-04 20:45:26.938800+00:00", 
            "author": "https://api.launchpad.net/1.0/~tpatil"
        }
    ]
}