{
    "status": "Expired", 
    "last_updated": "2016-07-05 09:46:18.183218+00:00", 
    "description": " {u'message': u'\\'list\\' object has no attribute \\'iteritems\\'                                                                                                                                \n Traceback (most recent call last):                                                                                                                                                           \n                                                                                                                                                                                              \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data                                                                                      \n     **args)                                                                                                                                                                                  \n                                                                                                                                                                                              \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/com', u'code': 500, u'details': u'  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 255, in decorated_function \n     return function(self, context, *args, **kwargs)                                                                                                                                          \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2949, in prep_resize                                                                                                 \n     filter_properties)                                                                                                                                                                       \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2943, in prep_resize                                                                                                 \n     node)                                                                                                                                                                                    \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2911, in _prep_resize                                                                                                \n     limits=limits) as claim:                                                                                                                                                                 \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/lockutils.py\", line 246, in inner                                                                                             \n     return f(*args, **kwargs)                                                                                                                                                                \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 173, in resize_claim                                                                                        \n     self._update(elevated, self.compute_node)                                                                                                                                                \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 428, in _update                                                                                             \n     context, self.compute_node, values, prune_stats)                                                                                                                                         \n   File \"/usr/lib/python2.7/dist-packages/nova/conductor/api.py\", line 263, in compute_node_update                                                                                            \n     prune_stats)                                                                                                                                                                             \n   File \"/usr/lib/python2.7/dist-packages/nova/conductor/rpcapi.py\", line 386, in compute_node_update                                                                                         \n     prune_stats=prune_stats)                                                                                                                                                                 \n   File \"/usr/lib/python2.7/dist-packages/nova/rpcclient.py\", line 85, in call                                                                                                                \n     return self._invoke(self.proxy.call, ctxt, method, **kwargs)                                                                                                                             \n   File \"/usr/lib/python2.7/dist-packages/nova/rpcclient.py\", line 63, in _invoke                                                                                                             \n     return cast_or_call(ctxt, msg, **self.kwargs)                                                                                                                                            \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/proxy.py\", line 126, in call                                                                                              \n     result = rpc.call(context, real_topic, msg, timeout)                                                                                                                                     \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/__init__.py\", line 139, in call                                                                                           \n     return _get_impl().call(CONF, context, topic, msg, timeout)                                                                                                                              \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/impl_kombu.py\", line 816, in call                                                                                         \n     rpc_amqp.get_connection_pool(conf, Connection))                                                                                                                                          \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 574, in call                                                                                               \n     rv = list(rv)                                                                                                                                                                            \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 539, in __iter__                                                                                           \n     raise result                                                                                                                                                                             \n ', u'created': u'2014-02-06T14:24:01Z'}", 
    "tags": [
        "compute", 
        "resource-tracker"
    ], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1278741", 
    "owner": "None", 
    "id": 1278741, 
    "index": 4542, 
    "created": "2014-02-11 07:58:43.780363+00:00", 
    "title": "resource tracker fails after migration if instance is already tracked on new node", 
    "comments": [
        {
            "content": " {u'message': u'\\'list\\' object has no attribute \\'iteritems\\'                                                                                                                                \n Traceback (most recent call last):                                                                                                                                                           \n                                                                                                                                                                                              \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data                                                                                      \n     **args)                                                                                                                                                                                  \n                                                                                                                                                                                              \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/com', u'code': 500, u'details': u'  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 255, in decorated_function \n     return function(self, context, *args, **kwargs)                                                                                                                                          \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2949, in prep_resize                                                                                                 \n     filter_properties)                                                                                                                                                                       \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2943, in prep_resize                                                                                                 \n     node)                                                                                                                                                                                    \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2911, in _prep_resize                                                                                                \n     limits=limits) as claim:                                                                                                                                                                 \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/lockutils.py\", line 246, in inner                                                                                             \n     return f(*args, **kwargs)                                                                                                                                                                \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 173, in resize_claim                                                                                        \n     self._update(elevated, self.compute_node)                                                                                                                                                \n   File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 428, in _update                                                                                             \n     context, self.compute_node, values, prune_stats)                                                                                                                                         \n   File \"/usr/lib/python2.7/dist-packages/nova/conductor/api.py\", line 263, in compute_node_update                                                                                            \n     prune_stats)                                                                                                                                                                             \n   File \"/usr/lib/python2.7/dist-packages/nova/conductor/rpcapi.py\", line 386, in compute_node_update                                                                                         \n     prune_stats=prune_stats)                                                                                                                                                                 \n   File \"/usr/lib/python2.7/dist-packages/nova/rpcclient.py\", line 85, in call                                                                                                                \n     return self._invoke(self.proxy.call, ctxt, method, **kwargs)                                                                                                                             \n   File \"/usr/lib/python2.7/dist-packages/nova/rpcclient.py\", line 63, in _invoke                                                                                                             \n     return cast_or_call(ctxt, msg, **self.kwargs)                                                                                                                                            \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/proxy.py\", line 126, in call                                                                                              \n     result = rpc.call(context, real_topic, msg, timeout)                                                                                                                                     \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/__init__.py\", line 139, in call                                                                                           \n     return _get_impl().call(CONF, context, topic, msg, timeout)                                                                                                                              \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/impl_kombu.py\", line 816, in call                                                                                         \n     rpc_amqp.get_connection_pool(conf, Connection))                                                                                                                                          \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 574, in call                                                                                               \n     rv = list(rv)                                                                                                                                                                            \n   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 539, in __iter__                                                                                           \n     raise result                                                                                                                                                                             \n ', u'created': u'2014-02-06T14:24:01Z'}", 
            "date_created": "2014-02-11 07:58:43.780363+00:00", 
            "author": "https://api.launchpad.net/1.0/~pavel-kirpichyov"
        }, 
        {
            "content": "Could you provide more information? The code has changed since you reported the bug.", 
            "date_created": "2014-02-19 19:38:43.941887+00:00", 
            "author": "https://api.launchpad.net/1.0/~timello"
        }, 
        {
            "content": "https://review.openstack.org/#/c/72608/", 
            "date_created": "2014-02-20 06:50:37.735260+00:00", 
            "author": "https://api.launchpad.net/1.0/~pavel-kirpichyov"
        }, 
        {
            "content": "_update merthod in resource_tracker.py overrides self.compute_node with data from database, so self.compute_node['stats'] is overrided too (type = list), but in other cases self.compute_node['stats'] must be dict (self.stats = importutils.import_object(CONF.compute_stats_class))", 
            "date_created": "2014-02-20 06:55:26.560362+00:00", 
            "author": "https://api.launchpad.net/1.0/~pavel-kirpichyov"
        }, 
        {
            "content": "\nThis is an automated cleanup. This bug report has been closed because it\nis older than 18 months and there is no open code change to fix this.\nAfter this time it is unlikely that the circumstances which lead to\nthe observed issue can be reproduced.\n\nIf you can reproduce the bug, please:\n* reopen the bug report (set to status \"New\")\n* AND add the detailed steps to reproduce the issue (if applicable)\n* AND leave a comment \"CONFIRMED FOR: <RELEASE_NAME>\"\n  Only still supported release names are valid (LIBERTY, MITAKA, OCATA, NEWTON).\n  Valid example: CONFIRMED FOR: LIBERTY\n", 
            "date_created": "2016-07-05 09:46:17.630649+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ]
}