{
    "status": "Fix Released", 
    "last_updated": "2016-06-02 19:35:35.080311+00:00", 
    "description": "When I deploy openstack kilo on PPC64 little endian system,  vm template xml generated by nova apply IDE bus for device type which is not supported in ppc64 little endian.  I dig deep and find problems in function get_disk_bus_for_device_type in file nova/virt/libvirt/blockinfo.py.\n\nWhen virt_type is in qemu or kvm and device_type is cdrom, virt_type is determine by guestarch,  scsi for arch in (PPC, PPC64, S390, S390X)  and IDE for other.  So  when guestarch is PPC64LE , then virt_type of IDE is returned which is not support. \n\nI add PPC64LE in arch for scsi and it does works.   The patch is attached.", 
    "tags": [
        "libvirt"
    ], 
    "importance": "Wishlist", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1523734", 
    "owner": "None", 
    "id": 1523734, 
    "index": 1767, 
    "created": "2015-12-08 02:04:07.270178+00:00", 
    "title": "IDE bus not supported for PPC64 little endian", 
    "comments": [
        {
            "content": "When I deploy openstack kilo on PPC64 little endian system,  vm template xml generated by nova apply IDE bus for device type which is not supported in ppc64 little endian.  I dig deep and find problems in function get_disk_bus_for_device_type in file nova/virt/libvirt/blockinfo.py.\n\nWhen virt_type is in qemu or kvm and device_type is cdrom, virt_type is determine by guestarch,  scsi for arch in (PPC, PPC64, S390, S390X)  and IDE for other.  So  when guestarch is PPC64LE , then virt_type of IDE is returned which is not support. \n\nI add PPC64LE in arch for scsi and it does works.   The patch is attached.", 
            "date_created": "2015-12-08 02:04:07.270178+00:00", 
            "author": "https://api.launchpad.net/1.0/~xiaojinwei001"
        }, 
        {
            "content": "", 
            "date_created": "2015-12-08 02:04:07.270178+00:00", 
            "author": "https://api.launchpad.net/1.0/~xiaojinwei001"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/272603\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=83574aa27364e538dc4b96a9c90adae75b14ecf3\nSubmitter: Jenkins\nBranch:    master\n\ncommit 83574aa27364e538dc4b96a9c90adae75b14ecf3\nAuthor: Aysy Anne Duarte <email address hidden>\nDate:   Tue Jan 26 15:43:36 2016 +0000\n\n    Add ppc64le architecture to some libvirt unit tests\n    \n    Some unit tests are failing when running on ppc64le.\n    It is necessary to add the option ppc64le inside the\n    architecture check for some test_blockinfo and test_driver unit tests.\n    \n    Closes-Bug: #1523734\n    \n    Change-Id: I16eafee7bd24febf58201d984cdcbfdef8b97ef3\n", 
            "date_created": "2016-05-05 02:13:40.632560+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 14.0.0.0b1 development milestone.", 
            "date_created": "2016-06-02 19:35:34.430525+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }
    ]
}