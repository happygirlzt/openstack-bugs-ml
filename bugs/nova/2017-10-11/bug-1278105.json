{
    "status": "Opinion", 
    "last_updated": "2014-02-10 05:44:38.097372+00:00", 
    "description": "Version\n=======\n\nIceHouse on rhel\n\nDescription\n===========\n\nThere is not single place which holds entire tenant quota limits and its usage\n\nnova absolute-limit is not synced with neutron limits/usage as well doesn't show the info in a table were user can see the usage/amount left very easily ( it does in Horizon )\n\n\nIn the example below i have used  neutron with  1 network , 1 subnet , 6 ports ( one per VM + DHCP and Router ), 1 floating ip.\n\nIt is not easy to know the real usage .\n\n\n\n\n[root@04 ~(keystone_admin_tenant1)]$nova absolute-limits \n+-------------------------+-------+\n| Name                    | Value |\n+-------------------------+-------+\n| maxServerMeta           | 128   |\n| maxPersonality          | 5     |\n| maxImageMeta            | 128   |\n| maxPersonalitySize      | 10240 |\n| maxTotalRAMSize         | 51200 |\n| maxSecurityGroupRules   | 20    |\n| maxTotalKeypairs        | 100   |\n| totalRAMUsed            | 8192  |\n| maxSecurityGroups       | 10    |\n| totalFloatingIpsUsed    | 0     | <<<<\n| totalInstancesUsed      | 4     |\n| totalSecurityGroupsUsed | 0     |\n| maxTotalFloatingIps     | 10    | <<<  neutron report 50 , missing network ,subnet router and port limits & usage \n| maxTotalInstances       | 10    |\n| totalCoresUsed          | 4     |\n| maxTotalCores           | 20    |\n+-------------------------+-------+\n[root@04 ~(keystone_admin_tenant1)]$neutron quota-show\n+---------------------+-------+\n| Field               | Value |\n+---------------------+-------+\n| floatingip          | 50    | <<<<<<\n| network             | 10    |\n| port                | 50    |\n| router              | 10    |\n| security_group      | 10    |\n| security_group_rule | 100   |\n| subnet              | 10    |\n+---------------------+-------+\n[root@04 ~(keystone_admin_tenant1)]$neutron floatingip-list \n+--------------------------------------+------------------+---------------------+--------------------------------------+\n| id                                   | fixed_ip_address | floating_ip_address | port_id                              |\n+--------------------------------------+------------------+---------------------+--------------------------------------+\n| 49d4a10b-c520-470f-9362-c17e61d5cb0c | 21.0.0.2         | 10.35.180.22        | 72ac73de-06db-4b10-81f3-8bc16c724d19 |\n+--------------------------------------+------------------+---------------------+--------------------------------------+\n\nroot@04 ~(keystone_admin_tenant1)]$neutron port-list | grep subnet_id  | wc -l \n6", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1278105", 
    "owner": "None", 
    "id": 1278105, 
    "index": 4533, 
    "created": "2014-02-09 15:22:13.135683+00:00", 
    "title": "nova absolute-limit  should include all system quota", 
    "comments": [
        {
            "content": "Version\n=======\n\nIceHouse on rhel\n\nDescription\n===========\n\nThere is not single place which holds entire tenant quota limits and its usage\n\nnova absolute-limit is not synced with neutron limits/usage as well doesn't show the info in a table were user can see the usage/amount left very easily ( it does in Horizon )\n\n\nIn the example below i have used  neutron with  1 network , 1 subnet , 6 ports ( one per VM + DHCP and Router ), 1 floating ip.\n\nIt is not easy to know the real usage .\n\n\n\n\n[root@04 ~(keystone_admin_tenant1)]$nova absolute-limits \n+-------------------------+-------+\n| Name                    | Value |\n+-------------------------+-------+\n| maxServerMeta           | 128   |\n| maxPersonality          | 5     |\n| maxImageMeta            | 128   |\n| maxPersonalitySize      | 10240 |\n| maxTotalRAMSize         | 51200 |\n| maxSecurityGroupRules   | 20    |\n| maxTotalKeypairs        | 100   |\n| totalRAMUsed            | 8192  |\n| maxSecurityGroups       | 10    |\n| totalFloatingIpsUsed    | 0     | <<<<\n| totalInstancesUsed      | 4     |\n| totalSecurityGroupsUsed | 0     |\n| maxTotalFloatingIps     | 10    | <<<  neutron report 50 , missing network ,subnet router and port limits & usage \n| maxTotalInstances       | 10    |\n| totalCoresUsed          | 4     |\n| maxTotalCores           | 20    |\n+-------------------------+-------+\n[root@04 ~(keystone_admin_tenant1)]$neutron quota-show\n+---------------------+-------+\n| Field               | Value |\n+---------------------+-------+\n| floatingip          | 50    | <<<<<<\n| network             | 10    |\n| port                | 50    |\n| router              | 10    |\n| security_group      | 10    |\n| security_group_rule | 100   |\n| subnet              | 10    |\n+---------------------+-------+\n[root@04 ~(keystone_admin_tenant1)]$neutron floatingip-list \n+--------------------------------------+------------------+---------------------+--------------------------------------+\n| id                                   | fixed_ip_address | floating_ip_address | port_id                              |\n+--------------------------------------+------------------+---------------------+--------------------------------------+\n| 49d4a10b-c520-470f-9362-c17e61d5cb0c | 21.0.0.2         | 10.35.180.22        | 72ac73de-06db-4b10-81f3-8bc16c724d19 |\n+--------------------------------------+------------------+---------------------+--------------------------------------+\n\nroot@04 ~(keystone_admin_tenant1)]$neutron port-list | grep subnet_id  | wc -l \n6", 
            "date_created": "2014-02-09 15:22:13.135683+00:00", 
            "author": "https://api.launchpad.net/1.0/~oblaut"
        }, 
        {
            "content": "Nova shouldn't be returning any  networking quotas when running with neutron.  Instead one should have to query neutron for the results.   This complexity should be hidden behind a unified client that can show all quotas in one CLI command (nova, neutron, cinder, glance, swift etc).   \n\n\n\nSo while there is a bug here (nova shouldn't be listing network quotas when using neutron) nova doesn't want to be the proxy of all things so I disagree with the proposed solution in the title 'nova absolute-limit should include all system quota'", 
            "date_created": "2014-02-10 05:44:37.517199+00:00", 
            "author": "https://api.launchpad.net/1.0/~jogo"
        }
    ]
}