{
    "status": "Fix Released", 
    "last_updated": "2013-10-17 11:56:52.894722+00:00", 
    "description": "Whan attaching to a volume the following exception is returned:\n\n2013-08-04 05:54:10.326 ERROR nova.openstack.common.rpc.amqp [req-f8ec0f25-c8db-4e2f-9bc9-fd087688ec0d demo demo] Exception during message handling\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/openstack/common/rpc/amqp.py\", line 421, in _process_data\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 100, in wrapped\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 77, in wrapped\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 230, in decorated_function\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     pass\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 216, in decorated_function\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 245, in decorated_function\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 3431, in attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     context, instance, mountpoint)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 3426, in attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     mountpoint, instance)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 3468, in _attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     connector)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 3458, in _attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     mountpoint)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/virt/vmwareapi/driver.py\", line 307, in attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     mountpoint)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/virt/vmwareapi/volumeops.py\", line 137, in attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     raise exception.InstanceNotFound(instance_id=instance_name)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp InstanceNotFound: Instance instance-00000001 could not be found.\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp", 
    "tags": [
        "vmware"
    ], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1208173", 
    "owner": "https://api.launchpad.net/1.0/~garyk", 
    "id": 1208173, 
    "index": 1170, 
    "created": "2013-08-04 12:56:55.524091+00:00", 
    "title": "VMware: volume attachment fails with exception", 
    "comments": [
        {
            "content": "Whan attaching to a volume the following exception is returned:\n\n2013-08-04 05:54:10.326 ERROR nova.openstack.common.rpc.amqp [req-f8ec0f25-c8db-4e2f-9bc9-fd087688ec0d demo demo] Exception during message handling\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/openstack/common/rpc/amqp.py\", line 421, in _process_data\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 100, in wrapped\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 77, in wrapped\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 230, in decorated_function\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     pass\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 216, in decorated_function\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 245, in decorated_function\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 3431, in attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     context, instance, mountpoint)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 3426, in attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     mountpoint, instance)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 3468, in _attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     connector)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 3458, in _attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     mountpoint)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/virt/vmwareapi/driver.py\", line 307, in attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     mountpoint)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/virt/vmwareapi/volumeops.py\", line 137, in attach_volume\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp     raise exception.InstanceNotFound(instance_id=instance_name)\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp InstanceNotFound: Instance instance-00000001 could not be found.\n2013-08-04 05:54:10.326 TRACE nova.openstack.common.rpc.amqp", 
            "date_created": "2013-08-04 12:56:55.524091+00:00", 
            "author": "https://api.launchpad.net/1.0/~garyk"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/40105", 
            "date_created": "2013-08-04 13:30:47.864204+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/40105\nCommitted: http://github.com/openstack/nova/commit/7fe0934e72091d63543f9fe680835bdcf81a054e\nSubmitter: Jenkins\nBranch:    master\n\ncommit 7fe0934e72091d63543f9fe680835bdcf81a054e\nAuthor: Gary Kotton <email address hidden>\nDate:   Sun Aug 4 06:26:15 2013 -0700\n\n    VMware: use VM uuid for volume attach and detach\n    \n    When using the instance name an exception occurs. The problem is due\n    to the way in which the VM's are named on vCenter. On vCenter the name\n    of a VM is actually the nova uuid - hence all intercations with the VM\n    should be done by the uuid. The problem here is that the name was used.\n    \n    Fixes bug: 1208173\n    \n    Change-Id: Iefe1584ee1ded403815cf0ca1fb5206ceadd3e55\n", 
            "date_created": "2013-09-02 02:55:03.292507+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}