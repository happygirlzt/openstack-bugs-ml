{
    "status": "Invalid", 
    "last_updated": "2013-12-26 16:59:12.935686+00:00", 
    "description": "When running devstack, I run into the issue where I can successfully launch an instance, but cannot connect to it, not even from the host running devstack. The error is either \" Destination Host Unreachable\" (when using ping) or \"No route to host\" (when using ssh).\n\nSteps to reproduce:\n\n./stack.sh\nexport OS_USERNAME=admin\nexport OS_PASSWORD=password\nexport OS_TENANT_NAME=demo\nexport OS_AUTH_URL=http://192.168.126.142:5000/v2.0/\n\nsource /usr/local/src/devstack/openrc admin\n\nnova secgroup-add-rule default tcp 22 22 0.0.0.0/0\nnova secgroup-add-rule default icmp -1 -1 0.0.0.0/0\n\nwget https://launchpadlibrarian.net/83303699/cirros-0.3.0-i386-disk.img\nglance image-create --name=cirros-0.3.0-i386 --is-public=true --container-format=bare --disk-format=qcow2 < cirros-0.3.0-i386-disk.img\nnova boot --flavor m1.nano --image cirros-0.3.0-i386 myvm\nnova show myvm\n+--------------------------------------+----------------------------------------------------------+\n| Property                             | Value                                                    |\n+--------------------------------------+----------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                   |\n| OS-EXT-AZ:availability_zone          | nova                                                     |\n| OS-EXT-SRV-ATTR:host                 | localhost.localdomain                                    |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | localhost.localdomain                                    |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                                        |\n| OS-EXT-STS:power_state               | 1                                                        |\n| OS-EXT-STS:task_state                | None                                                     |\n| OS-EXT-STS:vm_state                  | active                                                   |\n| OS-SRV-USG:launched_at               | 2013-12-04T18:40:43.000000                               |\n| OS-SRV-USG:terminated_at             | None                                                     |\n| accessIPv4                           |                                                          |\n| accessIPv6                           |                                                          |\n| config_drive                         |                                                          |\n| created                              | 2013-12-04T18:38:26Z                                     |\n| flavor                               | m1.nano (42)                                             |\n| hostId                               | 24de90bc5bb06394e434e1febf1e79f23bcb629f48903b02d028bdf7 |\n| id                                   | 452a730e-7fa9-4f2a-9ea1-f792442b8383                     |\n| image                                | cirros-0.3.0-i386 (d0a521c9-895f-4046-a85c-5cece89bdfd4) |\n| key_name                             | None                                                     |\n| metadata                             | {}                                                       |\n| name                                 | myvm                                                     |\n| os-extended-volumes:volumes_attached | []                                                       |\n| private network                      | 10.4.128.2                                               |\n| progress                             | 0                                                        |\n| security_groups                      | default                                                  |\n| status                               | ACTIVE                                                   |\n| tenant_id                            | fb8947cbb5f44959af347dc7bdf16e6c                         |\n| updated                              | 2013-12-04T18:40:43Z                                     |\n| user_id                              | 543a006dea954a05b4249654198681d7                         |\n+--------------------------------------+----------------------------------------------------------+\n$ ping 10.4.128.2\nPING 10.4.128.2 (10.4.128.2) 56(84) bytes of data.\nFrom 10.4.128.1 icmp_seq=10 Destination Host Unreachable\nFrom 10.4.128.1 icmp_seq=11 Destination Host Unreachable\nFrom 10.4.128.1 icmp_seq=12 Destination Host Unreachable\nFrom 10.4.128.1 icmp_seq=13 Destination Host Unreachable\n^C\n--- 10.4.128.2 ping statistics ---\n13 packets transmitted, 0 received, +4 errors, 100% packet loss, time 12003ms\npipe 4\n$ ssh 10.4.128.2\nssh: connect to host 10.4.128.2 port 22: No route to host\n$ ifconfig -a\nbr100: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 10.4.128.1  netmask 255.255.240.0  broadcast 10.4.143.255\n        inet6 fe80::acc9:71ff:fefb:f36  prefixlen 64  scopeid 0x20<link>\n        ether 00:0c:29:6e:32:be  txqueuelen 0  (Ethernet)\n        RX packets 15649  bytes 6616569 (6.3 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 22546  bytes 3504448 (3.3 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        inet6 ::1  prefixlen 128  scopeid 0x10<host>\n        loop  txqueuelen 0  (Local Loopback)\n        RX packets 125621  bytes 144989732 (138.2 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 125621  bytes 144989732 (138.2 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\np3p1: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet6 fe80::20c:29ff:fe6e:32be  prefixlen 64  scopeid 0x20<link>\n        ether 00:0c:29:6e:32:be  txqueuelen 1000  (Ethernet)\n        RX packets 68455  bytes 66756968 (63.6 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 62578  bytes 8182621 (7.8 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n        device interrupt 19  base 0x2000\n\nvnet0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet6 fe80::fc16:3eff:fe6d:4b91  prefixlen 64  scopeid 0x20<link>\n        ether fe:16:3e:6d:4b:91  txqueuelen 500  (Ethernet)\n        RX packets 23  bytes 2422 (2.3 KiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 49  bytes 6309 (6.1 KiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\n$ route\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\ndefault         192.168.126.2   0.0.0.0         UG    0      0        0 br100\n10.4.128.0      *               255.255.240.0   U     0      0        0 br100\n192.168.126.0   *               255.255.255.0   U     0      0        0 br100\n$ arp -a\n? (192.168.126.1) at 00:50:56:c0:00:08 [ether] on br100\n? (192.168.126.254) at 00:50:56:eb:f2:f2 [ether] on br100\n? (192.168.126.2) at 00:50:56:e6:61:ac [ether] on br100\n? (10.4.128.2) at <incomplete> on br100\n$ sudo brctl show\nbridge name     bridge id               STP enabled     interfaces\nbr100           8000.000c296e32be       no              p3p1\n                                                        vnet0", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1257875", 
    "owner": "None", 
    "id": 1257875, 
    "index": 4357, 
    "created": "2013-12-04 18:54:05.086324+00:00", 
    "title": "nova-network (devstack) network connections to launched instances fail", 
    "comments": [
        {
            "content": "When running devstack, I run into the issue where I can successfully launch an instance, but cannot connect to it, not even from the host running devstack. The error is either \" Destination Host Unreachable\" (when using ping) or \"No route to host\" (when using ssh).\n\nSteps to reproduce:\n\n./stack.sh\nexport OS_USERNAME=admin\nexport OS_PASSWORD=password\nexport OS_TENANT_NAME=demo\nexport OS_AUTH_URL=http://192.168.126.142:5000/v2.0/\n\nsource /usr/local/src/devstack/openrc admin\n\nnova secgroup-add-rule default tcp 22 22 0.0.0.0/0\nnova secgroup-add-rule default icmp -1 -1 0.0.0.0/0\n\nwget https://launchpadlibrarian.net/83303699/cirros-0.3.0-i386-disk.img\nglance image-create --name=cirros-0.3.0-i386 --is-public=true --container-format=bare --disk-format=qcow2 < cirros-0.3.0-i386-disk.img\nnova boot --flavor m1.nano --image cirros-0.3.0-i386 myvm\nnova show myvm\n+--------------------------------------+----------------------------------------------------------+\n| Property                             | Value                                                    |\n+--------------------------------------+----------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                   |\n| OS-EXT-AZ:availability_zone          | nova                                                     |\n| OS-EXT-SRV-ATTR:host                 | localhost.localdomain                                    |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | localhost.localdomain                                    |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                                        |\n| OS-EXT-STS:power_state               | 1                                                        |\n| OS-EXT-STS:task_state                | None                                                     |\n| OS-EXT-STS:vm_state                  | active                                                   |\n| OS-SRV-USG:launched_at               | 2013-12-04T18:40:43.000000                               |\n| OS-SRV-USG:terminated_at             | None                                                     |\n| accessIPv4                           |                                                          |\n| accessIPv6                           |                                                          |\n| config_drive                         |                                                          |\n| created                              | 2013-12-04T18:38:26Z                                     |\n| flavor                               | m1.nano (42)                                             |\n| hostId                               | 24de90bc5bb06394e434e1febf1e79f23bcb629f48903b02d028bdf7 |\n| id                                   | 452a730e-7fa9-4f2a-9ea1-f792442b8383                     |\n| image                                | cirros-0.3.0-i386 (d0a521c9-895f-4046-a85c-5cece89bdfd4) |\n| key_name                             | None                                                     |\n| metadata                             | {}                                                       |\n| name                                 | myvm                                                     |\n| os-extended-volumes:volumes_attached | []                                                       |\n| private network                      | 10.4.128.2                                               |\n| progress                             | 0                                                        |\n| security_groups                      | default                                                  |\n| status                               | ACTIVE                                                   |\n| tenant_id                            | fb8947cbb5f44959af347dc7bdf16e6c                         |\n| updated                              | 2013-12-04T18:40:43Z                                     |\n| user_id                              | 543a006dea954a05b4249654198681d7                         |\n+--------------------------------------+----------------------------------------------------------+\n$ ping 10.4.128.2\nPING 10.4.128.2 (10.4.128.2) 56(84) bytes of data.\nFrom 10.4.128.1 icmp_seq=10 Destination Host Unreachable\nFrom 10.4.128.1 icmp_seq=11 Destination Host Unreachable\nFrom 10.4.128.1 icmp_seq=12 Destination Host Unreachable\nFrom 10.4.128.1 icmp_seq=13 Destination Host Unreachable\n^C\n--- 10.4.128.2 ping statistics ---\n13 packets transmitted, 0 received, +4 errors, 100% packet loss, time 12003ms\npipe 4\n$ ssh 10.4.128.2\nssh: connect to host 10.4.128.2 port 22: No route to host\n$ ifconfig -a\nbr100: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 10.4.128.1  netmask 255.255.240.0  broadcast 10.4.143.255\n        inet6 fe80::acc9:71ff:fefb:f36  prefixlen 64  scopeid 0x20<link>\n        ether 00:0c:29:6e:32:be  txqueuelen 0  (Ethernet)\n        RX packets 15649  bytes 6616569 (6.3 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 22546  bytes 3504448 (3.3 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        inet6 ::1  prefixlen 128  scopeid 0x10<host>\n        loop  txqueuelen 0  (Local Loopback)\n        RX packets 125621  bytes 144989732 (138.2 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 125621  bytes 144989732 (138.2 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\np3p1: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet6 fe80::20c:29ff:fe6e:32be  prefixlen 64  scopeid 0x20<link>\n        ether 00:0c:29:6e:32:be  txqueuelen 1000  (Ethernet)\n        RX packets 68455  bytes 66756968 (63.6 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 62578  bytes 8182621 (7.8 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n        device interrupt 19  base 0x2000\n\nvnet0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet6 fe80::fc16:3eff:fe6d:4b91  prefixlen 64  scopeid 0x20<link>\n        ether fe:16:3e:6d:4b:91  txqueuelen 500  (Ethernet)\n        RX packets 23  bytes 2422 (2.3 KiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 49  bytes 6309 (6.1 KiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\n$ route\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\ndefault         192.168.126.2   0.0.0.0         UG    0      0        0 br100\n10.4.128.0      *               255.255.240.0   U     0      0        0 br100\n192.168.126.0   *               255.255.255.0   U     0      0        0 br100\n$ arp -a\n? (192.168.126.1) at 00:50:56:c0:00:08 [ether] on br100\n? (192.168.126.254) at 00:50:56:eb:f2:f2 [ether] on br100\n? (192.168.126.2) at 00:50:56:e6:61:ac [ether] on br100\n? (10.4.128.2) at <incomplete> on br100\n$ sudo brctl show\nbridge name     bridge id               STP enabled     interfaces\nbr100           8000.000c296e32be       no              p3p1\n                                                        vnet0", 
            "date_created": "2013-12-04 18:54:05.086324+00:00", 
            "author": "https://api.launchpad.net/1.0/~lbalbalba"
        }, 
        {
            "content": "", 
            "date_created": "2013-12-04 18:54:05.086324+00:00", 
            "author": "https://api.launchpad.net/1.0/~lbalbalba"
        }, 
        {
            "content": "Additional info: when I ping the instance (10.4.128.2) from the host I run openstack on (localhost.localdomain, 192.168.126.142) I do see arp request packets on both br100 and vnet0\n\n# tcpdump -i br100 arp\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on br100, link-type EN10MB (Ethernet), capture size 65535 bytes\n19:49:23.293070 ARP, Request who-has 10.4.128.2 tell localhost.localdomain, length 28\n19:49:24.295030 ARP, Request who-has 10.4.128.2 tell localhost.localdomain, length 28\n19:49:25.297188 ARP, Request who-has 10.4.128.2 tell localhost.localdomain, length 28\n^C\n3 packets captured\n3 packets received by filter\n0 packets dropped by kernel\n# tcpdump -i vnet0 arp\ntcpdump: WARNING: vnet0: no IPv4 address assigned\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on vnet0, link-type EN10MB (Ethernet), capture size 65535 bytes\n19:49:35.404475 ARP, Request who-has 10.4.128.2 tell localhost.localdomain, length 28\n19:49:36.406490 ARP, Request who-has 10.4.128.2 tell localhost.localdomain, length 28\n19:49:37.409074 ARP, Request who-has 10.4.128.2 tell localhost.localdomain, length 28\n^C\n3 packets captured\n3 packets received by filter\n0 packets dropped by kernel\n", 
            "date_created": "2013-12-06 00:54:08.110307+00:00", 
            "author": "https://api.launchpad.net/1.0/~lbalbalba"
        }, 
        {
            "content": "And arp reply packets on br100: \ntcpdump -vv -i br100 arp\n19:54:48.173534 ARP, Ethernet (len 6), IPv4 (len 4), Reply localhost.localdomain is-at 00:0c:29:6e:32:be (oui Unknown), length 28\n", 
            "date_created": "2013-12-06 00:57:11.805421+00:00", 
            "author": "https://api.launchpad.net/1.0/~lbalbalba"
        }, 
        {
            "content": "Just having a single network interface may have something to do with this issue.", 
            "date_created": "2013-12-22 22:06:28.962342+00:00", 
            "author": "https://api.launchpad.net/1.0/~lbalbalba"
        }
    ]
}