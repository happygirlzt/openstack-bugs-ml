{
    "status": "Fix Released", 
    "last_updated": "2016-01-07 08:00:19.048485+00:00", 
    "description": "There seem to be 17 occurrences of this error in the last 7 days [starting 3DEC2015]:\n\n    message: \"libvirtError: cannot read header\" AND tags: \"screen-n-cpu.txt\"\n\nAnd, 195 occurrences of  the below error message string when looked at logstash, :\n\n    message: \"session 2 login rejected: Initiator failed authentication with target\" AND tags: \"syslog\"\n\nFrom:\nhttp://logs.openstack.org/80/251980/1/check/gate-grenade-dsvm-multinode/5716e36/logs/old/screen-n-cpu.txt.gz#_2015-12-02_10_57_35_812\n\n[. . .]\n2015-12-02 10:57:35.812 ERROR nova.compute.manager [req-b5b4691f-da88-4abd-bffd-a72d52242dae tempest-TestVolumeBootPattern-440462397 tempest-TestVolumeBootPattern-1264952841] [instance: 4d176a3a-2678-4207-99c6-f84894a23778] Instance failed to spawn\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778] Traceback (most recent call last):\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 2155, in _build_resources\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     yield resources\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 2009, in _build_and_run_instance\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     block_device_info=block_device_info)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 2444, in spawn\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     block_device_info=block_device_info)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 4519, in _create_domain_and_network\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     xml, pause=pause, power_on=power_on)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 4449, in _create_domain\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     guest.launch(pause=pause)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/guest.py\", line 141, in launch\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     self._encoded_xml, errors='ignore')\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     six.reraise(self.type_, self.value, self.tb)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/guest.py\", line 136, in launch\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     return self._domain.createWithFlags(flags)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, in doit\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, in proxy_call\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     rv = execute(f, *args, **kwargs)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, in execute\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     six.reraise(c, e, tb)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in tworker\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     rv = meth(*args, **kwargs)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/libvirt.py\", line 900, in createWithFlags\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     if ret == -1: raise libvirtError ('virDomainCreateWithFlags() failed', dom=self)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778] libvirtError: cannot read header '/dev/disk/by-path/ip-149.202.189.35:3260-iscsi-iqn.2010-10.org.openstack:volume-690bf429-192d-40f1-97bf-f558a8106208-lun-1': Input/output error\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778] \n[. . .]\n\n\nAnd, there are errors from 'iscsid' from syslog:\n\nhttp://logs.openstack.org/80/251980/1/check/gate-grenade-dsvm-multinode/5716e36/logs/syslog.txt.gz#_Dec__2_10_55_36\n\n[. . .]\nDec  2 10:55:36 ubuntu iscsid: Kernel reported iSCSI connection 2:0 error (1020 - ISCSI_ERR_TCP_CONN_CLOSE: TCP connection closed) state (3)\nDec  2 10:55:36 ubuntu iscsid: Login failed to authenticate with target iqn.2010-10.org.openstack:volume-6fb73a19-26f9-4c76-95e0-ccfa57489593\nDec  2 10:55:36 ubuntu iscsid: session 1 login rejected: Initiator failed authentication with target\nDec  2 10:55:36 ubuntu object-auditor: Object audit (ALL) \"forever\" mode completed: 3.39s. Total quarantined: 0, Total errors: 0, Total files/sec: 7.66, Total bytes/sec: 9986657.72, Auditing time: 3.39, Rate: 1.00\nDec  2 10:55:36 ubuntu kernel: [ 2566.962683] type=1400 audit(1449053736.838:29): apparmor=\"STATUS\" operation=\"profile_load\" profile=\"unconfined\" name=\"libvirt-4ac13a03-c8c8-4c20-8cd1-2f2354131a67\" pid=1807 comm=\"apparmor_parser\"\nDec  2 10:55:38 ubuntu kernel: [ 2568.159143]  connection2:0: detected conn error (1020)\n[. . .]", 
    "tags": [], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1522488", 
    "owner": "https://api.launchpad.net/1.0/~mordred", 
    "id": 1522488, 
    "index": 1847, 
    "created": "2015-12-03 16:42:26.973847+00:00", 
    "title": "'TestBootVolumePattern' fails in 'gate-grenade-dsvm-multinode' job with 'libvirtError: cannot read header '/dev/disk/by-path/ip-[...]-lun-1''", 
    "comments": [
        {
            "content": "There seem to be 17 occurrences of this error in the last 7 days [starting 3DEC2015]:\n\n    message: \"libvirtError: cannot read header\" AND tags: \"screen-n-cpu.txt\"\n\nAnd, 195 occurrences of  the below error message string when looked at logstash, :\n\n    message: \"session 2 login rejected: Initiator failed authentication with target\" AND tags: \"syslog\"\n\nFrom:\nhttp://logs.openstack.org/80/251980/1/check/gate-grenade-dsvm-multinode/5716e36/logs/old/screen-n-cpu.txt.gz#_2015-12-02_10_57_35_812\n\n[. . .]\n2015-12-02 10:57:35.812 ERROR nova.compute.manager [req-b5b4691f-da88-4abd-bffd-a72d52242dae tempest-TestVolumeBootPattern-440462397 tempest-TestVolumeBootPattern-1264952841] [instance: 4d176a3a-2678-4207-99c6-f84894a23778] Instance failed to spawn\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778] Traceback (most recent call last):\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 2155, in _build_resources\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     yield resources\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 2009, in _build_and_run_instance\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     block_device_info=block_device_info)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 2444, in spawn\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     block_device_info=block_device_info)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 4519, in _create_domain_and_network\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     xml, pause=pause, power_on=power_on)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 4449, in _create_domain\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     guest.launch(pause=pause)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/guest.py\", line 141, in launch\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     self._encoded_xml, errors='ignore')\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     six.reraise(self.type_, self.value, self.tb)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/opt/stack/old/nova/nova/virt/libvirt/guest.py\", line 136, in launch\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     return self._domain.createWithFlags(flags)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, in doit\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, in proxy_call\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     rv = execute(f, *args, **kwargs)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, in execute\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     six.reraise(c, e, tb)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in tworker\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     rv = meth(*args, **kwargs)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]   File \"/usr/local/lib/python2.7/dist-packages/libvirt.py\", line 900, in createWithFlags\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778]     if ret == -1: raise libvirtError ('virDomainCreateWithFlags() failed', dom=self)\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778] libvirtError: cannot read header '/dev/disk/by-path/ip-149.202.189.35:3260-iscsi-iqn.2010-10.org.openstack:volume-690bf429-192d-40f1-97bf-f558a8106208-lun-1': Input/output error\n2015-12-02 10:57:35.812 25717 ERROR nova.compute.manager [instance: 4d176a3a-2678-4207-99c6-f84894a23778] \n[. . .]\n\n\nAnd, there are errors from 'iscsid' from syslog:\n\nhttp://logs.openstack.org/80/251980/1/check/gate-grenade-dsvm-multinode/5716e36/logs/syslog.txt.gz#_Dec__2_10_55_36\n\n[. . .]\nDec  2 10:55:36 ubuntu iscsid: Kernel reported iSCSI connection 2:0 error (1020 - ISCSI_ERR_TCP_CONN_CLOSE: TCP connection closed) state (3)\nDec  2 10:55:36 ubuntu iscsid: Login failed to authenticate with target iqn.2010-10.org.openstack:volume-6fb73a19-26f9-4c76-95e0-ccfa57489593\nDec  2 10:55:36 ubuntu iscsid: session 1 login rejected: Initiator failed authentication with target\nDec  2 10:55:36 ubuntu object-auditor: Object audit (ALL) \"forever\" mode completed: 3.39s. Total quarantined: 0, Total errors: 0, Total files/sec: 7.66, Total bytes/sec: 9986657.72, Auditing time: 3.39, Rate: 1.00\nDec  2 10:55:36 ubuntu kernel: [ 2566.962683] type=1400 audit(1449053736.838:29): apparmor=\"STATUS\" operation=\"profile_load\" profile=\"unconfined\" name=\"libvirt-4ac13a03-c8c8-4c20-8cd1-2f2354131a67\" pid=1807 comm=\"apparmor_parser\"\nDec  2 10:55:38 ubuntu kernel: [ 2568.159143]  connection2:0: detected conn error (1020)\n[. . .]", 
            "date_created": "2015-12-03 16:42:26.973847+00:00", 
            "author": "https://api.launchpad.net/1.0/~kashyapc"
        }, 
        {
            "content": "I think this was fixed by an infra change, the two hosts had the same hostname so n-cpu was getting tripped up.\n\nhttps://review.openstack.org/#/c/254858/", 
            "date_created": "2015-12-10 14:25:22.452347+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ]
}