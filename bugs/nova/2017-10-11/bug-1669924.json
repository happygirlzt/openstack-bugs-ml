{
    "status": "Expired", 
    "last_updated": "2017-08-28 04:17:45.263002+00:00", 
    "description": "VM creation got stuck at nova-cells. I can see following error in nova-cells.\nBecause of this issue, nova scheduler not getting any Compute nodes to schedule the VM.\nPlease le me know if you need more infos.\nI am using devstack master (master nova)\n\n-------------------\n\nLog form nova-cells\n--------------------------\n\n2017-03-03 22:43:08.723 ERROR nova.cells.messaging [req-719c3e5b-8a74-446e-88ea-cd21a4c038ed nfv nfv_user] Error processing message locally\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging Traceback (most recent call last):\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/cells/messaging.py\", line 188, in _process_locally\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     resp_value = self.msg_runner._process_message_locally(self)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/cells/messaging.py\", line 1275, in _process_message_locally\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return fn(message, **message.method_kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/cells/messaging.py\", line 1024, in instance_update_at_top\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     expected_task_state=expected_task_state)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 226, in wrappe\nr\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return fn(self, *args, **kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/objects/instance.py\", line 777, in save\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     columns_to_join=_expected_cols(expected_attrs))\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/api.py\", line 840, in instance_update_and_get_original\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     expected=expected)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 180, in wrapper\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return f(*args, **kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/api.py\", line 151, in wrapper\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     ectxt.value = e.inner_exc\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 220, in __exit__\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     self.force_reraise()\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 196, in force_reraise\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     six.reraise(self.type_, self.value, self.tb)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/api.py\", line 139, in wrapper\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return f(*args, **kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 251, in wrapped\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return f(context, *args, **kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 2710, in instance_update_and_get_original\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     context, instance_uuid, values, expected, original=instance_ref))\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 2846, in _instance_update\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     raise exc(**exc_props)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging InstanceUpdateConflict: Conflict updating instance 4d3dae25-906a-4e38-9075-1417c6fa7ad9. Expected:\n {'vm_state': ['building', None]}. Actual: {'vm_state': u'error'}\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging", 
    "tags": [
        "cells"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1669924", 
    "owner": "None", 
    "id": 1669924, 
    "index": 893, 
    "created": "2017-03-03 22:56:01.428121+00:00", 
    "title": "InstanceUpdateConflict: Conflict updating instance Expected:  {'vm_state': ['building', None]}. Actual: {'vm_state': u'error'}", 
    "comments": [
        {
            "content": "VM creation got stuck at nova-cells. I can see following error in nova-cells.\nBecause of this issue, nova scheduler not getting any Compute nodes to schedule the VM.\nPlease le me know if you need more infos.\nI am using devstack master (master nova)\n\n-------------------\n\nLog form nova-cells\n--------------------------\n\n2017-03-03 22:43:08.723 ERROR nova.cells.messaging [req-719c3e5b-8a74-446e-88ea-cd21a4c038ed nfv nfv_user] Error processing message locally\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging Traceback (most recent call last):\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/cells/messaging.py\", line 188, in _process_locally\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     resp_value = self.msg_runner._process_message_locally(self)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/cells/messaging.py\", line 1275, in _process_message_locally\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return fn(message, **message.method_kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/cells/messaging.py\", line 1024, in instance_update_at_top\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     expected_task_state=expected_task_state)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 226, in wrappe\nr\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return fn(self, *args, **kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/objects/instance.py\", line 777, in save\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     columns_to_join=_expected_cols(expected_attrs))\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/api.py\", line 840, in instance_update_and_get_original\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     expected=expected)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 180, in wrapper\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return f(*args, **kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/api.py\", line 151, in wrapper\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     ectxt.value = e.inner_exc\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 220, in __exit__\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     self.force_reraise()\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 196, in force_reraise\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     six.reraise(self.type_, self.value, self.tb)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/api.py\", line 139, in wrapper\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return f(*args, **kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 251, in wrapped\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     return f(context, *args, **kwargs)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 2710, in instance_update_and_get_original\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     context, instance_uuid, values, expected, original=instance_ref))\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 2846, in _instance_update\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging     raise exc(**exc_props)\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging InstanceUpdateConflict: Conflict updating instance 4d3dae25-906a-4e38-9075-1417c6fa7ad9. Expected:\n {'vm_state': ['building', None]}. Actual: {'vm_state': u'error'}\n2017-03-03 22:43:08.723 TRACE nova.cells.messaging", 
            "date_created": "2017-03-03 22:56:01.428121+00:00", 
            "author": "https://api.launchpad.net/1.0/~sajuptpm"
        }, 
        {
            "content": "similar issue https://bugs.launchpad.net/nova/+bug/1646841", 
            "date_created": "2017-03-17 05:28:49.093435+00:00", 
            "author": "https://api.launchpad.net/1.0/~sajuptpm"
        }, 
        {
            "content": "not similar error, i am getting this error from nova.cells.messaging", 
            "date_created": "2017-03-17 05:44:06.175907+00:00", 
            "author": "https://api.launchpad.net/1.0/~sajuptpm"
        }, 
        {
            "content": "#needs-logs: nova-compute", 
            "date_created": "2017-06-28 16:23:01.467774+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2017-08-28 04:17:43.036321+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}