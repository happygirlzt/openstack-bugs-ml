{
    "status": "Expired", 
    "last_updated": "2015-05-30 04:17:28.197272+00:00", 
    "description": "When launching an instance with the following command:\nnova boot --image 7a5a741c-73ac-4061-8c10-254a77b96c9e --availability_zone nova:beijing.sics.se --flavor 3 --file injectedFile.txt=injectedFile.txt VM1\n\nthe instance fails to launch with the following output (LOG1)\n\nLaunching the instance without the --file option results in a successful launch (LOG2)\nnova boot --image 7a5a741c-73ac-4061-8c10-254a77b96c9e --availability_zone nova:beijing.sics.se --flavor 3 VM2\n\n\nThere has been an earlier question on this topic (https://lists.launchpad.net/openstack/msg22969.html), but this is a different problem.\n\n\nLogs following:\n\n\nLOG1:\n2013-12-06 18:04:02.810 AUDIT nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Starting instance...\n2013-12-06 18:04:04.119 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Attempting claim: memory 4096 MB, disk 40 GB, VCPUs 2\n2013-12-06 18:04:04.120 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Total Memory: 64378 MB, used: 37376 MB\n2013-12-06 18:04:04.120 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Memory limit: 96567 MB, free: 59191 MB\n2013-12-06 18:04:04.121 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Total Disk: 886 GB, used: 360 GB\n2013-12-06 18:04:04.121 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Disk limit not specified, defaulting to unlimited\n2013-12-06 18:04:04.122 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Total CPU: 12 VCPUs, used: 18 VCPUs\n2013-12-06 18:04:04.122 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] CPU limit: 192 VCPUs, free: 174 VCPUs\n2013-12-06 18:04:04.122 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Claim successful\n2013-12-06 18:04:07.350 INFO nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Creating image\n2013-12-06 18:04:07.443 INFO nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Injecting files into image 702b3e56-8d05-4f58-ac9d-8fdbf77ba31a\n2013-12-06 18:04:11.890 ERROR nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Error injecting data into image 702b3e56-8d05-4f58-ac9d-8fdbf77ba31a (No operating system found in /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8/disk)\n2013-12-06 18:04:11.892 ERROR nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Instance failed to spawn\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1120, in _spawn\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     block_device_info)\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1524, in spawn\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     admin_pass=admin_password)\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1922, in _create_image\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     instance=instance)\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     self.gen.next()\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1917, in _create_image\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     mandatory=('files',))\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/api.py\", line 291, in inject_data\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     fs.setup()\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 106, in setup\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     self.setup_os()\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 50, in setup_os\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     self.setup_os_inspect()\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 69, in setup_os_inspect\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     % self.imgfile)\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] NovaException: No operating system found in /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8/disk\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:12.092 AUDIT nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Terminating instance\n2013-12-06 18:04:13.405 8751 ERROR nova.virt.libvirt.driver [-] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] During wait destroy, instance disappeared.\n2013-12-06 18:04:13.601 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr93cb730b-39 qvb93cb730b-39\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb93cb730b-39 does not exist!\\n'\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:13.754 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr69aa7db1-df qvb69aa7db1-df\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb69aa7db1-df does not exist!\\n'\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:13.909 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr556e0c0a-7b qvb556e0c0a-7b\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb556e0c0a-7b does not exist!\\n'\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:14.057 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr186fa478-3a qvb186fa478-3a\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb186fa478-3a does not exist!\\n'\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:14.059 INFO nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Deleting instance files /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8\n2013-12-06 18:04:15.011 ERROR nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Error: ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 865, in _run_instance\\n    set_access_ip=set_access_ip)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1124, in _spawn\\n    LOG.exception(_(\\'Instance failed to spawn\\'), instance=instance)\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1120, in _spawn\\n    block_device_info)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1524, in spawn\\n    admin_pass=admin_password)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1922, in _create_image\\n    instance=instance)\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1917, in _create_image\\n    mandatory=(\\'files\\',))\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/api.py\", line 291, in inject_data\\n    fs.setup()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 106, in setup\\n    self.setup_os()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 50, in setup_os\\n    self.setup_os_inspect()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 69, in setup_os_inspect\\n    % self.imgfile)\\n', 'NovaException: No operating system found in /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8/disk\\n']\n\n\n\nLOG2:\n\n2013-12-06 18:00:46.219 AUDIT nova.compute.manager [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Starting instance...\n2013-12-06 18:00:47.090 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Attempting claim: memory 4096 MB, disk 40 GB, VCPUs 2\n2013-12-06 18:00:47.091 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Total Memory: 64378 MB, used: 33280 MB\n2013-12-06 18:00:47.091 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Memory limit: 96567 MB, free: 63287 MB\n2013-12-06 18:00:47.091 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Total Disk: 886 GB, used: 320 GB\n2013-12-06 18:00:47.092 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Disk limit not specified, defaulting to unlimited\n2013-12-06 18:00:47.092 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Total CPU: 12 VCPUs, used: 16 VCPUs\n2013-12-06 18:00:47.093 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] CPU limit: 192 VCPUs, free: 176 VCPUs\n2013-12-06 18:00:47.093 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Claim successful\n2013-12-06 18:00:50.362 INFO nova.virt.libvirt.driver [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Creating image\n2013-12-06 18:01:00.685 8751 INFO nova.compute.manager [-] Lifecycle event 0 on VM e93734fb-7956-4fa3-9bb6-7c8ff470c374\n2013-12-06 18:01:00.887 8751 INFO nova.compute.manager [-] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] During sync_power_state the instance has a pending task. Skip.\n2013-12-06 18:01:01.307 8751 INFO nova.virt.libvirt.driver [-] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Instance spawned successfully.", 
    "tags": [
        "file", 
        "injection", 
        "windows"
    ], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1259611", 
    "owner": "None", 
    "id": 1259611, 
    "index": 3730, 
    "created": "2013-12-10 16:22:51.732979+00:00", 
    "title": "launch of Windows VMs fails when passing the --file argument", 
    "comments": [
        {
            "content": "When launching an instance with the following command:\nnova boot --image 7a5a741c-73ac-4061-8c10-254a77b96c9e --availability_zone nova:beijing.sics.se --flavor 3 --file injectedFile.txt=injectedFile.txt VM1\n\nthe instance fails to launch with the following output (LOG1)\n\nLaunching the instance without the --file option results in a successful launch (LOG2)\nnova boot --image 7a5a741c-73ac-4061-8c10-254a77b96c9e --availability_zone nova:beijing.sics.se --flavor 3 VM2\n\n\nThere has been an earlier question on this topic (https://lists.launchpad.net/openstack/msg22969.html), but this is a different problem.\n\n\nLogs following:\n\n\nLOG1:\n2013-12-06 18:04:02.810 AUDIT nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Starting instance...\n2013-12-06 18:04:04.119 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Attempting claim: memory 4096 MB, disk 40 GB, VCPUs 2\n2013-12-06 18:04:04.120 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Total Memory: 64378 MB, used: 37376 MB\n2013-12-06 18:04:04.120 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Memory limit: 96567 MB, free: 59191 MB\n2013-12-06 18:04:04.121 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Total Disk: 886 GB, used: 360 GB\n2013-12-06 18:04:04.121 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Disk limit not specified, defaulting to unlimited\n2013-12-06 18:04:04.122 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Total CPU: 12 VCPUs, used: 18 VCPUs\n2013-12-06 18:04:04.122 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] CPU limit: 192 VCPUs, free: 174 VCPUs\n2013-12-06 18:04:04.122 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Claim successful\n2013-12-06 18:04:07.350 INFO nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Creating image\n2013-12-06 18:04:07.443 INFO nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Injecting files into image 702b3e56-8d05-4f58-ac9d-8fdbf77ba31a\n2013-12-06 18:04:11.890 ERROR nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Error injecting data into image 702b3e56-8d05-4f58-ac9d-8fdbf77ba31a (No operating system found in /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8/disk)\n2013-12-06 18:04:11.892 ERROR nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Instance failed to spawn\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1120, in _spawn\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     block_device_info)\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1524, in spawn\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     admin_pass=admin_password)\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1922, in _create_image\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     instance=instance)\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     self.gen.next()\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1917, in _create_image\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     mandatory=('files',))\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/api.py\", line 291, in inject_data\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     fs.setup()\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 106, in setup\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     self.setup_os()\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 50, in setup_os\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     self.setup_os_inspect()\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 69, in setup_os_inspect\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     % self.imgfile)\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] NovaException: No operating system found in /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8/disk\n2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:12.092 AUDIT nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Terminating instance\n2013-12-06 18:04:13.405 8751 ERROR nova.virt.libvirt.driver [-] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] During wait destroy, instance disappeared.\n2013-12-06 18:04:13.601 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr93cb730b-39 qvb93cb730b-39\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb93cb730b-39 does not exist!\\n'\n2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:13.754 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr69aa7db1-df qvb69aa7db1-df\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb69aa7db1-df does not exist!\\n'\n2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:13.909 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr556e0c0a-7b qvb556e0c0a-7b\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb556e0c0a-7b does not exist!\\n'\n2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:14.057 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr186fa478-3a qvb186fa478-3a\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb186fa478-3a does not exist!\\n'\n2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n2013-12-06 18:04:14.059 INFO nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Deleting instance files /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8\n2013-12-06 18:04:15.011 ERROR nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Error: ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 865, in _run_instance\\n    set_access_ip=set_access_ip)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1124, in _spawn\\n    LOG.exception(_(\\'Instance failed to spawn\\'), instance=instance)\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1120, in _spawn\\n    block_device_info)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1524, in spawn\\n    admin_pass=admin_password)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1922, in _create_image\\n    instance=instance)\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1917, in _create_image\\n    mandatory=(\\'files\\',))\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/api.py\", line 291, in inject_data\\n    fs.setup()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 106, in setup\\n    self.setup_os()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 50, in setup_os\\n    self.setup_os_inspect()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 69, in setup_os_inspect\\n    % self.imgfile)\\n', 'NovaException: No operating system found in /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8/disk\\n']\n\n\n\nLOG2:\n\n2013-12-06 18:00:46.219 AUDIT nova.compute.manager [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Starting instance...\n2013-12-06 18:00:47.090 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Attempting claim: memory 4096 MB, disk 40 GB, VCPUs 2\n2013-12-06 18:00:47.091 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Total Memory: 64378 MB, used: 33280 MB\n2013-12-06 18:00:47.091 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Memory limit: 96567 MB, free: 63287 MB\n2013-12-06 18:00:47.091 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Total Disk: 886 GB, used: 320 GB\n2013-12-06 18:00:47.092 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Disk limit not specified, defaulting to unlimited\n2013-12-06 18:00:47.092 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Total CPU: 12 VCPUs, used: 16 VCPUs\n2013-12-06 18:00:47.093 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] CPU limit: 192 VCPUs, free: 176 VCPUs\n2013-12-06 18:00:47.093 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Claim successful\n2013-12-06 18:00:50.362 INFO nova.virt.libvirt.driver [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Creating image\n2013-12-06 18:01:00.685 8751 INFO nova.compute.manager [-] Lifecycle event 0 on VM e93734fb-7956-4fa3-9bb6-7c8ff470c374\n2013-12-06 18:01:00.887 8751 INFO nova.compute.manager [-] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] During sync_power_state the instance has a pending task. Skip.\n2013-12-06 18:01:01.307 8751 INFO nova.virt.libvirt.driver [-] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Instance spawned successfully.", 
            "date_created": "2013-12-10 16:22:51.732979+00:00", 
            "author": "https://api.launchpad.net/1.0/~n-paladi"
        }, 
        {
            "content": "The problem also persists in devstack.\nThe bug can be reproduced using the following steps:\n\n\n1. Deploy devstack\n2. upload a WIndows image into glance.\n3. launch an instance with the following command:\n nova boot --image <ID>  --flavor 3 --file <injected file path>=<destination path> <VM name>\n\n", 
            "date_created": "2013-12-10 16:28:29.891239+00:00", 
            "author": "https://api.launchpad.net/1.0/~n-paladi"
        }, 
        {
            "content": "Dumb question...Do you have a NTFS capable driver? (ntfs-3g) on the box running nova-compute?", 
            "date_created": "2013-12-11 22:09:02.687069+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "Thanks for the tip Davanum, there was indeed no ntfs-3g installed on the CentOS boxes and I was not aware of this. \nHowever, installing it did not make any visible difference.\n\nAlso, to verify that it's platform-independent, I have a fresh devstack installation on a Ubuntu 12.04 box and file injection to Windows 7 fails there with the same symptoms.", 
            "date_created": "2013-12-13 13:55:10.670631+00:00", 
            "author": "https://api.launchpad.net/1.0/~n-paladi"
        }, 
        {
            "content": "Update: \n\nIn a Devstack deployment using the stable/grizzly branch, the use of the --file argument with\nWindows instances does NOT cause an error during the launch. \n\nHowever, I could not find the injected file, neither on drive C (WinXP, Win7, WinServer2012) \nnor on the reserved partition (Win7, WinServer2012).\n\n\n", 
            "date_created": "2013-12-19 12:50:15.434510+00:00", 
            "author": "https://api.launchpad.net/1.0/~n-paladi"
        }, 
        {
            "content": "This bug is quite old, definitely not fully Triaged. Does this problem still exist?\n\nAlso, I'm kind of curious if file was every supposed to work in Windows. file is kind of a hack, and things like cloud-init should be used instead.", 
            "date_created": "2015-03-30 13:04:06.061951+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Hi, \n\nthe problem has been solved by installing libguestfs-winsupport\n\nI agree that cloud-init  is a good alternative, however this hack was used for research & trial purposes.\n\nCheers,\nNicolae\n\nOn 30 Mar 2015, at 15:04, Sean Dague <email address hidden> wrote:\n\n> This bug is quite old, definitely not fully Triaged. Does this problem\n> still exist?\n> \n> Also, I'm kind of curious if file was every supposed to work in Windows.\n> file is kind of a hack, and things like cloud-init should be used\n> instead.\n> \n> ** Changed in: nova\n>       Status: Triaged => Incomplete\n> \n> -- \n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/1259611\n> \n> Title:\n>  launch of Windows VMs fails when passing the --file argument\n> \n> Status in OpenStack Compute (Nova):\n>  Incomplete\n> \n> Bug description:\n>  When launching an instance with the following command:\n>  nova boot --image 7a5a741c-73ac-4061-8c10-254a77b96c9e --availability_zone nova:beijing.sics.se --flavor 3 --file injectedFile.txt=injectedFile.txt VM1\n> \n>  the instance fails to launch with the following output (LOG1)\n> \n>  Launching the instance without the --file option results in a successful launch (LOG2)\n>  nova boot --image 7a5a741c-73ac-4061-8c10-254a77b96c9e --availability_zone nova:beijing.sics.se --flavor 3 VM2\n> \n> \n>  There has been an earlier question on this topic (https://lists.launchpad.net/openstack/msg22969.html), but this is a different problem.\n> \n> \n>  Logs following:\n> \n> \n>  LOG1:\n>  2013-12-06 18:04:02.810 AUDIT nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Starting instance...\n>  2013-12-06 18:04:04.119 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Attempting claim: memory 4096 MB, disk 40 GB, VCPUs 2\n>  2013-12-06 18:04:04.120 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Total Memory: 64378 MB, used: 37376 MB\n>  2013-12-06 18:04:04.120 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Memory limit: 96567 MB, free: 59191 MB\n>  2013-12-06 18:04:04.121 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Total Disk: 886 GB, used: 360 GB\n>  2013-12-06 18:04:04.121 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Disk limit not specified, defaulting to unlimited\n>  2013-12-06 18:04:04.122 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Total CPU: 12 VCPUs, used: 18 VCPUs\n>  2013-12-06 18:04:04.122 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] CPU limit: 192 VCPUs, free: 174 VCPUs\n>  2013-12-06 18:04:04.122 AUDIT nova.compute.claims [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Claim successful\n>  2013-12-06 18:04:07.350 INFO nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Creating image\n>  2013-12-06 18:04:07.443 INFO nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Injecting files into image 702b3e56-8d05-4f58-ac9d-8fdbf77ba31a\n>  2013-12-06 18:04:11.890 ERROR nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Error injecting data into image 702b3e56-8d05-4f58-ac9d-8fdbf77ba31a (No operating system found in /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8/disk)\n>  2013-12-06 18:04:11.892 ERROR nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Instance failed to spawn\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1120, in _spawn\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     block_device_info)\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1524, in spawn\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     admin_pass=admin_password)\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1922, in _create_image\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     instance=instance)\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     self.gen.next()\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1917, in _create_image\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     mandatory=('files',))\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/api.py\", line 291, in inject_data\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     fs.setup()\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 106, in setup\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     self.setup_os()\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 50, in setup_os\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     self.setup_os_inspect()\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 69, in setup_os_inspect\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     % self.imgfile)\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] NovaException: No operating system found in /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8/disk\n>  2013-12-06 18:04:11.892 8751 TRACE nova.compute.manager [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n>  2013-12-06 18:04:12.092 AUDIT nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Terminating instance\n>  2013-12-06 18:04:13.405 8751 ERROR nova.virt.libvirt.driver [-] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] During wait destroy, instance disappeared.\n>  2013-12-06 18:04:13.601 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr93cb730b-39 qvb93cb730b-39\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb93cb730b-39 does not exist!\\n'\n>  2013-12-06 18:04:13.601 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n>  2013-12-06 18:04:13.754 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr69aa7db1-df qvb69aa7db1-df\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb69aa7db1-df does not exist!\\n'\n>  2013-12-06 18:04:13.754 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n>  2013-12-06 18:04:13.909 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr556e0c0a-7b qvb556e0c0a-7b\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb556e0c0a-7b does not exist!\\n'\n>  2013-12-06 18:04:13.909 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n>  2013-12-06 18:04:14.057 ERROR nova.virt.libvirt.vif [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Failed while unplugging vif\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Traceback (most recent call last):\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/vif.py\", line 456, in unplug_ovs_hybrid\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     utils.execute('brctl', 'delif', br_name, v1_name, run_as_root=True)\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 239, in execute\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8]     cmd=' '.join(cmd))\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] ProcessExecutionError: Unexpected error while running command.\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Command: sudo nova-rootwrap /etc/nova/rootwrap.conf brctl delif qbr186fa478-3a qvb186fa478-3a\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Exit code: 1\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stdout: ''\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Stderr: 'interface qvb186fa478-3a does not exist!\\n'\n>  2013-12-06 18:04:14.057 8751 TRACE nova.virt.libvirt.vif [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] \n>  2013-12-06 18:04:14.059 INFO nova.virt.libvirt.driver [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Deleting instance files /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8\n>  2013-12-06 18:04:15.011 ERROR nova.compute.manager [req-63f3917c-592f-4bc2-ab21-ad73f85c4f4c 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: 70145a30-5602-4b66-b41b-d9737f737ce8] Error: ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 865, in _run_instance\\n    set_access_ip=set_access_ip)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1124, in _spawn\\n    LOG.exception(_(\\'Instance failed to spawn\\'), instance=instance)\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1120, in _spawn\\n    block_device_info)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1524, in spawn\\n    admin_pass=admin_password)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1922, in _create_image\\n    instance=instance)\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1917, in _create_image\\n    mandatory=(\\'files\\',))\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/api.py\", line 291, in inject_data\\n    fs.setup()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 106, in setup\\n    self.setup_os()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 50, in setup_os\\n    self.setup_os_inspect()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/virt/disk/vfs/guestfs.py\", line 69, in setup_os_inspect\\n    % self.imgfile)\\n', 'NovaException: No operating system found in /var/lib/nova/instances/70145a30-5602-4b66-b41b-d9737f737ce8/disk\\n']\n> \n> \n>  LOG2:\n> \n>  2013-12-06 18:00:46.219 AUDIT nova.compute.manager [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Starting instance...\n>  2013-12-06 18:00:47.090 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Attempting claim: memory 4096 MB, disk 40 GB, VCPUs 2\n>  2013-12-06 18:00:47.091 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Total Memory: 64378 MB, used: 33280 MB\n>  2013-12-06 18:00:47.091 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Memory limit: 96567 MB, free: 63287 MB\n>  2013-12-06 18:00:47.091 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Total Disk: 886 GB, used: 320 GB\n>  2013-12-06 18:00:47.092 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Disk limit not specified, defaulting to unlimited\n>  2013-12-06 18:00:47.092 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Total CPU: 12 VCPUs, used: 16 VCPUs\n>  2013-12-06 18:00:47.093 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] CPU limit: 192 VCPUs, free: 176 VCPUs\n>  2013-12-06 18:00:47.093 AUDIT nova.compute.claims [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Claim successful\n>  2013-12-06 18:00:50.362 INFO nova.virt.libvirt.driver [req-e0ba84f2-e9c9-4f00-8769-62ec9181ae1b 77aabd14a2e1453489dec37d7b174e58 fa47eeb8b84a4b6d87ef3332604894b0] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Creating image\n>  2013-12-06 18:01:00.685 8751 INFO nova.compute.manager [-] Lifecycle event 0 on VM e93734fb-7956-4fa3-9bb6-7c8ff470c374\n>  2013-12-06 18:01:00.887 8751 INFO nova.compute.manager [-] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] During sync_power_state the instance has a pending task. Skip.\n>  2013-12-06 18:01:01.307 8751 INFO nova.virt.libvirt.driver [-] [instance: e93734fb-7956-4fa3-9bb6-7c8ff470c374] Instance spawned successfully.\n> \n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1259611/+subscriptions\n\n", 
            "date_created": "2015-03-30 13:20:11+00:00", 
            "author": "https://api.launchpad.net/1.0/~n-paladi"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2015-05-30 04:17:24.641665+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}