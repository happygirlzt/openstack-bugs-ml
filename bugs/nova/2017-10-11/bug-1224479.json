{
    "status": "Fix Released", 
    "last_updated": "2013-10-17 12:11:40.121217+00:00", 
    "description": "Trying to use Nova VMware community driver in a pure ipv6 environment, running into this issue\n\n2013-09-12 09:19:09.608 13034 ERROR nova.compute.manager [req-b1c13f77-09cf-4ac0-8d89-033b40189a54 2417695e037948d19ba56d81e97093dc 8ff56438ffa644a4b5fb7b5133bf7b5d] [instance: 2\n49bd3e6-87fd-4168-9027-7d2edb7d4c37] Instance failed to spawn\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37] Traceback (most recent call last):\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line\n1439, in _spawn\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     block_device_info)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/driver.py\",\n line 604, in spawn\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     admin_password, network_info, block_device_info)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\",\nline 406, in spawn\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     _fetch_image_on_esx_datastore()\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\",\nline 317, in _fetch_image_on_esx_datastore\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     file_path=upload_vmdk_name)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmware_imag\nes.py\", line 133, in fetch_image\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     file_size)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/read_write_\nutil.py\", line 128, in __init__\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     conn = httplib.HTTPSConnection(netloc)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib64/python2.6/httplib.py\", line 1105, in __init__\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     HTTPConnection.__init__(self, host, port, strict, timeout)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib64/python2.6/httplib.py\", line 661, in __init__\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     self._set_hostport(host, port)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib64/python2.6/httplib.py\", line 686, in _set_hostport\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     raise InvalidURL(\"nonnumeric port: '%s'\" % host[i+1:])\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37] InvalidURL: nonnumeric port: 'cd47'\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]", 
    "tags": [
        "vmware"
    ], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1224479", 
    "owner": "https://api.launchpad.net/1.0/~dims-v", 
    "id": 1224479, 
    "index": 3581, 
    "created": "2013-09-12 13:34:06.808414+00:00", 
    "title": "[vmware] InvalidURL nonnumeric port in read_write_ util with ipv6 host", 
    "comments": [
        {
            "content": "Trying to use Nova VMware community driver in a pure ipv6 environment, running into this issue\n\n2013-09-12 09:19:09.608 13034 ERROR nova.compute.manager [req-b1c13f77-09cf-4ac0-8d89-033b40189a54 2417695e037948d19ba56d81e97093dc 8ff56438ffa644a4b5fb7b5133bf7b5d] [instance: 2\n49bd3e6-87fd-4168-9027-7d2edb7d4c37] Instance failed to spawn\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37] Traceback (most recent call last):\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line\n1439, in _spawn\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     block_device_info)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/driver.py\",\n line 604, in spawn\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     admin_password, network_info, block_device_info)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\",\nline 406, in spawn\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     _fetch_image_on_esx_datastore()\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmops.py\",\nline 317, in _fetch_image_on_esx_datastore\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     file_path=upload_vmdk_name)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/vmware_imag\nes.py\", line 133, in fetch_image\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     file_size)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib/python2.6/site-packages/nova/virt/vmwareapi/read_write_\nutil.py\", line 128, in __init__\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     conn = httplib.HTTPSConnection(netloc)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib64/python2.6/httplib.py\", line 1105, in __init__\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     HTTPConnection.__init__(self, host, port, strict, timeout)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib64/python2.6/httplib.py\", line 661, in __init__\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     self._set_hostport(host, port)\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]   File \"/usr/lib64/python2.6/httplib.py\", line 686, in _set_hostport\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]     raise InvalidURL(\"nonnumeric port: '%s'\" % host[i+1:])\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37] InvalidURL: nonnumeric port: 'cd47'\n2013-09-12 09:19:09.608 13034 TRACE nova.compute.manager [instance: 249bd3e6-87fd-4168-9027-7d2edb7d4c37]", 
            "date_created": "2013-09-12 13:34:06.808414+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/46277", 
            "date_created": "2013-09-12 13:37:47.071675+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This bug wasn't showing up in my reports because it wasn't tagged.", 
            "date_created": "2013-09-18 18:52:49.673337+00:00", 
            "author": "https://api.launchpad.net/1.0/~hartsock"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/46277\nCommitted: http://github.com/openstack/nova/commit/022a4da0507924f57b563e7a5a09ea9d01e63c0e\nSubmitter: Jenkins\nBranch:    master\n\ncommit 022a4da0507924f57b563e7a5a09ea9d01e63c0e\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Thu Sep 12 09:35:18 2013 -0400\n\n    [VMware] Fix problem transferring files with ipv6 host\n    \n    Need to protect the host name with '[' and ']' before\n    we create a http/https connection\n    \n    Fixes LP# 1224479\n    \n    Change-Id: I8c2e58d3eb5e001eff3c9354c3cdc593469b23ac\n", 
            "date_created": "2013-09-23 11:03:04.239890+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}