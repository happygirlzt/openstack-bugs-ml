{
    "status": "Invalid", 
    "last_updated": "2014-09-16 21:10:49.624233+00:00", 
    "description": "we tried to boot  fedora image f17-x86_64-openstack-sda.qcow2 from openstack grizzley installation, but no console output is generated. \n\n\nwhen i look into  /var/log/libvirt/qemu/instance-00000067.log after i see a empty console log, \n\nfollowing is the content :\n\n2013-06-11 22:06:38.609+0000: starting up\nLC_ALL=C PATH=/sbin:/usr/sbin:/bin:/usr/bin QEMU_AUDIO_DRV=none /usr/libexec/qemu-kvm -name instance-00000067 -S -M rhel6.4.0 -cpu SandyBridge,+pdpe1gb,+osxsave,+dca,+pcid,+pdcm,+xtpr,+tm2,+est,+smx,+vmx,+ds_cpl,+monitor,+dtes64,+pbe,+tm,+ht,+ss,+acpi,+ds,+vme -enable-kvm -m 2048 -smp 1,sockets=1,cores=1,threads=1 -uuid 6e0857f4-ed3e-4e1a-81db-d69456b17651 -smbios type=1,manufacturer=Red Hat Inc.,product=OpenStack Nova,version=2013.1.1-3.el6,serial=36353030-3437-5553-4532-34364d434e43,uuid=6e0857f4-ed3e-4e1a-81db-d69456b17651 -nodefconfig -nodefaults -chardev socket,id=charmonitor,path=/var/lib/libvirt/qemu/instance-00000067.monitor,server,nowait -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc,driftfix=slew -no-kvm-pit-reinjection -no-shutdown -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2 -drive file=/var/lib/nova/instances/6e0857f4-ed3e-4e1a-81db-d69456b17651/disk,if=none,id=drive-virtio-disk0,format=qcow2,cache=none -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-virtio-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=23,id=hostnet0,vhost=on,vhostfd=24 -device virtio-net-pci,netdev=hostnet0,id=net0,mac=fa:16:3e:51:44:cf,bus=pci.0,addr=0x3 -chardev file,id=charserial0,path=/var/lib/nova/instances/6e0857f4-ed3e-4e1a-81db-d69456b17651/console.log -device isa-serial,chardev=charserial0,id=serial0 -chardev pty,id=charserial1 -device isa-serial,chardev=charserial1,id=serial1 -device usb-tablet,id=input0 -vnc 10.1.255.253:0 -k en-us -vga cirrus -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5\nchar device redirected to /dev/pts/0\n\n\nexplicit  probe into virsh console reveals this :\n\nvirsh # list\n Id    Name                           State\n----------------------------------------------------\n 4     instance-00000068              running\n\nvirsh # console instance-00000068\nConnected to domain instance-00000068\nEscape character is ^]\nerror: internal error character device (null) is not using a PTY\n\n\nand given below is respective  libvirt.xml file. any pointers on approaching this issues is appreciated. \n\n\n<domain type=\"kvm\">\n  <uuid>6e0857f4-ed3e-4e1a-81db-d69456b17651</uuid>\n  <name>instance-00000067</name>\n  <memory>2097152</memory>\n  <vcpu>1</vcpu>\n  <sysinfo type=\"smbios\">\n    <system>\n      <entry name=\"manufacturer\">Red Hat Inc.</entry>\n      <entry name=\"product\">OpenStack Nova</entry>\n      <entry name=\"version\">2013.1.1-3.el6</entry>\n      <entry name=\"serial\">36353030-3437-5553-4532-34364d434e43</entry>\n      <entry name=\"uuid\">6e0857f4-ed3e-4e1a-81db-d69456b17651</entry>\n    </system>\n  </sysinfo>\n  <os>\n    <type>hvm</type>\n    <boot dev=\"hd\"/>\n    <smbios mode=\"sysinfo\"/>\n  </os>\n  <features>\n    <acpi/>\n    <apic/>\n  </features>\n  <clock offset=\"utc\">\n    <timer name=\"pit\" tickpolicy=\"delay\"/>\n    <timer name=\"rtc\" tickpolicy=\"catchup\"/>\n  </clock>\n  <cpu mode=\"host-model\" match=\"exact\"/>\n  <devices>\n    <disk type=\"file\" device=\"disk\">\n      <driver name=\"qemu\" type=\"qcow2\" cache=\"none\"/>\n      <source file=\"/var/lib/nova/instances/6e0857f4-ed3e-4e1a-81db-d69456b17651/disk\"/>\n      <target bus=\"virtio\" dev=\"vda\"/>\n    </disk>\n    <interface type=\"bridge\">\n      <mac address=\"fa:16:3e:51:44:cf\"/>\n      <model type=\"virtio\"/>\n      <source bridge=\"br-int\"/>\n      <target dev=\"tap4ce130e7-1a\"/>\n      <virtualport type=\"openvswitch\">\n        <parameters interfaceid=\"4ce130e7-1acc-4a06-8f84-78a320f0f108\"/>\n      </virtualport>\n    </interface>\n    <serial type='pty'>\n     <target port='0'/>\n    </serial>\n    <console type='pty'>\n     <target type='serial' port='0'/>\n    </console>\n    <serial type=\"file\">\n      <source path=\"/var/lib/nova/instances/6e0857f4-ed3e-4e1a-81db-d69456b17651/console.log\"/>\n    </serial>\n    <serial type=\"pty\"/>\n    <input type=\"tablet\" bus=\"usb\"/>\n    <graphics type=\"vnc\" autoport=\"yes\" keymap=\"en-us\" listen=\"10.1.255.253\"/>\n  </devices>\n</domain>", 
    "tags": [
        "libvirt"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1190086", 
    "owner": "None", 
    "id": 1190086, 
    "index": 3735, 
    "created": "2013-06-11 23:22:37.399105+00:00", 
    "title": "empty console log output with grizzly on centOS distribution", 
    "comments": [
        {
            "content": "we tried to boot  fedora image f17-x86_64-openstack-sda.qcow2 from openstack grizzley installation, but no console output is generated. \n\n\nwhen i look into  /var/log/libvirt/qemu/instance-00000067.log after i see a empty console log, \n\nfollowing is the content :\n\n2013-06-11 22:06:38.609+0000: starting up\nLC_ALL=C PATH=/sbin:/usr/sbin:/bin:/usr/bin QEMU_AUDIO_DRV=none /usr/libexec/qemu-kvm -name instance-00000067 -S -M rhel6.4.0 -cpu SandyBridge,+pdpe1gb,+osxsave,+dca,+pcid,+pdcm,+xtpr,+tm2,+est,+smx,+vmx,+ds_cpl,+monitor,+dtes64,+pbe,+tm,+ht,+ss,+acpi,+ds,+vme -enable-kvm -m 2048 -smp 1,sockets=1,cores=1,threads=1 -uuid 6e0857f4-ed3e-4e1a-81db-d69456b17651 -smbios type=1,manufacturer=Red Hat Inc.,product=OpenStack Nova,version=2013.1.1-3.el6,serial=36353030-3437-5553-4532-34364d434e43,uuid=6e0857f4-ed3e-4e1a-81db-d69456b17651 -nodefconfig -nodefaults -chardev socket,id=charmonitor,path=/var/lib/libvirt/qemu/instance-00000067.monitor,server,nowait -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc,driftfix=slew -no-kvm-pit-reinjection -no-shutdown -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2 -drive file=/var/lib/nova/instances/6e0857f4-ed3e-4e1a-81db-d69456b17651/disk,if=none,id=drive-virtio-disk0,format=qcow2,cache=none -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-virtio-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=23,id=hostnet0,vhost=on,vhostfd=24 -device virtio-net-pci,netdev=hostnet0,id=net0,mac=fa:16:3e:51:44:cf,bus=pci.0,addr=0x3 -chardev file,id=charserial0,path=/var/lib/nova/instances/6e0857f4-ed3e-4e1a-81db-d69456b17651/console.log -device isa-serial,chardev=charserial0,id=serial0 -chardev pty,id=charserial1 -device isa-serial,chardev=charserial1,id=serial1 -device usb-tablet,id=input0 -vnc 10.1.255.253:0 -k en-us -vga cirrus -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5\nchar device redirected to /dev/pts/0\n\n\nexplicit  probe into virsh console reveals this :\n\nvirsh # list\n Id    Name                           State\n----------------------------------------------------\n 4     instance-00000068              running\n\nvirsh # console instance-00000068\nConnected to domain instance-00000068\nEscape character is ^]\nerror: internal error character device (null) is not using a PTY\n\n\nand given below is respective  libvirt.xml file. any pointers on approaching this issues is appreciated. \n\n\n<domain type=\"kvm\">\n  <uuid>6e0857f4-ed3e-4e1a-81db-d69456b17651</uuid>\n  <name>instance-00000067</name>\n  <memory>2097152</memory>\n  <vcpu>1</vcpu>\n  <sysinfo type=\"smbios\">\n    <system>\n      <entry name=\"manufacturer\">Red Hat Inc.</entry>\n      <entry name=\"product\">OpenStack Nova</entry>\n      <entry name=\"version\">2013.1.1-3.el6</entry>\n      <entry name=\"serial\">36353030-3437-5553-4532-34364d434e43</entry>\n      <entry name=\"uuid\">6e0857f4-ed3e-4e1a-81db-d69456b17651</entry>\n    </system>\n  </sysinfo>\n  <os>\n    <type>hvm</type>\n    <boot dev=\"hd\"/>\n    <smbios mode=\"sysinfo\"/>\n  </os>\n  <features>\n    <acpi/>\n    <apic/>\n  </features>\n  <clock offset=\"utc\">\n    <timer name=\"pit\" tickpolicy=\"delay\"/>\n    <timer name=\"rtc\" tickpolicy=\"catchup\"/>\n  </clock>\n  <cpu mode=\"host-model\" match=\"exact\"/>\n  <devices>\n    <disk type=\"file\" device=\"disk\">\n      <driver name=\"qemu\" type=\"qcow2\" cache=\"none\"/>\n      <source file=\"/var/lib/nova/instances/6e0857f4-ed3e-4e1a-81db-d69456b17651/disk\"/>\n      <target bus=\"virtio\" dev=\"vda\"/>\n    </disk>\n    <interface type=\"bridge\">\n      <mac address=\"fa:16:3e:51:44:cf\"/>\n      <model type=\"virtio\"/>\n      <source bridge=\"br-int\"/>\n      <target dev=\"tap4ce130e7-1a\"/>\n      <virtualport type=\"openvswitch\">\n        <parameters interfaceid=\"4ce130e7-1acc-4a06-8f84-78a320f0f108\"/>\n      </virtualport>\n    </interface>\n    <serial type='pty'>\n     <target port='0'/>\n    </serial>\n    <console type='pty'>\n     <target type='serial' port='0'/>\n    </console>\n    <serial type=\"file\">\n      <source path=\"/var/lib/nova/instances/6e0857f4-ed3e-4e1a-81db-d69456b17651/console.log\"/>\n    </serial>\n    <serial type=\"pty\"/>\n    <input type=\"tablet\" bus=\"usb\"/>\n    <graphics type=\"vnc\" autoport=\"yes\" keymap=\"en-us\" listen=\"10.1.255.253\"/>\n  </devices>\n</domain>", 
            "date_created": "2013-06-11 23:22:37.399105+00:00", 
            "author": "https://api.launchpad.net/1.0/~haribabu-kasturi"
        }, 
        {
            "content": "Not an Ubuntu issue, pushing upstream.", 
            "date_created": "2013-07-11 12:51:14.156819+00:00", 
            "author": "https://api.launchpad.net/1.0/~james-page"
        }, 
        {
            "content": "Does the console log file exist at all?", 
            "date_created": "2013-08-04 08:06:58.076362+00:00", 
            "author": "https://api.launchpad.net/1.0/~mikal"
        }
    ]
}