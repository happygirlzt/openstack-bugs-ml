{
    "status": "Invalid", 
    "last_updated": "2016-03-21 05:54:39.769460+00:00", 
    "description": "Version: Liberty.\nOS: controller & compute node are ubuntu 14.04 server, follow the doc to install.\n\nAfter installed\nUsing \"nova host-list\"\nwill get the result correctly\n+------------------+-------------+----------+\n| host_name        | service     | zone     |\n+------------------+-------------+----------+\n| controller       | cert        | internal |\n| controller       | scheduler   | internal |\n| controller       | consoleauth | internal |\n| controller       | conductor   | internal |\n| compute-node-164 | compute     | nova     |\n+------------------+-------------+----------+\n\nbut if use \"nova hypervisor-list\"\n\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'nova.exception.ComputeHostNotFound'> (HTTP 500) (Request-ID: req-0649f773-8b50-4b84-a670-d8c290f77439)\n\n\nFrom the dashboard, in the System -> hypervisor panel, I can not find the hypervisor. when navigate to this page,  an error will display get not the hypervisor informatin.\nThe compute node is displayed on \"Compute Host\" tab, not not in the Hypervisor tab.\n\nversion_instgalled:\n\nii  nova-api                             2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - API frontend\nii  nova-cert                            2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - certificate management\nii  nova-common                          2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - common files\nii  nova-conductor                       2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                     2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                      2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                       2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                          2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                    2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API\n\n\nnova-api.log below\n--------------------cut here ----------------------\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions [req-7ddb9e1f-b74a-4df0-ade6-2b364a66ac36 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] Unexpected exception in API method\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/hypervisors.py\", line 101, in detail\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     for hyp in compute_nodes])\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 3504, in service_get_by_compute_host\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     return objects.Service.get_by_compute_host(context, host_name)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 171, in wrapper\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/objects/service.py\", line 222, in get_by_compute_host\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     db_service = db.service_get_by_compute_host(context, host)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 139, in service_get_by_compute_host\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     use_slave=use_slave)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 500, in service_get_by_compute_host\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     raise exception.ComputeHostNotFound(host=host)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions ComputeHostNotFound: Compute host compute could not be found.\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions\n2016-03-05 00:16:02.076 2798 INFO nova.api.openstack.wsgi [req-7ddb9e1f-b74a-4df0-ade6-2b364a66ac36 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'nova.exception.ComputeHostNotFound'>\n2016-03-05 00:16:02.077 2798 INFO nova.osapi_compute.wsgi.server [req-7ddb9e1f-b74a-4df0-ade6-2b364a66ac36 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] 127.0.0.1 \"GET /v2/cfd6638eca634eb68060e6090ea105b1/os-hypervisors/detail HTTP/1.1\" status: 500 len: 439 time: 0.0535100\n2016-03-05 00:16:02.097 2798 INFO nova.osapi_compute.wsgi.server [req-4f4be3c4-09b5-4636-b8d6-8ebe83952662 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] 127.0.0.1 \"GET /v2/cfd6638eca634eb68060e6090ea105b1/os-services?binary=nova-compute HTTP/1.1\" status: 200 len: 397 time: 0.0162630\n2016-03-05 00:16:02.143 2800 INFO nova.osapi_compute.wsgi.server [req-2995483d-b38c-4d46-9e1f-ef6c04942fad c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] 127.0.0.1 \"GET /v2/cfd6638eca634eb68060e6090ea105b1/os-hypervisors/statistics HTTP/1.1\" status: 200 len: 453 time: 0.0414250\n2016-03-05 00:16:02.274 2800 INFO nova.osapi_compute.wsgi.server [req-3a24b024-6f6b-4f78-a43c-4f3c4dcdf567 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] 127.0.0.1 \"GET /v2/cfd6638eca634eb68060e6090ea105b1/extensions HTTP/1.1\" status: 200 len: 21880 time: 0.0308590", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1557482", 
    "owner": "None", 
    "id": 1557482, 
    "index": 6099, 
    "created": "2016-03-15 11:57:59.625785+00:00", 
    "title": "nova hypervisor-list will generate exception", 
    "comments": [
        {
            "content": "Version: Liberty.\nOS: controller & compute node are ubuntu 14.04 server, follow the doc to install.\n\nAfter installed\nUsing \"nova host-list\"\nwill get the result correctly\n+------------------+-------------+----------+\n| host_name        | service     | zone     |\n+------------------+-------------+----------+\n| controller       | cert        | internal |\n| controller       | scheduler   | internal |\n| controller       | consoleauth | internal |\n| controller       | conductor   | internal |\n| compute-node-164 | compute     | nova     |\n+------------------+-------------+----------+\n\nbut if use \"nova hypervisor-list\"\n\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'nova.exception.ComputeHostNotFound'> (HTTP 500) (Request-ID: req-0649f773-8b50-4b84-a670-d8c290f77439)\n\n\nFrom the dashboard, in the System -> hypervisor panel, I can not find the hypervisor. when navigate to this page,  an error will display get not the hypervisor informatin.\nThe compute node is displayed on \"Compute Host\" tab, not not in the Hypervisor tab.\n\nversion_instgalled:\n\nii  nova-api                             2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - API frontend\nii  nova-cert                            2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - certificate management\nii  nova-common                          2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - common files\nii  nova-conductor                       2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                     2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                      2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                       2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                          2:12.0.1-0ubuntu1~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                    2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API\n\n\nnova-api.log below\n--------------------cut here ----------------------\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions [req-7ddb9e1f-b74a-4df0-ade6-2b364a66ac36 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] Unexpected exception in API method\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/hypervisors.py\", line 101, in detail\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     for hyp in compute_nodes])\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 3504, in service_get_by_compute_host\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     return objects.Service.get_by_compute_host(context, host_name)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 171, in wrapper\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/objects/service.py\", line 222, in get_by_compute_host\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     db_service = db.service_get_by_compute_host(context, host)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 139, in service_get_by_compute_host\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     use_slave=use_slave)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 500, in service_get_by_compute_host\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions     raise exception.ComputeHostNotFound(host=host)\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions ComputeHostNotFound: Compute host compute could not be found.\n2016-03-05 00:16:02.073 2798 ERROR nova.api.openstack.extensions\n2016-03-05 00:16:02.076 2798 INFO nova.api.openstack.wsgi [req-7ddb9e1f-b74a-4df0-ade6-2b364a66ac36 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'nova.exception.ComputeHostNotFound'>\n2016-03-05 00:16:02.077 2798 INFO nova.osapi_compute.wsgi.server [req-7ddb9e1f-b74a-4df0-ade6-2b364a66ac36 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] 127.0.0.1 \"GET /v2/cfd6638eca634eb68060e6090ea105b1/os-hypervisors/detail HTTP/1.1\" status: 500 len: 439 time: 0.0535100\n2016-03-05 00:16:02.097 2798 INFO nova.osapi_compute.wsgi.server [req-4f4be3c4-09b5-4636-b8d6-8ebe83952662 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] 127.0.0.1 \"GET /v2/cfd6638eca634eb68060e6090ea105b1/os-services?binary=nova-compute HTTP/1.1\" status: 200 len: 397 time: 0.0162630\n2016-03-05 00:16:02.143 2800 INFO nova.osapi_compute.wsgi.server [req-2995483d-b38c-4d46-9e1f-ef6c04942fad c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] 127.0.0.1 \"GET /v2/cfd6638eca634eb68060e6090ea105b1/os-hypervisors/statistics HTTP/1.1\" status: 200 len: 453 time: 0.0414250\n2016-03-05 00:16:02.274 2800 INFO nova.osapi_compute.wsgi.server [req-3a24b024-6f6b-4f78-a43c-4f3c4dcdf567 c7922dbbc15b4e5e9ba93acba512e746 cfd6638eca634eb68060e6090ea105b1 - - -] 127.0.0.1 \"GET /v2/cfd6638eca634eb68060e6090ea105b1/extensions HTTP/1.1\" status: 200 len: 21880 time: 0.0308590", 
            "date_created": "2016-03-15 11:57:59.625785+00:00", 
            "author": "https://api.launchpad.net/1.0/~double-chiang"
        }, 
        {
            "content": "Something seems incorrect with your setup.\n\nThe raised exception complains about an hypervisor not found called \"compute\" but per the nova host-list, I can't find it.\n\nIn general, the compute node FQDN is taken as the value for the host name, could you please verify your setup and in particular if you renamed that host ?", 
            "date_created": "2016-03-15 13:39:14.673133+00:00", 
            "author": "https://api.launchpad.net/1.0/~sylvain-bauza"
        }, 
        {
            "content": "thank you.\nI did rename the compute host.\nCan I ask are there any way to fix the 'hostname' issue?\nFor example, how do I clear the 'compute' hostname since I had rename it to compute-node-164?", 
            "date_created": "2016-03-15 14:58:30.621637+00:00", 
            "author": "https://api.launchpad.net/1.0/~double-chiang"
        }, 
        {
            "content": "Well, thanks for the help.\nI drop the database and recreate the database and Populate the Compute database again.\nNow I can see the Hypervisor without problem.\n\n", 
            "date_created": "2016-03-16 01:43:19.067809+00:00", 
            "author": "https://api.launchpad.net/1.0/~double-chiang"
        }
    ]
}