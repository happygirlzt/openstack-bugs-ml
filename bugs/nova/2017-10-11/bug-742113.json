{
    "status": "Fix Released", 
    "last_updated": "2011-04-21 07:15:17.316353+00:00", 
    "description": "euca-describe-images with Glance gives an error if images are uploaded directly and hence don't have the standard metadata.\n\nThe properties collection from glance is empty; that looks to be the root problem (vs what the EC2 code is expecting).\n\nI running glance from a relatively recent trunk - r86\n\n---\n\nI uploaded an image using this command:\n\nbin/glance --verbose add name=\"lucid-8gpart-x64\" container_format=\"bare\" disk_format=\"raw\" is_public=\"true\" < /home/justinsb/images/ubuntu/createimage/ubuntu_x64_8g.raw.gz\n\nAdded new image with ID: 8\nReturned the following metadata for the new image:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0container_format => bare\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0created_at => 2011-03-22T06:03:21.139434\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0deleted => False\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0deleted_at => None\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0disk_format => raw\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0id => 8\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0is_public => True\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0location => file:///var/lib/glance/images/8\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name => lucid-8gpart-x64\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties => {}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0size => 292789118\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0status => active\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0updated_at => None\nCompleted in 5.8610 sec.\n\n---\nExtract from /images/details:\n\n\u00a0{\"status\": \"active\", \"name\": \"lucid-8gpart-x64\", \"deleted\": false, \"container_format\": \"bare\", \"created_at\": \"2011-03-22T06:03:21.139434\", \"disk_format\": \"raw\", \"updated_at\": \"2011-03-22T06:03:26.675561\", \"id\": 8, \"location\": \"file:///var/lib/glance/images/8\", \"is_public\": true, \"deleted_at\": null, \"properties\": {}, \"size\": 292789118}\n\n---\nExtract from euca-describe-images:\n\nIMAGE   axi-00000008 (lucid-8gpart-x64)                         private\n\n(name is correct, axi hack is triggered, public/private is broken)", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 24, 
    "link": "https://bugs.launchpad.net/nova/+bug/742113", 
    "owner": "https://api.launchpad.net/1.0/~vishvananda", 
    "id": 742113, 
    "index": 2325, 
    "created": "2011-03-24 22:26:46.650955+00:00", 
    "title": "EC2 API doesn't work well with arbitrary glance images", 
    "comments": [
        {
            "content": "The properties collection from glance is empty; that looks to be the root problem (vs what the EC2 code is expecting).\n\nI running glance from a relatively recent trunk - r86\n\n---\n\nI uploaded an image using this command:\n\nbin/glance --verbose add name=\"lucid-8gpart-x64\" container_format=\"bare\" disk_format=\"raw\" is_public=\"true\" < /home/justinsb/images/ubuntu/createimage/ubuntu_x64_8g.raw.gz \n\nAdded new image with ID: 8\nReturned the following metadata for the new image:\n               container_format => bare\n                     created_at => 2011-03-22T06:03:21.139434\n                        deleted => False\n                     deleted_at => None\n                    disk_format => raw\n                             id => 8\n                      is_public => True\n                       location => file:///var/lib/glance/images/8\n                           name => lucid-8gpart-x64\n                     properties => {}\n                           size => 292789118\n                         status => active\n                     updated_at => None\nCompleted in 5.8610 sec.\n\n---\nExtract from /images/details:\n\n {\"status\": \"active\", \"name\": \"lucid-8gpart-x64\", \"deleted\": false, \"container_format\": \"bare\", \"created_at\": \"2011-03-22T06:03:21.139434\", \"disk_format\": \"raw\", \"updated_at\": \"2011-03-22T06:03:26.675561\", \"id\": 8, \"location\": \"file:///var/lib/glance/images/8\", \"is_public\": true, \"deleted_at\": null, \"properties\": {}, \"size\": 292789118}\n\n---\nExtract from euca-describe-images:\n\nIMAGE   axi-00000008 (lucid-8gpart-x64)                         private                                 \n\n\n(name is correct, axi hack is triggered, public/private is broken)", 
            "date_created": "2011-03-24 22:26:46.650955+00:00", 
            "author": "https://api.launchpad.net/1.0/~justin-fathomdb"
        }
    ]
}