{
    "status": "Fix Released", 
    "last_updated": "2011-09-22 13:12:05.271027+00:00", 
    "description": "image convert is throwing a traceback.  Looks like _lookup was not passing in context correctly.\n\nCommand failed, please check log for more info\n2011-08-05 14:58:50,660 CRITICAL nova [-] 'module' object has no attribute 'auth_token'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1493, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1481, in main\n(nova): TRACE:     fn(*fn_args, **fn_kwargs)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1302, in convert\n(nova): TRACE:     self._convert_images(machine_images)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1271, in _convert_images\n(nova): TRACE:     meta = self._old_to_new(image_metadata)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1263, in _old_to_new\n(nova): TRACE:     new['properties']['kernel_id'] = self._lookup(old['kernelId'])\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1242, in _lookup\n(nova): TRACE:     image = self.image_service.show_by_name(context, old_image_id)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/nova/image/glance.py\", line 174, in show_by_name\n(nova): TRACE:     image_metas = self.detail(context)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/nova/image/glance.py\", line 108, in detail\n(nova): TRACE:     image_metas = self._get_images(context, **params)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/nova/image/glance.py\", line 129, in _get_images\n(nova): TRACE:     self._set_client_context(context)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/nova/image/glance.py\", line 88, in _set_client_context\n(nova): TRACE:     self.client.set_auth_token(context.auth_token)\n(nova): TRACE: AttributeError: 'module' object has no attribute 'auth_token'", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/821708", 
    "owner": "https://api.launchpad.net/1.0/~vishvananda", 
    "id": 821708, 
    "index": 2493, 
    "created": "2011-08-05 22:22:29.130925+00:00", 
    "title": "nova-manage image convert is broken", 
    "comments": [
        {
            "content": "image convert is throwing a traceback.  Looks like _lookup was not passing in context correctly.\n\nCommand failed, please check log for more info\n2011-08-05 14:58:50,660 CRITICAL nova [-] 'module' object has no attribute 'auth_token'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1493, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1481, in main\n(nova): TRACE:     fn(*fn_args, **fn_kwargs)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1302, in convert\n(nova): TRACE:     self._convert_images(machine_images)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1271, in _convert_images\n(nova): TRACE:     meta = self._old_to_new(image_metadata)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1263, in _old_to_new\n(nova): TRACE:     new['properties']['kernel_id'] = self._lookup(old['kernelId'])\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/bin/nova-manage\", line 1242, in _lookup\n(nova): TRACE:     image = self.image_service.show_by_name(context, old_image_id)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/nova/image/glance.py\", line 174, in show_by_name\n(nova): TRACE:     image_metas = self.detail(context)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/nova/image/glance.py\", line 108, in detail\n(nova): TRACE:     image_metas = self._get_images(context, **params)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/nova/image/glance.py\", line 129, in _get_images\n(nova): TRACE:     self._set_client_context(context)\n(nova): TRACE:   File \"/home/jakedahn/nova/nova/nova/image/glance.py\", line 88, in _set_client_context\n(nova): TRACE:     self.client.set_auth_token(context.auth_token)\n(nova): TRACE: AttributeError: 'module' object has no attribute 'auth_token'", 
            "date_created": "2011-08-05 22:22:29.130925+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }
    ]
}