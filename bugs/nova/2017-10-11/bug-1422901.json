{
    "status": "Fix Released", 
    "last_updated": "2015-04-30 09:20:58.159770+00:00", 
    "description": "http://logs.openstack.org/24/156324/3/gate/gate-tempest-dsvm-neutron-full/21b554f/logs/screen-n-cpu.txt.gz?level=TRACE#_2015-02-17_11_45_29_763\n\n2015-02-17 11:45:29.763 ERROR nova.compute.manager [req-02181adb-1b8b-48b1-ad72-ef5a650789e1 DeleteServersTestJSON-42620796 DeleteServersTestJSON-345447266] [instance: 96993b52-7955-4c64-95e2-b332471e1915] Setting instance vm_state to ERROR\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915] Traceback (most recent call last):\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 6188, in _error_out_instance_on_exception\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     yield\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3850, in resize_instance\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     timeout, retry_interval)\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 5939, in migrate_disk_and_power_off\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     shared_storage = self._is_storage_shared_with(dest, inst_base)\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 5891, in _is_storage_shared_with\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     shared_storage = (dest == self.get_host_ip_addr())\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 2460, in get_host_ip_addr\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     ips = compute_utils.get_machine_ips()\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/compute/utils.py\", line 470, in get_machine_ips\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     iface_data = netifaces.ifaddresses(interface)\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915] ValueError: You must specify a valid interface name.\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915] \n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwiVmFsdWVFcnJvcjogWW91IG11c3Qgc3BlY2lmeSBhIHZhbGlkIGludGVyZmFjZSBuYW1lLlwiIEFORCBtZXNzYWdlOlwiZ2V0X21hY2hpbmVfaXBzXCIgQU5EIG1lc3NhZ2U6XCJtaWdyYXRlX2Rpc2tfYW5kX3Bvd2VyX29mZlwiIEFORCB0YWdzOlwic2NyZWVuLW4tY3B1LnR4dFwiIiwiZmllbGRzIjpbXSwib2Zmc2V0IjowLCJ0aW1lZnJhbWUiOiJjdXN0b20iLCJncmFwaG1vZGUiOiJjb3VudCIsInRpbWUiOnsiZnJvbSI6IjIwMTUtMDItMDNUMjA6NDU6NDcrMDA6MDAiLCJ0byI6IjIwMTUtMDItMTdUMjA6NDU6NDcrMDA6MDAiLCJ1c2VyX2ludGVydmFsIjoiMCJ9LCJzdGFtcCI6MTQyNDIwNjAzNzg2OX0=\n\n48 hits in the last 10 days, started on 2/12 so we merged something bad (or neutron did), check and gate, all failures.", 
    "tags": [], 
    "importance": "Critical", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1422901", 
    "owner": "https://api.launchpad.net/1.0/~mriedem", 
    "id": 1422901, 
    "index": 233, 
    "created": "2015-02-17 20:48:24.558347+00:00", 
    "title": "test_delete_server_while_in_verify_resize_state fails with 'ValueError: You must specify a valid interface name.'", 
    "comments": [
        {
            "content": "http://logs.openstack.org/24/156324/3/gate/gate-tempest-dsvm-neutron-full/21b554f/logs/screen-n-cpu.txt.gz?level=TRACE#_2015-02-17_11_45_29_763\n\n2015-02-17 11:45:29.763 ERROR nova.compute.manager [req-02181adb-1b8b-48b1-ad72-ef5a650789e1 DeleteServersTestJSON-42620796 DeleteServersTestJSON-345447266] [instance: 96993b52-7955-4c64-95e2-b332471e1915] Setting instance vm_state to ERROR\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915] Traceback (most recent call last):\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 6188, in _error_out_instance_on_exception\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     yield\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3850, in resize_instance\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     timeout, retry_interval)\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 5939, in migrate_disk_and_power_off\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     shared_storage = self._is_storage_shared_with(dest, inst_base)\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 5891, in _is_storage_shared_with\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     shared_storage = (dest == self.get_host_ip_addr())\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 2460, in get_host_ip_addr\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     ips = compute_utils.get_machine_ips()\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]   File \"/opt/stack/new/nova/nova/compute/utils.py\", line 470, in get_machine_ips\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915]     iface_data = netifaces.ifaddresses(interface)\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915] ValueError: You must specify a valid interface name.\n2015-02-17 11:45:29.763 4456 TRACE nova.compute.manager [instance: 96993b52-7955-4c64-95e2-b332471e1915] \n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwiVmFsdWVFcnJvcjogWW91IG11c3Qgc3BlY2lmeSBhIHZhbGlkIGludGVyZmFjZSBuYW1lLlwiIEFORCBtZXNzYWdlOlwiZ2V0X21hY2hpbmVfaXBzXCIgQU5EIG1lc3NhZ2U6XCJtaWdyYXRlX2Rpc2tfYW5kX3Bvd2VyX29mZlwiIEFORCB0YWdzOlwic2NyZWVuLW4tY3B1LnR4dFwiIiwiZmllbGRzIjpbXSwib2Zmc2V0IjowLCJ0aW1lZnJhbWUiOiJjdXN0b20iLCJncmFwaG1vZGUiOiJjb3VudCIsInRpbWUiOnsiZnJvbSI6IjIwMTUtMDItMDNUMjA6NDU6NDcrMDA6MDAiLCJ0byI6IjIwMTUtMDItMTdUMjA6NDU6NDcrMDA6MDAiLCJ1c2VyX2ludGVydmFsIjoiMCJ9LCJzdGFtcCI6MTQyNDIwNjAzNzg2OX0=\n\n48 hits in the last 10 days, started on 2/12 so we merged something bad (or neutron did), check and gate, all failures.", 
            "date_created": "2015-02-17 20:48:24.558347+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Hmm, this merged on 2/12:\n\nhttps://github.com/openstack/nova/commit/8fc7eee58ebd929dda75e467f93c381091da7ace", 
            "date_created": "2015-02-17 20:54:46.924682+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Actually it's this:\n\nhttps://github.com/openstack/nova/commit/b838ca28e0ffda21b298a4514a647fc74c154f4a\n\nThe merge commit was on 2/11:\n\nhttps://github.com/openstack/nova/commit/ede75c15637acb3a8d8899620f71087796bd1c3f", 
            "date_created": "2015-02-17 21:02:47.204654+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/156781", 
            "date_created": "2015-02-17 21:28:36.510670+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/156781\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=82d492263a74854138ceb6ee53f5f5ca6efe3018\nSubmitter: Jenkins\nBranch:    master\n\ncommit 82d492263a74854138ceb6ee53f5f5ca6efe3018\nAuthor: Matt Riedemann <email address hidden>\nDate:   Tue Feb 17 13:10:04 2015 -0800\n\n    Expand try/except for get_machine_ips\n    \n    Commit b838ca28e0ffda21b298a4514a647fc74c154f4a added get_machine_ips\n    and copied it from swift but didn't put the try/except in the same\n    scope, essentially swift commit 76afb46d91bb32dfcbda829408d6b0735526b92f.\n    This causes a ValueError failure race bug in resize tests in the gate.\n    \n    This change simply expands the scope of the try/except like it is in\n    swift and adds a test to cover that.\n    \n    Note that we should move this utility function into oslo at some point\n    if multiple projects are needing this.\n    \n    Closes-Bug: #1422901\n    \n    Change-Id: Iccceca4b9706ac7723563fbd2065f40586400527\n", 
            "date_created": "2015-02-18 00:55:22.834288+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}