{
    "status": "Invalid", 
    "last_updated": "2012-02-10 07:59:29.102753+00:00", 
    "description": "After I finished the packaging of XCP in Debian SID (you can try it, it's available right now), I'm now trying to have it to run with Openstack (current version in Experimental: 2012.1~e2+git508-gcff2ddc-2). Here's the trouble. I'm following this howto:\n\nhttp://wiki.openstack.org/XenServerDevelopment\n\nand when checking if Openstack can connect to XCP, here's what I get:\n\nroot@GPLHost:os>_ ~# nova-manage shell python\nPython 2.7.2+ (default, Dec 17 2011, 16:58:10) \n[GCC 4.6.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n(InteractiveConsole)\n>>> import XenAPI\n>>> import nova.virt.xenapi_conn\n>>> nova.virt.xenapi_conn.XenAPI = XenAPI\n>>> x = nova.virt.xenapi_conn.XenAPIConnection(\"https://<hostname>\", \"root\", \"<password>\")\nTraceback (most recent call last):\n  File \"<console>\", line 1, in <module>\n  File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 174, in __init__\n    self._product_version = self._session.get_product_version()\n  File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 473, in get_product_version\n    return tuple(int(part) for part in product_version.split('.'))\n  File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 473, in <genexpr>\n    return tuple(int(part) for part in product_version.split('.'))\nValueError: invalid literal for int() with base 10: ''\n\nI know the authentication part already worked, since I get a different reply if I type a wrong root password.\n\nPlease let me know and CC me if possible (my email: <email address hidden>).\n\nCheers,\n\nThomas", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/909373", 
    "owner": "None", 
    "id": 909373, 
    "index": 2453, 
    "created": "2011-12-28 14:26:01.788759+00:00", 
    "title": "nova-compute-xen fails to contact XCP", 
    "comments": [
        {
            "content": "After I finished the packaging of XCP in Debian SID (you can try it, it's available right now), I'm now trying to have it to run with Openstack (current version in Experimental: 2012.1~e2+git508-gcff2ddc-2). Here's the trouble. I'm following this howto:\n\nhttp://wiki.openstack.org/XenServerDevelopment\n\nand when checking if Openstack can connect to XCP, here's what I get:\n\nroot@GPLHost:os>_ ~# nova-manage shell python\nPython 2.7.2+ (default, Dec 17 2011, 16:58:10) \n[GCC 4.6.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n(InteractiveConsole)\n>>> import XenAPI\n>>> import nova.virt.xenapi_conn\n>>> nova.virt.xenapi_conn.XenAPI = XenAPI\n>>> x = nova.virt.xenapi_conn.XenAPIConnection(\"https://<hostname>\", \"root\", \"<password>\")\nTraceback (most recent call last):\n  File \"<console>\", line 1, in <module>\n  File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 174, in __init__\n    self._product_version = self._session.get_product_version()\n  File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 473, in get_product_version\n    return tuple(int(part) for part in product_version.split('.'))\n  File \"/usr/lib/python2.7/dist-packages/nova/virt/xenapi_conn.py\", line 473, in <genexpr>\n    return tuple(int(part) for part in product_version.split('.'))\nValueError: invalid literal for int() with base 10: ''\n\nI know the authentication part already worked, since I get a different reply if I type a wrong root password.\n\nPlease let me know and CC me if possible (my email: <email address hidden>).\n\nCheers,\n\nThomas", 
            "date_created": "2011-12-28 14:26:01.788759+00:00", 
            "author": "https://api.launchpad.net/1.0/~thomas-goirand"
        }, 
        {
            "content": "Your XCP installation is not returning it's version in xx.xx.xx format that get_production_version wants.\n\nWhile this is a problem with your version of XCP, it's also a problem with XenAPISession:get_product_version as it should be trapping the\n\n      return tuple(int(part) for part in product_version.split('.'))\n\nwith if it doesn't split properly.\n\nI would propose that if the product_version.split('.') doesn't work correctly, we should return a standard value or error. Looking at the codebase, it appears that the path of least interruption would be to set it to something like 0.0.0 , but I'm not familiar enough with XenAPI to make this call.\n\nComments or Suggestions ?", 
            "date_created": "2012-02-10 05:23:12.620584+00:00", 
            "author": "https://api.launchpad.net/1.0/~ken-pepple"
        }, 
        {
            "content": "On 02/10/2012 01:23 PM, Ken Pepple wrote:\n> Your XCP installation is not returning it's version in xx.xx.xx format\n> that get_production_version wants.\n> \n> While this is a problem with your version of XCP, it's also a problem\n> with XenAPISession:get_product_version as it should be trapping the\n> \n>       return tuple(int(part) for part in product_version.split('.'))\n> \n> with if it doesn't split properly.\n> \n> I would propose that if the product_version.split('.') doesn't work\n> correctly, we should return a standard value or error. Looking at the\n> codebase, it appears that the path of least interruption would be to set\n> it to something like 0.0.0 , but I'm not familiar enough with XenAPI to\n> make this call.\n> \n> Comments or Suggestions ?\n\nHi,\n\nI'm the Debian maintainer for XCP.\n\nFirst of all, Ubuntu guys should upgrade to version 1.3-16, since it\ncorrects issues.\n\nThen, in XCP, there's something to override the version. The way to do\nit is:\n\necho 6.0.0 >/etc/xcp/xapi_version_override\n\nthen restart the xcp-xapi daemon. This is documented in the Debian\npackage for the package nova-xcp-plugin, shipped in Debian. The README\nfile is called debian/README.xcp_and_openstack in Debian, and I believe\nthis should also be documented in Ubuntu, because it's the kind of\nobscure things that would take a long time to discover.\n\nI believe this bug report should be closed, or retitled and set as\nwishlist for more documentation.\n\nBTW, I'm currently working on packaging the new version of XCP in\nDebian, which will be needed to run XCP + Openstack (otherwise, both\nnetwork and console wont be working correctly).\n\nCheers,\n\nThomas Goirand (zigo)\n", 
            "date_created": "2012-02-10 06:40:53+00:00", 
            "author": "https://api.launchpad.net/1.0/~thomas-goirand"
        }
    ]
}