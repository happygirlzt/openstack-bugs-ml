{
    "status": "Invalid", 
    "last_updated": "2014-06-17 19:36:17.902336+00:00", 
    "description": "[Impact]\nUsers of the Nova VMWare integration can't use the distro provided package.\n\n[Test Case]\nsudo apt-get install nova-compute-vmware\n(configure /etc/nova/nova.conf to point to a vsphere deployment)\nerror in original bug report\n\n[Regression potential]\nThe fix is to drop a distro patch which has all ready been dropped in Debian and utopic.\n\n[Original Bug Report]\nI'm currently trying to integrate an OpenStack testbed (based on Icehouse nova-2014.1 , Ubuntu 14.04 standard packages) with VCenter. I configured nova.conf http://docs.openstack.org/trunk/config-reference/content/vmware.html:\n\ncompute_driver=vmwareapi.VMwareVCDriver\n\nreserved_host_memory_mb=0\n\n[vmware]\nhost_ip=192.168.0.146\nhost_username=root\nhost_password=<password_here>\ncluster_name=VCOS\ndatastore_regex=qnap*\n\nUsing the password I'm able to login to VCenter using vSphere Web Client, Cluster VCOS was created using DRS, and I also defined a port group br-int on the ESXi hosts in the cluster. Although OpenStack Nova using KVM works like a breeze on two other compute nodes, I constantly get error messages on the node running VMwareVCDriver in note-compute.log\n\n2014-04-30 16:44:10.263 1383 ERROR suds.client [-] <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SOAP-ENV:Envelope xmlns:ns1=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\n\u00a0\u00a0\u00a0<ns1:Body>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<ns0:RetrieveServiceContent>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<_this type=\"ServiceInstance\">ServiceInstance</_this>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</ns0:RetrieveServiceContent>\n\u00a0\u00a0\u00a0</ns1:Body>\n</SOAP-ENV:Envelope>\n2014-04-30 16:44:10.265 1383 CRITICAL nova.virt.vmwareapi.driver [-] Unable to connect to server at 192.168.78.103, sleeping for 60 seconds\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver Traceback (most recent call last):\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/driver.py\", line 795, in _create_session\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver self.vim = self._get_vim_object()\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/driver.py\", line 784, in _get_vim_object\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver return vim.Vim(protocol=self._scheme, host=self._host_ip)\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vim.py\", line 117, in __init__\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver self._service_content = self.retrieve_service_content()\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vim.py\", line 120, in retrieve_service_content\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver return self.RetrieveServiceContent(\"ServiceInstance\")\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vim.py\", line 196, in vim_request_handler\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver raise error_util.VimFaultException(fault_list, excep)\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver VimFaultException: Server raised fault: 'Element tag ns0:RetrieveServiceContent uses an undefined namespace prefix ns0\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver while parsing SOAP body\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver at line 1, column 224\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver while parsing SOAP envelope\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver at line 1, column 38\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver while parsing HTTP request before method was determined\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver at line 1, column 0'\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver\n\n...to me it seems like there is some problem with the SOAP message... ns0 is not defined as a namespace und <SOAP-ENV:Envelope>?\n\nI also tried a fresh install of the VCenter Appliance 5.1 and 5.5 without any luck. From the error message names above I cannot see any configuration etc. I might have missed?", 
    "tags": [
        "verification-done", 
        "vmware"
    ], 
    "importance": "Undecided", 
    "heat": 42, 
    "link": "https://bugs.launchpad.net/nova/+bug/1314674", 
    "owner": "None", 
    "id": 1314674, 
    "index": 4810, 
    "created": "2014-04-30 15:16:09.666309+00:00", 
    "title": "Unable to connect to VCenter 5.5 VimFaultException: Server raised fault: 'Element tag ns0:RetrieveServiceContent uses an undefined namespace prefix ns0", 
    "comments": [
        {
            "content": "I'm currently trying to integrate an OpenStack testbed (based on Icehouse nova-2014.1 , Ubuntu 14.04 standard packages) with VCenter. I configured nova.conf http://docs.openstack.org/trunk/config-reference/content/vmware.html:\n\ncompute_driver=vmwareapi.VMwareVCDriver\n\nreserved_host_memory_mb=0\n\n[vmware]\nhost_ip=192.168.0.146\nhost_username=root\nhost_password=<password_here>\ncluster_name=VCOS\ndatastore_regex=qnap*\n\nUsing the password I'm able to login to VCenter using vSphere Web Client, Cluster VCOS was created using DRS, and I also defined a port group br-int on the ESXi hosts in the cluster. Although OpenStack Nova using KVM works like a breeze on two other compute nodes, I constantly get error messages on the node running VMwareVCDriver in note-compute.log\n\n2014-04-30 16:44:10.263 1383 ERROR suds.client [-] <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SOAP-ENV:Envelope xmlns:ns1=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\n   <ns1:Body>\n      <ns0:RetrieveServiceContent>\n         <_this type=\"ServiceInstance\">ServiceInstance</_this>\n      </ns0:RetrieveServiceContent>\n   </ns1:Body>\n</SOAP-ENV:Envelope>\n2014-04-30 16:44:10.265 1383 CRITICAL nova.virt.vmwareapi.driver [-] Unable to connect to server at 192.168.78.103, sleeping for 60 seconds\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver Traceback (most recent call last):\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/driver.py\", line 795, in _create_session\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver self.vim = self._get_vim_object()\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/driver.py\", line 784, in _get_vim_object\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver return vim.Vim(protocol=self._scheme, host=self._host_ip)\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vim.py\", line 117, in __init__\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver self._service_content = self.retrieve_service_content()\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vim.py\", line 120, in retrieve_service_content\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver return self.RetrieveServiceContent(\"ServiceInstance\")\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vim.py\", line 196, in vim_request_handler\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver raise error_util.VimFaultException(fault_list, excep)\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver VimFaultException: Server raised fault: 'Element tag ns0:RetrieveServiceContent uses an undefined namespace prefix ns0\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver while parsing SOAP body\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver at line 1, column 224\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver while parsing SOAP envelope\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver at line 1, column 38\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver while parsing HTTP request before method was determined\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver at line 1, column 0'\n2014-04-30 16:44:10.265 1383 TRACE nova.virt.vmwareapi.driver\n\n...to me it seems like there is some problem with the SOAP message... ns0 is not defined as a namespace und <SOAP-ENV:Envelope>?\n\nI also tried a fresh install of the VCenter Appliance 5.1 and 5.5 without any luck. From the error message names above I cannot see any configuration etc. I might have missed?", 
            "date_created": "2014-04-30 15:16:09.666309+00:00", 
            "author": "https://api.launchpad.net/1.0/~a-sebastian"
        }, 
        {
            "content": "I tracked this down to be a problem with package python-suds 0.4.1-11build1 in Ubuntu 14.04... I was finally able to successfully connect to VCenter 5.5 without recieving the error named above after:\n\nmv /usr/lib/python2.7/dist-packages/suds /usr/lib/python2.7/dist-packages/suds.old\nmv /usr/lib/python2.7/dist-packages/ suds-0.4.1.egg-info /usr/lib/python2.7/dist-packages/ suds-0.4.1.egg-info.old\n\n# since python-suds is a dependency for python-nova I didn't want to purge both...\n\npip install suds\n\nAfter restarting nova-compute the problem disappeared... maybe I will dig deeper later on the find the differences between Ubuntu 14.04 suds package and the one installed using pip...\n\n...so this doesn't seem to be a nova problem, but rather a problem in combination with the python-suds package in Ubuntu 14.04...", 
            "date_created": "2014-05-02 14:28:24.750509+00:00", 
            "author": "https://api.launchpad.net/1.0/~a-sebastian"
        }, 
        {
            "content": "thanks for finding the solution.  marking as invalid as there is nothing for us to do in the product to fix tho", 
            "date_created": "2014-05-21 17:17:16.867314+00:00", 
            "author": "https://api.launchpad.net/1.0/~tjones-i"
        }, 
        {
            "content": "Fixed version uploaded to trusty-proposed for SRU team review.", 
            "date_created": "2014-06-09 17:05:52.054411+00:00", 
            "author": "https://api.launchpad.net/1.0/~james-page"
        }, 
        {
            "content": "Hello Sebastian, or anyone else affected,\n\nAccepted suds into trusty-proposed. The package will build now and be available at http://launchpad.net/ubuntu/+source/suds/0.4.1-11ubuntu0.1 in a few hours, and then in the -proposed repository.\n\nPlease help us by testing this new package.  See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed.  Your feedback will aid us getting this update out to other Ubuntu users.\n\nIf this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-needed to verification-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed.  In either case, details of your testing will help us make a better decision.\n\nFurther information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification .  Thank you in advance!", 
            "date_created": "2014-06-10 16:25:02.232293+00:00", 
            "author": "https://api.launchpad.net/1.0/~arges"
        }, 
        {
            "content": "I ran into this bug (the namespace handling regression in Suds) in a different way (congruity package is also broken by this).  However, I verified that the python-suds in trusty-proposed resolves the issue in congruity.", 
            "date_created": "2014-06-11 04:59:28.392584+00:00", 
            "author": "https://api.launchpad.net/1.0/~swt-techie"
        }, 
        {
            "content": "Verified using  trusty-proposed with the VMware compute driver - marking verification-done.", 
            "date_created": "2014-06-12 10:45:27.071233+00:00", 
            "author": "https://api.launchpad.net/1.0/~james-page"
        }, 
        {
            "content": "The verification of the Stable Release Update for suds has completed successfully and the package has now been released to -updates.  Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report.  In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regresssions.", 
            "date_created": "2014-06-17 19:31:02.915409+00:00", 
            "author": "https://api.launchpad.net/1.0/~arges"
        }, 
        {
            "content": "This bug was fixed in the package suds - 0.4.1-11ubuntu0.1\n\n---------------\nsuds (0.4.1-11ubuntu0.1) trusty; urgency=medium\n\n  * d/p/04-merge-schema.patch: Dropped, because it introduces errors in\n    namespace detection (LP: #1314674).\n -- James Page <email address hidden>   Mon, 09 Jun 2014 18:02:30 +0100", 
            "date_created": "2014-06-17 19:36:13.216057+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}