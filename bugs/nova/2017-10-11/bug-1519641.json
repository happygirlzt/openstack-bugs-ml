{
    "status": "Fix Released", 
    "last_updated": "2016-03-22 13:07:56.496695+00:00", 
    "description": "I am following the installation guide from;\n\n http://docs.openstack.org/liberty/install-guide-ubuntu/launch-instance-public.html\n(all previous steps completed successfully without any error.)\n\nwhen i tried to initiate instance using following command;\n\nnova boot --flavor m1.tiny --image cirros --nic net-id=f2c94628-f774-43c7-9508-ee4cac175f1d --security-group default --key-name mykey public-instance\n\nit gives error;\n\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c)\n\n\nNOVA-API.log\n\n2015-11-25 06:20:36.789 2435 INFO nova.osapi_compute.wsgi.server [req-91e9cac9-cf64-4676-ac93-d99b4f96e4cf b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 time: 0.0234828\n2015-11-25 06:20:36.994 2435 INFO nova.osapi_compute.wsgi.server [req-7309b02d-2540-4f9b-abcb-4e1120bc0004 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/images HTTP/1.1\" status: 200 len: 692 time: 0.0904932\n2015-11-25 06:20:37.075 2435 INFO nova.osapi_compute.wsgi.server [req-acba4860-488d-4f00-8561-582abfdc5bc4 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/images/f6f04643-19be-4cd3-a4ba-a97e4a6d620e HTTP/1.1\" status: 200 len: 873 time: 0.0778031\n2015-11-25 06:20:37.096 2435 INFO nova.api.openstack.wsgi [req-ef73d261-6578-4b86-a252-b32f726b5965 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] HTTP exception thrown: Flavor m1.tiny could not be found.\n2015-11-25 06:20:37.097 2435 INFO nova.osapi_compute.wsgi.server [req-ef73d261-6578-4b86-a252-b32f726b5965 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors/m1.tiny HTTP/1.1\" status: 404 len: 298 time: 0.0185530\n2015-11-25 06:20:37.122 2435 INFO nova.osapi_compute.wsgi.server [req-5381c2b8-96de-4c0e-a7f5-57416a17871c b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors?is_public=None HTTP/1.1\" status: 200 len: 1407 time: 0.0216920\n2015-11-25 06:20:37.141 2435 INFO nova.osapi_compute.wsgi.server [req-0c3f882c-784f-4880-8ef7-2cd91174b551 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors/1 HTTP/1.1\" status: 200 len: 615 time: 0.0155120\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] Unexpected exception in API method\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 611, in create\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     **create_kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 149, in inner\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1581, in create\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1181, in _create_instance\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 955, in _validate_and_build_base_options\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     pci_request_info, requested_networks)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\", line 1059, in create_pci_requests_for_sriov_ports\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     neutron = get_client(context, admin=True)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\", line 237, in get_client\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/base.py\", line 200, in get_token\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return self.get_access(session).auth_token\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/base.py\", line 240, in get_access\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     self.auth_ref = self.get_auth_ref(session)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/v2.py\", line 88, in get_auth_ref\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     authenticated=False, log=False)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/session.py\", line 501, in post\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return self.request(url, 'POST', **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/utils.py\", line 337, in inner\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/session.py\", line 401, in request\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     raise exceptions.from_response(resp, method, url)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-12ad1f87-60d0-4bf4-b245-8d605e501c7e)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions \n2015-11-25 06:20:37.517 2435 INFO nova.api.openstack.wsgi [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'>\n2015-11-25 06:20:37.518 2435 INFO nova.osapi_compute.wsgi.server [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"POST /v2/c0977d29a6cf4dad9b3b908f3d9a6765/servers HTTP/1.1\" status: 500 len: 441 time: 0.3747370", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 52, 
    "link": "https://bugs.launchpad.net/nova/+bug/1519641", 
    "owner": "None", 
    "id": 1519641, 
    "index": 5862, 
    "created": "2015-11-25 06:34:27.050978+00:00", 
    "title": "Instance Launching ERROR  keystoneclient.exceptions.BadRequest", 
    "comments": [
        {
            "content": "I am following the installation guide from;\n\n http://docs.openstack.org/liberty/install-guide-ubuntu/launch-instance-public.html\n(all previous steps completed successfully without any error.)\n\nwhen i tried to initiate instance using following command;\n\nnova boot --flavor m1.tiny --image cirros --nic net-id=f2c94628-f774-43c7-9508-ee4cac175f1d --security-group default --key-name mykey public-instance\n\nit gives error;\n\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c)\n\n\nNOVA-API.log\n\n2015-11-25 06:20:36.789 2435 INFO nova.osapi_compute.wsgi.server [req-91e9cac9-cf64-4676-ac93-d99b4f96e4cf b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 time: 0.0234828\n2015-11-25 06:20:36.994 2435 INFO nova.osapi_compute.wsgi.server [req-7309b02d-2540-4f9b-abcb-4e1120bc0004 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/images HTTP/1.1\" status: 200 len: 692 time: 0.0904932\n2015-11-25 06:20:37.075 2435 INFO nova.osapi_compute.wsgi.server [req-acba4860-488d-4f00-8561-582abfdc5bc4 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/images/f6f04643-19be-4cd3-a4ba-a97e4a6d620e HTTP/1.1\" status: 200 len: 873 time: 0.0778031\n2015-11-25 06:20:37.096 2435 INFO nova.api.openstack.wsgi [req-ef73d261-6578-4b86-a252-b32f726b5965 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] HTTP exception thrown: Flavor m1.tiny could not be found.\n2015-11-25 06:20:37.097 2435 INFO nova.osapi_compute.wsgi.server [req-ef73d261-6578-4b86-a252-b32f726b5965 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors/m1.tiny HTTP/1.1\" status: 404 len: 298 time: 0.0185530\n2015-11-25 06:20:37.122 2435 INFO nova.osapi_compute.wsgi.server [req-5381c2b8-96de-4c0e-a7f5-57416a17871c b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors?is_public=None HTTP/1.1\" status: 200 len: 1407 time: 0.0216920\n2015-11-25 06:20:37.141 2435 INFO nova.osapi_compute.wsgi.server [req-0c3f882c-784f-4880-8ef7-2cd91174b551 b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors/1 HTTP/1.1\" status: 200 len: 615 time: 0.0155120\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] Unexpected exception in API method\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 611, in create\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     **create_kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 149, in inner\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1581, in create\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1181, in _create_instance\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 955, in _validate_and_build_base_options\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     pci_request_info, requested_networks)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\", line 1059, in create_pci_requests_for_sriov_ports\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     neutron = get_client(context, admin=True)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\", line 237, in get_client\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/base.py\", line 200, in get_token\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return self.get_access(session).auth_token\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/base.py\", line 240, in get_access\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     self.auth_ref = self.get_auth_ref(session)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/v2.py\", line 88, in get_auth_ref\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     authenticated=False, log=False)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/session.py\", line 501, in post\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return self.request(url, 'POST', **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/utils.py\", line 337, in inner\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/keystoneclient/session.py\", line 401, in request\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions     raise exceptions.from_response(resp, method, url)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-12ad1f87-60d0-4bf4-b245-8d605e501c7e)\n2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions \n2015-11-25 06:20:37.517 2435 INFO nova.api.openstack.wsgi [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'>\n2015-11-25 06:20:37.518 2435 INFO nova.osapi_compute.wsgi.server [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - - -] 192.168.3.2 \"POST /v2/c0977d29a6cf4dad9b3b908f3d9a6765/servers HTTP/1.1\" status: 500 len: 441 time: 0.3747370", 
            "date_created": "2015-11-25 06:34:27.050978+00:00", 
            "author": "https://api.launchpad.net/1.0/~babar-ahmad"
        }, 
        {
            "content": "guess this indicates a configuration error of neutron plugins credientials?\nnova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials\n\nmaybe you need check the configuration in [neutron]?\n\nbut in any case, we should not return 500 to outside , it should be handled in API layer or compute layer, so \nconfirm this bug but the importance depends on whether it's a configuration error or not", 
            "date_created": "2015-11-25 11:08:17.900729+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "I have checked the configuration twice but still facing same problem. \n\nUnable to figure out what is happening.", 
            "date_created": "2015-12-01 05:41:54.561821+00:00", 
            "author": "https://api.launchpad.net/1.0/~babar-ahmad"
        }, 
        {
            "content": "so you follow this link step by step (including the install process? ),so you are using liberty stable version , not from devstack, right?\n http://docs.openstack.org/liberty/install-guide-ubuntu/launch-instance-public.html\n\ncan you paste the nova configurations /etc/nova/* as reference? ", 
            "date_created": "2015-12-11 11:38:55.674568+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "Yes, I am using the liberty stable version and followed the link. \n\nHowever I am going to give it a one more try from scratch. May be it can help.", 
            "date_created": "2015-12-15 10:53:01.922306+00:00", 
            "author": "https://api.launchpad.net/1.0/~babar-ahmad"
        }, 
        {
            "content": "server.log:2016-01-04 14:49:25.893 4671 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on controller:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 2 seconds.", 
            "date_created": "2016-01-07 06:36:39.342645+00:00", 
            "author": "https://api.launchpad.net/1.0/~babar-ahmad"
        }, 
        {
            "content": "Can confirm. Followed the stable liberty install guide and saw the same error logs. Any workarounds that anyone knows of?", 
            "date_created": "2016-02-12 00:05:51.482169+00:00", 
            "author": "https://api.launchpad.net/1.0/~ndallamora"
        }, 
        {
            "content": "I receive same error, followed same install guide and went ahead to install the dashboard component as well and receive it on launching an instance as expected. I did see something about perhaps switching to legacy auth in a config but fail to find that article now, wondering if it was supported.", 
            "date_created": "2016-02-16 14:05:04.562515+00:00", 
            "author": "https://api.launchpad.net/1.0/~chavers"
        }, 
        {
            "content": "We need the config files and logs to see if this is a real bug. ", 
            "date_created": "2016-02-20 15:39:09.697554+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "hi.\ncheck auth_uri = http://controller:5000 of  [keystone_authtoken] section in /etc/neutron/neutron.conf file. \n\nref: http://docs.openstack.org/liberty/install-guide-ubuntu/neutron-controller-install-option2.html", 
            "date_created": "2016-02-22 05:40:08.772470+00:00", 
            "author": "https://api.launchpad.net/1.0/~iman-darabi"
        }, 
        {
            "content": "On 2016-02-22 00:40, Iman Darabi wrote:\n> hi.\n> check auth_uri = http://controller:5000 of  [keystone_authtoken]\n> section in /etc/neutron/neutron.conf file.\n> \n> ref: http://docs.openstack.org/liberty/install-guide-ubuntu/neutron-\n> controller-install-option2.html\n> \n> --\n> You received this bug notification because you are subscribed to the \n> bug\n> report.\n> https://bugs.launchpad.net/bugs/1519641\n> \n> Title:\n>   Instance Launching ERROR  keystoneclient.exceptions.BadRequest\n> \n> Status in OpenStack Compute (nova):\n>   Incomplete\n> \n> Bug description:\n>   I am following the installation guide from;\n> \n> \n> http://docs.openstack.org/liberty/install-guide-ubuntu/launch-instance-public.html\n>   (all previous steps completed successfully without any error.)\n> \n>   when i tried to initiate instance using following command;\n> \n>   nova boot --flavor m1.tiny --image cirros --nic net-\n>   id=f2c94628-f774-43c7-9508-ee4cac175f1d --security-group default\n>   --key-name mykey public-instance\n> \n>   it gives error;\n> \n>   ERROR (ClientException): Unexpected API Error. Please report this at\n> http://bugs.launchpad.net/nova/ and attach the Nova API log if\n> possible.\n>   <class 'keystoneclient.exceptions.BadRequest'> (HTTP 500)\n> (Request-ID: req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c)\n> \n> \n>   NOVA-API.log\n> \n>   2015-11-25 06:20:36.789 2435 INFO nova.osapi_compute.wsgi.server\n> [req-91e9cac9-cf64-4676-ac93-d99b4f96e4cf\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 time:\n> 0.0234828\n>   2015-11-25 06:20:36.994 2435 INFO nova.osapi_compute.wsgi.server\n> [req-7309b02d-2540-4f9b-abcb-4e1120bc0004\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/images\n> HTTP/1.1\" status: 200 len: 692 time: 0.0904932\n>   2015-11-25 06:20:37.075 2435 INFO nova.osapi_compute.wsgi.server\n> [req-acba4860-488d-4f00-8561-582abfdc5bc4\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET\n> /v2/c0977d29a6cf4dad9b3b908f3d9a6765/images/f6f04643-19be-4cd3-a4ba-a97e4a6d620e\n> HTTP/1.1\" status: 200 len: 873 time: 0.0778031\n>   2015-11-25 06:20:37.096 2435 INFO nova.api.openstack.wsgi\n> [req-ef73d261-6578-4b86-a252-b32f726b5965\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] HTTP exception thrown: Flavor m1.tiny could not be found.\n>   2015-11-25 06:20:37.097 2435 INFO nova.osapi_compute.wsgi.server\n> [req-ef73d261-6578-4b86-a252-b32f726b5965\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET\n> /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors/m1.tiny HTTP/1.1\" status:\n> 404 len: 298 time: 0.0185530\n>   2015-11-25 06:20:37.122 2435 INFO nova.osapi_compute.wsgi.server\n> [req-5381c2b8-96de-4c0e-a7f5-57416a17871c\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET\n> /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors?is_public=None HTTP/1.1\"\n> status: 200 len: 1407 time: 0.0216920\n>   2015-11-25 06:20:37.141 2435 INFO nova.osapi_compute.wsgi.server\n> [req-0c3f882c-784f-4880-8ef7-2cd91174b551\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors/1\n> HTTP/1.1\" status: 200 len: 615 time: 0.0155120\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] Unexpected exception in API method\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> Traceback (most recent call last):\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\",\n> line 478, in wrapped\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return f(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\",\n> line 73, in wrapper\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return func(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\",\n> line 73, in wrapper\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return func(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\",\n> line 611, in create\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> **create_kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 149, in\n> inner\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> rv = f(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line\n> 1581, in create\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> check_server_group_quota=check_server_group_quota)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line\n> 1181, in _create_instance\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> auto_disk_config, reservation_id, max_count)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 955,\n> in _validate_and_build_base_options\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> pci_request_info, requested_networks)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\",\n> line 1059, in create_pci_requests_for_sriov_ports\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> neutron = get_client(context, admin=True)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\",\n> line 237, in get_client\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> auth_token = _ADMIN_AUTH.get_token(_SESSION)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/base.py\",\n> line 200, in get_token\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return self.get_access(session).auth_token\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/base.py\",\n> line 240, in get_access\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> self.auth_ref = self.get_auth_ref(session)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/v2.py\",\n> line 88, in get_auth_ref\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> authenticated=False, log=False)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/keystoneclient/session.py\",\n> line 501, in post\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return self.request(url, 'POST', **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/keystoneclient/utils.py\", line\n> 337, in inner\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return func(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/keystoneclient/session.py\",\n> line 401, in request\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> raise exceptions.from_response(resp, method, url)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> BadRequest: Expecting to find username or userId in\n> passwordCredentials - the server could not comply with the request\n> since it is either malformed or otherwise incorrect. The client is\n> assumed to be in error. (HTTP 400) (Request-ID:\n> req-12ad1f87-60d0-4bf4-b245-8d605e501c7e)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n>   2015-11-25 06:20:37.517 2435 INFO nova.api.openstack.wsgi\n> [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] HTTP exception thrown: Unexpected API Error. Please report this at\n> http://bugs.launchpad.net/nova/ and attach the Nova API log if\n> possible.\n>   <class 'keystoneclient.exceptions.BadRequest'>\n>   2015-11-25 06:20:37.518 2435 INFO nova.osapi_compute.wsgi.server\n> [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"POST /v2/c0977d29a6cf4dad9b3b908f3d9a6765/servers\n> HTTP/1.1\" status: 500 len: 441 time: 0.3747370\n> \n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1519641/+subscriptions\n\n\nHi,\n\nauth_uri is correct, http://controller:5000 in etc/neutron.conf\n\n\nRegards,\n\nDave\n", 
            "date_created": "2016-02-24 15:37:44+00:00", 
            "author": "https://api.launchpad.net/1.0/~chavers"
        }, 
        {
            "content": "On 2016-02-20 10:39, Sean Dague wrote:\n> We need the config files and logs to see if this is a real bug.\n> \n> ** Changed in: nova\n>        Status: Confirmed => Incomplete\n> \n> --\n> You received this bug notification because you are subscribed to the \n> bug\n> report.\n> https://bugs.launchpad.net/bugs/1519641\n> \n> Title:\n>   Instance Launching ERROR  keystoneclient.exceptions.BadRequest\n> \n> Status in OpenStack Compute (nova):\n>   Incomplete\n> \n> Bug description:\n>   I am following the installation guide from;\n> \n> \n> http://docs.openstack.org/liberty/install-guide-ubuntu/launch-instance-public.html\n>   (all previous steps completed successfully without any error.)\n> \n>   when i tried to initiate instance using following command;\n> \n>   nova boot --flavor m1.tiny --image cirros --nic net-\n>   id=f2c94628-f774-43c7-9508-ee4cac175f1d --security-group default\n>   --key-name mykey public-instance\n> \n>   it gives error;\n> \n>   ERROR (ClientException): Unexpected API Error. Please report this at\n> http://bugs.launchpad.net/nova/ and attach the Nova API log if\n> possible.\n>   <class 'keystoneclient.exceptions.BadRequest'> (HTTP 500)\n> (Request-ID: req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c)\n> \n> \n>   NOVA-API.log\n> \n>   2015-11-25 06:20:36.789 2435 INFO nova.osapi_compute.wsgi.server\n> [req-91e9cac9-cf64-4676-ac93-d99b4f96e4cf\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 time:\n> 0.0234828\n>   2015-11-25 06:20:36.994 2435 INFO nova.osapi_compute.wsgi.server\n> [req-7309b02d-2540-4f9b-abcb-4e1120bc0004\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/images\n> HTTP/1.1\" status: 200 len: 692 time: 0.0904932\n>   2015-11-25 06:20:37.075 2435 INFO nova.osapi_compute.wsgi.server\n> [req-acba4860-488d-4f00-8561-582abfdc5bc4\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET\n> /v2/c0977d29a6cf4dad9b3b908f3d9a6765/images/f6f04643-19be-4cd3-a4ba-a97e4a6d620e\n> HTTP/1.1\" status: 200 len: 873 time: 0.0778031\n>   2015-11-25 06:20:37.096 2435 INFO nova.api.openstack.wsgi\n> [req-ef73d261-6578-4b86-a252-b32f726b5965\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] HTTP exception thrown: Flavor m1.tiny could not be found.\n>   2015-11-25 06:20:37.097 2435 INFO nova.osapi_compute.wsgi.server\n> [req-ef73d261-6578-4b86-a252-b32f726b5965\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET\n> /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors/m1.tiny HTTP/1.1\" status:\n> 404 len: 298 time: 0.0185530\n>   2015-11-25 06:20:37.122 2435 INFO nova.osapi_compute.wsgi.server\n> [req-5381c2b8-96de-4c0e-a7f5-57416a17871c\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET\n> /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors?is_public=None HTTP/1.1\"\n> status: 200 len: 1407 time: 0.0216920\n>   2015-11-25 06:20:37.141 2435 INFO nova.osapi_compute.wsgi.server\n> [req-0c3f882c-784f-4880-8ef7-2cd91174b551\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"GET /v2/c0977d29a6cf4dad9b3b908f3d9a6765/flavors/1\n> HTTP/1.1\" status: 200 len: 615 time: 0.0155120\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] Unexpected exception in API method\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> Traceback (most recent call last):\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\",\n> line 478, in wrapped\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return f(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\",\n> line 73, in wrapper\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return func(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\",\n> line 73, in wrapper\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return func(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\",\n> line 611, in create\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> **create_kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 149, in\n> inner\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> rv = f(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line\n> 1581, in create\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> check_server_group_quota=check_server_group_quota)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line\n> 1181, in _create_instance\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> auto_disk_config, reservation_id, max_count)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 955,\n> in _validate_and_build_base_options\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> pci_request_info, requested_networks)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\",\n> line 1059, in create_pci_requests_for_sriov_ports\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> neutron = get_client(context, admin=True)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\",\n> line 237, in get_client\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> auth_token = _ADMIN_AUTH.get_token(_SESSION)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/base.py\",\n> line 200, in get_token\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return self.get_access(session).auth_token\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/base.py\",\n> line 240, in get_access\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> self.auth_ref = self.get_auth_ref(session)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File\n> \"/usr/lib/python2.7/dist-packages/keystoneclient/auth/identity/v2.py\",\n> line 88, in get_auth_ref\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> authenticated=False, log=False)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/keystoneclient/session.py\",\n> line 501, in post\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return self.request(url, 'POST', **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/keystoneclient/utils.py\", line\n> 337, in inner\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> return func(*args, **kwargs)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> File \"/usr/lib/python2.7/dist-packages/keystoneclient/session.py\",\n> line 401, in request\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> raise exceptions.from_response(resp, method, url)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n> BadRequest: Expecting to find username or userId in\n> passwordCredentials - the server could not comply with the request\n> since it is either malformed or otherwise incorrect. The client is\n> assumed to be in error. (HTTP 400) (Request-ID:\n> req-12ad1f87-60d0-4bf4-b245-8d605e501c7e)\n>   2015-11-25 06:20:37.515 2435 ERROR nova.api.openstack.extensions\n>   2015-11-25 06:20:37.517 2435 INFO nova.api.openstack.wsgi\n> [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] HTTP exception thrown: Unexpected API Error. Please report this at\n> http://bugs.launchpad.net/nova/ and attach the Nova API log if\n> possible.\n>   <class 'keystoneclient.exceptions.BadRequest'>\n>   2015-11-25 06:20:37.518 2435 INFO nova.osapi_compute.wsgi.server\n> [req-2982939b-53e9-45df-a5e7-b2ceb2cf1f0c\n> b0483a79521f4d9198a0dd5ae4696576 c0977d29a6cf4dad9b3b908f3d9a6765 - -\n> -] 192.168.3.2 \"POST /v2/c0977d29a6cf4dad9b3b908f3d9a6765/servers\n> HTTP/1.1\" status: 500 len: 441 time: 0.3747370\n> \n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1519641/+subscriptions\n\nHere are the .conf files and most recent logs as requested. Enclosed.", 
            "date_created": "2016-02-24 15:53:33+00:00", 
            "author": "https://api.launchpad.net/1.0/~chavers"
        }, 
        {
            "content": "Got the same error, anybody found a W/A?\n\n2016-02-27 18:39:17.714 2282 ERROR nova.api.openstack.extensions [req-d20beb30-5f6a-4917-b4d8-65a1b403ddbb f9edbf721c194859b94466f0dc71355e bb9\n02f84b2314c1f868069dc564a1982 - - -] Unexpected exception in API method\n.......\n2016-02-27 18:39:17.714 2282 ERROR nova.api.openstack.extensions     raise exceptions.from_response(resp, method, url)\n2016-02-27 18:39:17.714 2282 ERROR nova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials - the \nserver could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) \n(Request-ID: req-39083e71-0602-4442-8dfc-a44d7729af40)\n2016-02-27 18:39:17.714 2282 ERROR nova.api.openstack.extensions \n2016-02-27 18:39:17.717 2282 INFO nova.api.openstack.wsgi [req-d20beb30-5f6a-4917-b4d8-65a1b403ddbb f9edbf721c194859b94466f0dc71355e bb902f84b2\n314c1f868069dc564a1982 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the\n Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'>", 
            "date_created": "2016-02-27 10:42:44.179825+00:00", 
            "author": "https://api.launchpad.net/1.0/~jiangrong-ye"
        }, 
        {
            "content": "To all those having similar error.\n\nThe error occurs due to mis-configuration  of networking part. I reported this earlier and now I have successfully configured complete cloud. \n\nYou need to start for scratch again using guide; \n\nhttp://docs.openstack.org/liberty/install-guide-ubuntu/common/conventions.html\n\nTry to use Networking option 1: Provider network. Make sure that the network is configured properly. All the nodes can see each other on both the networks (i.e. management & operational networks) as shown in the guide.", 
            "date_created": "2016-03-02 04:28:05.267231+00:00", 
            "author": "https://api.launchpad.net/1.0/~babar-ahmad"
        }, 
        {
            "content": "So, how do we setup an environment without legacy networking (option 1) in Ubuntu?  This is not a fix or a work around for this bug. Is it simply not supported yet? Will it ever be supported?", 
            "date_created": "2016-03-02 12:37:19.604322+00:00", 
            "author": "https://api.launchpad.net/1.0/~chavers"
        }, 
        {
            "content": "Requiring that we use legacy networking (option 1) is not a Fix to our problem. We cannot use legacy networking in our test environments as we are trying to test option 2 networking.", 
            "date_created": "2016-03-02 12:41:42.638599+00:00", 
            "author": "https://api.launchpad.net/1.0/~chavers"
        }, 
        {
            "content": "Same error here:\n\nroot@lab4:~# nova boot --flavor m1.small --image RHEL-6-x86_64 --nic net-id=5f43c2ea-7c69-488d-bb3c-85645b413e06  --security-group default --key-name lkison_keypair rhel6\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-ebdc4045-a5e2-46f0-84ab-ee82d9c2c8b2)\n\n\n\n/var/log/nova/nova-api.log\n\n2016-03-08 17:40:19.162 5790 ERROR nova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-84bccd2c-4dbd-43c3-a557-7445a60b4715)\n2016-03-08 17:40:19.162 5790 ERROR nova.api.openstack.extensions\n2016-03-08 17:40:19.164 5790 INFO nova.api.openstack.wsgi [req-5b8e4ca3-3a29-4f78-8cc9-6a97faac11bd b6bc51f34d1e4b2fa79f8a756405f6dd 220579a55c2743558c859cccc1f1a44b - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n\n\n/var/log/keystone/keystone-wsgi-public.log\n\n2016-03-08 17:40:19.156 3229 DEBUG keystone.middleware.core [req-84bccd2c-4dbd-43c3-a557-7445a60b4715 - - - - -] There is either no auth token in the request or the certificate issuer is not trusted. No auth context will be set. process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:310\n2016-03-08 17:40:19.159 3229 INFO keystone.common.wsgi [req-84bccd2c-4dbd-43c3-a557-7445a60b4715 - - - - -] POST http://localhost:5000/v2.0/tokens\n2016-03-08 17:40:19.160 3229 WARNING keystone.common.wsgi [req-84bccd2c-4dbd-43c3-a557-7445a60b4715 - - - - -] Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error.\n\n\nI've used this guide : http://docs.openstack.org/liberty/install-guide-ubuntu/neutron-controller-install-option2.html\n\n", 
            "date_created": "2016-03-08 17:55:18.849047+00:00", 
            "author": "https://api.launchpad.net/1.0/~lukaskison"
        }, 
        {
            "content": "I've reinstalled my enviroment completly from scratch .\nStep by step used this guide http://docs.openstack.org/liberty/install-guide-ubuntu/\nand networking option 1 (Provider networks) and still getting same error.\n\n\nnova-api.log\n\n2016-03-10 18:02:49.160 13062 ERROR nova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-95139137-ca19-471f-a086-940a56f4595f)\n2016-03-10 18:02:49.160 13062 ERROR nova.api.openstack.extensions\n\n\nkeystone-wsgi-public.log\n\n2016-03-10 18:02:49.149 15981 DEBUG keystone.middleware.core [req-95139137-ca19-471f-a086-940a56f4595f - - - - -] There is either no auth token in the request or the certificate issuer is not trusted. No auth co\nntext will be set. process_request /usr/lib/python2.7/dist-packages/keystone/middleware/core.py:310\n2016-03-10 18:02:49.157 15981 INFO keystone.common.wsgi [req-95139137-ca19-471f-a086-940a56f4595f - - - - -] POST http://localhost:5000/v2.0/tokens\n2016-03-10 18:02:49.158 15981 WARNING keystone.common.wsgi [req-95139137-ca19-471f-a086-940a56f4595f - - - - -] Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error.\n", 
            "date_created": "2016-03-10 18:09:10.640000+00:00", 
            "author": "https://api.launchpad.net/1.0/~lukaskison"
        }, 
        {
            "content": "Hello All, \nI've found the problem and I'd like to share my solution. \nProblem was in  /etc/neutron/neutron.conf on controller and compute node!\n\nDoes not matter  if you chose option 1 or option 2 networking there is misstake in documentation as well.\n\nhttp://docs.openstack.org/liberty/install-guide-ubuntu/neutron-controller-install-option2.html\nhttp://docs.openstack.org/liberty/install-guide-ubuntu/neutron-controller-install-option1.html\n\nin section [keystone_authtoken] is Note:\n\n\"Comment out or remove any other options in the [keystone_authtoken] section.\"\n\nTHIS IS NOT TRUE!!\n\ndefault neutron.conf contains following lines:\n\n[keystone_authtoken]\nauth_uri = http://127.0.0.1:35357/v2.0/\nidentity_uri = http://127.0.0.1:5000\nadmin_tenant_name = %SERVICE_TENANT_NAME%\nadmin_user = %SERVICE_USER%\nadmin_password = %SERVICE_PASSWORD%\n\n\nI just removed first line \"auth_uri\" and used lines from documentation:\n\n[keystone_authtoken]\n...\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = neutron\npassword = NEUTRON_PASS\n\nI am able to create new instance now!", 
            "date_created": "2016-03-11 17:09:07.736918+00:00", 
            "author": "https://api.launchpad.net/1.0/~lukaskison"
        }, 
        {
            "content": "This still did not work in our lab with a fresh set of machine builds. Even tried to change localhost and any 127.0.0.1 reference to controller or its ip. no joy. We are however seeing a different error at this time and chasing it today...", 
            "date_created": "2016-03-21 11:36:58.237223+00:00", 
            "author": "https://api.launchpad.net/1.0/~chavers"
        }, 
        {
            "content": "I'm facing the same issue. \n\nERROR nova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-320032bc-ce0a-42e4-97bd-9d4fe2b7d5d0)\n\nIs there some way to test API making command line calls? So, we can go in each host (network, compute etc) and make some calls, just to teste if API is authenticating the calls. ", 
            "date_created": "2016-03-22 11:42:47.677564+00:00", 
            "author": "https://api.launchpad.net/1.0/~correajl"
        }, 
        {
            "content": "Back to 500 error in newly built lab from scratch. @kasso - can you post your conf files for nova / neutron? Are you configured for Network option #1 or #2?", 
            "date_created": "2016-03-22 11:50:53.992248+00:00", 
            "author": "https://api.launchpad.net/1.0/~chavers"
        }, 
        {
            "content": "I think I solved the problem here in my deployment. \n\nScenario: I'm following the Ubuntu Install Guide (http://docs.openstack.org/liberty/install-guide-ubuntu). But, I'm not using either option 1 or 2. I'm using the network scenario described in http://docs.openstack.org/liberty/networking-guide/scenario-dvr-ovs.html. \n\nAt controller, in /etc/nova/nova.conf, should exist a [neutron] section. In my case it was lacking the authentication parameters.\n\nThis section as below, without authentication parameters, was causing the problem:\n\n[neutron]\nservice_metadata_proxy = True\nmetadata_proxy_shared_secret = password\n\nWith these authentication parameters, instances could be launched:\n\n[neutron]\nurl = http://controller:9696\nauth_strategy = keystone\nadmin_auth_url = http://controller:35357/v2.0\nadmin_tenant_name = service\nadmin_username = neutron\nadmin_password = NEUTRON_PASS\n\nservice_metadata_proxy = True\nmetadata_proxy_shared_secret = password\n\n--\n\nSo, as the error message suggest, it was some problem with password sent to API. In my case was the lacking of some parameters in [neutron] section of nova.conf at controller. However, I think the code that raise the exception show a message like that, something about problems with password that API received. If no password is sent, the problem occurs. \n\nI suggest who is facing this problem to check all configurations of components that use authentication parameters. \n\nThanks!\n", 
            "date_created": "2016-03-22 12:28:55.270539+00:00", 
            "author": "https://api.launchpad.net/1.0/~correajl"
        }, 
        {
            "content": "CONTROLER NODE:\n\nroot@controller:~# cat /etc/neutron/neutron.conf\n[DEFAULT]\nverbose = True\ncore_plugin = ml2\nservice_plugins = router\nallow_overlapping_ips = True\nrpc_backend = rabbit\nauth_strategy = keystone\nnotify_nova_on_port_status_changes = True\nnotify_nova_on_port_data_changes = True\nnova_url = http://controlleri:8774/v2\n\n[matchmaker_redis]\n\n[matchmaker_ring]\n\n[quotas]\n\n[agent]\nroot_helper = sudo /usr/bin/neutron-rootwrap /etc/neutron/rootwrap.conf\n\n[keystone_authtoken]\nidentity_uri = http://controlleri:5000\nadmin_tenant_name = service\nadmin_user = admin\nadmin_password = xx\n\nauth_uri = http://controlleri:5000\nauth_url = http://controlleri:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = neutron\npassword = xx\n\n[database]\nconnection = mysql+pymysql://neutron:xx@controlleri/neutron\n\n[nova]\nauth_url = http://controlleri:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nusername = nova\npassword = xx\n\n[oslo_concurrency]\nlock_path = $state_path/lock\n\n[oslo_policy]\n\n[oslo_messaging_amqp]\n\n[oslo_messaging_qpid]\n\n[oslo_messaging_rabbit]\nrabbit_host = controlleri\nrabbit_userid = openstack\nrabbit_password = xx\n\n[qos]\n\n--------------------------\nroot@controller:~# cat /etc/nova/nova.conf\n[DEFAULT]\nverbose = True\ndhcpbridge_flagfile=/etc/nova/nova.conf\ndhcpbridge=/usr/bin/nova-dhcpbridge\nlogdir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\nforce_dhcp_release=True\nlibvirt_use_virtio_for_bridges=True\nverbose=True\nec2_private_dns_show_ip=True\napi_paste_config=/etc/nova/api-paste.ini\nenabled_apis=osapi_compute,metadata\nrpc_backend = rabbit\nauth_strategy = keystone\nmy_ip = 192.168.135.101\nnetwork_api_class = nova.network.neutronv2.api.API\nsecurity_group_api = neutron\nlinuxnet_interface_driver = nova.network.linux_net.NeutronLinuxBridgeInterfaceDriver\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\n\n[database]\nconnection = mysql+pymysql://nova:xx@controlleri/nova\n\n[oslo_messaging_rabbit]\nrabbit_host = controlleri\nrabbit_userid = openstack\nrabbit_password = xx\n\n[keystone_authtoken]\nauth_uri = http://controlleri:5000\nauth_url = http://controlleri:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = xx\n\n[vnc]\nvncserver_listen = $my_ip\nvncserver_proxyclient_address = $my_ip\n\n[glance]\nhost = controlleri\n\n[oslo_concurrency]\nlock_path = /var/lib/nova/tmp\n\n[neutron]\nurl = http://controlleri:9696\nauth_url = http://controlleri:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nusername = neutron\npassword = xx\nservice_metadata_proxy = True\nmetadata_proxy_shared_secret = xx\n\n[cinder]\n\n\n\n---------------- \nCOMUPTE NODE:\nroot@lab1:~# cat /etc/nova/nova.conf\n[DEFAULT]\nverbose = True\ndhcpbridge_flagfile=/etc/nova/nova.conf\ndhcpbridge=/usr/bin/nova-dhcpbridge\nlogdir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\nforce_dhcp_release=True\nlibvirt_use_virtio_for_bridges=True\nec2_private_dns_show_ip=True\napi_paste_config=/etc/nova/api-paste.ini\nenabled_apis=ec2,osapi_compute,metadata\nrpc_backend = rabbit\nauth_strategy = keystone\nmy_ip = 192.168.135.151\nnetwork_api_class = nova.network.neutronv2.api.API\nsecurity_group_api = neutron\nlinuxnet_interface_driver = nova.network.linux_net.NeutronLinuxBridgeInterfaceDriver\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\ninstance_usage_audit = True\ninstance_usage_audit_period = hour\nnotify_on_state_change = vm_and_task_state\nnotification_driver = messagingv2\n\n[oslo_messaging_rabbit]\nrabbit_host = controlleri\nrabbit_userid = openstack\nrabbit_password = xx\n\n[keystone_authtoken]\nauth_uri = http://controlleri:5000\nauth_url = http://controlleri:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = xx\n\n[vnc]\nenabled = True\nvncserver_listen = 0.0.0.0\nvncserver_proxyclient_address = $my_ip\nnovncproxy_base_url = http://192.168.136.13:6080/vnc_auto.html\n\n[glance]\nhost = controlleri\n\n[oslo_concurrency]\nlock_path = /var/lib/nova/tmp\n\n[neutron]\nurl = http://controlleri:9696\nauth_url = http://controlleri:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nusername = neutron\npassword = xx\n\n-------\n\nroot@lab1:~# cat /etc/neutron/neutron.conf\n[DEFAULT]\ncore_plugin = ml2\nrpc_backend = rabbit\nauth_strategy = keystone\nverbose = True\n\n[matchmaker_redis]\n\n[matchmaker_ring]\n\n[quotas]\n\n[agent]\nroot_helper = sudo /usr/bin/neutron-rootwrap /etc/neutron/rootwrap.conf\n\n[keystone_authtoken]\n\nidentity_uri = http://controlleri:5000\nadmin_tenant_name = service\nadmin_user = admin\nadmin_password = xx\n\nauth_uri = http://controlleri:5000\nauth_url = http://controlleri:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = neutron\npassword = xx\n\n[database]\n\n[nova]\n\n[oslo_concurrency]\nlock_path = $state_path/lock\n\n[oslo_policy]\n\n[oslo_messaging_amqp]\n\n[oslo_messaging_qpid]\n\n[oslo_messaging_rabbit]\nrabbit_host = controlleri\nrabbit_userid = openstack\nrabbit_password = xx\n\n[qos]\n", 
            "date_created": "2016-03-22 12:49:05.266353+00:00", 
            "author": "https://api.launchpad.net/1.0/~lukaskison"
        }, 
        {
            "content": "Bingo! Thanks Jorge & kasso. I don't know how/why we missed that [neutron] section in our nova.conf. That solved it. The liberty install docs are not very well put together yet it seems.", 
            "date_created": "2016-03-22 13:07:56.045031+00:00", 
            "author": "https://api.launchpad.net/1.0/~chavers"
        }
    ]
}