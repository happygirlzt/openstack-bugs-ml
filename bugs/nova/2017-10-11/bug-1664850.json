{
    "status": "Invalid", 
    "last_updated": "2017-02-15 10:18:57.598010+00:00", 
    "description": "Description\n===========\nI have deployed a new cloud using fuel (stable mitaka). I am not able to create an instance and getting an error in horizon stating - \"Unable to create server\"\n\nSteps to reproduce\n==================\nDeploy cloud with two compute nodes and 1 controller\n\nExpected result\n===============\ninstance shall spawn successfully\n\nActual result\n=============\nFailed to spawn instance with an error\n\nEnvironment\n===========\n1. Exact version of OpenStack you are running- openstack 3.8.1\n\n2. Which hypervisor did you use?-----    Libvirt + KVM\n\n2. Which storage type did you use? --- Ceph\n\nroot@node-67:/etc/nova# ceph tell osd.* version\nosd.0: {\n\u00a0\u00a0\u00a0\u00a0\"version\": \"ceph version 0.94.6 (e832001feaf8c176593e0325c8298e3f16dfb403)\"\n}\nosd.1: {\n\u00a0\u00a0\u00a0\u00a0\"version\": \"ceph version 0.94.6 (e832001feaf8c176593e0325c8298e3f16dfb403)\"\n}\nosd.2: {\n\u00a0\u00a0\u00a0\u00a0\"version\": \"ceph version 0.94.6 (e832001feaf8c176593e0325c8298e3f16dfb403)\"\n}\nosd.3: {\n\u00a0\u00a0\u00a0\u00a0\"version\": \"ceph version 0.94.6 (e832001feaf8c176593e0325c8298e3f16dfb403)\"\n}\nroot@node-67:/etc/nova#\n\n3. Which networking type did you use?\n\u00a0\u00a0\u00a0Neutron with OpenVSwitch\n\nLogs & Configs\n==============\nroot@node-67:~# openstack image list\nWARNING: openstackclient.common.utils is deprecated and will be removed after Jun 2017. Please use osc_lib.utils. This warning is caused by an out-of-date import in /usr/lib/python2.7/dist-packages/saharaclient/osc/plugin.py\n+--------------------------------------+--------+--------+\n| ID                                   | Name   | Status |\n+--------------------------------------+--------+--------+\n| 10156482-48cc-4f7c-9e34-a056bc55d180 | KEMP   | active |\n| ce3f9e90-95ad-478a-a756-214c703ffb64 | TestVM | active |\n| 6ed88d21-635b-470e-809c-c326208ababd | UBUNTU | active |\n+--------------------------------------+--------+--------+\nroot@node-67:~# openstack flavor list\nWARNING: openstackclient.common.utils is deprecated and will be removed after Jun 2017. Please use osc_lib.utils. This warning is caused by an out-of-date import in /usr/lib/python2.7/dist-packages/saharaclient/osc/plugin.py\n+--------------------------------------+-----------+-------+------+-----------+-------+-----------+\n| ID                                   | Name      |   RAM | Disk | Ephemeral | VCPUs | Is Public |\n+--------------------------------------+-----------+-------+------+-----------+-------+-----------+\n| 1                                    | m1.tiny   |   512 |    1 |         0 |     1 | True      |\n| 2                                    | m1.small  |  2048 |   20 |         0 |     1 | True      |\n| 3                                    | m1.medium |  4096 |   40 |         0 |     2 | True      |\n| 4                                    | m1.large  |  8192 |   80 |         0 |     4 | True      |\n| 5                                    | m1.xlarge | 16384 |  160 |         0 |     8 | True      |\n| c6ab0633-b07a-4e44-9a41-90d8c6c339ba | m1.micro  |    64 |    0 |         0 |     1 | True      |\n+--------------------------------------+-----------+-------+------+-----------+-------+-----------+\n\nroot@node-67:~# openstack server create --image KEMP --flavor m1.small test\nWARNING: openstackclient.common.utils is deprecated and will be removed after Jun 2017. Please use osc_lib.utils. This warning is caused by an out-of-date import in /usr/lib/python2.7/dist-packages/saharaclient/osc/plugin.py\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.ImportError'> (HTTP 500) (Request-ID: req-3c56b0db-6ddc-4489-a42a-6b09569fd66b)\nroot@node-67:~# cd /var/lo\n\nAll the other log files are attached.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1664850", 
    "owner": "None", 
    "id": 1664850, 
    "index": 6684, 
    "created": "2017-02-15 06:46:18.424282+00:00", 
    "title": "Error: Unable to create the server. Unexpected API Error.", 
    "comments": [
        {
            "content": "Description\n===========\nI have deployed a new cloud using fuel (stable mitaka). I am not able to create an instance and get an error in horizon stating - Unable to create server.is section.\n\nSteps to reproduce\n==================\nDeploy cloud with two compute nodes and 1 controller\n\nExpected result\n===============\ninstance shall spawn successfully\n\nActual result\n=============\nFailed to spawn instance with an error\n\nEnvironment\n===========\n1. Exact version of OpenStack you are running- openstack 3.8.1\n\n2. Which hypervisor did you use?-----    Libvirt + KVM\n\n2. Which storage type did you use? --- Ceph\n\nroot@node-67:/etc/nova# ceph tell osd.* version\nosd.0: {\n    \"version\": \"ceph version 0.94.6 (e832001feaf8c176593e0325c8298e3f16dfb403)\"\n}\nosd.1: {\n    \"version\": \"ceph version 0.94.6 (e832001feaf8c176593e0325c8298e3f16dfb403)\"\n}\nosd.2: {\n    \"version\": \"ceph version 0.94.6 (e832001feaf8c176593e0325c8298e3f16dfb403)\"\n}\nosd.3: {\n    \"version\": \"ceph version 0.94.6 (e832001feaf8c176593e0325c8298e3f16dfb403)\"\n}\nroot@node-67:/etc/nova#\n\n\n3. Which networking type did you use?\n   Neutron with OpenVSwitch\n\nLogs & Configs\n==============", 
            "date_created": "2017-02-15 06:46:18.424282+00:00", 
            "author": "https://api.launchpad.net/1.0/~anurag-jindal29"
        }, 
        {
            "content": "nova-api.log", 
            "date_created": "2017-02-15 06:47:55.363551+00:00", 
            "author": "https://api.launchpad.net/1.0/~anurag-jindal29"
        }, 
        {
            "content": "horizon.log", 
            "date_created": "2017-02-15 06:48:17.426578+00:00", 
            "author": "https://api.launchpad.net/1.0/~anurag-jindal29"
        }, 
        {
            "content": "nova.conf", 
            "date_created": "2017-02-15 06:48:38.294953+00:00", 
            "author": "https://api.launchpad.net/1.0/~anurag-jindal29"
        }, 
        {
            "content": "Something is messed up with your deployment since you don't have all the needed python packages :\n\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension [req-627d9817-74d4-4669-b817-f51625ca4ff1 b84bf912c35a40c6a780f71b1f9a21c1 097640358bc14bd594b9d91e933b6e4c - - -] Could not load 'file': cannot import name imageutils\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension [req-627d9817-74d4-4669-b817-f51625ca4ff1 b84bf912c35a40c6a780f71b1f9a21c1 097640358bc14bd594b9d91e933b6e4c - - -] cannot import name imageutils\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension Traceback (most recent call last):\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension   File \"/usr/lib/python2.7/dist-packages/stevedore/extension.py\", line 163, in _load_plugins\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension   File \"/usr/lib/python2.7/dist-packages/stevedore/extension.py\", line 184, in _load_one_plugin\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension   File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2386, in resolve\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension     module = __import__(self.module_name, fromlist=['__name__'], level=0)\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension   File \"/usr/lib/python2.7/dist-packages/nova/image/download/file.py\", line 22, in <module>\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension     import nova.virt.libvirt.utils as lv_utils\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/__init__.py\", line 15, in <module>\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension     from nova.virt.libvirt import driver\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 90, in <module>\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension     from nova.virt.disk import api as disk\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension   File \"/usr/lib/python2.7/dist-packages/nova/virt/disk/api.py\", line 46, in <module>\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension     from nova.virt import images\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension   File \"/usr/lib/python2.7/dist-packages/nova/virt/images.py\", line 27, in <module>\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension     from oslo_utils import imageutils\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension ImportError: cannot import name imageutils\n2017-02-15 17:15:00.658 20804 ERROR stevedore.extension \n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions [req-627d9817-74d4-4669-b817-f51625ca4ff1 b84bf912c35a40c6a780f71b1f9a21c1 097640358bc14bd594b9d91e933b6e4c - - -] Unexpected exception in API method\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 629, in create\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     **create_kwargs)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 154, in inner\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1564, in create\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1132, in _create_instance\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     image_id, boot_meta = self._get_image(context, image_href)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 790, in _get_image\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     image = self.image_api.get(context, image_href)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/image/api.py\", line 93, in get\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     show_deleted=show_deleted)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 333, in show\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     _reraise_translated_image_exception(image_id)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 682, in _reraise_translated_image_exception\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     six.reraise(new_exc, None, exc_trace)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 331, in show\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     image = self._client.call(context, version, 'get', image_id)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 248, in call\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     version)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 229, in _create_onetime_client\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     return _glanceclient_from_endpoint(context, self.api_server, version)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 161, in _glanceclient_from_endpoint\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions     return glanceclient.Client(str(version), endpoint, **params)\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/glanceclient/client.py\", line 59, in Client\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/glanceclient/common/utils.py\", line 281, in import_versioned_module\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py\", line 73, in import_module\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions ImportError: No module named v1.client\n2017-02-15 17:15:00.662 20804 ERROR nova.api.openstack.extensions \n2017-02-15 17:15:00.664 20804 INFO nova.api.openstack.wsgi [req-627d9817-74d4-4669-b817-f51625ca4ff1 b84bf912c35a40c6a780f71b1f9a21c1 097640358bc14bd594b9d91e933b6e4c - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.ImportError'>\n2017-02-15 17:15:00.665 20804 INFO nova.osapi_compute.wsgi.server [req-627d9817-74d4-4669-b817-f51625ca4ff1 b84bf912c35a40c6a780f71b1f9a21c1 097640358bc14bd594b9d91e933b6e4c - - -] 192.168.8.2 \"POST /v2.1/servers HTTP/1.1\" status: 500 len: 492 time: 0.1683691\n\nLooks like a possible oslo.utils wrong version in Fuel deployment, but something really not related to Nova upstream AFAICS.", 
            "date_created": "2017-02-15 10:18:36.129435+00:00", 
            "author": "https://api.launchpad.net/1.0/~sylvain-bauza"
        }
    ]
}