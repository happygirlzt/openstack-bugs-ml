{
    "status": "Invalid", 
    "last_updated": "2012-04-06 06:45:51.072307+00:00", 
    "description": "Description:\n----------------\nGET with Changes-since parameter should list all the servers that are changed since the specified time.\nIf data has changed, only the items changed since the specified time will be returned in the response. For example, performing a GET against https://api.servers.openstack.org/v1.1/224532/servers?changes-since=2011-01-24T17:08Z would list all servers that have changed since Mon, 24 Jan 2011 17:08:00 UTC\n\nExpected result:\n-----------------------\nShould raise the bad request\n\nRefernce link:\n------------------\nhttp://docs.openstack.org/api/openstack-compute/1.1/content/ServerUpdate.html", 
    "tags": [
        "low-hanging-fruit", 
        "servers"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/944023", 
    "owner": "https://api.launchpad.net/1.0/~bavirisetty-ramya", 
    "id": 944023, 
    "index": 5357, 
    "created": "2012-03-01 14:26:12.058153+00:00", 
    "title": "GET servers with changes-since parameter is not working properly", 
    "comments": [
        {
            "content": "Description:\n----------------\nGET with Changes-since parameter should list all the servers that are changed since the specified time.\nIf data has changed, only the items changed since the specified time will be returned in the response. For example, performing a GET against https://api.servers.openstack.org/v1.1/224532/servers?changes-since=2011-01-24T17:08Z would list all servers that have changed since Mon, 24 Jan 2011 17:08:00 UTC\n\nExpected result:\n-----------------------\nShould raise the bad request\n\nRefernce link:\n------------------\nhttp://docs.openstack.org/api/openstack-compute/1.1/content/ServerUpdate.html", 
            "date_created": "2012-03-01 14:26:12.058153+00:00", 
            "author": "https://api.launchpad.net/1.0/~rajalakshmi-ganesan"
        }, 
        {
            "content": "Steps To Reproduce:\n1) Use the API tool or CURL command on the specified environment.\n2) save the start time before doing the below steps to pass that time for changes-since parameter\nfor ex start time: 2012-02-15T12:22:15Z\n3) Create the 4 servers with the names for ex Active_1,Active_2, Delete_1,Delete_2 with the POST command\n4) Delete the Delete_1,Delete_2 by DELETE command\n5)Call for /servers?changes-since=2012-02-15T12:22:15Z&status=DELETED\n    should return Delete_1,Delete_2\n6)Call for /servers?changes-since=2012-02-15T12:22:15Z\n   should return all the servers i.e. Active_1,Active_2, Delete_1,Delete_2\n\ncurl -i https://compute.systest.aw1.hpcloud.net/v1.1/54336735645370/servers?changes-since=2012-02-15T12%3A22%3A15Z&fresh=1329308751.09 -X GET -H \"X-Auth-Project-Id: <email address hidden>\" -H \"User-Agent: python-novaclient\" -H \"X-Auth-Token: HPAuth_4f3b51cae4b0eee8b26173e8\"\n\n\n7) use the changes-since parameter to get the list.\nGET /servers?changes-since=dateTime\n\n\nCURL Command:\n------------------------\ncurl -i https://compute.systest.aw1.hpcloud.net/v1.1/54336735645370/servers?changes-since=2012-02-15T12%3A22%3A15Z&fresh=1329308751.09 -X GET -H \"X-Auth-Project-Id: <email address hidden>\" -H \"User-Agent: python-novaclient\" -H \"X-Auth-Token: HPAuth_4f3b51cae4b0eee8b26173e8\"\n\nExpected result:\n-----------------------\nShould list the servers that have changed since 2012-02-15T12:22:15Z\n\nRefernce link:\n------------------\nhttp://docs.openstack.org/api/openstack-compute/2/content/ChangesSince.html\n\nActual result: \n\nLOG:\n-------\numamaheshk@HPOpenstackVM16:~/source/csbu-qa/AutomatedTests/python_tests/hp_regression/nova/nova_api_tests/servers$ nosetests -sv test_list_servers.py\nstart time: 2012-02-15T12:22:15Z\nCreated servers\nauto_server_active_0\nauto_server_active_1\nauto_server_delete_0\nauto_server_delete_1\ndeleting servers\nauto_server_delete_0\nauto_server_delete_1\nTest_list_servers_007_deleted (test_list_servers.TestServers) ... /servers?changes-since=2012-02-15T12:22:15Z&status=DELETED\nFAIL\ntest_list_servers_018_by_changes_since (test_list_servers.TestServers) ... /servers?changes-since=2012-02-15T12:22:15Z\nFAIL \n\n======================================================================\nFAIL: test_list_servers_018_by_changes_since (test_list_servers.TestServers)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/umamaheshk/source/csbu-qa/AutomatedTests/python_tests/hp_regression/nova/nova_api_tests/servers/test_list_servers.py\", line 331, in test_list_servers_018_by_changes_since\n    self.assertIn(delete_server_data.name,actualServerNames)\nAssertionError: u'auto_server_active_0' not found in []\n-------------------- >> begin captured logging << --------------------\nnovaclient.client: DEBUG: REQ: curl -i https://compute.systest.aw1.hpcloud.net/v1.1/54336735645370/servers?changes-since=2012-02-15T12%3A22%3A15Z&fresh=1329308751.09 -X GET -H \"X-Auth-Project-Id: <email address hidden>\" -H \"User-Agent: python-novaclient\" -H \"X-Auth-Token: HPAuth_4f3b51cae4b0eee8b26173e8\"\n\nnovaclient.client: DEBUG: RESP:{'date': 'Wed, 15 Feb 2012 07:05:37 GMT', 'status': '200', 'content-length': '15', 'content-type': 'application/json; charset=UTF-8', 'content-location': u'https://compute.systest.aw1.hpcloud.net/v1.1/54336735645370/servers?changes-since=2012-02-15T12%3A22%3A15Z&fresh=1329308751.09&#39;} {\"servers\": []}\n\n", 
            "date_created": "2012-03-13 14:19:19.261081+00:00", 
            "author": "https://api.launchpad.net/1.0/~veeravenkata-puppala"
        }, 
        {
            "content": "Hi \nIn my local environment I saved the start time and created 4 new instances  ACTIVE_1,ACTIVE_2,DEL_1,DEL_2 using nova boot command and then executed the below  curl commands to test the changes-since parameter\ncommand 1:\ncurl http://10.233.53.112:8774/v1.0/servers?changes-since=2012-03-14T15:07:25Z -H \"X-Server-Management-Url: http://10.233.53.112:8774/v1.0\" -H \"X-Auth-Token: 3ebc0e6b713e97f1ce86f8d84f2a2b6873019c64\"\n\noutput:\n{\"servers\": [{\"uuid\": \"76b9b580-86e0-457f-8737-9cd36e063fdf\", \"name\": \"DEL_2\", \"id\": 93}, {\"uuid\": \"76b0182d-9304-4fdd-84df-2b6828c0efb9\", \"name\": \"DEL_1\", \"id\": 92}, {\"uuid\": \"9b6baa2d-1894-48e6-8475-d2e46ae143fb\", \"name\": \"ACTIVE_2\", \"id\": 91}, {\"uuid\": \"8ad17225-4b75-4c49-b4a5-81de3371f405\", \"name\": \"ACTIVE_1\", \"id\": 90}, {\"uuid\": \"ec264f74-1055-4aa4-a010-6fde9afa4239\", \"name\": \"DEL_2\", \"id\": 89}]}\n\ncommand 2:\nand again I noted the time as Wed Mar 14 15:13:24 UTC 2012\nnow I deleted the instances DEL_1,DEL_2\nand tried the below command\n curl http://10.233.53.112:8774/v1.0/servers?\"changes-since=2012-03-14T15:13:24Z&status=DELETED\" -H \"X-Server-Management-Url: http://10.233.53.112:8774/v1.0\" -H \"X-Auth-Token: 3ebc0e6b713e97f1ce86f8d84f2a2b6873019c64\"\n\noutput:\n{\"servers\": [{\"uuid\": \"76b9b580-86e0-457f-8737-9cd36e063fdf\", \"name\": \"DEL_2\", \"id\": 93}, {\"uuid\": \"76b0182d-9304-4fdd-84df-2b6828c0efb9\", \"name\": \"DEL_1\", \"id\": 92}]}", 
            "date_created": "2012-03-14 11:05:04.166560+00:00", 
            "author": "https://api.launchpad.net/1.0/~bavirisetty-ramya"
        }
    ]
}