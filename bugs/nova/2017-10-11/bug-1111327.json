{
    "status": "Fix Released", 
    "last_updated": "2013-04-04 11:11:25.066362+00:00", 
    "description": "Update  the quota with a string cause ValueError.\n\nhttp put http://localhost:8774/v2/c385278dc70b4b1cbb2c87c7892db7b5/os-quota-sets/c385278dc70b4b1cbb2c87c7892db7b5 x-auth-token:606d3179c1b746239f1c7ace994a75a0 quota_set:='{\"key_pairs\": \"\"}' \n\n2013-01-31 18:45:59.711 ERROR nova.api.openstack [req-c2bb64d1-05c7-47b8-a4dc-0d56cadd9b6d admin admin] Caught error: invalid literal for int() with base 10: ''\n2013-01-31 18:45:59.711 TRACE nova.api.openstack Traceback (most recent call last):\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 81, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1296, in send\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1260, in call_application\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/python_keystoneclient-0.2.2.20.g3573672-py2.7.egg/keystoneclient/middleware/auth_token.py\", line 348, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 897, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     content_type, body, accept)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 957, in _process_stack\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 1046, in dispatch\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return method(req=request, **action_args)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/quotas.py\", line 90, in update\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     for key in body['quota_set'].keys():\n2013-01-31 18:45:59.711 TRACE nova.api.openstack ValueError: invalid literal for int() with base 10: ''", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1111327", 
    "owner": "https://api.launchpad.net/1.0/~hzzhoushaoyu", 
    "id": 1111327, 
    "index": 3363, 
    "created": "2013-01-31 10:46:44.141169+00:00", 
    "title": "update quota with invalid value(not integer) raise 500 error", 
    "comments": [
        {
            "content": "Update  the quota with a string cause ValueError.\n\nhttp put http://localhost:8774/v2/c385278dc70b4b1cbb2c87c7892db7b5/os-quota-sets/c385278dc70b4b1cbb2c87c7892db7b5 x-auth-token:606d3179c1b746239f1c7ace994a75a0 quota_set:='{\"key_pairs\": \"\"}' \n\n2013-01-31 18:45:59.711 ERROR nova.api.openstack [req-c2bb64d1-05c7-47b8-a4dc-0d56cadd9b6d admin admin] Caught error: invalid literal for int() with base 10: ''\n2013-01-31 18:45:59.711 TRACE nova.api.openstack Traceback (most recent call last):\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 81, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1296, in send\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1260, in call_application\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/python_keystoneclient-0.2.2.20.g3573672-py2.7.egg/keystoneclient/middleware/auth_token.py\", line 348, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 897, in __call__\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     content_type, body, accept)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 957, in _process_stack\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 1046, in dispatch\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     return method(req=request, **action_args)\n2013-01-31 18:45:59.711 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/quotas.py\", line 90, in update\n2013-01-31 18:45:59.711 TRACE nova.api.openstack     for key in body['quota_set'].keys():\n2013-01-31 18:45:59.711 TRACE nova.api.openstack ValueError: invalid literal for int() with base 10: ''", 
            "date_created": "2013-01-31 10:46:44.141169+00:00", 
            "author": "https://api.launchpad.net/1.0/~hzzhoushaoyu"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/20890", 
            "date_created": "2013-01-31 11:09:07.425278+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Request as:\nPUT /v2/c385278dc70b4b1cbb2c87c7892db7b5/os-quota-sets/c385278dc70b4b1cbb2c87c7892db7b5 HTTP/1.1\nAccept: application/json\nAccept-Encoding: identity, deflate, compress, gzip\nHost: localhost:8774\nUser-Agent: HTTPie/0.3.0\ncontent-type: application/xml\nx-auth-token: 304ab100c4aa405aabaa3998613b190b\n\n<?xml version='1.0' encoding='UTF-8'?>\n<quota_set id=\"c385278dc70b4b1cbb2c87c7892db7b5\">\n        <security_groups></security_groups>\n</quota_set>\n\ncauses\n\n2013-02-01 11:46:49.255 ERROR nova.api.openstack.wsgi [req-0747c62b-cf4e-43ca-b70a-02425843e9ab admin admin] Exception handling resource: int() argument must be a string or a number, not 'dict'\n2013-02-01 11:46:49.255 TRACE nova.api.openstack.wsgi Traceback (most recent call last):\n2013-02-01 11:46:49.255 TRACE nova.api.openstack.wsgi   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 957, in _process_stack\n2013-02-01 11:46:49.255 TRACE nova.api.openstack.wsgi     action_result = self.dispatch(meth, request, action_args)\n2013-02-01 11:46:49.255 TRACE nova.api.openstack.wsgi   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 1046, in dispatch\n2013-02-01 11:46:49.255 TRACE nova.api.openstack.wsgi     return method(req=request, **action_args)\n2013-02-01 11:46:49.255 TRACE nova.api.openstack.wsgi   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/quotas.py\", line 94, in update\n2013-02-01 11:46:49.255 TRACE nova.api.openstack.wsgi     value = int(body['quota_set'][key])\n2013-02-01 11:46:49.255 TRACE nova.api.openstack.wsgi TypeError: int() argument must be a string or a number, not 'dict'\n2013-02-01 11:46:49.255 TRACE nova.api.openstack.wsgi", 
            "date_created": "2013-02-01 03:48:51.487240+00:00", 
            "author": "https://api.launchpad.net/1.0/~hzzhoushaoyu"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/20890\nCommitted: http://github.com/openstack/nova/commit/43bd52ba9f59086f2aaf7c5cc3a81ca40721f887\nSubmitter: Jenkins\nBranch:    master\n\ncommit 43bd52ba9f59086f2aaf7c5cc3a81ca40721f887\nAuthor: Zhou ShaoYu <email address hidden>\nDate:   Thu Jan 31 19:02:30 2013 +0800\n\n    Fix update quota with invalid value\n    \n    If update quota with a value which is not integer, it will response\n    with http status code 500. Catch the exception and continue for\n    updating other quotas.\n    \n    Fix LP# 1111327\n    \n    Change-Id: I0ab3b10ff106a2e6c7677d1acdb55c2f35c492db\n", 
            "date_created": "2013-02-13 08:20:03.771578+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}