{
    "status": "Fix Released", 
    "last_updated": "2012-09-27 15:25:34.888333+00:00", 
    "description": "Instance could not be terminated after deleting a network\n\n2012-06-05 10:41:56 TRACE nova.rpc.amqp Traceback (most recent call last):\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/amqp.py\", line 252, in _process_data\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     rval = node_func(context=ctxt, **node_args)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 114, in wrapped\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 153, in decorated_function\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     function(self, context, instance_uuid, *args, **kwargs)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 177, in decorated_function\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     sys.exc_info())\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     self.gen.next()\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 171, in decorated_function\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     return function(self, context, instance_uuid, *args, **kwargs)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 747, in terminate_instance\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     do_terminate_instance()\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 946, in inner\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     retval = f(*args, **kwargs)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 740, in do_terminate_instance\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     self._delete_instance(context, instance)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 718, in _delete_instance\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     self._shutdown_instance(context, instance, 'Terminating')\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 678, in _shutdown_instance\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     network_info = self._get_instance_nw_info(context, instance)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 313, in _get_instance_nw_info\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     instance)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/network/api.py\", line 219, in get_instance_nw_info\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     'args': args})\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/__init__.py\", line 68, in call\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     return _get_impl().call(context, topic, msg, timeout)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/impl_qpid.py\", line 521, in call\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     return rpc_amqp.call(context, topic, msg, timeout, Connection.pool)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/amqp.py\", line 338, in call\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     rv = list(rv)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/amqp.py\", line 306, in __iter__\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     raise result\n2012-06-05 10:41:56 TRACE nova.rpc.amqp RemoteError: Remote error: NetworkNotFound Network 2 could not be found.\n\nReproduce steps:\n1) nova-manage network create \n2) launch an instance\n3) nova-manage network delete\n4) terminate instance", 
    "tags": [
        "ops"
    ], 
    "importance": "High", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/1008875", 
    "owner": "https://api.launchpad.net/1.0/~mikal", 
    "id": 1008875, 
    "index": 699, 
    "created": "2012-06-05 07:49:07.144695+00:00", 
    "title": "Instance could not be terminated after deleting a network", 
    "comments": [
        {
            "content": "Instance could not be terminated after deleting a network\n\n2012-06-05 10:41:56 TRACE nova.rpc.amqp Traceback (most recent call last):\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/amqp.py\", line 252, in _process_data\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     rval = node_func(context=ctxt, **node_args)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 114, in wrapped\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 153, in decorated_function\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     function(self, context, instance_uuid, *args, **kwargs)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 177, in decorated_function\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     sys.exc_info())\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     self.gen.next()\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 171, in decorated_function\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     return function(self, context, instance_uuid, *args, **kwargs)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 747, in terminate_instance\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     do_terminate_instance()\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/utils.py\", line 946, in inner\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     retval = f(*args, **kwargs)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 740, in do_terminate_instance\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     self._delete_instance(context, instance)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 718, in _delete_instance\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     self._shutdown_instance(context, instance, 'Terminating')\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 678, in _shutdown_instance\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     network_info = self._get_instance_nw_info(context, instance)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 313, in _get_instance_nw_info\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     instance)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/network/api.py\", line 219, in get_instance_nw_info\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     'args': args})\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/__init__.py\", line 68, in call\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     return _get_impl().call(context, topic, msg, timeout)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/impl_qpid.py\", line 521, in call\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     return rpc_amqp.call(context, topic, msg, timeout, Connection.pool)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/amqp.py\", line 338, in call\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     rv = list(rv)\n2012-06-05 10:41:56 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/amqp.py\", line 306, in __iter__\n2012-06-05 10:41:56 TRACE nova.rpc.amqp     raise result\n2012-06-05 10:41:56 TRACE nova.rpc.amqp RemoteError: Remote error: NetworkNotFound Network 2 could not be found.\n\nReproduce steps:\n1) nova-manage network create \n2) launch an instance\n3) nova-manage network delete\n4) terminate instance", 
            "date_created": "2012-06-05 07:49:07.144695+00:00", 
            "author": "https://api.launchpad.net/1.0/~davidnaori3"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/10847", 
            "date_created": "2012-08-05 10:13:01.879273+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/10847\nCommitted: http://github.com/openstack/nova/commit/27ffef9c77d17e2252785bdc1117763248a374d0\nSubmitter: Jenkins\nBranch:    master\n\ncommit 27ffef9c77d17e2252785bdc1117763248a374d0\nAuthor: Michael Still <email address hidden>\nDate:   Sun Aug 5 20:05:23 2012 +1000\n\n    Handle NetworkNotFound in _shutdown_instance.\n    \n    If no network is found, continue to perform the rest of the instance\n    shutdown, instead of propogating the exception. Resolves bug 1008875.\n    \n    Change-Id: Ia78480edaed52932830da7b4e49c15fd2e1fa315\n", 
            "date_created": "2012-08-05 23:47:51.068080+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}