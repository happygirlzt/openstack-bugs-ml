{
    "status": "Invalid", 
    "last_updated": "2014-04-07 22:03:47.598381+00:00", 
    "description": "Hello everyone,\n\n  I have meet a problem when I want to create an instance in Compute node (in Multi node systems)\n\n  I installed Multi nodes system with two machines by Devstack ( stable version havanna) and installed Savanna by myself (0.3 stable version).\n\n  I can create an instance in whichever node by default image (format \"AMI\" ) and I success to create an instance in each node by an \"ISO\" image created by myself. Everything is OK.\n\n  But when I want to create an instance by \"QCOW2\" image, I just can create instance in Controller node, And when I use the bellow command to forcefully creant instance in compute node\n\n  \"nova boot --flavor m1.tiny --image (id of \"QCOW2\" image) --availability-zone nova:server2 Test\"\n\n  The node is always on Status \"ERROR\"\n\n   I check its information by \"nova show (id of instance)\", it show me the bellow information.\n\n\n\n| fault                                | {\"message\": \"'ascii' codec can't encode character u'\\\\xe8' in position 28: ordinal not in range(128)\", \"code\": 500, \"details\": \"  File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 258, in decorated_function |\n|                                      |     return function(self, context, *args, **kwargs)                                                                                                                                                                 |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1630, in run_instance                                                                                                                                      |\n|                                      |     do_run_instance()                                                                                                                                                                                               |\n|                                      |   File \\\"/opt/stack/nova/nova/openstack/common/lockutils.py\\\", line 246, in inner                                                                                                                                   |\n|                                      |     return f(*args, **kwargs)                                                                                                                                                                                       |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1629, in do_run_instance                                                                                                                                   |\n|                                      |     legacy_bdm_in_spec)                                                                                                                                                                                             |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 968, in _run_instance                                                                                                                                      |\n|                                      |     notify(\\\"error\\\", msg=unicode(e))  # notify that build failed                                                                                                                                                   |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 952, in _run_instance                                                                                                                                      |\n|                                      |     instance, image_meta, legacy_bdm_in_spec)                                                                                                                                                                       |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1043, in _build_instance                                                                                                                                   |\n|                                      |     set_access_ip=set_access_ip)                                                                                                                                                                                    |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1426, in _spawn                                                                                                                                            |\n|                                      |     LOG.exception(_('Instance failed to spawn'), instance=instance)                                                                                                                                                 |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1423, in _spawn                                                                                                                                            |\n|                                      |     block_device_info)                                                                                                                                                                                              |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/driver.py\\\", line 2084, in spawn                                                                                                                                         |\n|                                      |     admin_pass=admin_password)                                                                                                                                                                                      |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/driver.py\\\", line 2389, in _create_image                                                                                                                                 |\n|                                      |     project_id=instance['project_id'])                                                                                                                                                                              |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/imagebackend.py\\\", line 174, in cache                                                                                                                                    |\n|                                      |     *args, **kwargs)                                                                                                                                                                                                |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/imagebackend.py\\\", line 337, in create_image                                                                                                                             |\n|                                      |     copy_qcow2_image(base, self.path, size)                                                                                                                                                                         |\n|                                      |   File \\\"/opt/stack/nova/nova/openstack/common/lockutils.py\\\", line 246, in inner                                                                                                                                   |\n|                                      |     return f(*args, **kwargs)                                                                                                                                                                                       |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/imagebackend.py\\\", line 303, in copy_qcow2_image                                                                                                                         |\n|                                      |     disk.extend(target, size, use_cow=True)                                                                                                                                                                         |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/disk/api.py\\\", line 141, in extend                                                                                                                                               |\n|                                      |     if not is_image_partitionless(image, use_cow):                                                                                                                                                                  |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/disk/api.py\\\", line 181, in is_image_partitionless                                                                                                                               |\n|                                      |     fs.setup()                                                                                                                                                                                                      |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/disk/vfs/localfs.py\\\", line 83, in setup                                                                                                                                         |\n|                                      |     LOG.debug(_(\\\"Failed to mount image %(ex)s)\\\"), {'ex': str(e)})                                                                                                                                                 |\n|                                      | \", \"created\": \"2014-03-19T16:39:32Z\"}\n\n\nI'm sure that in the name of image and path of image, there is no strange character. And I'm sure that the Server2 has enough resource (CPU, RAM and disk).\n\nSo, I'm not sure this is a bug or not.\n\nI hope someone could help me and thanks in advance.\n\nPS: the \"QCOW2\" image is the pre-built image which we could download from \"https://savanna.readthedocs.org/en/0.3/userdoc/vanilla_plugin.html\" and \"https://savanna.readthedocs.org/en/0.3/userdoc/hdp_plugin.html\".", 
    "tags": [
        "libvirt"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1295608", 
    "owner": "None", 
    "id": 1295608, 
    "index": 4670, 
    "created": "2014-03-21 10:24:46.304647+00:00", 
    "title": "'QCOW2' image has a problem in Creating an instance on Compute node", 
    "comments": [
        {
            "content": "Hello everyone,\n\n  I have meet a problem when I want to create an instance in Compute node (in Multi node systems)\n\n  I installed Multi nodes system with two machines by Devstack ( stable version havanna) and installed Savanna by myself (0.3 stable version).\n\n  I can create an instance in whichever node by default image (format \"AMI\" ) and I success to create an instance in each node by an \"ISO\" image created by myself. Everything is OK.\n\n  But when I want to create an instance by \"QCOW2\" image, I just can create instance in Controller node, And when I use the bellow command to forcefully creant instance in compute node\n\n  \"nova boot --flavor m1.tiny --image (id of \"QCOW2\" image) --availability-zone nova:server2 Test\"\n\n  The node is always on Status \"ERROR\"\n\n   I check its information by \"nova show (id of instance)\", it show me the bellow information.\n\n\n\n| fault                                | {\"message\": \"'ascii' codec can't encode character u'\\\\xe8' in position 28: ordinal not in range(128)\", \"code\": 500, \"details\": \"  File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 258, in decorated_function |\n|                                      |     return function(self, context, *args, **kwargs)                                                                                                                                                                 |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1630, in run_instance                                                                                                                                      |\n|                                      |     do_run_instance()                                                                                                                                                                                               |\n|                                      |   File \\\"/opt/stack/nova/nova/openstack/common/lockutils.py\\\", line 246, in inner                                                                                                                                   |\n|                                      |     return f(*args, **kwargs)                                                                                                                                                                                       |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1629, in do_run_instance                                                                                                                                   |\n|                                      |     legacy_bdm_in_spec)                                                                                                                                                                                             |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 968, in _run_instance                                                                                                                                      |\n|                                      |     notify(\\\"error\\\", msg=unicode(e))  # notify that build failed                                                                                                                                                   |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 952, in _run_instance                                                                                                                                      |\n|                                      |     instance, image_meta, legacy_bdm_in_spec)                                                                                                                                                                       |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1043, in _build_instance                                                                                                                                   |\n|                                      |     set_access_ip=set_access_ip)                                                                                                                                                                                    |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1426, in _spawn                                                                                                                                            |\n|                                      |     LOG.exception(_('Instance failed to spawn'), instance=instance)                                                                                                                                                 |\n|                                      |   File \\\"/opt/stack/nova/nova/compute/manager.py\\\", line 1423, in _spawn                                                                                                                                            |\n|                                      |     block_device_info)                                                                                                                                                                                              |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/driver.py\\\", line 2084, in spawn                                                                                                                                         |\n|                                      |     admin_pass=admin_password)                                                                                                                                                                                      |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/driver.py\\\", line 2389, in _create_image                                                                                                                                 |\n|                                      |     project_id=instance['project_id'])                                                                                                                                                                              |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/imagebackend.py\\\", line 174, in cache                                                                                                                                    |\n|                                      |     *args, **kwargs)                                                                                                                                                                                                |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/imagebackend.py\\\", line 337, in create_image                                                                                                                             |\n|                                      |     copy_qcow2_image(base, self.path, size)                                                                                                                                                                         |\n|                                      |   File \\\"/opt/stack/nova/nova/openstack/common/lockutils.py\\\", line 246, in inner                                                                                                                                   |\n|                                      |     return f(*args, **kwargs)                                                                                                                                                                                       |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/libvirt/imagebackend.py\\\", line 303, in copy_qcow2_image                                                                                                                         |\n|                                      |     disk.extend(target, size, use_cow=True)                                                                                                                                                                         |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/disk/api.py\\\", line 141, in extend                                                                                                                                               |\n|                                      |     if not is_image_partitionless(image, use_cow):                                                                                                                                                                  |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/disk/api.py\\\", line 181, in is_image_partitionless                                                                                                                               |\n|                                      |     fs.setup()                                                                                                                                                                                                      |\n|                                      |   File \\\"/opt/stack/nova/nova/virt/disk/vfs/localfs.py\\\", line 83, in setup                                                                                                                                         |\n|                                      |     LOG.debug(_(\\\"Failed to mount image %(ex)s)\\\"), {'ex': str(e)})                                                                                                                                                 |\n|                                      | \", \"created\": \"2014-03-19T16:39:32Z\"}\n\n\nI'm sure that in the name of image and path of image, there is no strange character. And I'm sure that the Server2 has enough resource (CPU, RAM and disk).\n\nSo, I'm not sure this is a bug or not.\n\nI hope someone could help me and thanks in advance.\n\nPS: the \"QCOW2\" image is the pre-built image which we could download from \"https://savanna.readthedocs.org/en/0.3/userdoc/vanilla_plugin.html\" and \"https://savanna.readthedocs.org/en/0.3/userdoc/hdp_plugin.html\".", 
            "date_created": "2014-03-21 10:24:46.304647+00:00", 
            "author": "https://api.launchpad.net/1.0/~bo-zhang"
        }, 
        {
            "content": "I think I foud a little thing in the error log, and hava a try in Terminal.\n\nIn error log, there is \" 'ascii' codec can't encode character u'\\\\xe8' \". So I try  \"  print u'\\xe8' \" in Python, it show \"\u00e8\". \nBut\" print u'\\\\xe8' \", it just show \" \\xe8\".\n\nIt is not a character!!\n\nBut I'm not sure this is a little problem or not.", 
            "date_created": "2014-03-27 17:30:21.598917+00:00", 
            "author": "https://api.launchpad.net/1.0/~bo-zhang"
        }, 
        {
            "content": "Hello everyone,\n\n  I have solved my problem.\n\n  It is caused by the different system language.\n\n  My controller node install ubuntu 12.04 english. But my compute node install ubuntu 12.04 french !! (I'm a asiatic student in France, so french, english all work for me.)\n\n  When I reinstall ubuntu on my compute node (of crouse, version english), the problem has gone.\n\n  Hope it will help you.", 
            "date_created": "2014-03-31 14:37:38.420794+00:00", 
            "author": "https://api.launchpad.net/1.0/~bo-zhang"
        }
    ]
}