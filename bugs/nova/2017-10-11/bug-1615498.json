{
    "status": "In Progress", 
    "last_updated": "2017-06-29 11:44:54.422909+00:00", 
    "description": "The vmware_nsx NSX|V and DVS plugins enable a admin to create a provide network that points to an existing portgroup. \n\nOne is uanble to spin up and instance on these networks.\n\nThe trace is as follows:\n\n2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a] Traceback (most recent call last):\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2514, in _build_resources\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     yield resources\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2384, in _build_and_run_instance\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     block_device_info=block_device_info)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/driver.py\", line 429, in spawn\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     admin_password, network_info, block_device_info)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vmops.py\", line 872, in spawn\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     metadata)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vmops.py\", line 328, in build_virtual_machine\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     pci_devices)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vif.py\", line 170, in get_vif_info\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     is_neutron, vif, pci_info))\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vif.py\", line 138, in get_vif_dict\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     ref = get_network_ref(session, cluster, vif, is_neutron)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vif.py\", line 127, in get_network_ref\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     network_ref = _get_neutron_network(session, network_id, cluster, vif)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vif.py\", line 117, in _get_neutron_network\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     raise exception.NetworkNotFoundForBridge(bridge=network_id)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a] NetworkNotFoundForBridge: Network could not be found for bridge 7bc687f6-aeff-4420-9663-03e75b7c28e3\n        \n\nThis is due to the fact that the validation for the network selection is done according the the network UUID (which is the name of the port group). In the case of importing a existing port group this actually needs to be the name of the portgroup.\n\nThe NSX|V and DVS plugins enforce that the name of the network needs to match the name of the existing port group", 
    "tags": [
        "vmware"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1615498", 
    "owner": "https://api.launchpad.net/1.0/~garyk", 
    "id": 1615498, 
    "index": 6385, 
    "created": "2016-08-22 06:37:14.470937+00:00", 
    "title": "VMware: unable to launch an instance on a 'portgroup' provider network", 
    "comments": [
        {
            "content": "The vmware_nsx NSX|V and DVS plugins enable a admin to create a provide network that points to an existing portgroup. \n\nOne is uanble to spin up and instance on these networks.\n\nThe trace is as follows:\n\n2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a] Traceback (most recent call last):\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2514, in _build_resources\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     yield resources\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2384, in _build_and_run_instance\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     block_device_info=block_device_info)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/driver.py\", line 429, in spawn\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     admin_password, network_info, block_device_info)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vmops.py\", line 872, in spawn\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     metadata)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vmops.py\", line 328, in build_virtual_machine\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     pci_devices)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vif.py\", line 170, in get_vif_info\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     is_neutron, vif, pci_info))\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vif.py\", line 138, in get_vif_dict\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     ref = get_network_ref(session, cluster, vif, is_neutron)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vif.py\", line 127, in get_network_ref\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     network_ref = _get_neutron_network(session, network_id, cluster, vif)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]   File \"/usr/lib/python2.7/dist-packages/nova/virt/vmwareapi/vif.py\", line 117, in _get_neutron_network\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a]     raise exception.NetworkNotFoundForBridge(bridge=network_id)\n        2016-08-20 01:16:01.289 13629 TRACE nova.compute.manager [instance: cd811ab1-9bef-4f07-b107-196276123a6a] NetworkNotFoundForBridge: Network could not be found for bridge 7bc687f6-aeff-4420-9663-03e75b7c28e3\n        \n\nThis is due to the fact that the validation for the network selection is done according the the network UUID (which is the name of the port group). In the case of importing a existing port group this actually needs to be the name of the portgroup.\n\nThe NSX|V and DVS plugins enforce that the name of the network needs to match the name of the existing port group", 
            "date_created": "2016-08-22 06:37:14.470937+00:00", 
            "author": "https://api.launchpad.net/1.0/~garyk"
        }, 
        {
            "content": "There are no currently open reviews on this bug, changing the status back to the previous state and unassigning. If there are active reviews related to this bug, please include links in comments. ", 
            "date_created": "2017-06-27 19:22:25.649756+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Found open reviews for this bug in gerrit, setting to In Progress. \n\nreview: https://review.openstack.org/358425 in branch: master\n", 
            "date_created": "2017-06-29 11:44:53.954120+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }
    ]
}