{
    "status": "Invalid", 
    "last_updated": "2012-07-12 13:44:57.776445+00:00", 
    "description": "I'm using the stable/essex branch on ubuntu 11.10\nYersterday, I updated my code, and an error appears when I restarted nova-compute or nova-scheduler : \n2012-05-21 16:15:37 DEBUG nova.utils [req-b0de5796-04dc-4621-9418-5de025406e7d None None] backend <module 'nova.db.sqlalchemy.api' from '/usr/local/src/nova/nova/db/sqlalchemy/api.pyc'> from (pid=15990) __get_backend /usr/local/src/nova/nova/utils.py:658\n2012-05-21 16:15:37 DEBUG nova.utils [req-b0de5796-04dc-4621-9418-5de025406e7d None None] Inner Exception: 'module' object has no attribute 'impl_kombu' from (pid=15990) import_class /usr/local/src/nova/nova/utils.py:78\n2012-05-21 16:15:37 CRITICAL nova [-] Class impl_kombu could not be found: 'module' object has no attribute 'impl_kombu'\n2012-05-21 16:15:37 TRACE nova Traceback (most recent call last):\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/bin/nova-scheduler\", line 7, in <module>\n2012-05-21 16:15:37 TRACE nova     execfile(__file__)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/bin/nova-scheduler\", line 51, in <module>\n2012-05-21 16:15:37 TRACE nova     service.wait()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/service.py\", line 413, in wait\n2012-05-21 16:15:37 TRACE nova     _launcher.wait()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/service.py\", line 131, in wait\n2012-05-21 16:15:37 TRACE nova     service.wait()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/eventlet-0.9.16-py2.7.egg/eventlet/greenthread.py\", line 166, in wait\n2012-05-21 16:15:37 TRACE nova     return self._exit_event.wait()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/eventlet-0.9.16-py2.7.egg/eventlet/event.py\", line 116, in wait\n2012-05-21 16:15:37 TRACE nova     return hubs.get_hub().switch()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/eventlet-0.9.16-py2.7.egg/eventlet/hubs/hub.py\", line 177, in switch\n2012-05-21 16:15:37 TRACE nova     return self.greenlet.switch()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/eventlet-0.9.16-py2.7.egg/eventlet/greenthread.py\", line 192, in main\n2012-05-21 16:15:37 TRACE nova     result = function(*args, **kwargs)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/service.py\", line 101, in run_server\n2012-05-21 16:15:37 TRACE nova     server.start()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/service.py\", line 176, in start\n2012-05-21 16:15:37 TRACE nova     self.conn = rpc.create_connection(new=True)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/rpc/__init__.py\", line 46, in create_connection\n2012-05-21 16:15:37 TRACE nova     return _get_impl().create_connection(new=new)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/rpc/__init__.py\", line 201, in _get_impl\n2012-05-21 16:15:37 TRACE nova     _RPCIMPL = utils.import_object(FLAGS.rpc_backend)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/utils.py\", line 88, in import_object\n2012-05-21 16:15:37 TRACE nova     cls = import_class(import_str)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/utils.py\", line 79, in import_class\n2012-05-21 16:15:37 TRACE nova     raise exception.ClassNotFound(class_name=class_str, exception=exc)\n2012-05-21 16:15:37 TRACE nova ClassNotFound: Class impl_kombu could not be found: 'module' object has no attribute 'impl_kombu'\n\n\nbasically, the kombu module gets an error when it is loaded, it can't find the \"loads\" module in the anyjson package. The issue that the dist-package python directory has two anyjson egg-info directory :\n\nanyjson-0.2.4-py2.7.egg/ and anyjson-0.3.1.egg-info/\n\nanyjson-0.3.1should be used, it has loads module, but anyjson-0.2.4 is loaded. \nThe workaround is to erase anyjson-0.2.4-py2.7.egg/", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1002726", 
    "owner": "None", 
    "id": 1002726, 
    "index": 2824, 
    "created": "2012-05-22 08:19:41.428679+00:00", 
    "title": "kombu classnotfound in stable/essex branch", 
    "comments": [
        {
            "content": "I'm using the stable/essex branch on ubuntu 11.10\nYersterday, I updated my code, and an error appears when I restarted nova-compute or nova-scheduler : \n2012-05-21 16:15:37 DEBUG nova.utils [req-b0de5796-04dc-4621-9418-5de025406e7d None None] backend <module 'nova.db.sqlalchemy.api' from '/usr/local/src/nova/nova/db/sqlalchemy/api.pyc'> from (pid=15990) __get_backend /usr/local/src/nova/nova/utils.py:658\n2012-05-21 16:15:37 DEBUG nova.utils [req-b0de5796-04dc-4621-9418-5de025406e7d None None] Inner Exception: 'module' object has no attribute 'impl_kombu' from (pid=15990) import_class /usr/local/src/nova/nova/utils.py:78\n2012-05-21 16:15:37 CRITICAL nova [-] Class impl_kombu could not be found: 'module' object has no attribute 'impl_kombu'\n2012-05-21 16:15:37 TRACE nova Traceback (most recent call last):\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/bin/nova-scheduler\", line 7, in <module>\n2012-05-21 16:15:37 TRACE nova     execfile(__file__)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/bin/nova-scheduler\", line 51, in <module>\n2012-05-21 16:15:37 TRACE nova     service.wait()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/service.py\", line 413, in wait\n2012-05-21 16:15:37 TRACE nova     _launcher.wait()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/service.py\", line 131, in wait\n2012-05-21 16:15:37 TRACE nova     service.wait()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/eventlet-0.9.16-py2.7.egg/eventlet/greenthread.py\", line 166, in wait\n2012-05-21 16:15:37 TRACE nova     return self._exit_event.wait()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/eventlet-0.9.16-py2.7.egg/eventlet/event.py\", line 116, in wait\n2012-05-21 16:15:37 TRACE nova     return hubs.get_hub().switch()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/eventlet-0.9.16-py2.7.egg/eventlet/hubs/hub.py\", line 177, in switch\n2012-05-21 16:15:37 TRACE nova     return self.greenlet.switch()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/eventlet-0.9.16-py2.7.egg/eventlet/greenthread.py\", line 192, in main\n2012-05-21 16:15:37 TRACE nova     result = function(*args, **kwargs)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/service.py\", line 101, in run_server\n2012-05-21 16:15:37 TRACE nova     server.start()\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/service.py\", line 176, in start\n2012-05-21 16:15:37 TRACE nova     self.conn = rpc.create_connection(new=True)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/rpc/__init__.py\", line 46, in create_connection\n2012-05-21 16:15:37 TRACE nova     return _get_impl().create_connection(new=new)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/rpc/__init__.py\", line 201, in _get_impl\n2012-05-21 16:15:37 TRACE nova     _RPCIMPL = utils.import_object(FLAGS.rpc_backend)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/utils.py\", line 88, in import_object\n2012-05-21 16:15:37 TRACE nova     cls = import_class(import_str)\n2012-05-21 16:15:37 TRACE nova   File \"/usr/local/src/nova/nova/utils.py\", line 79, in import_class\n2012-05-21 16:15:37 TRACE nova     raise exception.ClassNotFound(class_name=class_str, exception=exc)\n2012-05-21 16:15:37 TRACE nova ClassNotFound: Class impl_kombu could not be found: 'module' object has no attribute 'impl_kombu'\n\n\nbasically, the kombu module gets an error when it is loaded, it can't find the \"loads\" module in the anyjson package. The issue that the dist-package python directory has two anyjson egg-info directory :\n\nanyjson-0.2.4-py2.7.egg/ and anyjson-0.3.1.egg-info/\n\nanyjson-0.3.1should be used, it has loads module, but anyjson-0.2.4 is loaded. \nThe workaround is to erase anyjson-0.2.4-py2.7.egg/", 
            "date_created": "2012-05-22 08:19:41.428679+00:00", 
            "author": "https://api.launchpad.net/1.0/~mathieu-rohon"
        }, 
        {
            "content": "This seems like a bug specific to your environment. How do you suggest we solve this within nova?", 
            "date_created": "2012-06-07 14:25:38.164922+00:00", 
            "author": "https://api.launchpad.net/1.0/~bcwaldon"
        }, 
        {
            "content": "Distribution / dependency installation issue, not fixable from within Nova. Closing, please set status back to New if you disagree.", 
            "date_created": "2012-07-12 13:44:54.628598+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }
    ]
}