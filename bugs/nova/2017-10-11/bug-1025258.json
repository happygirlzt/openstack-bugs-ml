{
    "status": "Invalid", 
    "last_updated": "2013-03-18 02:05:38.916549+00:00", 
    "description": "Hi,I upgrade my code to the newest in July 15.And I found the code has some bugs the can not finish deleting the instance in one time operation.It need to operate two or more times action of delete instance.I find that the message queue has some error in nova-compute which run in compute node.\n\nThe error output is:\n\n2012-07-17 10:39:31 TRACE nova.openstack.common.rpc.amqp [u'Traceback (most recent call last):\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n    rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n    return getattr(proxyobj, method)(ctxt, **kwargs)\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\\n    return func(self, context, *args, **kwargs)\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 387, in deallocate_for_instance\\n    super(FloatingIP, self).deallocate_for_instance(context, **kwargs)\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\\n    return func(self, context, *args, **kwargs)\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 990, in deallocate_for_instance\\n    self.deallocate_fixed_ip(context, fixed_ip[\\'address\\'], **kwargs)\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 248, in deallocate_fixed_ip\\n    \\'args\\': args})\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/__init__.py\", line 100, in call\\n    return _get_impl().call(cfg.CONF, context, topic, msg, timeout)\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/impl_kombu.py\", line 712, in call\\n    rpc_amqp.get_connection_pool(conf, Connection))\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 368, in call\\n    rv = list(rv)\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 336, in __iter__\\n    raise result\\n', u'ProcessExecutionError_Remote: Unexpected error while running command.\\nCommand: sudo dhcp_release br100 172.168.1.66 fa:16:3e:0f:06:7e\\nExit code: 1\\nStdout: \\'\\'\\nStderr: \\'sudo: dhcp_release: command not found\\\\n\\'\\nTraceback (most recent call last):\\n\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n    rval = self.proxy.dispatch(ctxt, version, method, **args)\\n\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n    return getattr(proxyobj, method)(ctxt, **kwargs)\\n\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 252, in deallocate_fixed_ip\\n    address)\\n\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 1297, in deallocate_fixed_ip\\n    self.driver.release_dhcp(dev, address, vif[\\'address\\'])\\n\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/linux_net.py\", line 649, in release_dhcp\\n    utils.execute(\\'dhcp_release\\', dev, address, mac_address, run_as_root=True)\\n\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/utils.py\", line 191, in execute\\n    cmd=\\' \\'.join(cmd))\\n\\nProcessExecutionError: Unexpected error while running command.\\nCommand: sudo dhcp_release br100 172.168.1.66 fa:16:3e:0f:06:7e\\nExit code: 1\\nStdout: \\'\\'\\nStderr: \\'sudo: dhcp_release: command not found\\\\n\\'\\n\\n'].\n\n\n\nI test the code which dowload in July 9,it is ok.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1025258", 
    "owner": "None", 
    "id": 1025258, 
    "index": 2945, 
    "created": "2012-07-16 13:17:25.978817+00:00", 
    "title": "The action of delete instance can not finish in one time operation", 
    "comments": [
        {
            "content": "Hi,I upgrade my code to the newest in July 15.And I found the code has some bugs the can not finish deleting the instance in one time operation.It need to operate two or more times action of delete instance.I find that the message queue has some error in nova-compute which run in compute node.\n\nI test the code which dowload in July 9,it is ok.", 
            "date_created": "2012-07-16 13:17:25.978817+00:00", 
            "author": "https://api.launchpad.net/1.0/~eelilei"
        }, 
        {
            "content": "The error output is:\r\n2012-07-17 10:39:31 TRACE nova.openstack.common.rpc.amqp [u'Traceback (most recent call last):\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n return getattr(proxyobj, method)(ctxt, **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\\n return func(self, context, *args, **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 387, in deallocate_for_instance\\n super(FloatingIP, self).deallocate_for_instance(context, **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\\n return func(self, context, *args, **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 990, in deallocate_for_instance\\n self.deallocate_fixed_ip(context, fixed_ip[\\'address\\'], **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 248, in deallocate_fixed_ip\\n \\'args\\': args})\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/__init__.py\", line 100, in call\\n return _get_impl().call(cfg.CONF, context, topic, msg, timeout)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/impl_kombu.py\", line 712, in call\\n rpc_amqp.get_connection_pool(conf, Connection))\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 368, in call\\n rv = list(rv)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 336, in __iter__\\n raise result\\n', u'ProcessExecutionError_Remote: Unexpected error while running command.\\nCommand: sudo dhcp_release br100 172.168.1.66 fa:16:3e:0f:06:7e\\nExit code: 1\\nStdout: \\'\\'\\nStderr: \\'sudo: dhcp_release: command not found\\\\n\\'\\nTraceback (most recent call last):\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n rval = self.proxy.dispatch(ctxt, version, method, **args)\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n return getattr(proxyobj, method)(ctxt, **kwargs)\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 252, in deallocate_fixed_ip\\n address)\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 1297, in deallocate_fixed_ip\\n self.driver.release_dhcp(dev, address, vif[\\'address\\'])\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/linux_net.py\", line 649, in release_dhcp\\n utils.execute(\\'dhcp_release\\', dev, address, mac_address, run_as_root=True)\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/utils.py\", line 191, in execute\\n cmd=\\' \\'.join(cmd))\\n\\nProcessExecutionError: Unexpected error while running command.\\nCommand: sudo dhcp_release br100 172.168.1.66 fa:16:3e:0f:06:7e\\nExit code: 1\\nStdout: \\'\\'\\nStderr: \\'sudo: dhcp_release: command not found\\\\n\\'\\n\\n'].\r\n", 
            "date_created": "2012-07-17 03:58:44.629936+00:00", 
            "author": "https://api.launchpad.net/1.0/~eelilei"
        }, 
        {
            "content": "The error output is:\r\n2012-07-17 10:39:31 TRACE nova.openstack.common.rpc.amqp [u'Traceback (most recent call last):\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n return getattr(proxyobj, method)(ctxt, **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\\n return func(self, context, *args, **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 387, in deallocate_for_instance\\n super(FloatingIP, self).deallocate_for_instance(context, **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\\n return func(self, context, *args, **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 990, in deallocate_for_instance\\n self.deallocate_fixed_ip(context, fixed_ip[\\'address\\'], **kwargs)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 248, in deallocate_fixed_ip\\n \\'args\\': args})\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/__init__.py\", line 100, in call\\n return _get_impl().call(cfg.CONF, context, topic, msg, timeout)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/impl_kombu.py\", line 712, in call\\n rpc_amqp.get_connection_pool(conf, Connection))\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 368, in call\\n rv = list(rv)\\n', u' File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 336, in __iter__\\n raise result\\n', u'ProcessExecutionError_Remote: Unexpected error while running command.\\nCommand: sudo dhcp_release br100 172.168.1.66 fa:16:3e:0f:06:7e\\nExit code: 1\\nStdout: \\'\\'\\nStderr: \\'sudo: dhcp_release: command not found\\\\n\\'\\nTraceback (most recent call last):\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n rval = self.proxy.dispatch(ctxt, version, method, **args)\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n return getattr(proxyobj, method)(ctxt, **kwargs)\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 252, in deallocate_fixed_ip\\n address)\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 1297, in deallocate_fixed_ip\\n self.driver.release_dhcp(dev, address, vif[\\'address\\'])\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/linux_net.py\", line 649, in release_dhcp\\n utils.execute(\\'dhcp_release\\', dev, address, mac_address, run_as_root=True)\\n\\n File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/utils.py\", line 191, in execute\\n cmd=\\' \\'.join(cmd))\\n\\nProcessExecutionError: Unexpected error while running command.\\nCommand: sudo dhcp_release br100 172.168.1.66 fa:16:3e:0f:06:7e\\nExit code: 1\\nStdout: \\'\\'\\nStderr: \\'sudo: dhcp_release: command not found\\\\n\\'\\n\\n'].\r\n", 
            "date_created": "2012-07-17 03:58:51.650794+00:00", 
            "author": "https://api.launchpad.net/1.0/~eelilei"
        }, 
        {
            "content": "The error is that the 'dhcp_release' command is not found.  I'm not sure that this is an OpenStack bug.  Is the dhcp_release command present on the node where this error occurs?", 
            "date_created": "2012-08-30 19:40:19.351221+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "We cannot solve the issue you reported without more information. Could you please provide the requested information ?", 
            "date_created": "2012-12-13 10:51:27.655004+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "This bug lacks the necessary information to effectively reproduce and fix it, therefore it has been closed. Feel free to reopen the bug by providing the requested information and set the bug status back to ''New''.", 
            "date_created": "2013-03-18 02:05:29.999272+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }
    ]
}