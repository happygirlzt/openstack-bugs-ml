{
    "status": "Invalid", 
    "last_updated": "2014-10-01 06:26:11.974318+00:00", 
    "description": "Description:\n==========\n\nVersion: Icehouse/stable\n\nTry to add a security group rule, like:\n\nstack@ThinkCentre:~$ nova secgroup-add-group-rule default default tcp 121 121\n\n+-------------+-----------+---------+----------+--------------+\n| IP Protocol | From Port | To Port | IP Range | Source Group |\n+-------------+-----------+---------+----------+--------------+\n| tcp         | 121       | 121     |          | default      |\n+-------------+-----------+---------+----------+--------------+\n=============\nNow try to delete that group rule :\n\nstack@ThinkCentre:~$ nova secgroup-delete-group-rule default default tcp 121 121\n \nERROR (AttributeError): 'NoneType' object has no attribute 'upper'\n================\nNow try to add invalid group rule :\n\nstack@tcs-ThinkCentre:~$ nova secgroup-add-group-rule default default tcp -1 -1\n\nERROR (BadRequest): Invalid port range -1:-1. Valid TCP ports should be between 1-65535 (HTTP 400) (Request-ID: req-4fb01dfe-c0f6-4309-87fb-e61777e980e2)\n=====================\nNow try to add group rule of icmp protocol :\n\nstack@ThinkCentre:~$ nova secgroup-add-group-rule default default icmp -1 -1\n\n+-------------+-----------+---------+----------+--------------+\n| IP Protocol | From Port | To Port | IP Range | Source Group |\n+-------------+-----------+---------+----------+--------------+\n| icmp        | -1        | -1      |          | default      |\n+-------------+-----------+---------+----------+--------------+\n\nthis group rule is added because port range define as( -1 to 255) for icmp.\n=======================\nNow try to add one more group rule as :\n \nstack@ThinkCentre:~$ nova secgroup-add-group-rule default default icmp -2 -2\n\nERROR (BadRequest): Invalid port range -2:-2. For ICMP, the type:code must be valid (HTTP 400) (Request-ID: req-24432ef8-ef05-4d6c-bbfd-8c2d199340e0)\n======================\nNow check the group rule list:\n\nstack@ThinkCentre-M91P:~$ nova secgroup-list-rules default\n\n+-------------+-----------+---------+----------+--------------+\n| IP Protocol | From Port | To Port | IP Range | Source Group |\n+-------------+-----------+---------+----------+--------------+\n|\n| tcp         | 12        | 12      |          | default      |\n|                |           |         |          | default      |\n|                |           |         |          | default      |\n|  icmp     | -1      | -1      |          | default      |\n|                |           |         |          |              |\n+-------------+-----------+---------+----------+--------------+\n=====================\nActual results:\nOnly valid rules can be created but not able to delete them.\n\nExpected results:\nThere should be a way to delete them.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 4, 
    "link": "https://bugs.launchpad.net/nova/+bug/1375564", 
    "owner": "None", 
    "id": 1375564, 
    "index": 5187, 
    "created": "2014-09-30 04:44:30.286648+00:00", 
    "title": "unable to delete correct security rules", 
    "comments": [
        {
            "content": "Description:\n==========\n\nVersion: Icehouse/stable\n\nTry to add a security group rule, like:\n\nstack@ThinkCentre:~$ nova secgroup-add-group-rule default default tcp 121 121\n\n+-------------+-----------+---------+----------+--------------+\n| IP Protocol | From Port | To Port | IP Range | Source Group |\n+-------------+-----------+---------+----------+--------------+\n| tcp         | 121       | 121     |          | default      |\n+-------------+-----------+---------+----------+--------------+\n=============\nNow try to delete that group rule :\n\nstack@ThinkCentre:~$ nova secgroup-delete-group-rule default default tcp 121 121\n \nERROR (AttributeError): 'NoneType' object has no attribute 'upper'\n================\nNow try to add invalid group rule :\n\nstack@tcs-ThinkCentre:~$ nova secgroup-add-group-rule default default tcp -1 -1\n\nERROR (BadRequest): Invalid port range -1:-1. Valid TCP ports should be between 1-65535 (HTTP 400) (Request-ID: req-4fb01dfe-c0f6-4309-87fb-e61777e980e2)\n=====================\nNow try to add group rule of icmp protocol :\n\nstack@ThinkCentre:~$ nova secgroup-add-group-rule default default icmp -1 -1\n\n+-------------+-----------+---------+----------+--------------+\n| IP Protocol | From Port | To Port | IP Range | Source Group |\n+-------------+-----------+---------+----------+--------------+\n| icmp        | -1        | -1      |          | default      |\n+-------------+-----------+---------+----------+--------------+\n\nthis group rule is added because port range define as( -1 to 255) for icmp.\n=======================\nNow try to add one more group rule as :\n \nstack@ThinkCentre:~$ nova secgroup-add-group-rule default default icmp -2 -2\n\nERROR (BadRequest): Invalid port range -2:-2. For ICMP, the type:code must be valid (HTTP 400) (Request-ID: req-24432ef8-ef05-4d6c-bbfd-8c2d199340e0)\n======================\nNow check the group rule list:\n\nstack@ThinkCentre-M91P:~$ nova secgroup-list-rules default\n\n+-------------+-----------+---------+----------+--------------+\n| IP Protocol | From Port | To Port | IP Range | Source Group |\n+-------------+-----------+---------+----------+--------------+\n|\n| tcp         | 12        | 12      |          | default      |\n|                |           |         |          | default      |\n|                |           |         |          | default      |\n|  icmp     | -1      | -1      |          | default      |\n|                |           |         |          |              |\n+-------------+-----------+---------+----------+--------------+\n=====================\nActual results:\nOnly valid rules can be created but not able to delete them.\n\nExpected results:\nThere should be a way to delete them.", 
            "date_created": "2014-09-30 04:44:30.286648+00:00", 
            "author": "https://api.launchpad.net/1.0/~rattenpal-amandeep"
        }, 
        {
            "content": "This is already implemented in Juno as secgroup-delete-group-rule", 
            "date_created": "2014-10-01 06:01:12.475201+00:00", 
            "author": "https://api.launchpad.net/1.0/~cyeoh-0"
        }
    ]
}