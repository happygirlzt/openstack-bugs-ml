{
    "status": "Invalid", 
    "last_updated": "2017-06-14 01:42:51.388803+00:00", 
    "description": "I lanch an instance, but the instance has not IP when I run command 'ip addr'.But router has assign ip for it.\n\nMy environment is:\ntwo vms in virtualbox\neach vm has two ethernet, 192.168.5.0/24 use bridge network; 10.0.0.0/24 use nat network, both is ok\nI lanch provider network, and router ip is 192.168.5.203, I can ping it on the host.\nopenstack instance has got an ip,192.168.5.205, I can see it in network top0loy of the dashboard, and I can see provider network port is up,but I can't ping it.\n\nRouter info\n+--------------------------------------+--------+----------------------------------+-----------------------------------------+-------------+-------+\n| id                                   | name   | tenant_id                        | external_gateway_info                   | distributed | ha    |\n+--------------------------------------+--------+----------------------------------+-----------------------------------------+-------------+-------+\n| efdc40ab-9425-4795-949e-6774eabceed0 | router | dfeb844b4942417e9e2d1299c49d1a3a | {\"network_id\":                          | False       | False |\n|                                      |        |                                  | \"1807f022-b989-4725-9d25-7d176b28ec72\", |             |       |\n|                                      |        |                                  | \"enable_snat\": true,                    |             |       |\n|                                      |        |                                  | \"external_fixed_ips\": [{\"subnet_id\":    |             |       |\n|                                      |        |                                  | \"59fc76f2-c666-4693-b0f6-2a96a0189ef7\", |             |       |\n|                                      |        |                                  | \"ip_address\": \"192.168.5.203\"}]}        |             |       |\n+--------------------------------------+--------+----------------------------------+-----------------------------------------+-------------+-------+\n\nPort status\n\u540d\u79f0 \t\u56fa\u5b9aIP \t\u8fde\u63a5\u8bbe\u5907 \t\u72b6\u6001 \t\u7ba1\u7406\u72b6\u6001 \t\u52a8\u4f5c\n(85f154ee-1dd6)\t192.168.5.205 compute:None \t\u8fd0\u884c\u4e2d \tUP\n\nwhen i lanch an instance, I  got the following error on the compute node:\n2017-06-12 06:49:43.610 20776 INFO neutron.agent.securitygroups_rpc [req-4fcd8220-8713-469c-9564-1d1eebf30675 472ca430fc46406abac12d2bb877326f dfeb844b4942417e9e2d1299c49d1a3a - - -] Security group member updated [u'b7da029d-70f0-4ac2-af09-fea4d0e8e516']\n2017-06-12 06:49:45.354 20776 INFO neutron.agent.securitygroups_rpc [req-bfc74178-179f-4abd-bdb2-25d66ce36107 - - - - -] Refresh firewall rules\n2017-06-12 06:49:47.358 20776 INFO neutron.agent.securitygroups_rpc [req-bfc74178-179f-4abd-bdb2-25d66ce36107 - - - - -] Preparing filters for devices set(['tap9db05558-8e'])\n2017-06-12 06:49:49.273 20776 INFO neutron.plugins.ml2.drivers.agent._common_agent [req-bfc74178-179f-4abd-bdb2-25d66ce36107 - - - - -] Port tap9db05558-8e updated. Details: {u'profile': {}, u'network_qos_policy_id': None, u'qos_policy_id': None, u'allowed_address_pairs': [], u'admin_state_up': True, u'network_id': u'1807f022-b989-4725-9d25-7d176b28ec72', u'segmentation_id': None, u'device_owner': u'compute:nova', u'physical_network': u'provider', u'mac_address': u'fa:16:3e:61:90:f5', u'device': u'tap9db05558-8e', u'port_security_enabled': True, u'port_id': u'9db05558-8e87-4a24-928c-cd97ddddb777', u'fixed_ips': [{u'subnet_id': u'59fc76f2-c666-4693-b0f6-2a96a0189ef7', u'ip_address': u'192.168.5.211'}], u'network_type': u'flat'}\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager [req-bfc74178-179f-4abd-bdb2-25d66ce36107 - - - - -] Error during notification for neutron.services.trunk.drivers.linuxbridge.agent.driver.LinuxBridgeTrunkDriver.agent_port_change--9223372036853960796 port_device, after_update\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager Traceback (most recent call last):\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager   File \"/usr/lib/python2.7/site-packages/neutron/callbacks/manager.py\", line 146, in _notify_loop\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager     callback(resource, event, trigger, **kwargs)\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager   File \"/usr/lib/python2.7/site-packages/neutron/services/trunk/drivers/linuxbridge/agent/driver.py\", line 94, in agent_port_change\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager     trunk = self._tapi.get_trunk(context, device_details['port_id'])\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager   File \"/usr/lib/python2.7/site-packages/neutron/services/trunk/drivers/linuxbridge/agent/driver.py\", line 196, in get_trunk\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager     self.put_trunk(port_id, self._fetch_trunk(context, port_id))\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager   File \"/usr/lib/python2.7/site-packages/neutron/services/trunk/drivers/linuxbridge/agent/driver.py\", line 140, in _fetch_trunk\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager     if 'CallbackNotFound' not in str(e):\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager UnicodeEncodeError: 'ascii' codec can't encode characters in position 31-35: ordinal not in range(128)\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager\n\nPlease forgive me if this question is too simple, since I'm newbie to openstack. And I lack of method to fix problem, If anynoe can give me ideas\uff0cI'll be very appreciate.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1697320", 
    "owner": "None", 
    "id": 1697320, 
    "index": 6893, 
    "created": "2017-06-11 22:53:46.345752+00:00", 
    "title": "IP not been configured in VM os,but openstanck assign IP for it", 
    "comments": [
        {
            "content": "I lanch an instance, but the instance has not IP when I run command 'ip addr'.But router has assign ip for it.\n\nMy environment is:\ntwo vms in virtualbox\neach vm has two ethernet, 192.168.5.0/24 use bridge network; 10.0.0.0/24 use nat network, both is ok\nI lanch provider network, and router ip is 192.168.5.203, I can ping it on the host.\nopenstack instance has got an ip,192.168.5.205, I can see it in network top0loy of the dashboard, and I can see provider network port is up,but I can't ping it.\n\nRouter info\n+--------------------------------------+--------+----------------------------------+-----------------------------------------+-------------+-------+\n| id                                   | name   | tenant_id                        | external_gateway_info                   | distributed | ha    |\n+--------------------------------------+--------+----------------------------------+-----------------------------------------+-------------+-------+\n| efdc40ab-9425-4795-949e-6774eabceed0 | router | dfeb844b4942417e9e2d1299c49d1a3a | {\"network_id\":                          | False       | False |\n|                                      |        |                                  | \"1807f022-b989-4725-9d25-7d176b28ec72\", |             |       |\n|                                      |        |                                  | \"enable_snat\": true,                    |             |       |\n|                                      |        |                                  | \"external_fixed_ips\": [{\"subnet_id\":    |             |       |\n|                                      |        |                                  | \"59fc76f2-c666-4693-b0f6-2a96a0189ef7\", |             |       |\n|                                      |        |                                  | \"ip_address\": \"192.168.5.203\"}]}        |             |       |\n+--------------------------------------+--------+----------------------------------+-----------------------------------------+-------------+-------+\n\nPort status\n\u540d\u79f0 \t\u56fa\u5b9aIP \t\u8fde\u63a5\u8bbe\u5907 \t\u72b6\u6001 \t\u7ba1\u7406\u72b6\u6001 \t\u52a8\u4f5c\n(85f154ee-1dd6)\t192.168.5.205 compute:None \t\u8fd0\u884c\u4e2d \tUP \n\nwhen i lanch an instance, I  got the following error on the compute node:\n2017-06-12 06:49:43.610 20776 INFO neutron.agent.securitygroups_rpc [req-4fcd8220-8713-469c-9564-1d1eebf30675 472ca430fc46406abac12d2bb877326f dfeb844b4942417e9e2d1299c49d1a3a - - -] Security group member updated [u'b7da029d-70f0-4ac2-af09-fea4d0e8e516']\n2017-06-12 06:49:45.354 20776 INFO neutron.agent.securitygroups_rpc [req-bfc74178-179f-4abd-bdb2-25d66ce36107 - - - - -] Refresh firewall rules\n2017-06-12 06:49:47.358 20776 INFO neutron.agent.securitygroups_rpc [req-bfc74178-179f-4abd-bdb2-25d66ce36107 - - - - -] Preparing filters for devices set(['tap9db05558-8e'])\n2017-06-12 06:49:49.273 20776 INFO neutron.plugins.ml2.drivers.agent._common_agent [req-bfc74178-179f-4abd-bdb2-25d66ce36107 - - - - -] Port tap9db05558-8e updated. Details: {u'profile': {}, u'network_qos_policy_id': None, u'qos_policy_id': None, u'allowed_address_pairs': [], u'admin_state_up': True, u'network_id': u'1807f022-b989-4725-9d25-7d176b28ec72', u'segmentation_id': None, u'device_owner': u'compute:nova', u'physical_network': u'provider', u'mac_address': u'fa:16:3e:61:90:f5', u'device': u'tap9db05558-8e', u'port_security_enabled': True, u'port_id': u'9db05558-8e87-4a24-928c-cd97ddddb777', u'fixed_ips': [{u'subnet_id': u'59fc76f2-c666-4693-b0f6-2a96a0189ef7', u'ip_address': u'192.168.5.211'}], u'network_type': u'flat'}\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager [req-bfc74178-179f-4abd-bdb2-25d66ce36107 - - - - -] Error during notification for neutron.services.trunk.drivers.linuxbridge.agent.driver.LinuxBridgeTrunkDriver.agent_port_change--9223372036853960796 port_device, after_update\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager Traceback (most recent call last):\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager   File \"/usr/lib/python2.7/site-packages/neutron/callbacks/manager.py\", line 146, in _notify_loop\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager     callback(resource, event, trigger, **kwargs)\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager   File \"/usr/lib/python2.7/site-packages/neutron/services/trunk/drivers/linuxbridge/agent/driver.py\", line 94, in agent_port_change\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager     trunk = self._tapi.get_trunk(context, device_details['port_id'])\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager   File \"/usr/lib/python2.7/site-packages/neutron/services/trunk/drivers/linuxbridge/agent/driver.py\", line 196, in get_trunk\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager     self.put_trunk(port_id, self._fetch_trunk(context, port_id))\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager   File \"/usr/lib/python2.7/site-packages/neutron/services/trunk/drivers/linuxbridge/agent/driver.py\", line 140, in _fetch_trunk\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager     if 'CallbackNotFound' not in str(e):\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager UnicodeEncodeError: 'ascii' codec can't encode characters in position 31-35: ordinal not in range(128)\n2017-06-12 06:49:50.591 20776 ERROR neutron.callbacks.manager\n\nPlease forgive me if this question is too simple, since I'm newbie to openstack. And I lack of method to fix problem, If anynoe can give me ideas\uff0cI'll be very appreciate.", 
            "date_created": "2017-06-11 22:53:46.345752+00:00", 
            "author": "https://api.launchpad.net/1.0/~xiaotie"
        }, 
        {
            "content": "This sounds like a support request, not really a bug. Please make support requests or ask for help in the general openstack mailing list:\n\nhttps://wiki.openstack.org/wiki/Mailing_Lists#General_List\n\nOr ask in the forum at https://ask.openstack.org/en/questions/\n\nOr ask in the #openstack channel in freenode IRC.", 
            "date_created": "2017-06-14 01:42:39.588683+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ]
}