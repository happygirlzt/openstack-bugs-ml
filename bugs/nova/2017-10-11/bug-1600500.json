{
    "status": "Expired", 
    "last_updated": "2016-09-13 04:18:05.734094+00:00", 
    "description": "Hello\n\n\n\n\nDescription\n===========\nGetting neutronclient exception error when trying to connect Cloudforms4.1 with Openstack liberty\nOpenstack environment is not getting populated in Cloudforms because of this error\n\n\n\nEnvironment\n===========\n1. [root@rhlospctl01 nova]# rpm -qa | grep nova\nopenstack-nova-cert-12.0.3-1.el7ost.noarch\nopenstack-nova-novncproxy-12.0.3-1.el7ost.noarch\npython-nova-12.0.3-1.el7ost.noarch\nopenstack-nova-scheduler-12.0.3-1.el7ost.noarch\nopenstack-nova-console-12.0.3-1.el7ost.noarch\npython-novaclient-3.1.0-2.el7ost.noarch\nopenstack-nova-common-12.0.3-1.el7ost.noarch\nopenstack-nova-conductor-12.0.3-1.el7ost.noarch\nopenstack-nova-api-12.0.3-1.el7ost.noarch\n\n[root@rhlospctl01 nova]# rpm -qa | grep neutron\npython-neutronclient-3.1.0-1.el7ost.noarch\nopenstack-neutron-ml2-7.0.4-2.el7ost.noarch\nopenstack-neutron-7.0.4-2.el7ost.noarch\nopenstack-neutron-openvswitch-7.0.4-2.el7ost.noarch\nopenstack-neutron-common-7.0.4-2.el7ost.noarch\npython-neutron-7.0.4-2.el7ost.noarch\n\n\n2. Which hypervisor did you use?\n   Libvirt + KVM\n   What's the version of that?\n\n\n[root@rhlospctl01 nova]# rpm -qa | grep libvirt\nlibvirt-client-1.2.17-13.el7_2.4.x86_64\nlibvirt-python-1.2.17-2.el7.x86_64\n\n\n2. Which storage type did you use?\n   CEPH\n\n3. Which networking type did you use?\n   Neutron with OpenVSwitch VLAN provider network.(no L3)\n\n\n\n\n\n\nI am getting the following error\n\n4347b744780670409b50/os-keypairs.json?limit=1000&marker=cloud-ctrl1-key HTTP/1.1\" status: 200 len: 1803 time: 0.0075929\n2016-07-09 17:52:07.143 35655 INFO nova.osapi_compute.wsgi.server [req-cee3f742-ccd5-4b5a-8c74-5cc684b09d5a 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/os-keypairs.json?limit=1000 HTTP/1.1\" status: 200 len: 1803 time: 0.0080750\n2016-07-09 17:52:07.159 35631 INFO nova.osapi_compute.wsgi.server [req-1c172786-3c20-473e-b167-9fa84db542b0 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/os-keypairs.json?limit=1000&marker=cloud-ctrl1-key HTTP/1.1\" status: 200 len: 1803 time: 0.0106990\n2016-07-09 17:52:08.567 35615 INFO nova.osapi_compute.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 501 time: 0.0012670\n2016-07-09 17:52:11.469 35700 INFO nova.api.ec2 [-] 0.126s 10.81.61.239 GET / None:None 200 [None] text/plain text/plain\n2016-07-09 17:52:11.470 35700 INFO nova.metadata.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 234 time: 0.0009701\n2016-07-09 17:52:12.164 35615 INFO nova.osapi_compute.wsgi.server [req-28bb8960-d265-402e-894e-1465dbf36b51 9ec40e8aaf3641e695c4c57040832aba 100da705306c4347b744780670409b50 - - -] 10.81.61.211 \"GET /v2/100da705306c4347b744780670409b50/servers/detail.json?limit=1000 HTTP/1.1\" status: 200 len: 187 time: 0.0434470\n2016-07-09 17:52:12.431 35617 INFO nova.osapi_compute.wsgi.server [req-7862ed42-31d1-4d24-9c97-7f40ddbad713 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/servers/detail.json?limit=1000 HTTP/1.1\" status: 200 len: 39905 time: 0.2637389\n2016-07-09 17:52:12.591 35617 INFO nova.osapi_compute.wsgi.server [req-7be49304-9f1d-4554-93d1-915dbd76bc0e 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/servers/detail.json?limit=1000&marker=f68af8ce-8873-470e-837a-7e4de6b1f945 HTTP/1.1\" status: 200 len: 187 time: 0.0676081\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions [req-9bec83aa-572b-4237-8171-e32f8a398d86 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] Unexpected exception in API method\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/floating_ips.py\", line 117, in index\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     floating_ips = self.network_api.get_floating_ips_by_project(context)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 1435, in get_floating_ips_by_project\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     fips = client.list_floatingips(tenant_id=project_id)['floatingips']\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 102, in with_params\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     ret = self.function(instance, *args, **kwargs)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 731, in list_floatingips\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     **_params)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 307, in list\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     for r in self._pagination(collection, path, **params):\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 320, in _pagination\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     res = self.get(path, params=params)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 293, in get\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     headers=headers, params=params)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 270, in retry_request\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     headers=headers, params=params)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 211, in do_request\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     self._handle_fault_response(status_code, replybody)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 185, in _handle_fault_response\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     exception_handler_v20(status_code, des_error_body)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 83, in exception_handler_v20\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     message=message)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions NeutronClientException: 404 Not Found\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions \n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions The resource could not be found.\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions \n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions    \n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions \n2016-07-09 17:52:12.604 35617 INFO nova.api.openstack.wsgi [req-9bec83aa-572b-4237-8171-e32f8a398d86 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'neutronclient.common.exceptions.NeutronClientException'>\n2016-07-09 17:52:12.605 35617 INFO nova.osapi_compute.wsgi.server [req-9bec83aa-572b-4237-8171-e32f8a398d86 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/os-floating-ips.json HTTP/1.1\" status: 500 len: 435 time: 0.0105100\n2016-07-09 17:52:13.571 35633 INFO nova.osapi_compute.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 501 time: 0.0011261\n2016-07-09 17:52:16.472 35694 INFO nova.api.ec2 [-] 0.145s 10.81.61.239 GET / None:None 200 [None] text/plain text/plain\n2016-07-09 17:52:16.472 35694 INFO nova.metadata.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 234 time: 0.0007479\n2016-07-09 17:52:18.576 35620 INFO nova.osapi_compute.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 501 time: 0.0005670", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1600500", 
    "owner": "None", 
    "id": 1600500, 
    "index": 6323, 
    "created": "2016-07-09 18:00:08.708638+00:00", 
    "title": "NeutronClientException 404 listing floating IPs for a server (liberty)", 
    "comments": [
        {
            "content": "Hello\n\n\n\n\nDescription\n===========\nGetting neutronclient exception error when trying to connect Cloudforms4.1 with Openstack liberty\nOpenstack environment is not getting populated in Cloudforms because of this error\n\n\n\nEnvironment\n===========\n1. [root@rhlospctl01 nova]# rpm -qa | grep nova\nopenstack-nova-cert-12.0.3-1.el7ost.noarch\nopenstack-nova-novncproxy-12.0.3-1.el7ost.noarch\npython-nova-12.0.3-1.el7ost.noarch\nopenstack-nova-scheduler-12.0.3-1.el7ost.noarch\nopenstack-nova-console-12.0.3-1.el7ost.noarch\npython-novaclient-3.1.0-2.el7ost.noarch\nopenstack-nova-common-12.0.3-1.el7ost.noarch\nopenstack-nova-conductor-12.0.3-1.el7ost.noarch\nopenstack-nova-api-12.0.3-1.el7ost.noarch\n\n[root@rhlospctl01 nova]# rpm -qa | grep neutron\npython-neutronclient-3.1.0-1.el7ost.noarch\nopenstack-neutron-ml2-7.0.4-2.el7ost.noarch\nopenstack-neutron-7.0.4-2.el7ost.noarch\nopenstack-neutron-openvswitch-7.0.4-2.el7ost.noarch\nopenstack-neutron-common-7.0.4-2.el7ost.noarch\npython-neutron-7.0.4-2.el7ost.noarch\n\n\n2. Which hypervisor did you use?\n   Libvirt + KVM\n   What's the version of that?\n\n\n[root@rhlospctl01 nova]# rpm -qa | grep libvirt\nlibvirt-client-1.2.17-13.el7_2.4.x86_64\nlibvirt-python-1.2.17-2.el7.x86_64\n\n\n2. Which storage type did you use?\n   CEPH\n\n3. Which networking type did you use?\n   Neutron with OpenVSwitch VLAN provider network.(no L3)\n\n\n\n\n\n\nI am getting the following error\n\n4347b744780670409b50/os-keypairs.json?limit=1000&marker=cloud-ctrl1-key HTTP/1.1\" status: 200 len: 1803 time: 0.0075929\n2016-07-09 17:52:07.143 35655 INFO nova.osapi_compute.wsgi.server [req-cee3f742-ccd5-4b5a-8c74-5cc684b09d5a 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/os-keypairs.json?limit=1000 HTTP/1.1\" status: 200 len: 1803 time: 0.0080750\n2016-07-09 17:52:07.159 35631 INFO nova.osapi_compute.wsgi.server [req-1c172786-3c20-473e-b167-9fa84db542b0 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/os-keypairs.json?limit=1000&marker=cloud-ctrl1-key HTTP/1.1\" status: 200 len: 1803 time: 0.0106990\n2016-07-09 17:52:08.567 35615 INFO nova.osapi_compute.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 501 time: 0.0012670\n2016-07-09 17:52:11.469 35700 INFO nova.api.ec2 [-] 0.126s 10.81.61.239 GET / None:None 200 [None] text/plain text/plain\n2016-07-09 17:52:11.470 35700 INFO nova.metadata.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 234 time: 0.0009701\n2016-07-09 17:52:12.164 35615 INFO nova.osapi_compute.wsgi.server [req-28bb8960-d265-402e-894e-1465dbf36b51 9ec40e8aaf3641e695c4c57040832aba 100da705306c4347b744780670409b50 - - -] 10.81.61.211 \"GET /v2/100da705306c4347b744780670409b50/servers/detail.json?limit=1000 HTTP/1.1\" status: 200 len: 187 time: 0.0434470\n2016-07-09 17:52:12.431 35617 INFO nova.osapi_compute.wsgi.server [req-7862ed42-31d1-4d24-9c97-7f40ddbad713 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/servers/detail.json?limit=1000 HTTP/1.1\" status: 200 len: 39905 time: 0.2637389\n2016-07-09 17:52:12.591 35617 INFO nova.osapi_compute.wsgi.server [req-7be49304-9f1d-4554-93d1-915dbd76bc0e 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/servers/detail.json?limit=1000&marker=f68af8ce-8873-470e-837a-7e4de6b1f945 HTTP/1.1\" status: 200 len: 187 time: 0.0676081\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions [req-9bec83aa-572b-4237-8171-e32f8a398d86 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] Unexpected exception in API method\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/floating_ips.py\", line 117, in index\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     floating_ips = self.network_api.get_floating_ips_by_project(context)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 1435, in get_floating_ips_by_project\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     fips = client.list_floatingips(tenant_id=project_id)['floatingips']\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 102, in with_params\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     ret = self.function(instance, *args, **kwargs)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 731, in list_floatingips\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     **_params)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 307, in list\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     for r in self._pagination(collection, path, **params):\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 320, in _pagination\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     res = self.get(path, params=params)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 293, in get\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     headers=headers, params=params)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 270, in retry_request\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     headers=headers, params=params)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 211, in do_request\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     self._handle_fault_response(status_code, replybody)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 185, in _handle_fault_response\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     exception_handler_v20(status_code, des_error_body)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 83, in exception_handler_v20\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions     message=message)\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions NeutronClientException: 404 Not Found\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions \n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions The resource could not be found.\n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions \n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions    \n2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions \n2016-07-09 17:52:12.604 35617 INFO nova.api.openstack.wsgi [req-9bec83aa-572b-4237-8171-e32f8a398d86 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'neutronclient.common.exceptions.NeutronClientException'>\n2016-07-09 17:52:12.605 35617 INFO nova.osapi_compute.wsgi.server [req-9bec83aa-572b-4237-8171-e32f8a398d86 9ec40e8aaf3641e695c4c57040832aba 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET /v2/54a4f3dc50904dff9d5ec7703e27ce0b/os-floating-ips.json HTTP/1.1\" status: 500 len: 435 time: 0.0105100\n2016-07-09 17:52:13.571 35633 INFO nova.osapi_compute.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 501 time: 0.0011261\n2016-07-09 17:52:16.472 35694 INFO nova.api.ec2 [-] 0.145s 10.81.61.239 GET / None:None 200 [None] text/plain text/plain\n2016-07-09 17:52:16.472 35694 INFO nova.metadata.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 234 time: 0.0007479\n2016-07-09 17:52:18.576 35620 INFO nova.osapi_compute.wsgi.server [-] 10.81.61.239 \"GET /\" status: 200 len: 501 time: 0.0005670", 
            "date_created": "2016-07-09 18:00:08.708638+00:00", 
            "author": "https://api.launchpad.net/1.0/~asvinchandar7"
        }, 
        {
            "content": "Do you have the same issue in mitaka or master (newton) code? You're getting a 404 listing floating IPs for a given server, but not sure why that would be.\n\nDo you have the same issue if you try listing floating IPs for the same project from the neutron CLI?", 
            "date_created": "2016-07-14 16:57:30.557144+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Hello\n\nI have not tried Mitaka yet. But our environment is in Liberty\n\nanother Info:\n\n\n[[root@rhlospctl02 ~]# openstack ip floating list\n\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/\nand attach the Nova API log if possible.\n\n<class 'neutronclient.common.exceptions.NeutronClientException'> (HTTP 500)\n(Request-ID: req-a896970a-2e3a-4d57-b734-81d3be2ce3ae)\n\n[root@rhlospctl02 ~]# vi /etc/nova/nova.conf\n\n[root@rhlospctl02 ~]# openstack-service restart nova\n\n[root@rhlospctl02 ~]# openstack ip floating list\n\n\n[root@rhlospctl02 ~]#\n\n\n\nIf I comment the nova_api class in nova.conf file #network_api_class =\nnova.network.neutronv2.api.API Cloudforms is communicating with Openstack (\nI can see the status as Success in Cloud Forms) But cannot spin any VM's.\nGetting the neutron ERROR. (cant spin VM's direclty from Horizon too If I\nuncomment the same api network_api_class = nova.network.neutronv2.api.API.\nOPenstack Horizon works great, can spin VM's etc. But Cloudforms show an\nERROR- neutron client exception which I showed before. I can spin VM's from\nCloudforms on OPenstac\n\nOn Thu, Jul 14, 2016 at 9:57 AM, Matt Riedemann <email address hidden> wrote:\n\n> Do you have the same issue in mitaka or master (newton) code? You're\n> getting a 404 listing floating IPs for a given server, but not sure why\n> that would be.\n>\n> Do you have the same issue if you try listing floating IPs for the same\n> project from the neutron CLI?\n>\n> ** Changed in: nova\n>        Status: New => Incomplete\n>\n> ** Summary changed:\n>\n> - neutronclient.common.exceptions.NeutronClientException\n> + NeutronClientException 404 listing floating IPs for a server (liberty)\n>\n> --\n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/1600500\n>\n> Title:\n>   NeutronClientException 404 listing floating IPs for a server (liberty)\n>\n> Status in OpenStack Compute (nova):\n>   Incomplete\n>\n> Bug description:\n>   Hello\n>\n>\n>\n>   Description\n>   ===========\n>   Getting neutronclient exception error when trying to connect\n> Cloudforms4.1 with Openstack liberty\n>   Openstack environment is not getting populated in Cloudforms because of\n> this error\n>\n>\n>   Environment\n>   ===========\n>   1. [root@rhlospctl01 nova]# rpm -qa | grep nova\n>   openstack-nova-cert-12.0.3-1.el7ost.noarch\n>   openstack-nova-novncproxy-12.0.3-1.el7ost.noarch\n>   python-nova-12.0.3-1.el7ost.noarch\n>   openstack-nova-scheduler-12.0.3-1.el7ost.noarch\n>   openstack-nova-console-12.0.3-1.el7ost.noarch\n>   python-novaclient-3.1.0-2.el7ost.noarch\n>   openstack-nova-common-12.0.3-1.el7ost.noarch\n>   openstack-nova-conductor-12.0.3-1.el7ost.noarch\n>   openstack-nova-api-12.0.3-1.el7ost.noarch\n>\n>   [root@rhlospctl01 nova]# rpm -qa | grep neutron\n>   python-neutronclient-3.1.0-1.el7ost.noarch\n>   openstack-neutron-ml2-7.0.4-2.el7ost.noarch\n>   openstack-neutron-7.0.4-2.el7ost.noarch\n>   openstack-neutron-openvswitch-7.0.4-2.el7ost.noarch\n>   openstack-neutron-common-7.0.4-2.el7ost.noarch\n>   python-neutron-7.0.4-2.el7ost.noarch\n>\n>\n>   2. Which hypervisor did you use?\n>      Libvirt + KVM\n>      What's the version of that?\n>\n>\n>   [root@rhlospctl01 nova]# rpm -qa | grep libvirt\n>   libvirt-client-1.2.17-13.el7_2.4.x86_64\n>   libvirt-python-1.2.17-2.el7.x86_64\n>\n>\n>   2. Which storage type did you use?\n>      CEPH\n>\n>   3. Which networking type did you use?\n>      Neutron with OpenVSwitch VLAN provider network.(no L3)\n>\n>\n>\n>\n>   I am getting the following error\n>\n>   4347b744780670409b50/os-keypairs.json?limit=1000&marker=cloud-ctrl1-key\n> HTTP/1.1\" status: 200 len: 1803 time: 0.0075929\n>   2016-07-09 17:52:07.143 35655 INFO nova.osapi_compute.wsgi.server\n> [req-cee3f742-ccd5-4b5a-8c74-5cc684b09d5a 9ec40e8aaf3641e695c4c57040832aba\n> 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET\n> /v2/54a4f3dc50904dff9d5ec7703e27ce0b/os-keypairs.json?limit=1000 HTTP/1.1\"\n> status: 200 len: 1803 time: 0.0080750\n>   2016-07-09 17:52:07.159 35631 INFO nova.osapi_compute.wsgi.server\n> [req-1c172786-3c20-473e-b167-9fa84db542b0 9ec40e8aaf3641e695c4c57040832aba\n> 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET\n> /v2/54a4f3dc50904dff9d5ec7703e27ce0b/os-keypairs.json?limit=1000&marker=cloud-ctrl1-key\n> HTTP/1.1\" status: 200 len: 1803 time: 0.0106990\n>   2016-07-09 17:52:08.567 35615 INFO nova.osapi_compute.wsgi.server [-]\n> 10.81.61.239 \"GET /\" status: 200 len: 501 time: 0.0012670\n>   2016-07-09 17:52:11.469 35700 INFO nova.api.ec2 [-] 0.126s 10.81.61.239\n> GET / None:None 200 [None] text/plain text/plain\n>   2016-07-09 17:52:11.470 35700 INFO nova.metadata.wsgi.server [-]\n> 10.81.61.239 \"GET /\" status: 200 len: 234 time: 0.0009701\n>   2016-07-09 17:52:12.164 35615 INFO nova.osapi_compute.wsgi.server\n> [req-28bb8960-d265-402e-894e-1465dbf36b51 9ec40e8aaf3641e695c4c57040832aba\n> 100da705306c4347b744780670409b50 - - -] 10.81.61.211 \"GET\n> /v2/100da705306c4347b744780670409b50/servers/detail.json?limit=1000\n> HTTP/1.1\" status: 200 len: 187 time: 0.0434470\n>   2016-07-09 17:52:12.431 35617 INFO nova.osapi_compute.wsgi.server\n> [req-7862ed42-31d1-4d24-9c97-7f40ddbad713 9ec40e8aaf3641e695c4c57040832aba\n> 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET\n> /v2/54a4f3dc50904dff9d5ec7703e27ce0b/servers/detail.json?limit=1000\n> HTTP/1.1\" status: 200 len: 39905 time: 0.2637389\n>   2016-07-09 17:52:12.591 35617 INFO nova.osapi_compute.wsgi.server\n> [req-7be49304-9f1d-4554-93d1-915dbd76bc0e 9ec40e8aaf3641e695c4c57040832aba\n> 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET\n> /v2/54a4f3dc50904dff9d5ec7703e27ce0b/servers/detail.json?limit=1000&marker=f68af8ce-8873-470e-837a-7e4de6b1f945\n> HTTP/1.1\" status: 200 len: 187 time: 0.0676081\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n> [req-9bec83aa-572b-4237-8171-e32f8a398d86 9ec40e8aaf3641e695c4c57040832aba\n> 54a4f3dc50904dff9d5ec7703e27ce0b - - -] Unexpected exception in API method\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n> Traceback (most recent call last):\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line\n> 478, in wrapped\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  return f(*args, **kwargs)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/floating_ips.py\",\n> line 117, in index\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  floating_ips = self.network_api.get_floating_ips_by_project(context)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line\n> 1435, in get_floating_ips_by_project\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  fips = client.list_floatingips(tenant_id=project_id)['floatingips']\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 102,\n> in with_params\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  ret = self.function(instance, *args, **kwargs)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 731,\n> in list_floatingips\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  **_params)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 307,\n> in list\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  for r in self._pagination(collection, path, **params):\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 320,\n> in _pagination\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  res = self.get(path, params=params)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 293,\n> in get\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  headers=headers, params=params)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 270,\n> in retry_request\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  headers=headers, params=params)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 211,\n> in do_request\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  self._handle_fault_response(status_code, replybody)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 185,\n> in _handle_fault_response\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  exception_handler_v20(status_code, des_error_body)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions   File\n> \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 83,\n> in exception_handler_v20\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>  message=message)\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n> NeutronClientException: 404 Not Found\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions The\n> resource could not be found.\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>   2016-07-09 17:52:12.603 35617 ERROR nova.api.openstack.extensions\n>   2016-07-09 17:52:12.604 35617 INFO nova.api.openstack.wsgi\n> [req-9bec83aa-572b-4237-8171-e32f8a398d86 9ec40e8aaf3641e695c4c57040832aba\n> 54a4f3dc50904dff9d5ec7703e27ce0b - - -] HTTP exception thrown: Unexpected\n> API Error. Please report this at http://bugs.launchpad.net/nova/ and\n> attach the Nova API log if possible.\n>   <class 'neutronclient.common.exceptions.NeutronClientException'>\n>   2016-07-09 17:52:12.605 35617 INFO nova.osapi_compute.wsgi.server\n> [req-9bec83aa-572b-4237-8171-e32f8a398d86 9ec40e8aaf3641e695c4c57040832aba\n> 54a4f3dc50904dff9d5ec7703e27ce0b - - -] 10.81.61.211 \"GET\n> /v2/54a4f3dc50904dff9d5ec7703e27ce0b/os-floating-ips.json HTTP/1.1\" status:\n> 500 len: 435 time: 0.0105100\n>   2016-07-09 17:52:13.571 35633 INFO nova.osapi_compute.wsgi.server [-]\n> 10.81.61.239 \"GET /\" status: 200 len: 501 time: 0.0011261\n>   2016-07-09 17:52:16.472 35694 INFO nova.api.ec2 [-] 0.145s 10.81.61.239\n> GET / None:None 200 [None] text/plain text/plain\n>   2016-07-09 17:52:16.472 35694 INFO nova.metadata.wsgi.server [-]\n> 10.81.61.239 \"GET /\" status: 200 len: 234 time: 0.0007479\n>   2016-07-09 17:52:18.576 35620 INFO nova.osapi_compute.wsgi.server [-]\n> 10.81.61.239 \"GET /\" status: 200 len: 501 time: 0.0005670\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1600500/+subscriptions\n>\n", 
            "date_created": "2016-07-14 18:29:50+00:00", 
            "author": "https://api.launchpad.net/1.0/~asvinchandar7"
        }, 
        {
            "content": " have not tried Mitaka yet. But our environment is in Liberty\n\nanother Info:\n\n\n[[root@rhlospctl02 ~]# openstack ip floating list\n\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n\n<class 'neutronclient.common.exceptions.NeutronClientException'> (HTTP 500) (Request-ID: req-a896970a-2e3a-4d57-b734-81d3be2ce3ae)\n\n[root@rhlospctl02 ~]# vi /etc/nova/nova.conf \n\n[root@rhlospctl02 ~]# openstack-service restart nova\n\n[root@rhlospctl02 ~]# openstack ip floating list\n\n\n\n[root@rhlospctl02 ~]# \n\n\n\n\n\nIf I comment the nova_api class in nova.conf file \n\n#network_api_class = nova.network.neutronv2.api.API\n\nCloudforms is communicating with Openstack ( I can see the status as Success in Cloud Forms) But cannot spin any VM's. Getting the neutron  ERROR. (cant spin VM's direclty from Horizon too\n\n\n\n\n\nIf I uncomment the same api\n\nnetwork_api_class = nova.network.neutronv2.api.API. OPenstack Horizon works great, can spin VM's etc.\nBut Cloudforms show an ERROR-  neutron client exception which I showed before. I can spin VM's from Cloudforms on OPenstack", 
            "date_created": "2016-07-14 18:31:23.619308+00:00", 
            "author": "https://api.launchpad.net/1.0/~asvinchandar7"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2016-09-13 04:18:01.789140+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}