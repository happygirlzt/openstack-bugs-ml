{
    "status": "Fix Released", 
    "last_updated": "2012-12-13 15:34:14.961115+00:00", 
    "description": "Seems like a bunch of unit tests are being skipped in the gate-nova-unittests Jenkins job:\n\n    test_unfilter_instance_undefines_nwfilter                   SKIP: Test requires libvirt\nLibvirtConnTestCase\n    test_attach_invalid_volume_type                             OK  0.01\n    test_available_least_handles_missing                        OK  0.01\n    test_broken_connection                                      SKIP: Test requires libvirt\n    test_destroy_saved                                          SKIP: Test requires libvirt\n    test_ensure_filtering_rules_for_instance_timeout            SKIP: Test requires libvirt\n    test_get_all_block_devices                                  OK  0.01\n    test_get_connector                                          OK  0.01\n    test_get_console_output_file                                SKIP: Test requires libvirt\n    test_get_console_output_pty                                 SKIP: Test requires libvirt\n    test_get_guest_config                                       OK  0.15\n    test_get_guest_config_with_root_device_name                 OK  0.09\n    test_get_guest_config_with_two_nics                         OK  0.45\n    test_get_host_ip_addr                                       OK  0.01\n    test_get_instance_disk_info_works_correctly                 SKIP: Test requires libvirt\n    test_immediate_delete                                       SKIP: Test requires libvirt\n    test_list_instances                                         OK  0.01\n    test_live_migration_raises_exception                        SKIP: Test requires libvirt\n    test_lxc_container_and_uri                                  OK  0.09\n    test_multi_nic                                              OK  0.15\n    test_pre_block_migration_works_correctly                    SKIP: Test requires libvirt\n    test_pre_live_migration_works_correctly                     OK  0.01\n    test_snapshot_in_ami_format                                 SKIP: Test requires libvirt\n    test_snapshot_in_qcow2_format                               SKIP: Test requires libvirt\n    test_snapshot_in_raw_format                                 SKIP: Test requires libvirt\n    test_snapshot_no_image_architecture                         SKIP: Test requires libvirt\n    test_snapshot_no_original_image                             SKIP: Test requires libvirt\n    test_spawn_with_network_info                                SKIP: Test requires libvirt\n    test_volume_in_mapping                                      OK  0.01\n    test_xml_and_uri                                            OK  0.66\n    test_xml_and_uri_no_kernel                                  OK  0.63\n    test_xml_and_uri_no_ramdisk                                 OK  0.61\n    test_xml_and_uri_no_ramdisk_no_kernel                       OK  0.94\n    test_xml_and_uri_rescue                                     OK  0.40\n    test_xml_disk_bus_ide                                       OK  0.15\n    test_xml_disk_bus_virtio                                    OK  0.16\n    test_xml_disk_driver                                        OK  0.29\n    test_xml_disk_prefix                                        OK  0.53\n    test_xml_uuid                                               OK  0.16\nLibvirtConnectionTestCase\n    test_finish_migration                                       OK  0.03\n    test_finish_revert_migration                                OK  0.03\n    test_migrate_disk_and_power_off                             OK  0.03\n    test_migrate_disk_and_power_off_exception                   OK  0.02\n    test_wait_for_running                                       OK  0.01\nLibvirtNonblockingTestCase\n    test_connection_to_primitive                                SKIP: Test requires libvirt\n\nhttps://jenkins.openstack.org/job/gate-nova-unittests/2012/console\n\nIs the python libvirt package being installed into this test environment?", 
    "tags": [], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/992226", 
    "owner": "https://api.launchpad.net/1.0/~mordred", 
    "id": 992226, 
    "index": 669, 
    "created": "2012-04-30 21:13:47.547907+00:00", 
    "title": "libvirt package apparently not installed for nova unittest builder", 
    "comments": [
        {
            "content": "Seems like a bunch of unit tests are being skipped in the gate-nova-unittests Jenkins job:\n\n    test_unfilter_instance_undefines_nwfilter                   SKIP: Test requires libvirt\nLibvirtConnTestCase\n    test_attach_invalid_volume_type                             OK  0.01\n    test_available_least_handles_missing                        OK  0.01\n    test_broken_connection                                      SKIP: Test requires libvirt\n    test_destroy_saved                                          SKIP: Test requires libvirt\n    test_ensure_filtering_rules_for_instance_timeout            SKIP: Test requires libvirt\n    test_get_all_block_devices                                  OK  0.01\n    test_get_connector                                          OK  0.01\n    test_get_console_output_file                                SKIP: Test requires libvirt\n    test_get_console_output_pty                                 SKIP: Test requires libvirt\n    test_get_guest_config                                       OK  0.15\n    test_get_guest_config_with_root_device_name                 OK  0.09\n    test_get_guest_config_with_two_nics                         OK  0.45\n    test_get_host_ip_addr                                       OK  0.01\n    test_get_instance_disk_info_works_correctly                 SKIP: Test requires libvirt\n    test_immediate_delete                                       SKIP: Test requires libvirt\n    test_list_instances                                         OK  0.01\n    test_live_migration_raises_exception                        SKIP: Test requires libvirt\n    test_lxc_container_and_uri                                  OK  0.09\n    test_multi_nic                                              OK  0.15\n    test_pre_block_migration_works_correctly                    SKIP: Test requires libvirt\n    test_pre_live_migration_works_correctly                     OK  0.01\n    test_snapshot_in_ami_format                                 SKIP: Test requires libvirt\n    test_snapshot_in_qcow2_format                               SKIP: Test requires libvirt\n    test_snapshot_in_raw_format                                 SKIP: Test requires libvirt\n    test_snapshot_no_image_architecture                         SKIP: Test requires libvirt\n    test_snapshot_no_original_image                             SKIP: Test requires libvirt\n    test_spawn_with_network_info                                SKIP: Test requires libvirt\n    test_volume_in_mapping                                      OK  0.01\n    test_xml_and_uri                                            OK  0.66\n    test_xml_and_uri_no_kernel                                  OK  0.63\n    test_xml_and_uri_no_ramdisk                                 OK  0.61\n    test_xml_and_uri_no_ramdisk_no_kernel                       OK  0.94\n    test_xml_and_uri_rescue                                     OK  0.40\n    test_xml_disk_bus_ide                                       OK  0.15\n    test_xml_disk_bus_virtio                                    OK  0.16\n    test_xml_disk_driver                                        OK  0.29\n    test_xml_disk_prefix                                        OK  0.53\n    test_xml_uuid                                               OK  0.16\nLibvirtConnectionTestCase\n    test_finish_migration                                       OK  0.03\n    test_finish_revert_migration                                OK  0.03\n    test_migrate_disk_and_power_off                             OK  0.03\n    test_migrate_disk_and_power_off_exception                   OK  0.02\n    test_wait_for_running                                       OK  0.01\nLibvirtNonblockingTestCase\n    test_connection_to_primitive                                SKIP: Test requires libvirt\n\nhttps://jenkins.openstack.org/job/gate-nova-unittests/2012/console\n\nIs the python libvirt package being installed into this test environment?", 
            "date_created": "2012-04-30 21:13:47.547907+00:00", 
            "author": "https://api.launchpad.net/1.0/~jaypipes"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/7161", 
            "date_created": "2012-05-05 19:44:40.659943+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "We create virtualenvs for testing with \"no-site-packages\" installed. That means that python-libvirt doesn't get pulled in if it's not in pip-requires or test-requires.\n\nI'm going to add the ability to the venv caching to inject extra deps for now.", 
            "date_created": "2012-05-05 19:44:58.582597+00:00", 
            "author": "https://api.launchpad.net/1.0/~mordred"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/7161\nCommitted: http://github.com/openstack/openstack-ci-puppet/commit/76ec69571d2276c83f196b23b43e28b1146c00f9\nSubmitter: Jenkins\nBranch:    master\n\ncommit 76ec69571d2276c83f196b23b43e28b1146c00f9\nAuthor: Monty Taylor <email address hidden>\nDate:   Sat May 5 12:43:45 2012 -0700\n\n    Add ability to inject depends at invocation time.\n    \n    Fixes bug 992226\n    \n    Change-Id: I21d081fc6f008fe98ce730abf6d0ef8f38988922\n", 
            "date_created": "2012-05-05 19:45:33.640030+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Well, that's done - but the version of tox that we use has not been updated to real with the change in default behavior of virtualenv. there is a fix in tox trunk ... we need to upgrade as soon as it's released.", 
            "date_created": "2012-05-10 18:51:07.623300+00:00", 
            "author": "https://api.launchpad.net/1.0/~mordred"
        }, 
        {
            "content": "@Monty: any progress on this ?", 
            "date_created": "2012-12-13 14:42:36.817740+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "This was fixed long ago, just didn't update the nova part of the bugtask.", 
            "date_created": "2012-12-13 15:34:13.469058+00:00", 
            "author": "https://api.launchpad.net/1.0/~mordred"
        }
    ]
}