{
    "status": "Fix Released", 
    "last_updated": "2012-04-05 09:48:41.797312+00:00", 
    "description": "{{{\n2011-04-21 02:33:38,034 AUDIT nova.compute.manager [L6JTK1OWZ72LFJEQ9NSU admin testproject] instance 115: starting...\n2011-04-21 02:33:40,354 INFO nova [-] called setup_basic_filtering in nwfilter\n2011-04-21 02:33:40,354 INFO nova [-] ensuring static filters\n2011-04-21 02:33:40,360 ERROR nova.exception [-] Uncaught exception\n(nova.exception): TRACE: Traceback (most recent call last):\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/exception.py\", line 120, in _wrap\n(nova.exception): TRACE:     return f(*args, **kw)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/virt/libvirt_conn.py\", line 614, in spawn\n(nova.exception): TRACE:     self.firewall_driver.setup_basic_filtering(instance, network_info)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/virt/libvirt_conn.py\", line 1975, in setup_basic_filtering\n(nova.exception): TRACE:     return self.nwfilter.setup_basic_filtering(instance, network_info)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/virt/libvirt_conn.py\", line 1746, in setup_basic_filtering\n(nova.exception): TRACE:     ['nova-base']))\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/virt/libvirt_conn.py\", line 1831, in _define_filter\n(nova.exception): TRACE:     tpool.execute(self._conn.nwfilterDefineXML, xml)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/eventlet/tpool.py\", line 75, in tworker\n(nova.exception): TRACE:     rv = meth(*args,**kwargs)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/libvirt.py\", line 1724, in nwfilterDefineXML\n(nova.exception): TRACE:     if ret is None:raise libvirtError('virNWFilterDefineXML() failed', conn=self)\n(nova.exception): TRACE: libvirtError: cannot send data: Broken pipe\n(nova.exception): TRACE:\n2011-04-21 02:33:40,371 ERROR nova.compute.manager [L6JTK1OWZ72LFJEQ9NSU admin testproject] Instance '115' failed to spawn. Is virtualization enabled in the BIOS?\n(nova.compute.manager): TRACE: Traceback (most recent call last):\n(nova.compute.manager): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/compute/manager.py\", line 234, in run_instance\n(nova.compute.manager): TRACE:     self.driver.spawn(instance_ref)\n(nova.compute.manager): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/exception.py\", line 126, in _wrap\n(nova.compute.manager): TRACE:     raise Error(str(e))\n(nova.compute.manager): TRACE: Error: cannot send data: Broken pipe\n(nova.compute.manager): TRACE:\n}}}", 
    "tags": [
        "in-stable-diablo"
    ], 
    "importance": "Medium", 
    "heat": 18, 
    "link": "https://bugs.launchpad.net/nova/+bug/767947", 
    "owner": "https://api.launchpad.net/1.0/~aloga", 
    "id": 767947, 
    "index": 2396, 
    "created": "2011-04-21 00:34:49.276796+00:00", 
    "title": "start of new instance not possible after restarting libvirtd", 
    "comments": [
        {
            "content": "{{{\n2011-04-21 02:33:38,034 AUDIT nova.compute.manager [L6JTK1OWZ72LFJEQ9NSU admin testproject] instance 115: starting...\n2011-04-21 02:33:40,354 INFO nova [-] called setup_basic_filtering in nwfilter\n2011-04-21 02:33:40,354 INFO nova [-] ensuring static filters\n2011-04-21 02:33:40,360 ERROR nova.exception [-] Uncaught exception\n(nova.exception): TRACE: Traceback (most recent call last):\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/exception.py\", line 120, in _wrap\n(nova.exception): TRACE:     return f(*args, **kw)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/virt/libvirt_conn.py\", line 614, in spawn\n(nova.exception): TRACE:     self.firewall_driver.setup_basic_filtering(instance, network_info)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/virt/libvirt_conn.py\", line 1975, in setup_basic_filtering\n(nova.exception): TRACE:     return self.nwfilter.setup_basic_filtering(instance, network_info)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/virt/libvirt_conn.py\", line 1746, in setup_basic_filtering\n(nova.exception): TRACE:     ['nova-base']))\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/virt/libvirt_conn.py\", line 1831, in _define_filter\n(nova.exception): TRACE:     tpool.execute(self._conn.nwfilterDefineXML, xml)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/eventlet/tpool.py\", line 75, in tworker\n(nova.exception): TRACE:     rv = meth(*args,**kwargs)\n(nova.exception): TRACE:   File \"/usr/lib64/python2.6/site-packages/libvirt.py\", line 1724, in nwfilterDefineXML\n(nova.exception): TRACE:     if ret is None:raise libvirtError('virNWFilterDefineXML() failed', conn=self)\n(nova.exception): TRACE: libvirtError: cannot send data: Broken pipe\n(nova.exception): TRACE:\n2011-04-21 02:33:40,371 ERROR nova.compute.manager [L6JTK1OWZ72LFJEQ9NSU admin testproject] Instance '115' failed to spawn. Is virtualization enabled in the BIOS?\n(nova.compute.manager): TRACE: Traceback (most recent call last):\n(nova.compute.manager): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/compute/manager.py\", line 234, in run_instance\n(nova.compute.manager): TRACE:     self.driver.spawn(instance_ref)\n(nova.compute.manager): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/exception.py\", line 126, in _wrap\n(nova.compute.manager): TRACE:     raise Error(str(e))\n(nova.compute.manager): TRACE: Error: cannot send data: Broken pipe\n(nova.compute.manager): TRACE:\n}}}", 
            "date_created": "2011-04-21 00:34:49.276796+00:00", 
            "author": "https://api.launchpad.net/1.0/~berendt"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/1964\nCommitted: http://github.com/openstack/nova/commit/7c11490677bc49086271ee377e6a8076eebe15f6\nSubmitter: Jenkins\nBranch:    master\n\n status fixcommitted\n done\n\ncommit 7c11490677bc49086271ee377e6a8076eebe15f6\nAuthor: Alvaro Lopez Garcia <email address hidden>\nDate:   Wed Nov 30 12:25:00 2011 +0100\n\n    Fixes bug 767947\n    \n    If libvirt was restarted, a libvirt.libvirtError was raised with error\n    domain libvirt.VIR_FROM_RPC when trying to use the existing connection.\n    \n    Change-Id: Ib3d4ff23aadf5a0c93dde0c37c5686bf404ce9de\n", 
            "date_created": "2011-12-01 06:08:54+00:00", 
            "author": "https://api.launchpad.net/1.0/~openstack-gerrit"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/2188\nCommitted: http://github.com/openstack/nova/commit/add84707ec40bc4de1de5616da41b2ac5f4a9537\nSubmitter: Jenkins\nBranch:    stable/diablo\n\ncommit add84707ec40bc4de1de5616da41b2ac5f4a9537\nAuthor: Alvaro Lopez Garcia <email address hidden>\nDate:   Wed Nov 30 12:25:00 2011 +0100\n\n    Fixes bug 767947\n    \n    If libvirt was restarted, a libvirt.libvirtError was raised with error\n    domain libvirt.VIR_FROM_RPC when trying to use the existing connection.\n    \n    (cherry picked from commit 7c11490677bc49086271ee377e6a8076eebe15f6)\n    \n    Change-Id: Ib3d4ff23aadf5a0c93dde0c37c5686bf404ce9de\n", 
            "date_created": "2011-12-23 13:56:42.110105+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}