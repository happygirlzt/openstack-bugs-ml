{
    "status": "Fix Released", 
    "last_updated": "2014-03-30 23:08:41.768389+00:00", 
    "description": "When trying to launch a new instance (in Horizon) and boot from a existing volume sql exception is thrown and the request is unsuccessful. \n\nI'm using grizzly on Ubuntu 12.04 with PostgreSQL database. Following stacktrace is logged in nova-api.log:\n\n2013-04-21 18:58:02.821 7737 INFO nova.osapi_compute.wsgi.server [-] (7737) accepted ('172.25.128.51', 46344)\n\n2013-04-21 18:58:02.840 INFO nova.osapi_compute.wsgi.server [req-ff87c82b-f349-448e-b296-1623c00adb50 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] 172.25.128.51 \"GET /v2/f99bc13849b34ea2b2f5a22b7067185e/flavors/detail HTTP/1.1\" status: 200 len: 2293 time: 0.0175982\n\n2013-04-21 18:58:02.845 7737 INFO nova.osapi_compute.wsgi.server [-] (7737) accepted ('172.25.128.51', 46345)\n\n2013-04-21 18:58:02.855 INFO nova.osapi_compute.wsgi.server [req-ce0d01af-9639-457e-b720-97a6abdf6822 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] 172.25.128.51 \"GET /v2/f99bc13849b34ea2b2f5a22b7067185e/os-keypairs HTTP/1.1\" status: 200 len: 702 time: 0.0090740\n\n2013-04-21 18:58:02.861 7737 INFO nova.osapi_compute.wsgi.server [-] (7737) accepted ('172.25.128.51', 46346)\n\n2013-04-21 18:58:02.893 INFO nova.osapi_compute.wsgi.server [req-0522038c-3afe-4793-89cb-acab8cdb478b 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] 172.25.128.51 \"GET /v2/f99bc13849b34ea2b2f5a22b7067185e/os-security-groups HTTP/1.1\" status: 200 len: 312 time: 0.0310581\n\n2013-04-21 18:58:03.261 7737 INFO nova.osapi_compute.wsgi.server [-] (7737) accepted ('172.25.128.51', 46353)\n\n2013-04-21 18:58:03.600 ERROR nova.openstack.common.db.sqlalchemy.session [req-fd50c447-0059-4064-a41e-6be723e456ec 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] DB exception wrapped.\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session Traceback (most recent call last):\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 415, in _wrap\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     return f(*args, **kwargs)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 587, in flush\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     return super(Session, self).flush(*args, **kwargs)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1718, in flush\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     self._flush(objects)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1789, in _flush\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     flush_context.execute()\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 331, in execute\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     rec.execute(self)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 475, in execute\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     uow\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 64, in save_obj\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     table, insert)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 558, in _emit_insert_statements\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     execute(statement, params)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1449, in execute\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     params)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1584, in _execute_clauseelement\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     compiled_sql, distilled_params\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1698, in _execute_context\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     context)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1691, in _execute_context\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     context)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 331, in do_execute\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     cursor.execute(statement, parameters)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session DataError: (DataError) invalid input syntax for integer: \"\"\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session LINE 1: ...LL, NULL, '1d9e13e2-ee56-4d87-a24a-35d347048411', '', NULL, ...\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session                                                              ^\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session  'INSERT INTO block_device_mapping (created_at, updated_at, deleted_at, deleted, instance_uuid, device_name, delete_on_termination, virtual_name, snapshot_id, volume_id, volume_size, no_device, connection_info) VALUES (%(created_at)s, %(updated_at)s, %(deleted_at)s, %(deleted)s, %(instance_uuid)s, %(device_name)s, %(delete_on_termination)s, %(virtual_name)s, %(snapshot_id)s, %(volume_id)s, %(volume_size)s, %(no_device)s, %(connection_info)s) RETURNING block_device_mapping.id' {'instance_uuid': 'e97b64e8-c99e-4e1f-898c-212fa0c5409d', 'virtual_name': None, 'no_device': None, 'connection_info': None, 'created_at': datetime.datetime(2013, 4, 21, 15, 58, 3, 598268), 'volume_id': u'1d9e13e2-ee56-4d87-a24a-35d347048411', 'deleted': 0, 'updated_at': None, 'device_name': u'vda', 'volume_size': u'', 'snapshot_id': None, 'deleted_at': None, 'delete_on_termination': False}\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session\n2013-04-21 18:58:03.628 ERROR nova.api.openstack [req-fd50c447-0059-4064-a41e-6be723e456ec 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] Caught error: (DataError) invalid input syntax for integer: \"\"\nLINE 1: ...LL, NULL, '1d9e13e2-ee56-4d87-a24a-35d347048411', '', NULL, ...\n                                                             ^\n 'INSERT INTO block_device_mapping (created_at, updated_at, deleted_at, deleted, instance_uuid, device_name, delete_on_termination, virtual_name, snapshot_id, volume_id, volume_size, no_device, connection_info) VALUES (%(created_at)s, %(updated_at)s, %(deleted_at)s, %(deleted)s, %(instance_uuid)s, %(device_name)s, %(delete_on_termination)s, %(virtual_name)s, %(snapshot_id)s, %(volume_id)s, %(volume_size)s, %(no_device)s, %(connection_info)s) RETURNING block_device_mapping.id' {'instance_uuid': 'e97b64e8-c99e-4e1f-898c-212fa0c5409d', 'virtual_name': None, 'no_device': None, 'connection_info': None, 'created_at': datetime.datetime(2013, 4, 21, 15, 58, 3, 598268), 'volume_id': u'1d9e13e2-ee56-4d87-a24a-35d347048411', 'deleted': 0, 'updated_at': None, 'device_name': u'vda', 'volume_size': u'', 'snapshot_id': None, 'deleted_at': None, 'delete_on_termination': False}\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack Traceback (most recent call last):\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/__init__.py\", line 81, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/request.py\", line 1296, in send\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/request.py\", line 1260, in call_application\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/keystoneclient/middleware/auth_token.py\", line 450, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 890, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     content_type, body, accept)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 942, in _process_stack\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 1022, in dispatch\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return method(req=request, **action_args)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 898, in create\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     scheduler_hints=scheduler_hints)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 85, in inner\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     rv = f(*args, **kwargs)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 962, in create\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     scheduler_hints=scheduler_hints)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 676, in _create_instance\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     reservation_id, scheduler_hints)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 634, in _validate_and_provision_instance\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     QUOTAS.rollback(context, quota_reservations)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     self.gen.next()\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 616, in _validate_and_provision_instance\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     num_instances, i)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 911, in create_db_entry_for_new_instance\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     instance_type, image, block_device_mapping)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 807, in _populate_instance_for_bdm\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     instance_type, instance_uuid, mapping)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 773, in _update_block_device_mapping\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     values)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 1034, in block_device_mapping_update_or_create\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return IMPL.block_device_mapping_update_or_create(context, values)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 113, in wrapper\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return f(*args, **kwargs)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 2875, in block_device_mapping_update_or_create\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     bdm_ref.save(session=session)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/models.py\", line 54, in save\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     session.flush()\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 436, in _wrap\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     raise exception.DBError(e)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack DBError: (DataError) invalid input syntax for integer: \"\"\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack LINE 1: ...LL, NULL, '1d9e13e2-ee56-4d87-a24a-35d347048411', '', NULL, ...\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack                                                              ^\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack  'INSERT INTO block_device_mapping (created_at, updated_at, deleted_at, deleted, instance_uuid, device_name, delete_on_termination, virtual_name, snapshot_id, volume_id, volume_size, no_device, connection_info) VALUES (%(created_at)s, %(updated_at)s, %(deleted_at)s, %(deleted)s, %(instance_uuid)s, %(device_name)s, %(delete_on_termination)s, %(virtual_name)s, %(snapshot_id)s, %(volume_id)s, %(volume_size)s, %(no_device)s, %(connection_info)s) RETURNING block_device_mapping.id' {'instance_uuid': 'e97b64e8-c99e-4e1f-898c-212fa0c5409d', 'virtual_name': None, 'no_device': None, 'connection_info': None, 'created_at': datetime.datetime(2013, 4, 21, 15, 58, 3, 598268), 'volume_id': u'1d9e13e2-ee56-4d87-a24a-35d347048411', 'deleted': 0, 'updated_at': None, 'device_name': u'vda', 'volume_size': u'', 'snapshot_id': None, 'deleted_at': None, 'delete_on_termination': False}\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack", 
    "tags": [
        "db", 
        "postgresql"
    ], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1171190", 
    "owner": "https://api.launchpad.net/1.0/~dripton", 
    "id": 1171190, 
    "index": 1060, 
    "created": "2013-04-21 16:27:22.248190+00:00", 
    "title": "sql error when launching an instance from a volume", 
    "comments": [
        {
            "content": "When trying to launch a new instance (in Horizon) and boot from a existing volume sql exception is thrown and the request is unsuccessful. \n\nI'm using grizzly on Ubuntu 12.04 with PostgreSQL database. Following stacktrace is logged in nova-api.log:\n\n2013-04-21 18:58:02.821 7737 INFO nova.osapi_compute.wsgi.server [-] (7737) accepted ('172.25.128.51', 46344)\n\n2013-04-21 18:58:02.840 INFO nova.osapi_compute.wsgi.server [req-ff87c82b-f349-448e-b296-1623c00adb50 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] 172.25.128.51 \"GET /v2/f99bc13849b34ea2b2f5a22b7067185e/flavors/detail HTTP/1.1\" status: 200 len: 2293 time: 0.0175982\n\n2013-04-21 18:58:02.845 7737 INFO nova.osapi_compute.wsgi.server [-] (7737) accepted ('172.25.128.51', 46345)\n\n2013-04-21 18:58:02.855 INFO nova.osapi_compute.wsgi.server [req-ce0d01af-9639-457e-b720-97a6abdf6822 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] 172.25.128.51 \"GET /v2/f99bc13849b34ea2b2f5a22b7067185e/os-keypairs HTTP/1.1\" status: 200 len: 702 time: 0.0090740\n\n2013-04-21 18:58:02.861 7737 INFO nova.osapi_compute.wsgi.server [-] (7737) accepted ('172.25.128.51', 46346)\n\n2013-04-21 18:58:02.893 INFO nova.osapi_compute.wsgi.server [req-0522038c-3afe-4793-89cb-acab8cdb478b 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] 172.25.128.51 \"GET /v2/f99bc13849b34ea2b2f5a22b7067185e/os-security-groups HTTP/1.1\" status: 200 len: 312 time: 0.0310581\n\n2013-04-21 18:58:03.261 7737 INFO nova.osapi_compute.wsgi.server [-] (7737) accepted ('172.25.128.51', 46353)\n\n2013-04-21 18:58:03.600 ERROR nova.openstack.common.db.sqlalchemy.session [req-fd50c447-0059-4064-a41e-6be723e456ec 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] DB exception wrapped.\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session Traceback (most recent call last):\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 415, in _wrap\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     return f(*args, **kwargs)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 587, in flush\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     return super(Session, self).flush(*args, **kwargs)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1718, in flush\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     self._flush(objects)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1789, in _flush\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     flush_context.execute()\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 331, in execute\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     rec.execute(self)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 475, in execute\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     uow\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 64, in save_obj\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     table, insert)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 558, in _emit_insert_statements\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     execute(statement, params)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1449, in execute\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     params)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1584, in _execute_clauseelement\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     compiled_sql, distilled_params\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1698, in _execute_context\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     context)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1691, in _execute_context\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     context)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 331, in do_execute\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session     cursor.execute(statement, parameters)\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session DataError: (DataError) invalid input syntax for integer: \"\"\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session LINE 1: ...LL, NULL, '1d9e13e2-ee56-4d87-a24a-35d347048411', '', NULL, ...\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session                                                              ^\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session  'INSERT INTO block_device_mapping (created_at, updated_at, deleted_at, deleted, instance_uuid, device_name, delete_on_termination, virtual_name, snapshot_id, volume_id, volume_size, no_device, connection_info) VALUES (%(created_at)s, %(updated_at)s, %(deleted_at)s, %(deleted)s, %(instance_uuid)s, %(device_name)s, %(delete_on_termination)s, %(virtual_name)s, %(snapshot_id)s, %(volume_id)s, %(volume_size)s, %(no_device)s, %(connection_info)s) RETURNING block_device_mapping.id' {'instance_uuid': 'e97b64e8-c99e-4e1f-898c-212fa0c5409d', 'virtual_name': None, 'no_device': None, 'connection_info': None, 'created_at': datetime.datetime(2013, 4, 21, 15, 58, 3, 598268), 'volume_id': u'1d9e13e2-ee56-4d87-a24a-35d347048411', 'deleted': 0, 'updated_at': None, 'device_name': u'vda', 'volume_size': u'', 'snapshot_id': None, 'deleted_at': None, 'delete_on_termination': False}\n2013-04-21 18:58:03.600 7737 TRACE nova.openstack.common.db.sqlalchemy.session\n2013-04-21 18:58:03.628 ERROR nova.api.openstack [req-fd50c447-0059-4064-a41e-6be723e456ec 9ec7d20683fd483090b26f9256c79cd6 f99bc13849b34ea2b2f5a22b7067185e] Caught error: (DataError) invalid input syntax for integer: \"\"\nLINE 1: ...LL, NULL, '1d9e13e2-ee56-4d87-a24a-35d347048411', '', NULL, ...\n                                                             ^\n 'INSERT INTO block_device_mapping (created_at, updated_at, deleted_at, deleted, instance_uuid, device_name, delete_on_termination, virtual_name, snapshot_id, volume_id, volume_size, no_device, connection_info) VALUES (%(created_at)s, %(updated_at)s, %(deleted_at)s, %(deleted)s, %(instance_uuid)s, %(device_name)s, %(delete_on_termination)s, %(virtual_name)s, %(snapshot_id)s, %(volume_id)s, %(volume_size)s, %(no_device)s, %(connection_info)s) RETURNING block_device_mapping.id' {'instance_uuid': 'e97b64e8-c99e-4e1f-898c-212fa0c5409d', 'virtual_name': None, 'no_device': None, 'connection_info': None, 'created_at': datetime.datetime(2013, 4, 21, 15, 58, 3, 598268), 'volume_id': u'1d9e13e2-ee56-4d87-a24a-35d347048411', 'deleted': 0, 'updated_at': None, 'device_name': u'vda', 'volume_size': u'', 'snapshot_id': None, 'deleted_at': None, 'delete_on_termination': False}\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack Traceback (most recent call last):\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/__init__.py\", line 81, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/request.py\", line 1296, in send\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/request.py\", line 1260, in call_application\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/keystoneclient/middleware/auth_token.py\", line 450, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 890, in __call__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     content_type, body, accept)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 942, in _process_stack\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 1022, in dispatch\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return method(req=request, **action_args)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 898, in create\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     scheduler_hints=scheduler_hints)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 85, in inner\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     rv = f(*args, **kwargs)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 962, in create\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     scheduler_hints=scheduler_hints)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 676, in _create_instance\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     reservation_id, scheduler_hints)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 634, in _validate_and_provision_instance\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     QUOTAS.rollback(context, quota_reservations)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     self.gen.next()\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 616, in _validate_and_provision_instance\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     num_instances, i)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 911, in create_db_entry_for_new_instance\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     instance_type, image, block_device_mapping)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 807, in _populate_instance_for_bdm\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     instance_type, instance_uuid, mapping)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 773, in _update_block_device_mapping\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     values)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 1034, in block_device_mapping_update_or_create\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return IMPL.block_device_mapping_update_or_create(context, values)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 113, in wrapper\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     return f(*args, **kwargs)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 2875, in block_device_mapping_update_or_create\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     bdm_ref.save(session=session)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/models.py\", line 54, in save\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     session.flush()\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 436, in _wrap\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack     raise exception.DBError(e)\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack DBError: (DataError) invalid input syntax for integer: \"\"\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack LINE 1: ...LL, NULL, '1d9e13e2-ee56-4d87-a24a-35d347048411', '', NULL, ...\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack                                                              ^\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack  'INSERT INTO block_device_mapping (created_at, updated_at, deleted_at, deleted, instance_uuid, device_name, delete_on_termination, virtual_name, snapshot_id, volume_id, volume_size, no_device, connection_info) VALUES (%(created_at)s, %(updated_at)s, %(deleted_at)s, %(deleted)s, %(instance_uuid)s, %(device_name)s, %(delete_on_termination)s, %(virtual_name)s, %(snapshot_id)s, %(volume_id)s, %(volume_size)s, %(no_device)s, %(connection_info)s) RETURNING block_device_mapping.id' {'instance_uuid': 'e97b64e8-c99e-4e1f-898c-212fa0c5409d', 'virtual_name': None, 'no_device': None, 'connection_info': None, 'created_at': datetime.datetime(2013, 4, 21, 15, 58, 3, 598268), 'volume_id': u'1d9e13e2-ee56-4d87-a24a-35d347048411', 'deleted': 0, 'updated_at': None, 'device_name': u'vda', 'volume_size': u'', 'snapshot_id': None, 'deleted_at': None, 'delete_on_termination': False}\n2013-04-21 18:58:03.628 7737 TRACE nova.api.openstack", 
            "date_created": "2013-04-21 16:27:22.248190+00:00", 
            "author": "https://api.launchpad.net/1.0/~rein-g"
        }, 
        {
            "content": "So you created a new instance and then you created an instance from a volume?", 
            "date_created": "2013-04-22 14:29:14.970554+00:00", 
            "author": "https://api.launchpad.net/1.0/~zulcss"
        }, 
        {
            "content": "Yes, thats correct. I'm using cinder with ceph as my volume backend. I created a new 10gb volume and tried to launch a new instance from it. Although I first got this error using horizon, the same happens on command line if I don't specify volume size:\n\nrein@openstack:~$ cinder create 10\n+---------------------+--------------------------------------+\n|       Property      |                Value                 |\n+---------------------+--------------------------------------+\n|     attachments     |                  []                  |\n|  availability_zone  |                 nova                 |\n|       bootable      |                false                 |\n|      created_at     |      2013-04-22T17:44:09.780706      |\n| display_description |                 None                 |\n|     display_name    |                 None                 |\n|          id         | fcf973e4-df2b-4dc8-8533-d59bda6b9d7d |\n|       metadata      |                  {}                  |\n|         size        |                  10                  |\n|     snapshot_id     |                 None                 |\n|     source_volid    |                 None                 |\n|        status       |               creating               |\n|     volume_type     |                 None                 |\n+---------------------+--------------------------------------+\nrein@openstack:~$ nova boot --flavor 1 --key_name test --block_device_mapping vda=fcf973e4-df2b-4dc8-8533-d59bda6b9d7d:::0 boot-from-volume-test\nERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-9601013b-6bc6-4ba1-8967-48da5482d0d9)\nrein@openstack:~$\n\nIf I specify volume size, the instance is created:\n\nrein@openstack:~$ nova boot --flavor 1 --key_name test --block_device_mapping vda=fcf973e4-df2b-4dc8-8533-d59bda6b9d7d::10:0 boot-from-volume-test\n+-------------------------------------+-------------------------------------------------+\n| Property                            | Value                                           |\n+-------------------------------------+-------------------------------------------------+\n| OS-EXT-STS:task_state               | scheduling                                      |\n| image                               | Attempt to boot from volume - no image supplied |\n| OS-EXT-STS:vm_state                 | building                                        |\n| OS-EXT-SRV-ATTR:instance_name       | instance-00000023                               |\n| flavor                              | m1.tiny                                         |\n| id                                  | 3c6b7bd2-a357-4990-8b80-001ddbfb88a7            |\n| security_groups                     | [{u'name': u'default'}]                         |\n| user_id                             | 9ec7d20683fd483090b26f9256c79cd6                |\n| OS-DCF:diskConfig                   | MANUAL                                          |\n| accessIPv4                          |                                                 |\n| accessIPv6                          |                                                 |\n| progress                            | 0                                               |\n| OS-EXT-STS:power_state              | 0                                               |\n| OS-EXT-AZ:availability_zone         | None                                            |\n| config_drive                        |                                                 |\n| status                              | BUILD                                           |\n| updated                             | 2013-04-22T17:45:38Z                            |\n| hostId                              |                                                 |\n| OS-EXT-SRV-ATTR:host                | None                                            |\n| key_name                            | test                                            |\n| OS-EXT-SRV-ATTR:hypervisor_hostname | None                                            |\n| name                                | boot-from-volume-test                           |\n| adminPass                           | 3TCWu7ErMsgV                                    |\n| tenant_id                           | f99bc13849b34ea2b2f5a22b7067185e                |\n| created                             | 2013-04-22T17:45:38Z                            |\n| metadata                            | {}                                              |\n+-------------------------------------+-------------------------------------------------+\n \nAccording to the documentation it should be safe to leave the size unspecified (http://docs.openstack.org/trunk/openstack-compute/admin/content/instance-creation.html#boot_from_volume). \n\n\n", 
            "date_created": "2013-04-22 17:49:50.098197+00:00", 
            "author": "https://api.launchpad.net/1.0/~rein-g"
        }, 
        {
            "content": "looks like another postgresql specific bug due to it being more strict on data types", 
            "date_created": "2013-05-08 14:46:16.493848+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/28589", 
            "date_created": "2013-05-08 18:30:37.909503+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/28589\nCommitted: http://github.com/openstack/nova/commit/188a94c898bcf07f9fe42ef2f3b5ee4aa8859b49\nSubmitter: Jenkins\nBranch:    master\n\ncommit 188a94c898bcf07f9fe42ef2f3b5ee4aa8859b49\nAuthor: David Ripton <email address hidden>\nDate:   Wed May 8 14:20:29 2013 -0400\n\n    Remove invalid block_device_mapping volume_size of ''\n    \n    Fixes bug #1171190\n    \n    Parsing block_device_mapping from strings sometimes results in\n    volume_size being set to '' or u''.  This causes a problem when\n    inserting into PostgreSQL, which insists that integer columns\n    actually contain integers.  Remove invalid device_size before\n    inserting or updating block_device_mapping database records.\n    \n    Change-Id: If9132a96604b5b0e3a6df96624e565e016d5c9a3\n", 
            "date_created": "2013-05-10 16:14:58.086874+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/grizzly\nReview: https://review.openstack.org/28819", 
            "date_created": "2013-05-10 18:28:49.157393+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/grizzly\nReview: https://review.openstack.org/38069", 
            "date_created": "2013-07-21 14:30:17.086386+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/28819\nCommitted: http://github.com/openstack/nova/commit/2ab1b6a5fa571552fb1d8a5c77312445c07a252a\nSubmitter: Jenkins\nBranch:    stable/grizzly\n\ncommit 2ab1b6a5fa571552fb1d8a5c77312445c07a252a\nAuthor: David Ripton <email address hidden>\nDate:   Mon Aug 12 19:23:45 2013 +0200\n\n    Remove invalid block_device_mapping volume_size of ''\n    \n    Parsing block_device_mapping from strings sometimes results in\n    volume_size being set to '' or u''.  This causes a problem when\n    inserting into PostgreSQL, which insists that integer columns\n    actually contain integers.  Remove invalid device_size before\n    inserting or updating block_device_mapping database records.\n    \n    (cherry picked from commit 188a94c898bcf07f9fe42ef2f3b5ee4aa8859b49)\n    \n    Fixes: Bug #1171190\n    Change-Id: If9132a96604b5b0e3a6df96624e565e016d5c9a3\n", 
            "date_created": "2013-08-23 21:48:25.510065+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}