{
    "status": "Invalid", 
    "last_updated": "2014-09-17 13:51:36.387679+00:00", 
    "description": "Havana release: I have several instances running and while I can delete most instances there are times where I can not delete one that seems to get stuck in 'deleting' state.  I have tried to reset from the command line to error and delete and also back to active and delete with no success.   I did wait quite a time after each to allow the deletion to occur.    The only way I could delete the instances was to go into the mysql db and get rid of the specific entries/tables for this instance.\n(this worked).\nI can see in my nova log that it was trying to delete:\n2014-05-20 14:55:20.343 19358 DEBUG routes.middleware [-] Matched DELETE /a843cb922df24063b50c3accdc6ded44/servers/dbbc203a-9a18-493a-b3d5-da82e5232f59 __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:100\n2014-05-20 14:55:20.344 19358 DEBUG routes.middleware [-] Route path: '/{project_id}/servers/:(id)', defaults: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x2b3cc50>} __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:102\n2014-05-20 14:55:20.344 19358 DEBUG routes.middleware [-] Match dict: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x2b3cc50>, 'project_id': u'a843cb922df24063b50c3accdc6ded44', 'id': u'dbbc203a-9a18-493a-b3d5-da82e5232f59'} __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:103\n2014-05-20 14:55:20.344 19358 DEBUG nova.api.openstack.wsgi [req-5e93a3b0-5430-4a1f-a86f-8ece4e13eece 161172840f564803ab4e6b2cde1f13de a843cb922df24063b50c3accdc6ded44] No Content-Type provided in request get_body /usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py:835\n2014-05-20 14:55:20.345 19358 DEBUG nova.api.openstack.wsgi [req-5e93a3b0-5430-4a1f-a86f-8ece4e13eece 161172840f564803ab4e6b2cde1f13de a843cb922df24063b50c3accdc6ded44] Calling method <bound method Controller.delete of <nova.api.openstack.compute.servers.Controller object at 0x29931d0>> _process_stack /usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py:962\n\nbut I see this many times over\n2014-05-20 14:55:26.541 19351 DEBUG routes.middleware [-] Matched DELETE /a843cb922df24063b50c3accdc6ded44/servers/dbbc203a-9a18-493a-b3d5-da82e5232f59 __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:100\n2014-05-20 14:55:26.542 19351 DEBUG routes.middleware [-] Match dict: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x2b3cc50>, 'project_id': u'a843cb922df24063b50c3accdc6ded44', 'id': u'dbbc203a-9a18-493a-b3d5-da82e5232f59'} __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:103\n\n2014-05-20 14:55:26.583 19351 DEBUG nova.compute.api [req-3278602c-d0ef-455f-af8e-a6e20447322e 161172840f564803ab4e6b2cde1f13de a843cb922df24063b50c3accdc6ded44] [instance: dbbc203a-9a18-493a-b3d5-da82e5232f59] Going to try to terminate instance delete /usr/lib/python2.6/site-packages/nova/compute/api.py:1564", 
    "tags": [
        "compute"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1323786", 
    "owner": "None", 
    "id": 1323786, 
    "index": 4878, 
    "created": "2014-05-27 18:43:23.268618+00:00", 
    "title": "Can not delete instance Havana", 
    "comments": [
        {
            "content": "Havana release: I have several instances running and while I can delete most instances there are times where I can not delete one that seems to get stuck in 'deleting' state.  I have tried to reset from the command line to error and delete and also back to active and delete with no success.   I did wait quite a time after each to allow the deletion to occur.    The only way I could delete the instances was to go into the mysql db and get rid of the specific entries/tables for this instance.\n(this worked).\nI can see in my nova log that it was trying to delete:\n2014-05-20 14:55:20.343 19358 DEBUG routes.middleware [-] Matched DELETE /a843cb922df24063b50c3accdc6ded44/servers/dbbc203a-9a18-493a-b3d5-da82e5232f59 __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:100\n2014-05-20 14:55:20.344 19358 DEBUG routes.middleware [-] Route path: '/{project_id}/servers/:(id)', defaults: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x2b3cc50>} __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:102\n2014-05-20 14:55:20.344 19358 DEBUG routes.middleware [-] Match dict: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x2b3cc50>, 'project_id': u'a843cb922df24063b50c3accdc6ded44', 'id': u'dbbc203a-9a18-493a-b3d5-da82e5232f59'} __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:103\n2014-05-20 14:55:20.344 19358 DEBUG nova.api.openstack.wsgi [req-5e93a3b0-5430-4a1f-a86f-8ece4e13eece 161172840f564803ab4e6b2cde1f13de a843cb922df24063b50c3accdc6ded44] No Content-Type provided in request get_body /usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py:835\n2014-05-20 14:55:20.345 19358 DEBUG nova.api.openstack.wsgi [req-5e93a3b0-5430-4a1f-a86f-8ece4e13eece 161172840f564803ab4e6b2cde1f13de a843cb922df24063b50c3accdc6ded44] Calling method <bound method Controller.delete of <nova.api.openstack.compute.servers.Controller object at 0x29931d0>> _process_stack /usr/lib/python2.6/site-packages/nova/api/openstack/wsgi.py:962\n\nbut I see this many times over\n2014-05-20 14:55:26.541 19351 DEBUG routes.middleware [-] Matched DELETE /a843cb922df24063b50c3accdc6ded44/servers/dbbc203a-9a18-493a-b3d5-da82e5232f59 __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:100\n2014-05-20 14:55:26.542 19351 DEBUG routes.middleware [-] Match dict: {'action': u'delete', 'controller': <nova.api.openstack.wsgi.Resource object at 0x2b3cc50>, 'project_id': u'a843cb922df24063b50c3accdc6ded44', 'id': u'dbbc203a-9a18-493a-b3d5-da82e5232f59'} __call__ /usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py:103\n\n2014-05-20 14:55:26.583 19351 DEBUG nova.compute.api [req-3278602c-d0ef-455f-af8e-a6e20447322e 161172840f564803ab4e6b2cde1f13de a843cb922df24063b50c3accdc6ded44] [instance: dbbc203a-9a18-493a-b3d5-da82e5232f59] Going to try to terminate instance delete /usr/lib/python2.6/site-packages/nova/compute/api.py:1564", 
            "date_created": "2014-05-27 18:43:23.268618+00:00", 
            "author": "https://api.launchpad.net/1.0/~kate-coyne"
        }, 
        {
            "content": "Hi, I think we need a bit more information in order to diagnose this issue. You have shown the content of nova-api.log. What do you see in nova-compute.log? In the api log we see the delete request was tried \"Going to try to terminate instance delete\" and what you want to see is if the request id (req-3278602c-d0ef-455f-af8e-a6e20447322e) shows up in nova-compute.log. If it doesn't, you have a communication problem between your api host and compute host (message queue). Do you see any errors in nova-compute.log?", 
            "date_created": "2014-08-08 18:54:03.299798+00:00", 
            "author": "https://api.launchpad.net/1.0/~melwitt"
        }
    ]
}