{
    "status": "Invalid", 
    "last_updated": "2015-01-22 21:53:56.633887+00:00", 
    "description": "This  happens mostly when you detach a volume and attach it to an instance for the second time. You can't see error message in horizon, but the attachments information is still empty after the \"Manage Volume Attachments\" dialogue window close.  It will always reported DeviceIsBusy error in nova log even you retry after waiting for a period of time.\n\nStack Trace:\n...\n2012-05-15 11:39:35 ERROR nova.rpc.amqp [req-f3308f84-2037-4a06-bb7c-0c839fd59eff f1471e8df51e4e3d8e5a15ae98184e4\n8 b5797569c91b4c2d9f8fc321d37b0892] Exception during message handling\n2012-05-15 11:39:35 TRACE nova.rpc.amqp Traceback (most recent call last):\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/rpc/amqp.py\", line 265, in _process_data\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     rval = node_func(context=ctxt, **node_args)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 119, in wrapped\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     temp_level, payload)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 94, in wrapped\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 171, in decorated_\nfunction\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     function(self, context, instance_uuid, *args, **kwargs)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 195, in decorated_\nfunction\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     sys.exc_info())\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 189, in decorated_\nfunction\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     return function(self, context, instance_uuid, *args, **kwargs)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 1773, in attach_vo\nlume\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     connector)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 1764, in attach_vo\nlume\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     mountpoint)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 119, in wrapped\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     temp_level, payload)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 94, in wrapped\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/virt/libvirt/connection.py\", line 533, in attach_volume\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     raise exception.DeviceIsBusy(device=mount_device)", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 30, 
    "link": "https://bugs.launchpad.net/nova/+bug/999508", 
    "owner": "None", 
    "id": 999508, 
    "index": 2812, 
    "created": "2012-05-15 07:38:31.822949+00:00", 
    "title": "DeviceIsBusy error when reattaching volume to an instance", 
    "comments": [
        {
            "content": "This  happens mostly when you detach a volume and attach it to an instance for the second time. You can't see error message in horizon, but the attachments information is still empty after the \"Manage Volume Attachments\" dialogue window close.  It will always reported DeviceIsBusy error in nova log even you retry after waiting for a period of time.\n\nStack Trace:\n...\n2012-05-15 11:39:35 ERROR nova.rpc.amqp [req-f3308f84-2037-4a06-bb7c-0c839fd59eff f1471e8df51e4e3d8e5a15ae98184e4\n8 b5797569c91b4c2d9f8fc321d37b0892] Exception during message handling\n2012-05-15 11:39:35 TRACE nova.rpc.amqp Traceback (most recent call last):\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/rpc/amqp.py\", line 265, in _process_data\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     rval = node_func(context=ctxt, **node_args)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 119, in wrapped\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     temp_level, payload)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 94, in wrapped\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 171, in decorated_\nfunction\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     function(self, context, instance_uuid, *args, **kwargs)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 195, in decorated_\nfunction\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     sys.exc_info())\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 189, in decorated_\nfunction\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     return function(self, context, instance_uuid, *args, **kwargs)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 1773, in attach_vo\nlume\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     connector)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 1764, in attach_vo\nlume\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     mountpoint)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 119, in wrapped\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     temp_level, payload)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 94, in wrapped\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-05-15 11:39:35 TRACE nova.rpc.amqp   File \"/opt/stack/nova/nova/virt/libvirt/connection.py\", line 533, in attach_volume\n2012-05-15 11:39:35 TRACE nova.rpc.amqp     raise exception.DeviceIsBusy(device=mount_device)", 
            "date_created": "2012-05-15 07:38:31.822949+00:00", 
            "author": "https://api.launchpad.net/1.0/~zhang-hare"
        }, 
        {
            "content": "", 
            "date_created": "2012-05-15 07:38:31.822949+00:00", 
            "author": "https://api.launchpad.net/1.0/~zhang-hare"
        }, 
        {
            "content": "Im not able to reproduce this on essex, please re-open if you are able to do so.", 
            "date_created": "2012-06-07 18:28:18.322041+00:00", 
            "author": "https://api.launchpad.net/1.0/~zulcss"
        }, 
        {
            "content": "I have reproduced this bug on essex. Not only on a second attempt to attach, but on a first attempt as well. To me, it happens when trying to attach to device vda:\r\n2012-08-30 11:10:52 ERROR nova.rpc.amqp [req-ef4adaff-82e3-47f1-9dbb-d3b07fbcc1b3 c3f916bea9184fcd86077f3130928d36 4f2872a22d784d38bb774f47e54d3544] Exception during message handling\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp Traceback (most recent call last):\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpc/amqp.py\", line 253, in _process_data\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     rval = node_func(context=ctxt, **node_args)\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 114, in wrapped\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     return f(*args, **kw)\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 159, in decorated_function\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     function(self, context, instance_uuid, *args, **kwargs)\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 183, in decorated_function\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     sys.exc_info())\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     self.gen.next()\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 177, in decorated_function\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     return function(self, context, instance_uuid, *args, **kwargs)\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1741, in attach_volume\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     connector)\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     self.gen.next()\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 1733, in attach_volume\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     mountpoint)\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 114, in wrapped\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     return f(*args, **kw)\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/connection.py\", line 550, in attach_volume\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp     raise exception.DeviceIsBusy(device=mount_device)\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp DeviceIsBusy: The supplied device (vda) is busy.\r\n2012-08-30 11:10:52 TRACE nova.rpc.amqp\r\n", 
            "date_created": "2012-08-30 08:33:04.334964+00:00", 
            "author": "https://api.launchpad.net/1.0/~lihit"
        }, 
        {
            "content": "I think the root of this is a well-known case of not having acpi hotplugging loaded in your guest. Can you ensure that this module is loaded in your guest and see if that helps?", 
            "date_created": "2012-09-06 21:37:34.448942+00:00", 
            "author": "https://api.launchpad.net/1.0/~danms"
        }, 
        {
            "content": "We cannot solve the issue you reported without more information. Could you please provide the requested information ?", 
            "date_created": "2012-12-13 10:41:52.131119+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "I can reproduce this on Folsom with Cinder, when I try to attach a device to /dev/vda  I get \"DevicePathInUse: The supplied device path (/dev/vda) is in use.\", but when I try to attach using any other /dev/x  it is fine.\n\nThe complete trace:\n\n2012-12-16 16:43:02 INFO nova.compute.resource_tracker [-] Compute_service record updated for nova-vm-compute\n2012-12-16 16:43:04 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 117, in wrapped\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 92, in wrapped\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 181, in decorated_function\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     pass\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 167, in decorated_function\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 202, in decorated_function\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     kwargs['instance']['uuid'], e, sys.exc_info())\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 196, in decorated_function\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1932, in reserve_block_device_name\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     return do_reserve()\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/utils.py\", line 752, in inner\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     retval = f(*args, **kwargs)\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1926, in do_reserve\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     device)\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/utils.py\", line 112, in get_device_name_for_instance\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp     raise exception.DevicePathInUse(path=device)\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp DevicePathInUse: The supplied device path (/dev/vda) is in use.\n2012-12-16 16:43:04 TRACE nova.openstack.common.rpc.amqp\n2012-12-16 16:43:04 ERROR nova.openstack.common.rpc.common [-] Returning exception The supplied device path (/dev/vda) is in use. to caller\n2012-12-16 16:43:04 ERROR nova.openstack.common.rpc.common [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n    rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n    return getattr(proxyobj, method)(ctxt, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 117, in wrapped\\n    temp_level, payload)\\n', '  File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 92, in wrapped\\n    return f(*args, **kw)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 181, in decorated_function\\n    pass\\n', '  File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 167, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 202, in decorated_function\\n    kwargs[\\'instance\\'][\\'uuid\\'], e, sys.exc_info())\\n', '  File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 196, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1932, in reserve_block_device_name\\n    return do_reserve()\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/utils.py\", line 752, in inner\\n    retval = f(*args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1926, in do_reserve\\n    device)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/utils.py\", line 112, in get_device_name_for_instance\\n    raise exception.DevicePathInUse(path=device)\\n', 'DevicePathInUse: The supplied device path (/dev/vda) is in use.\\n']\n\n\nI did not understand what you asked me to do in order to try to fix it, could you give more details?\n\n", 
            "date_created": "2012-12-16 14:47:39.314252+00:00", 
            "author": "https://api.launchpad.net/1.0/~lihit"
        }, 
        {
            "content": "Would you please check /var/log/libvirtd.log, and see if there is an error message of \"error: operation failed: drive hotplug is not supported\"? \n\nCould be simply a libvirt issue.", 
            "date_created": "2013-06-06 10:07:02.339054+00:00", 
            "author": "https://api.launchpad.net/1.0/~unicell"
        }, 
        {
            "content": "I cannot reproduce this bug.  I created an instance and a volume.  I was able to successfully attach the volume to the instance, detach it, and re-attach it to the instance.  This was using the latest code base, soon to be icehouse.", 
            "date_created": "2014-03-25 21:51:52.580428+00:00", 
            "author": "https://api.launchpad.net/1.0/~thang-pham"
        }, 
        {
            "content": "Is this duplicate of https://bugs.launchpad.net/nova/+bug/1291835 ?", 
            "date_created": "2014-07-15 05:50:38.606418+00:00", 
            "author": "https://api.launchpad.net/1.0/~h-tanizawa"
        }, 
        {
            "content": "Hi,\nI don't think it is a duplicate of that. but maybe I have a different issue.\n\nWhenever I try to attach a volume to /dev/vda (specifically /dev/vda), by using the following command for example:\nnova volume-attach my_vm fa0db22b-5e7a-4878-94d2-3722c2df4b47 /dev/vda\n\nThe volume is not attached and I get the following trace in the compute log:\n\n2014-08-27 15:19:05.111 3181 ERROR oslo.messaging.rpc.dispatcher [-] Exception during message handling: The supplied device path (/dev/vda) is in use.\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 393, in decorated_function\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 88, in wrapped\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     payload)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 71, in wrapped\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 274, in decorated_function\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     pass\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 260, in decorated_function\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 303, in decorated_function\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     e, sys.exc_info())\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 290, in decorated_function\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 4103, in reserve_block_device_name\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     return do_reserve()\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/lockutils.py\", line 249, in inner\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     return f(*args, **kwargs)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 4090, in do_reserve\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     context, instance, bdms, device)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/comput\ne/utils.py\", line 152, in get_device_name_for_instance\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     mappings['root'], device)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.6/site-packages/nova/compute/utils.py\", line 233, in get_next_device_name\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher     raise exception.DevicePathInUse(path=device)\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher DevicePathInUse: The supplied device path (/dev/vda) is in use.\n2014-08-27 15:19:05.111 3181 TRACE oslo.messaging.rpc.dispatcher\n2014-08-27 15:19:05.562 3181 ERROR oslo.messaging._drivers.common [-] Returning exception The supplied device path (/dev/vda) is in use. to caller\n2014-08-27 15:19:05.563 3181 ERROR oslo.messaging._drivers.common [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.6/site-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\\n    incoming.message))\\n', '  File \"/usr/lib/python2.6/site-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt, args)\\n', '  File \"/usr/lib/python2.6/site-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt, **new_args)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 393, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 88, in wrapped\\n    payload)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 71, in wrapped\\n    return f(self, context, *args, **kw)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 274, in decorated_function\\n    pass\\n', '  File \"/usr/lib/python2.6/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 260, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 303, in decorated_function\\n    e, sys.exc_info())\\n', '  File \"/usr/lib/python2.6/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 290, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 4103, in reserve_block_device_name\\n    return do_reserve()\\n', '  File \"/usr/lib/python2.6/site-packages/nova/openstack/common/lockutils.py\", line 249, in inner\\n    return f(*args, **kwargs)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 4090, in do_reserve\\n    context, instance, bdms, device)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/utils.py\", line 152, in get_device_name_for_instance\\n    mappings[\\'root\\'], device)\\n', '  File \"/usr/lib/python2.6/site-packages/nova/compute/utils.py\", line 233, in get_next_device_name\\n    raise exception.DevicePathInUse(path=device)\\n', 'DevicePathInUse: The supplied device path (/dev/vda) is in use.\\n']\n\nJust to be clear - nothing is currently attached to that vm instance", 
            "date_created": "2014-08-27 14:06:35.400765+00:00", 
            "author": "https://api.launchpad.net/1.0/~lihit"
        }, 
        {
            "content": "What cinder driver are you using? I had this problem and the permissions on the NFS volume were wrong. A simple chmod on /var/lib/cinder/mnt/${VOL_ID} fixed the issue.", 
            "date_created": "2014-12-21 13:56:44.658021+00:00", 
            "author": "https://api.launchpad.net/1.0/~diego-woitasen"
        }
    ]
}