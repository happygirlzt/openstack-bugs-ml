{
    "status": "Fix Released", 
    "last_updated": "2014-03-30 23:48:26.667802+00:00", 
    "description": "root@liugya-ubuntu:~# nova boot --image cirros-0.3.1-x86_64-uec --flavor 1 --num-instances  2 vm\n/usr/lib/python2.7/dist-packages/gobject/constants.py:24: Warning: g_boxed_type_register_static: assertion `g_type_from_name (name) == 0' failed\n  import gobject._gobject\n+--------------------------------------+-----------------------------------------+\n| Property                             | Value                                   |\n+--------------------------------------+-----------------------------------------+\n| OS-EXT-STS:task_state                | scheduling                              |\n| image                                | cirros-0.3.1-x86_64-uec                 |\n| OS-EXT-STS:vm_state                  | building                                |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                       |\n| OS-SRV-USG:launched_at               | None                                    |\n| flavor                               | m1.tiny                                 |\n| id                                   | b2ba79b5-9d3d-450c-8ba7-c0e33592ad6d    |\n| security_groups                      | [{u'name': u'default'}]                 |\n| user_id                              | 7ed6ad28bc9044688307c45fee43659e        |\n| OS-DCF:diskConfig                    | MANUAL                                  |\n| accessIPv4                           |                                         |\n| accessIPv6                           |                                         |\n| progress                             | 0                                       |\n| OS-EXT-STS:power_state               | 0                                       |\n| OS-EXT-AZ:availability_zone          | nova                                    |\n| config_drive                         |                                         |\n| status                               | BUILD                                   |\n| updated                              | 2013-08-15T10:06:52Z                    |\n| hostId                               |                                         |\n| OS-EXT-SRV-ATTR:host                 | None                                    |\n| OS-SRV-USG:terminated_at             | None                                    |\n| key_name                             | None                                    |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | None                                    |\n| name                                 | vm-b2ba79b5-9d3d-450c-8ba7-c0e33592ad6d |\n| adminPass                            | HQ5zL9iRkYBy                            |\n| tenant_id                            | 2b65d1252efd4cd78d5504d176c01924        |\n| created                              | 2013-08-15T10:06:52Z                    |\n| os-extended-volumes:volumes_attached | []                                      |\n| metadata                             | {}                                      |\n+--------------------------------------+-----------------------------------------+\nroot@liugya-ubuntu:~# nova-manage  vm list\ninstance   node            type       state      launched                   image     kernel    ramdisk    project    user       zone       index\n2013-08-15 19:28:44.588 DEBUG nova.openstack.common.lockutils [req-d85004b1-c033-4ee5-bcf0-2ec607184383 None None] Got semaphore \"dbapi_backend\" from (pid=27848) lock /opt/stack/nova/nova/openstack/common/lockutils.py:166\n2013-08-15 19:28:44.588 DEBUG nova.openstack.common.lockutils [req-d85004b1-c033-4ee5-bcf0-2ec607184383 None None] Got semaphore / lock \"__get_backend\" from (pid=27848) inner /opt/stack/nova/nova/openstack/common/lockutils.py:245\nvm-b2ba79b5-9d3d-450c-8ba7-c0e33592ad6d liugya-ubuntu   m1.tiny    active     2013-08-15 10:07:11        725c4974-1e25-4f3d-8d41-7c417bea08f2 4146aec1-8a05-4de3-82f2-73773167656d ccd6b22e-96f4-4be8-bbfd-34a6129e722a 2b65d1252efd4cd78d5504d176c01924 7ed6ad28bc9044688307c45fee43659e None       0    \nvm-98030793-06de-442d-9fb3-114e174d959d liugya-ubuntu   m1.tiny    active     2013-08-15 10:07:11        725c4974-1e25-4f3d-8d41-7c417bea08f2 4146aec1-8a05-4de3-82f2-73773167656d ccd6b22e-96f4-4be8-bbfd-34a6129e722a 2b65d1252efd4cd78d5504d176c01924 7ed6ad28bc9044688307c45fee43659e None       0    \n\nThe index for all of the two VMs are both 0, the expected result should be 0 and 1", 
    "tags": [], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1212648", 
    "owner": "https://api.launchpad.net/1.0/~jay-lau-513", 
    "id": 1212648, 
    "index": 1181, 
    "created": "2013-08-15 11:31:07.889046+00:00", 
    "title": "launch index is not right if boot some VMs in one request", 
    "comments": [
        {
            "content": "root@liugya-ubuntu:~# nova boot --image cirros-0.3.1-x86_64-uec --flavor 1 --num-instances  2 vm\n/usr/lib/python2.7/dist-packages/gobject/constants.py:24: Warning: g_boxed_type_register_static: assertion `g_type_from_name (name) == 0' failed\n  import gobject._gobject\n+--------------------------------------+-----------------------------------------+\n| Property                             | Value                                   |\n+--------------------------------------+-----------------------------------------+\n| OS-EXT-STS:task_state                | scheduling                              |\n| image                                | cirros-0.3.1-x86_64-uec                 |\n| OS-EXT-STS:vm_state                  | building                                |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000001                       |\n| OS-SRV-USG:launched_at               | None                                    |\n| flavor                               | m1.tiny                                 |\n| id                                   | b2ba79b5-9d3d-450c-8ba7-c0e33592ad6d    |\n| security_groups                      | [{u'name': u'default'}]                 |\n| user_id                              | 7ed6ad28bc9044688307c45fee43659e        |\n| OS-DCF:diskConfig                    | MANUAL                                  |\n| accessIPv4                           |                                         |\n| accessIPv6                           |                                         |\n| progress                             | 0                                       |\n| OS-EXT-STS:power_state               | 0                                       |\n| OS-EXT-AZ:availability_zone          | nova                                    |\n| config_drive                         |                                         |\n| status                               | BUILD                                   |\n| updated                              | 2013-08-15T10:06:52Z                    |\n| hostId                               |                                         |\n| OS-EXT-SRV-ATTR:host                 | None                                    |\n| OS-SRV-USG:terminated_at             | None                                    |\n| key_name                             | None                                    |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | None                                    |\n| name                                 | vm-b2ba79b5-9d3d-450c-8ba7-c0e33592ad6d |\n| adminPass                            | HQ5zL9iRkYBy                            |\n| tenant_id                            | 2b65d1252efd4cd78d5504d176c01924        |\n| created                              | 2013-08-15T10:06:52Z                    |\n| os-extended-volumes:volumes_attached | []                                      |\n| metadata                             | {}                                      |\n+--------------------------------------+-----------------------------------------+\nroot@liugya-ubuntu:~# nova-manage  vm list\ninstance   node            type       state      launched                   image     kernel    ramdisk    project    user       zone       index\n2013-08-15 19:28:44.588 DEBUG nova.openstack.common.lockutils [req-d85004b1-c033-4ee5-bcf0-2ec607184383 None None] Got semaphore \"dbapi_backend\" from (pid=27848) lock /opt/stack/nova/nova/openstack/common/lockutils.py:166\n2013-08-15 19:28:44.588 DEBUG nova.openstack.common.lockutils [req-d85004b1-c033-4ee5-bcf0-2ec607184383 None None] Got semaphore / lock \"__get_backend\" from (pid=27848) inner /opt/stack/nova/nova/openstack/common/lockutils.py:245\nvm-b2ba79b5-9d3d-450c-8ba7-c0e33592ad6d liugya-ubuntu   m1.tiny    active     2013-08-15 10:07:11        725c4974-1e25-4f3d-8d41-7c417bea08f2 4146aec1-8a05-4de3-82f2-73773167656d ccd6b22e-96f4-4be8-bbfd-34a6129e722a 2b65d1252efd4cd78d5504d176c01924 7ed6ad28bc9044688307c45fee43659e None       0    \nvm-98030793-06de-442d-9fb3-114e174d959d liugya-ubuntu   m1.tiny    active     2013-08-15 10:07:11        725c4974-1e25-4f3d-8d41-7c417bea08f2 4146aec1-8a05-4de3-82f2-73773167656d ccd6b22e-96f4-4be8-bbfd-34a6129e722a 2b65d1252efd4cd78d5504d176c01924 7ed6ad28bc9044688307c45fee43659e None       0    \n\nThe index for all of the two VMs are both 0, the expected result should be 0 and 1", 
            "date_created": "2013-08-15 11:31:07.889046+00:00", 
            "author": "https://api.launchpad.net/1.0/~jay-lau-513"
        }, 
        {
            "content": "mysql> select launch_index from instances;\n+--------------+\n| launch_index |\n+--------------+\n|            0 |\n|            0 |\n\n launch_index  for the two VMs are both 0", 
            "date_created": "2013-08-15 11:39:25.588017+00:00", 
            "author": "https://api.launchpad.net/1.0/~jay-lau-513"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/42117", 
            "date_created": "2013-08-15 12:54:29.818441+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/42117\nCommitted: http://github.com/openstack/nova/commit/c8f0a545bfafdc72bae0a43df78ae51835e35232\nSubmitter: Jenkins\nBranch:    master\n\ncommit c8f0a545bfafdc72bae0a43df78ae51835e35232\nAuthor: Jay Lau <email address hidden>\nDate:   Thu Aug 15 20:48:10 2013 +0800\n\n    Set launch_index to right value\n    \n    Fix bug 1212648\n    \n    When boot multiple instances in one request, the launch_index\n    was not increased.\n    \n    The fix was increase the launch_index one by one for each instances\n    in one request.\n    \n    Change-Id: I27dde8cfae52853d33277c3d8e0e65c91bc6280b\n", 
            "date_created": "2013-08-16 18:40:48.021927+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/grizzly\nReview: https://review.openstack.org/42400", 
            "date_created": "2013-08-16 19:01:14.024911+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/42400\nCommitted: http://github.com/openstack/nova/commit/d2cd7164c8e4a09f2926aa8422584503e31764b1\nSubmitter: Jenkins\nBranch:    stable/grizzly\n\ncommit d2cd7164c8e4a09f2926aa8422584503e31764b1\nAuthor: Jay Lau <email address hidden>\nDate:   Thu Aug 15 20:48:10 2013 +0800\n\n    Set launch_index to right value\n    \n    Fix bug 1212648\n    \n    When boot multiple instances in one request, the launch_index\n    was not increased.\n    \n    The fix was increase the launch_index one by one for each instances\n    in one request.\n    \n    Conflicts:\n    \tnova/compute/api.py\n    \tnova/tests/compute/test_compute.py\n    \n    Change-Id: I27dde8cfae52853d33277c3d8e0e65c91bc6280b\n    (cherry picked from commit c8f0a545bfafdc72bae0a43df78ae51835e35232)\n", 
            "date_created": "2013-09-10 01:37:30.605979+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}