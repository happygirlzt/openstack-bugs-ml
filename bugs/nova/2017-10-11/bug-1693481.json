{
    "status": "Invalid", 
    "last_updated": "2017-05-26 15:35:07.960343+00:00", 
    "description": "Description\n===========\nI have installed multinode node setup using (sudo add-apt-repository ppa:openstack-ubuntu-testing/pike) where controller & compute on one node and neutron on other node\n\nWhen i tried to launch VM using cirros image with flavour m1.tiny gettig\n\nmessage\": \"No valid host was found. There are not enough hosts available.\", \"code\": 500, \"details\": \"  File \\\"/usr/lib/python2.7/dist-packages/nova/conductor/manager.py\\\", line 915, in schedule_and_build_instances |\n|                                      |     request_specs[0].to_legacy_filter_properties_dict())\nSteps to reproduce\n==================\n1. Install the multinode setup on virutalbox using the procedure mentioned in \n\nhttps://docs.openstack.org/newton/install-guide-ubuntu/keystone-verify.html\n\nVM1: ControlNode & Computenode  [ RAM- 8GB, Hardisck - 100GB]\nVM2: NeutronS1  - neutron server [RAM - 8GB, Hardisck - 10GB]\n\nNote: Used below repository\n\nsudo add-apt-repository ppa:openstack-ubuntu-testing/pike\n\n2.create image cirros and flavor m1.tiny\n\n#openstack image create \"cirros\" \\\n  --file cirros-0.3.4-x86_64-disk.img \\\n  --disk-format qcow2 --container-format bare \\\n  --public\n\n# openstack flavor create --public m1.tiny --id auto --ram 512 --disk 1 --vcpus 1 --rxtx-factor 1\n\n3.Once all the nodes are up, create network, subnet and launch VM\n\nopenstack network create net3\n\nopenstack subnet create subnet3 --network net3 --subnet-range 30.30.30.0/24\n\nnova boot --nic net-id=5d51d10b-9776-4617-8963-018639ed78aa --image cirros  --flavor m1.tiny VM5 --availability-zone nova:controlNode\n\n\n\nExpected result\n===============\nCreation of VMs should be successful and able to communicate between two VMs\n\nActual result\n=============\nVM launch is getting failed always with message \"No valid host was found. There are not enough hosts available.\"\n\n\nroot@controlNode:~# nova show 8ff61689-11cd-46d6-a88a-fb26a15d7b83\n/usr/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                                                                                                                                                   |\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                                                                                                                                                  |\n| OS-EXT-AZ:availability_zone          | nova                                                                                                                                                                                                                    |\n| OS-EXT-SRV-ATTR:host                 | -                                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:hostname             | vm5                                                                                                                                                                                                                     |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | -                                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:instance_name        | instance-0000000c                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:kernel_id            |                                                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:launch_index         | 0                                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:ramdisk_id           |                                                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:reservation_id       | r-iijln3t0                                                                                                                                                                                                              |\n| OS-EXT-SRV-ATTR:root_device_name     | -                                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:user_data            | -                                                                                                                                                                                                                       |\n| OS-EXT-STS:power_state               | 0                                                                                                                                                                                                                       |\n| OS-EXT-STS:task_state                | -                                                                                                                                                                                                                       |\n| OS-EXT-STS:vm_state                  | error                                                                                                                                                                                                                   |\n| OS-SRV-USG:launched_at               | -                                                                                                                                                                                                                       |\n| OS-SRV-USG:terminated_at             | -                                                                                                                                                                                                                       |\n| accessIPv4                           |                                                                                                                                                                                                                         |\n| accessIPv6                           |                                                                                                                                                                                                                         |\n| config_drive                         |                                                                                                                                                                                                                         |\n| created                              | 2017-05-25T15:42:35Z                                                                                                                                                                                                    |\n| description                          | -                                                                                                                                                                                                                       |\n| fault                                | {\"message\": \"No valid host was found. There are not enough hosts available.\", \"code\": 500, \"details\": \"  File \\\"/usr/lib/python2.7/dist-packages/nova/conductor/manager.py\\\", line 915, in schedule_and_build_instances |\n|                                      |     request_specs[0].to_legacy_filter_properties_dict())                                                                                                                                                                |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/conductor/manager.py\\\", line 637, in _schedule_instances                                                                                                                 |\n|                                      |     hosts = self.scheduler_client.select_destinations(context, spec_obj)                                                                                                                                                |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/utils.py\\\", line 371, in wrapped                                                                                                                               |\n|                                      |     return func(*args, **kwargs)                                                                                                                                                                                        |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/client/__init__.py\\\", line 51, in select_destinations                                                                                                          |\n|                                      |     return self.queryclient.select_destinations(context, spec_obj)                                                                                                                                                      |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/client/__init__.py\\\", line 37, in __run_method                                                                                                                 |\n|                                      |     return getattr(self.instance, __name)(*args, **kwargs)                                                                                                                                                              |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/client/query.py\\\", line 32, in select_destinations                                                                                                             |\n|                                      |     return self.scheduler_rpcapi.select_destinations(context, spec_obj)                                                                                                                                                 |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/rpcapi.py\\\", line 130, in select_destinations                                                                                                                  |\n|                                      |     return cctxt.call(ctxt, 'select_destinations', **msg_args)                                                                                                                                                          |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\\\", line 169, in call                                                                                                                             |\n|                                      |     retry=self.retry)                                                                                                                                                                                                   |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/oslo_messaging/transport.py\\\", line 98, in _send                                                                                                                              |\n|                                      |     timeout=timeout, retry=retry)                                                                                                                                                                                       |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\\\", line 505, in send                                                                                                                    |\n|                                      |     retry=retry)                                                                                                                                                                                                        |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\\\", line 496, in _send                                                                                                                   |\n|                                      |     raise result                                                                                                                                                                                                        |\n|                                      | \", \"created\": \"2017-05-25T15:42:36Z\"}                                                                                                                                                                                   |\n| flavor                               | m1.tiny (e5bf6e30-0d88-49d0-be26-2fc0418bb7c9)                                                                                                                                                                          |\n| hostId                               |                                                                                                                                                                                                                         |\n| host_status                          |                                                                                                                                                                                                                         |\n| id                                   | 8ff61689-11cd-46d6-a88a-fb26a15d7b83                                                                                                                                                                                    |\n| image                                | cirros (302e6c08-e0b0-43df-a6e8-4abad517d01f)                                                                                                                                                                           |\n| key_name                             | -                                                                                                                                                                                                                       |\n| locked                               | False                                                                                                                                                                                                                   |\n| metadata                             | {}                                                                                                                                                                                                                      |\n| name                                 | VM5                                                                                                                                                                                                                     |\n| os-extended-volumes:volumes_attached | []                                                                                                                                                                                                                      |\n| status                               | ERROR                                                                                                                                                                                                                   |\n| tags                                 | []                                                                                                                                                                                                                      |\n| tenant_id                            | f85c91e401304cb8a0b78654352d13f6                                                                                                                                                                                        |\n| updated                              | 2017-05-25T15:42:36Z                                                                                                                                                                                                    |\n| user_id                              | 15d62a6cd8db41f48d9a85d9aaff958f                                                                                                                                                                                        |\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n\n\nEnvironment\n===========\n1. Exact version of OpenStack you are running. See the following\n  list for all releases: http://docs.openstack.org/releases/\n\n  root@controlNode:~# dpkg -l |grep nova\nii  nova-api                           2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - API frontend\nii  nova-common                        2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - common files\nii  nova-compute                       2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node base\nii  nova-compute-kvm                   2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node (KVM)\nii  nova-compute-libvirt               2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node libvirt support\nii  nova-conductor                     2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - conductor service\nii  nova-consoleauth                   2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                    2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - NoVNC proxy\nii  nova-placement-api                 2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - placement API frontend\nii  nova-scheduler                     2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                        2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute Python libraries\nii  python-novaclient                  2:7.1.0-0ubuntu1~cloud0                                all          client library for OpenStack Compute API - Python 2.7\n\n\n\n      \n\n2. Which hypervisor did you use?\n   root@controlNode:~# dpkg -l |grep libvirt\nii  libvirt-bin                        2.5.0-3ubuntu7~cloud0                                  amd64        programs for the libvirt library\nii  libvirt-clients                    2.5.0-3ubuntu7~cloud0                                  amd64        Programs for the libvirt library\nii  libvirt-daemon                     2.5.0-3ubuntu7~cloud0                                  amd64        Virtualization daemon\nii  libvirt-daemon-system              2.5.0-3ubuntu7~cloud0                                  amd64        Libvirt daemon configuration files\nii  libvirt0:amd64                     2.5.0-3ubuntu7~cloud0                                  amd64        library for interfacing with different virtualization systems\nii  nova-compute-libvirt               2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node libvirt support\nii  python-libvirt                     3.0.0-2build1~cloud0                                   amd64        libvirt Python bindings\nroot@controlNode:~#\nroot@controlNode:~#\nroot@controlNode:~# dpkg -l |grep qemu\nii  ipxe-qemu                          1.0.0+git-20150424.a25a16d-1ubuntu1                    all          PXE boot firmware - ROM images for qemu\nii  qemu-block-extra:amd64             1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        extra block backend modules for qemu-system and qemu-utils\nii  qemu-kvm                           1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU Full virtualization\nii  qemu-system-common                 1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU full system emulation binaries (common files)\nii  qemu-system-x86                    1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU full system emulation binaries (x86)\nii  qemu-utils                         1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU utilities\nroot@controlNode:~#\nroot@controlNode:~#\nroot@controlNode:~# dpkg -l |grep kvm\nii  nova-compute-kvm                   2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node (KVM)\nii  qemu-kvm                           1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU Full virtualization\n\n\n2. Which storage type did you use?\n  \nLVM\n\nroot@controlNode:~# dpkg -l |grep lvm\nii  liblvm2app2.2:amd64                2.02.133-1ubuntu10                                     amd64        LVM2 application library\nii  liblvm2cmd2.02:amd64               2.02.133-1ubuntu10                                     amd64        LVM2 command library\nii  lvm2                               2.02.133-1ubuntu10                                     amd64        Linux Logical Volume Manager\n\n\n3. Which networking type did you use?\n   \nNeutron with openvswitch\n\nroot@controlNode:~# sudo ovs-vsctl show\n8afa9151-19dd-4a76-b77c-3b2e87fc3c3d\n    Manager \"tcp:192.168.56.102:6640\"\n        is_connected: true\n    Bridge br-int\n        Controller \"tcp:192.168.56.102:6653\"\n            is_connected: true\n        fail_mode: secure\n        Port br-int\n            Interface br-int\n                type: internal\n    ovs_version: \"2.7.0\"\n\n\nLogs & Configs\n==============\nExecuted following command on compute node (enabled DEBUG mode) to collect the reports and same is attached\n\n   $ sudo sosreport -o openstack_nova --batch\n\nFile name: sosreport-controlNode-20170526000241.tar.xz", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1693481", 
    "owner": "None", 
    "id": 1693481, 
    "index": 6860, 
    "created": "2017-05-25 10:58:53.167229+00:00", 
    "title": "VM launch is failing with message 'No valid host was found. There are not enough hosts available.', 'code': 500", 
    "comments": [
        {
            "content": "Description\n===========\nI have installed multinode node setup using (sudo add-apt-repository ppa:openstack-ubuntu-testing/pike) where controller & compute on one node and neutron on other node\n\nWhen i tried to launch VM using cirros image with flavour m1.tiny gettig\n\nmessage\": \"No valid host was found. There are not enough hosts available.\", \"code\": 500, \"details\": \"  File \\\"/usr/lib/python2.7/dist-packages/nova/conductor/manager.py\\\", line 915, in schedule_and_build_instances |\n|                                      |     request_specs[0].to_legacy_filter_properties_dict())\nSteps to reproduce\n==================\n1. Install the multinode setup on virutalbox using the procedure mentioned in \n\nhttps://docs.openstack.org/newton/install-guide-ubuntu/keystone-verify.html\n\nVM1: ControlNode & Computenode  [ RAM- 8GB, Hardisck - 100GB]\nVM2: NeutronS1  - neutron server [RAM - 8GB, Hardisck - 10GB]\n\nNote: Used below repository\n\nsudo add-apt-repository ppa:openstack-ubuntu-testing/pike\n\n2.create image cirros and flavor m1.tiny\n\n#openstack image create \"cirros\" \\\n  --file cirros-0.3.4-x86_64-disk.img \\\n  --disk-format qcow2 --container-format bare \\\n  --public\n\n# openstack flavor create --public m1.tiny --id auto --ram 512 --disk 1 --vcpus 1 --rxtx-factor 1\n\n3.Once all the nodes are up, create network, subnet and launch VM\n\nopenstack network create net3\n\nopenstack subnet create subnet3 --network net3 --subnet-range 30.30.30.0/24\n\nnova boot --nic net-id=5d51d10b-9776-4617-8963-018639ed78aa --image cirros  --flavor m1.tiny VM5 --availability-zone nova:controlNode\n\n\n\nExpected result\n===============\nCreation of VMs should be successful and able to communicate between two VMs\n\nActual result\n=============\nVM launch is getting failed always with message \"No valid host was found. There are not enough hosts available.\"\n\n\nroot@controlNode:~# nova show 8ff61689-11cd-46d6-a88a-fb26a15d7b83\n/usr/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                                                                                                                                                   |\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                                                                                                                                                  |\n| OS-EXT-AZ:availability_zone          | nova                                                                                                                                                                                                                    |\n| OS-EXT-SRV-ATTR:host                 | -                                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:hostname             | vm5                                                                                                                                                                                                                     |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | -                                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:instance_name        | instance-0000000c                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:kernel_id            |                                                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:launch_index         | 0                                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:ramdisk_id           |                                                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:reservation_id       | r-iijln3t0                                                                                                                                                                                                              |\n| OS-EXT-SRV-ATTR:root_device_name     | -                                                                                                                                                                                                                       |\n| OS-EXT-SRV-ATTR:user_data            | -                                                                                                                                                                                                                       |\n| OS-EXT-STS:power_state               | 0                                                                                                                                                                                                                       |\n| OS-EXT-STS:task_state                | -                                                                                                                                                                                                                       |\n| OS-EXT-STS:vm_state                  | error                                                                                                                                                                                                                   |\n| OS-SRV-USG:launched_at               | -                                                                                                                                                                                                                       |\n| OS-SRV-USG:terminated_at             | -                                                                                                                                                                                                                       |\n| accessIPv4                           |                                                                                                                                                                                                                         |\n| accessIPv6                           |                                                                                                                                                                                                                         |\n| config_drive                         |                                                                                                                                                                                                                         |\n| created                              | 2017-05-25T15:42:35Z                                                                                                                                                                                                    |\n| description                          | -                                                                                                                                                                                                                       |\n| fault                                | {\"message\": \"No valid host was found. There are not enough hosts available.\", \"code\": 500, \"details\": \"  File \\\"/usr/lib/python2.7/dist-packages/nova/conductor/manager.py\\\", line 915, in schedule_and_build_instances |\n|                                      |     request_specs[0].to_legacy_filter_properties_dict())                                                                                                                                                                |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/conductor/manager.py\\\", line 637, in _schedule_instances                                                                                                                 |\n|                                      |     hosts = self.scheduler_client.select_destinations(context, spec_obj)                                                                                                                                                |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/utils.py\\\", line 371, in wrapped                                                                                                                               |\n|                                      |     return func(*args, **kwargs)                                                                                                                                                                                        |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/client/__init__.py\\\", line 51, in select_destinations                                                                                                          |\n|                                      |     return self.queryclient.select_destinations(context, spec_obj)                                                                                                                                                      |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/client/__init__.py\\\", line 37, in __run_method                                                                                                                 |\n|                                      |     return getattr(self.instance, __name)(*args, **kwargs)                                                                                                                                                              |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/client/query.py\\\", line 32, in select_destinations                                                                                                             |\n|                                      |     return self.scheduler_rpcapi.select_destinations(context, spec_obj)                                                                                                                                                 |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/scheduler/rpcapi.py\\\", line 130, in select_destinations                                                                                                                  |\n|                                      |     return cctxt.call(ctxt, 'select_destinations', **msg_args)                                                                                                                                                          |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\\\", line 169, in call                                                                                                                             |\n|                                      |     retry=self.retry)                                                                                                                                                                                                   |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/oslo_messaging/transport.py\\\", line 98, in _send                                                                                                                              |\n|                                      |     timeout=timeout, retry=retry)                                                                                                                                                                                       |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\\\", line 505, in send                                                                                                                    |\n|                                      |     retry=retry)                                                                                                                                                                                                        |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\\\", line 496, in _send                                                                                                                   |\n|                                      |     raise result                                                                                                                                                                                                        |\n|                                      | \", \"created\": \"2017-05-25T15:42:36Z\"}                                                                                                                                                                                   |\n| flavor                               | m1.tiny (e5bf6e30-0d88-49d0-be26-2fc0418bb7c9)                                                                                                                                                                          |\n| hostId                               |                                                                                                                                                                                                                         |\n| host_status                          |                                                                                                                                                                                                                         |\n| id                                   | 8ff61689-11cd-46d6-a88a-fb26a15d7b83                                                                                                                                                                                    |\n| image                                | cirros (302e6c08-e0b0-43df-a6e8-4abad517d01f)                                                                                                                                                                           |\n| key_name                             | -                                                                                                                                                                                                                       |\n| locked                               | False                                                                                                                                                                                                                   |\n| metadata                             | {}                                                                                                                                                                                                                      |\n| name                                 | VM5                                                                                                                                                                                                                     |\n| os-extended-volumes:volumes_attached | []                                                                                                                                                                                                                      |\n| status                               | ERROR                                                                                                                                                                                                                   |\n| tags                                 | []                                                                                                                                                                                                                      |\n| tenant_id                            | f85c91e401304cb8a0b78654352d13f6                                                                                                                                                                                        |\n| updated                              | 2017-05-25T15:42:36Z                                                                                                                                                                                                    |\n| user_id                              | 15d62a6cd8db41f48d9a85d9aaff958f                                                                                                                                                                                        |\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n\n\nEnvironment\n===========\n1. Exact version of OpenStack you are running. See the following\n  list for all releases: http://docs.openstack.org/releases/\n\n  root@controlNode:~# dpkg -l |grep nova\nii  nova-api                           2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - API frontend\nii  nova-common                        2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - common files\nii  nova-compute                       2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node base\nii  nova-compute-kvm                   2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node (KVM)\nii  nova-compute-libvirt               2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node libvirt support\nii  nova-conductor                     2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - conductor service\nii  nova-consoleauth                   2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                    2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - NoVNC proxy\nii  nova-placement-api                 2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - placement API frontend\nii  nova-scheduler                     2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                        2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute Python libraries\nii  python-novaclient                  2:7.1.0-0ubuntu1~cloud0                                all          client library for OpenStack Compute API - Python 2.7\n\n\n\n      \n\n2. Which hypervisor did you use?\n   root@controlNode:~# dpkg -l |grep libvirt\nii  libvirt-bin                        2.5.0-3ubuntu7~cloud0                                  amd64        programs for the libvirt library\nii  libvirt-clients                    2.5.0-3ubuntu7~cloud0                                  amd64        Programs for the libvirt library\nii  libvirt-daemon                     2.5.0-3ubuntu7~cloud0                                  amd64        Virtualization daemon\nii  libvirt-daemon-system              2.5.0-3ubuntu7~cloud0                                  amd64        Libvirt daemon configuration files\nii  libvirt0:amd64                     2.5.0-3ubuntu7~cloud0                                  amd64        library for interfacing with different virtualization systems\nii  nova-compute-libvirt               2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node libvirt support\nii  python-libvirt                     3.0.0-2build1~cloud0                                   amd64        libvirt Python bindings\nroot@controlNode:~#\nroot@controlNode:~#\nroot@controlNode:~# dpkg -l |grep qemu\nii  ipxe-qemu                          1.0.0+git-20150424.a25a16d-1ubuntu1                    all          PXE boot firmware - ROM images for qemu\nii  qemu-block-extra:amd64             1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        extra block backend modules for qemu-system and qemu-utils\nii  qemu-kvm                           1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU Full virtualization\nii  qemu-system-common                 1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU full system emulation binaries (common files)\nii  qemu-system-x86                    1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU full system emulation binaries (x86)\nii  qemu-utils                         1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU utilities\nroot@controlNode:~#\nroot@controlNode:~#\nroot@controlNode:~# dpkg -l |grep kvm\nii  nova-compute-kvm                   2:16.0.0.0a1.201704201428.xenial-0ubuntu1              all          OpenStack Compute - compute node (KVM)\nii  qemu-kvm                           1:2.8+dfsg-3ubuntu2.1~cloud0                           amd64        QEMU Full virtualization\n\n\n2. Which storage type did you use?\n  \nLVM\n\nroot@controlNode:~# dpkg -l |grep lvm\nii  liblvm2app2.2:amd64                2.02.133-1ubuntu10                                     amd64        LVM2 application library\nii  liblvm2cmd2.02:amd64               2.02.133-1ubuntu10                                     amd64        LVM2 command library\nii  lvm2                               2.02.133-1ubuntu10                                     amd64        Linux Logical Volume Manager\n\n\n3. Which networking type did you use?\n   \nNeutron with openvswitch\n\nroot@controlNode:~# sudo ovs-vsctl show\n8afa9151-19dd-4a76-b77c-3b2e87fc3c3d\n    Manager \"tcp:192.168.56.102:6640\"\n        is_connected: true\n    Bridge br-int\n        Controller \"tcp:192.168.56.102:6653\"\n            is_connected: true\n        fail_mode: secure\n        Port br-int\n            Interface br-int\n                type: internal\n    ovs_version: \"2.7.0\"\n\n\nLogs & Configs\n==============\nExecuted following command on compute node (enabled DEBUG mode) to collect the reports and same is attached\n\n   $ sudo sosreport -o openstack_nova --batch\n\nFile name: sosreport-controlNode-20170526000241.tar.xz", 
            "date_created": "2017-05-25 10:58:53.167229+00:00", 
            "author": "https://api.launchpad.net/1.0/~sunil-bjp"
        }, 
        {
            "content": "", 
            "date_created": "2017-05-25 10:58:53.167229+00:00", 
            "author": "https://api.launchpad.net/1.0/~sunil-bjp"
        }, 
        {
            "content": "I used the instance uuid to find the request id in the nova-conductor logs and then looked for that request id in the nova-scheduler logs and found this:\n\n2017-05-25 21:12:36.102 2562 WARNING nova.scheduler.client.report [req-8359c011-587a-4c60-95a1-ded9e50b26af 15d62a6cd8db41f48d9a85d9aaff958f f85c91e401304cb8a0b78654352d13f6 - - -] Placement service credentials do not work. Placement is optional in Newton, but required in Ocata. Please enable the placement service before upgrading.\n2017-05-25 21:12:36.104 2562 INFO nova.scheduler.host_manager [req-8359c011-587a-4c60-95a1-ded9e50b26af 15d62a6cd8db41f48d9a85d9aaff958f f85c91e401304cb8a0b78654352d13f6 - - -] No hosts matched due to not matching 'force_hosts' value of 'controlNode'\n2017-05-25 21:12:36.104 2562 DEBUG nova.scheduler.filter_scheduler [req-8359c011-587a-4c60-95a1-ded9e50b26af 15d62a6cd8db41f48d9a85d9aaff958f f85c91e401304cb8a0b78654352d13f6 - - -] There are 0 hosts available but 1 instances requested to build. select_destinations /usr/lib/python2.7/dist-packages/nova/scheduler/filter_scheduler.py:75\n\n\nYou don't have placement running or configured correctly for nova-scheduler to ask placement for hosts. So this is an invalid bug as you have an incomplete setup.\n\nSee:\n\nhttps://docs.openstack.org/ocata/install-guide-ubuntu/nova-controller-install.html\n\nhttps://docs.openstack.org/developer/nova/placement.html", 
            "date_created": "2017-05-26 15:34:55.665472+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ]
}