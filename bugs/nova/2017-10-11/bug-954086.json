{
    "status": "Invalid", 
    "last_updated": "2012-05-25 09:41:45.695911+00:00", 
    "description": "Hi,\n\nI'm running a testing Openstack where services are under HTTPS load balancer using invalid certs, so when I do any request using the nova client I always use the '--insecure' flag. This works fine except for volume requests, showing a traceback:\n\nnova --debug --insecure  volume-list\nconnect: (192.168.99.101, 443)\nsend: 'POST /v2.0/tokens HTTP/1.1\\r\\nHost: 192.168.99.101\\r\\nContent-Length: 108\\r\\ncontent-type: application/json\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n{\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"<email address hidden>\", \"password\": \"pass\"}}}'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Content-Type: application/json\nheader: Vary: X-Auth-Token\nheader: Content-Length: 2061\nheader: Date: Tue, 13 Mar 2012 13:53:14 GMT\nREQ: curl -i https://192.168.99.101/v2.0/tokens -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"User-Agent: python-novaclient\" \n\nREQ BODY: {\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"<email address hidden>\", \"password\": \"pass\"}}}\n\nRESP:{'date': 'Tue, 13 Mar 2012 13:53:14 GMT', 'content-type': 'application/json', 'content-length': '2061', 'status': '200', 'vary': 'X-Auth-Token'} {\"access\": {\"token\": {\"expires\": \"2012-03-14T13:53:14Z\", \"id\": \"7fbfc145ba5740179de4b0e04c810369\", \"tenant\": {\"description\": null, \"enabled\": true, \"id\": \"6c34665880fb4dab93e20b2b1dab1ce7\", \"name\": \"admin\"}}, \"serviceCatalog\": [{\"endpoints\": [{\"adminURL\": \"http://192.168.100.41:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:446/v1/6c34665880fb4dab93e20b2b1dab1ce7\", \"internalURL\": \"http://192.168.100.41:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\"}], \"endpoints_links\": [], \"type\": \"volume\", \"name\": \"'Volume Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.22:9292/v1\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:445/v1\", \"internalURL\": \"http://192.168.100.22:9292/v1\"}], \"endpoints_links\": [], \"type\": \"image\", \"name\": \"'Image Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8774/v2/6c34665880fb4dab93e20b2b1dab1ce7\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:444/v2/6c34665880fb4dab93e20b2b1dab1ce7\", \"internalURL\": \"http://192.168.100.26:8774/v2/6c34665880fb4dab93e20b2b1dab1ce7\"}], \"endpoints_links\": [], \"type\": \"compute\", \"name\": \"'Compute Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8773/services/Admin\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.99.100:443/services/Cloud\", \"internalURL\": \"http://192.168.100.26:8773/services/Cloud\"}], \"endpoints_links\": [], \"type\": \"ec2\", \"name\": \"'EC2 Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.25:35357/v2.0\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.99.101:5000/v2.0\", \"internalURL\": \"http://192.168.100.25:5000/v2.0\"}], \"endpoints_links\": [], \"type\": \"identity\", \"name\": \"'Identity Service'\"}], \"user\": {\"username\": \"<email address hidden>\", \"roles_links\": [], \"id\": \"b3d964e627a24c09907df0a27846be2d\", \"roles\": [{\"id\": \"876417f7b12c46ccb98058bdf824a50b\", \"name\": \"KeystoneServiceAdmin\"}, {\"id\": \"66febe6defe040c18b45fdb3ed9aa253\", \"name\": \"KeystoneAdmin\"}, {\"id\": \"49858d70ac394647920f472a947afcb0\", \"name\": \"Admin\"}], \"name\": \"<email address hidden>\"}}}\n\nconnect: (192.168.99.101, 446)\nsend: u'GET /v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail HTTP/1.1\\r\\nHost: 192.168.99.101:446\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: 7fbfc145ba5740179de4b0e04c810369\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.0 503 Service Unavailable\\r\\n'\nheader: Cache-Control: no-cache\nheader: Connection: close\nheader: Content-Type: text/html\nREQ: curl -i https://192.168.99.101:446/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: 7fbfc145ba5740179de4b0e04c810369\" \n\nREQ: curl -i https://192.168.99.101:446/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: 7fbfc145ba5740179de4b0e04c810369\" \n\nRESP:{'status': '503', 'connection': 'close', 'content-type': 'text/html', 'cache-control': 'no-cache'} <html><body><h1>503 Service Unavailable</h1>\nNo server is available to handle this request.\n</body></html>\n\nRESP:{'status': '503', 'connection': 'close', 'content-type': 'text/html', 'cache-control': 'no-cache'} <html><body><h1>503 Service Unavailable</h1>\nNo server is available to handle this request.\n</body></html>\n\nDEBUG (shell:394) string indices must be integers, not str\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 391, in main\n    OpenStackComputeShell().main(sys.argv[1:])\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 342, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v1_1/shell.py\", line 746, in do_volume_list\n    volumes = cs.volumes.list()\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v1_1/volumes.py\", line 76, in list\n    return self._list(\"/volumes/detail\", \"volumes\")\n  File \"/usr/lib/python2.7/dist-packages/novaclient/base.py\", line 79, in _list\n    data = body[response_key]\nTypeError: string indices must be integers, not str\nERROR: string indices must be integers, not str\n\nUsing the internal URL as public URL works fine:\n\n nova --debug --insecure  volume-list\nconnect: (192.168.99.101, 443)\nsend: 'POST /v2.0/tokens HTTP/1.1\\r\\nHost: 192.168.99.101\\r\\nContent-Length: 108\\r\\ncontent-type: application/json\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n{\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"<email address hidden>\", \"password\": \"pass\"}}}'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Content-Type: application/json\nheader: Vary: X-Auth-Token\nheader: Content-Length: 2061\nheader: Date: Tue, 13 Mar 2012 14:30:52 GMT\nREQ: curl -i https://192.168.99.101/v2.0/tokens -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"User-Agent: python-novaclient\"\n\nREQ BODY: {\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"<email address hidden>\", \"password\": \"pass\"}}}\n\nRESP:{'date': 'Tue, 13 Mar 2012 14:30:52 GMT', 'content-type': 'application/json', 'content-length': '2061', 'status': '200', 'vary': 'X-Auth-Token'} {\"access\": {\"token\": {\"expires\": \"2012-03-14T14:30:52Z\", \"id\": \"bb23165f21034190849b833ce4b74219\", \"tenant\": {\"description\": null, \"enabled\": true, \"id\": \"6c34665880fb4dab93e20b2b1dab1ce7\", \"name\": \"admin\"}}, \"serviceCatalog\": [{\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\", \"internalURL\": \"http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\"}], \"endpoints_links\": [], \"type\": \"volume\", \"name\": \"'Volume Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.22:9292/v1\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:445/v1\", \"internalURL\": \"http://192.168.100.22:9292/v1\"}], \"endpoints_links\": [], \"type\": \"image\", \"name\": \"'Image Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8774/v2/6c34665880fb4dab93e20b2b1dab1ce7\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:444/v2/6c34665880fb4dab93e20b2b1dab1ce7\", \"internalURL\": \"http://192.168.100.26:8774/v2/6c34665880fb4dab93e20b2b1dab1ce7\"}], \"endpoints_links\": [], \"type\": \"compute\", \"name\": \"'Compute Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8773/services/Admin\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.99.100:443/services/Cloud\", \"internalURL\": \"http://192.168.100.26:8773/services/Cloud\"}], \"endpoints_links\": [], \"type\": \"ec2\", \"name\": \"'EC2 Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.25:35357/v2.0\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.99.101:5000/v2.0\", \"internalURL\": \"http://192.168.100.25:5000/v2.0\"}], \"endpoints_links\": [], \"type\": \"identity\", \"name\": \"'Identity Service'\"}], \"user\": {\"username\": \"<email address hidden>\", \"roles_links\": [], \"id\": \"b3d964e627a24c09907df0a27846be2d\", \"roles\": [{\"id\": \"876417f7b12c46ccb98058bdf824a50b\", \"name\": \"KeystoneServiceAdmin\"}, {\"id\": \"66febe6defe040c18b45fdb3ed9aa253\", \"name\": \"KeystoneAdmin\"}, {\"id\": \"49858d70ac394647920f472a947afcb0\", \"name\": \"Admin\"}], \"name\": \"<email address hidden>\"}}}\n\nconnect: (192.168.100.26, 8776)\nsend: u'GET /v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail HTTP/1.1\\r\\nHost: 192.168.100.26:8776\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: bb23165f21034190849b833ce4b74219\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-266072e5-4344-4a46-82b4-87678aec542f\nheader: Content-Type: application/json\nheader: Content-Length: 585\nheader: Date: Tue, 13 Mar 2012 14:30:47 GMT\nREQ: curl -i http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: bb23165f21034190849b833ce4b74219\"\n\nREQ: curl -i http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: bb23165f21034190849b833ce4b74219\"\n\nRESP:{'status': '200', 'content-length': '585', 'content-location': u'http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail', 'x-compute-request-id': 'req-266072e5-4344-4a46-82b4-87678aec542f', 'date': 'Tue, 13 Mar 2012 14:30:47 GMT', 'content-type': 'application/json'} {\"volumes\": [{\"status\": \"creating\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [], \"volumeType\": \"None\", \"snapshotId\": null, \"size\": 1, \"id\": \"1\", \"createdAt\": \"2012-03-09 10:33:05\", \"metadata\": {}}, {\"status\": \"in-use\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [{\"device\": \"/dev/vdb\", \"serverId\": \"74be8284-f0f1-4463-98ff-ed046a353e6c\", \"id\": \"2\", \"volumeId\": \"2\"}], \"volumeType\": \"None\", \"snapshotId\": null, \"size\": 1, \"id\": \"2\", \"createdAt\": \"2012-03-09 12:09:28\", \"metadata\": {}}]}\n\nRESP:{'status': '200', 'content-length': '585', 'content-location': u'http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail', 'x-compute-request-id': 'req-266072e5-4344-4a46-82b4-87678aec542f', 'date': 'Tue, 13 Mar 2012 14:30:47 GMT', 'content-type': 'application/json'} {\"volumes\": [{\"status\": \"creating\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [], \"volumeType\": \"None\", \"snapshotId\": null, \"size\": 1, \"id\": \"1\", \"createdAt\": \"2012-03-09 10:33:05\", \"metadata\": {}}, {\"status\": \"in-use\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [{\"device\": \"/dev/vdb\", \"serverId\": \"74be8284-f0f1-4463-98ff-ed046a353e6c\", \"id\": \"2\", \"volumeId\": \"2\"}], \"volumeType\": \"None\", \"snapshotId\": null, \"size\": 1, \"id\": \"2\", \"createdAt\": \"2012-03-09 12:09:28\", \"metadata\": {}}]}\n\n+----+----------+--------------+------+--------------------------------------+\n| ID |  Status  | Display Name | Size |             Attached to              |\n+----+----------+--------------+------+--------------------------------------+\n| 1  | creating | None         | 1    |                                      |\n| 2  | in-use   | None         | 1    | 74be8284-f0f1-4463-98ff-ed046a353e6c |\n+----+----------+--------------+------+--------------------------------------+\n\nI think this may be related to https://bugs.launchpad.net/glance/+bug/949838\n\nBye", 
    "tags": [], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/954086", 
    "owner": "None", 
    "id": 954086, 
    "index": 625, 
    "created": "2012-03-13 14:32:35.338686+00:00", 
    "title": "nova fails when requesting volumes using '--insecure' flag", 
    "comments": [
        {
            "content": "Hi,\n\nI'm running a testing Openstack where services are under HTTPS load balancer using invalid certs, so when I do any request using the nova client I always use the '--insecure' flag. This works fine except for volume requests, showing a traceback:\n\nnova --debug --insecure  volume-list\nconnect: (192.168.99.101, 443)\nsend: 'POST /v2.0/tokens HTTP/1.1\\r\\nHost: 192.168.99.101\\r\\nContent-Length: 108\\r\\ncontent-type: application/json\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n{\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"<email address hidden>\", \"password\": \"pass\"}}}'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Content-Type: application/json\nheader: Vary: X-Auth-Token\nheader: Content-Length: 2061\nheader: Date: Tue, 13 Mar 2012 13:53:14 GMT\nREQ: curl -i https://192.168.99.101/v2.0/tokens -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"User-Agent: python-novaclient\" \n\nREQ BODY: {\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"<email address hidden>\", \"password\": \"pass\"}}}\n\nRESP:{'date': 'Tue, 13 Mar 2012 13:53:14 GMT', 'content-type': 'application/json', 'content-length': '2061', 'status': '200', 'vary': 'X-Auth-Token'} {\"access\": {\"token\": {\"expires\": \"2012-03-14T13:53:14Z\", \"id\": \"7fbfc145ba5740179de4b0e04c810369\", \"tenant\": {\"description\": null, \"enabled\": true, \"id\": \"6c34665880fb4dab93e20b2b1dab1ce7\", \"name\": \"admin\"}}, \"serviceCatalog\": [{\"endpoints\": [{\"adminURL\": \"http://192.168.100.41:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:446/v1/6c34665880fb4dab93e20b2b1dab1ce7\", \"internalURL\": \"http://192.168.100.41:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\"}], \"endpoints_links\": [], \"type\": \"volume\", \"name\": \"'Volume Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.22:9292/v1\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:445/v1\", \"internalURL\": \"http://192.168.100.22:9292/v1\"}], \"endpoints_links\": [], \"type\": \"image\", \"name\": \"'Image Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8774/v2/6c34665880fb4dab93e20b2b1dab1ce7\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:444/v2/6c34665880fb4dab93e20b2b1dab1ce7\", \"internalURL\": \"http://192.168.100.26:8774/v2/6c34665880fb4dab93e20b2b1dab1ce7\"}], \"endpoints_links\": [], \"type\": \"compute\", \"name\": \"'Compute Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8773/services/Admin\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.99.100:443/services/Cloud\", \"internalURL\": \"http://192.168.100.26:8773/services/Cloud\"}], \"endpoints_links\": [], \"type\": \"ec2\", \"name\": \"'EC2 Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.25:35357/v2.0\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.99.101:5000/v2.0\", \"internalURL\": \"http://192.168.100.25:5000/v2.0\"}], \"endpoints_links\": [], \"type\": \"identity\", \"name\": \"'Identity Service'\"}], \"user\": {\"username\": \"<email address hidden>\", \"roles_links\": [], \"id\": \"b3d964e627a24c09907df0a27846be2d\", \"roles\": [{\"id\": \"876417f7b12c46ccb98058bdf824a50b\", \"name\": \"KeystoneServiceAdmin\"}, {\"id\": \"66febe6defe040c18b45fdb3ed9aa253\", \"name\": \"KeystoneAdmin\"}, {\"id\": \"49858d70ac394647920f472a947afcb0\", \"name\": \"Admin\"}], \"name\": \"<email address hidden>\"}}}\n\nconnect: (192.168.99.101, 446)\nsend: u'GET /v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail HTTP/1.1\\r\\nHost: 192.168.99.101:446\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: 7fbfc145ba5740179de4b0e04c810369\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.0 503 Service Unavailable\\r\\n'\nheader: Cache-Control: no-cache\nheader: Connection: close\nheader: Content-Type: text/html\nREQ: curl -i https://192.168.99.101:446/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: 7fbfc145ba5740179de4b0e04c810369\" \n\nREQ: curl -i https://192.168.99.101:446/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: 7fbfc145ba5740179de4b0e04c810369\" \n\nRESP:{'status': '503', 'connection': 'close', 'content-type': 'text/html', 'cache-control': 'no-cache'} <html><body><h1>503 Service Unavailable</h1>\nNo server is available to handle this request.\n</body></html>\n\nRESP:{'status': '503', 'connection': 'close', 'content-type': 'text/html', 'cache-control': 'no-cache'} <html><body><h1>503 Service Unavailable</h1>\nNo server is available to handle this request.\n</body></html>\n\nDEBUG (shell:394) string indices must be integers, not str\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 391, in main\n    OpenStackComputeShell().main(sys.argv[1:])\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 342, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v1_1/shell.py\", line 746, in do_volume_list\n    volumes = cs.volumes.list()\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v1_1/volumes.py\", line 76, in list\n    return self._list(\"/volumes/detail\", \"volumes\")\n  File \"/usr/lib/python2.7/dist-packages/novaclient/base.py\", line 79, in _list\n    data = body[response_key]\nTypeError: string indices must be integers, not str\nERROR: string indices must be integers, not str\n\nUsing the internal URL as public URL works fine:\n\n nova --debug --insecure  volume-list\nconnect: (192.168.99.101, 443)\nsend: 'POST /v2.0/tokens HTTP/1.1\\r\\nHost: 192.168.99.101\\r\\nContent-Length: 108\\r\\ncontent-type: application/json\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n{\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"<email address hidden>\", \"password\": \"pass\"}}}'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Content-Type: application/json\nheader: Vary: X-Auth-Token\nheader: Content-Length: 2061\nheader: Date: Tue, 13 Mar 2012 14:30:52 GMT\nREQ: curl -i https://192.168.99.101/v2.0/tokens -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"User-Agent: python-novaclient\"\n\nREQ BODY: {\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"<email address hidden>\", \"password\": \"pass\"}}}\n\nRESP:{'date': 'Tue, 13 Mar 2012 14:30:52 GMT', 'content-type': 'application/json', 'content-length': '2061', 'status': '200', 'vary': 'X-Auth-Token'} {\"access\": {\"token\": {\"expires\": \"2012-03-14T14:30:52Z\", \"id\": \"bb23165f21034190849b833ce4b74219\", \"tenant\": {\"description\": null, \"enabled\": true, \"id\": \"6c34665880fb4dab93e20b2b1dab1ce7\", \"name\": \"admin\"}}, \"serviceCatalog\": [{\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\", \"internalURL\": \"http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7\"}], \"endpoints_links\": [], \"type\": \"volume\", \"name\": \"'Volume Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.22:9292/v1\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:445/v1\", \"internalURL\": \"http://192.168.100.22:9292/v1\"}], \"endpoints_links\": [], \"type\": \"image\", \"name\": \"'Image Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8774/v2/6c34665880fb4dab93e20b2b1dab1ce7\", \"region\": \"RegionOne\", \"publicURL\": \"https://192.168.99.101:444/v2/6c34665880fb4dab93e20b2b1dab1ce7\", \"internalURL\": \"http://192.168.100.26:8774/v2/6c34665880fb4dab93e20b2b1dab1ce7\"}], \"endpoints_links\": [], \"type\": \"compute\", \"name\": \"'Compute Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.26:8773/services/Admin\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.99.100:443/services/Cloud\", \"internalURL\": \"http://192.168.100.26:8773/services/Cloud\"}], \"endpoints_links\": [], \"type\": \"ec2\", \"name\": \"'EC2 Service'\"}, {\"endpoints\": [{\"adminURL\": \"http://192.168.100.25:35357/v2.0\", \"region\": \"RegionOne\", \"publicURL\": \"http://192.168.99.101:5000/v2.0\", \"internalURL\": \"http://192.168.100.25:5000/v2.0\"}], \"endpoints_links\": [], \"type\": \"identity\", \"name\": \"'Identity Service'\"}], \"user\": {\"username\": \"<email address hidden>\", \"roles_links\": [], \"id\": \"b3d964e627a24c09907df0a27846be2d\", \"roles\": [{\"id\": \"876417f7b12c46ccb98058bdf824a50b\", \"name\": \"KeystoneServiceAdmin\"}, {\"id\": \"66febe6defe040c18b45fdb3ed9aa253\", \"name\": \"KeystoneAdmin\"}, {\"id\": \"49858d70ac394647920f472a947afcb0\", \"name\": \"Admin\"}], \"name\": \"<email address hidden>\"}}}\n\nconnect: (192.168.100.26, 8776)\nsend: u'GET /v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail HTTP/1.1\\r\\nHost: 192.168.100.26:8776\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: bb23165f21034190849b833ce4b74219\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-266072e5-4344-4a46-82b4-87678aec542f\nheader: Content-Type: application/json\nheader: Content-Length: 585\nheader: Date: Tue, 13 Mar 2012 14:30:47 GMT\nREQ: curl -i http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: bb23165f21034190849b833ce4b74219\"\n\nREQ: curl -i http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: bb23165f21034190849b833ce4b74219\"\n\nRESP:{'status': '200', 'content-length': '585', 'content-location': u'http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail', 'x-compute-request-id': 'req-266072e5-4344-4a46-82b4-87678aec542f', 'date': 'Tue, 13 Mar 2012 14:30:47 GMT', 'content-type': 'application/json'} {\"volumes\": [{\"status\": \"creating\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [], \"volumeType\": \"None\", \"snapshotId\": null, \"size\": 1, \"id\": \"1\", \"createdAt\": \"2012-03-09 10:33:05\", \"metadata\": {}}, {\"status\": \"in-use\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [{\"device\": \"/dev/vdb\", \"serverId\": \"74be8284-f0f1-4463-98ff-ed046a353e6c\", \"id\": \"2\", \"volumeId\": \"2\"}], \"volumeType\": \"None\", \"snapshotId\": null, \"size\": 1, \"id\": \"2\", \"createdAt\": \"2012-03-09 12:09:28\", \"metadata\": {}}]}\n\nRESP:{'status': '200', 'content-length': '585', 'content-location': u'http://192.168.100.26:8776/v1/6c34665880fb4dab93e20b2b1dab1ce7/volumes/detail', 'x-compute-request-id': 'req-266072e5-4344-4a46-82b4-87678aec542f', 'date': 'Tue, 13 Mar 2012 14:30:47 GMT', 'content-type': 'application/json'} {\"volumes\": [{\"status\": \"creating\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [], \"volumeType\": \"None\", \"snapshotId\": null, \"size\": 1, \"id\": \"1\", \"createdAt\": \"2012-03-09 10:33:05\", \"metadata\": {}}, {\"status\": \"in-use\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [{\"device\": \"/dev/vdb\", \"serverId\": \"74be8284-f0f1-4463-98ff-ed046a353e6c\", \"id\": \"2\", \"volumeId\": \"2\"}], \"volumeType\": \"None\", \"snapshotId\": null, \"size\": 1, \"id\": \"2\", \"createdAt\": \"2012-03-09 12:09:28\", \"metadata\": {}}]}\n\n+----+----------+--------------+------+--------------------------------------+\n| ID |  Status  | Display Name | Size |             Attached to              |\n+----+----------+--------------+------+--------------------------------------+\n| 1  | creating | None         | 1    |                                      |\n| 2  | in-use   | None         | 1    | 74be8284-f0f1-4463-98ff-ed046a353e6c |\n+----+----------+--------------+------+--------------------------------------+\n\nI think this may be related to https://bugs.launchpad.net/glance/+bug/949838\n\nBye", 
            "date_created": "2012-03-13 14:32:35.338686+00:00", 
            "author": "https://api.launchpad.net/1.0/~rafadurancastaneda"
        }, 
        {
            "content": "is it possible this is a load-balancer issue?  I've tried to duplicate this, but cannot.  I wrapped all my services in ssl using socat, and updated my service catalog to show only ssl endpoints, and wasn't able to replicate it.\n\nstack@devstack:~/devstack$ nova --insecure --debug volume-list\nconnect: (127.0.0.1, 15000)\nsend: 'POST /v2.0/tokens HTTP/1.1\\r\\nHost: 127.0.0.1:15000\\r\\nContent-Length: 100\\r\\ncontent-type: application/json\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n{\"auth\": {\"tenantName\": \"demo\", \"passwordCredentials\": {\"username\": \"admin\", \"password\": \"secret\"}}}'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Content-Type: application/json\nheader: Vary: X-Auth-Token\nheader: Content-Length: 2172\nheader: Date: Thu, 15 Mar 2012 01:40:50 GMT\nconnect: (192.168.122.118, 18776)\nsend: u'GET /v1/36d50c9cf2bb4fd2bdf098b683094aa3/volumes/detail HTTP/1.1\\r\\nHost: 192.168.122.118:18776\\r\\nx-auth-project-id: demo\\r\\nx-auth-token: f0f13233e58a4fb1ad4d886e7a46be77\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-a936f2ca-4943-4292-b9e6-6c878a70d0ea\nheader: Content-Type: application/json\nheader: Content-Length: 486\nheader: Date: Thu, 15 Mar 2012 01:40:50 GMT\n+----+-----------+--------------+------+-------------+-------------+\n| ID |   Status  | Display Name | Size | Volume Type | Attached to |\n+----+-----------+--------------+------+-------------+-------------+\n| 1  | error     | foo          | 10   | None        |             |\n| 2  | available | foo          | 1    | None        |             |\n+----+-----------+--------------+------+-------------+-------------+\n\nis the 503 from the load balancer, or the volume service?  do you have nova-volume logs you can show from the same request?\n\nI'd like to be able to reproduce this.\n\n", 
            "date_created": "2012-03-15 01:51:03.321327+00:00", 
            "author": "https://api.launchpad.net/1.0/~ron-pedde"
        }, 
        {
            "content": "marking incomplete since we have no repro. Please set back to new if anyone can reproduce it.", 
            "date_created": "2012-03-15 01:57:25.622013+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "Hi,\n\nAfter reviewing once more my deployment I've got a configuration issue, so it wasn't bug.\n\nBye", 
            "date_created": "2012-03-15 08:53:39.148486+00:00", 
            "author": "https://api.launchpad.net/1.0/~rafadurancastaneda"
        }
    ]
}