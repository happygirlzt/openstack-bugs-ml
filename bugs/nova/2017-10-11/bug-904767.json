{
    "status": "Invalid", 
    "last_updated": "2011-12-17 22:52:26.308863+00:00", 
    "description": "Using nova 2011.3\n\nSuppose, we want to start vpn:\n\nbash4.1$ sudo nova-manage vpn spawn\nWARNING: This method only works with deprecated auth\nCommand failed, please check log for more info\n\nbash4.1$ sudo vim /var/log/nova/nova-manage.log\n\nHere we get exception:\n\n2011-12-15 17:23:50,786 CRITICAL nova [-] 'VpnCommands' object has no attribute '_vpn_for'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2141, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2129, in main\n(nova): TRACE:     fn(*fn_args, **fn_kwargs)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 179, in spawn\n(nova): TRACE:     if not self._vpn_for(p.id):\n(nova): TRACE: AttributeError: 'VpnCommands' object has no attribute '_vpn_for'\n\nbash4.1$ sudo vim /usr/bin/nova-manage\n\nAfter fix, we try it again:\n\nbash4.1$ sudo nova-manage vpn spawn\nWARNING: This method only works with deprecated auth\nCommand failed, please check log for more info\n\nbash4.1$ sudo vim /var/log/nova/nova-manage.log\n\nAnd now we get this:\n\n2011-12-15 17:30:05,172 CRITICAL nova [-] 'Instance' object has no attribute 'image_id'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2145, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2133, in main\n(nova): TRACE:     fn(*fn_args, **fn_kwargs)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 183, in spawn\n(nova): TRACE:     if self._vpn_for(ctxt, p.id):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 176, in _vpn_for\n(nova): TRACE:     return AdminController()._vpn_for(context, project_id)\n(nova): TRACE:   File \"/usr/lib/python2.7/site-packages/nova/api/ec2/admin.py\", line 275, in _vpn_for\n(nova): TRACE:     if (instance['image_id'] == str(FLAGS.vpn_image_id)\n(nova): TRACE:   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/models.py\", line 76, in __getitem__\n(nova): TRACE:     return getattr(self, key)\n(nova): TRACE: AttributeError: 'Instance' object has no attribute 'image_id'\n\nbecause of wrong key in nova/api/ec2/admin.py", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/904767", 
    "owner": "None", 
    "id": 904767, 
    "index": 2438, 
    "created": "2011-12-15 14:13:39.516611+00:00", 
    "title": "nova-manage vpn spawn won't work", 
    "comments": [
        {
            "content": "Suppose, we want to start vpn:\n\n\nbash4.1$ sudo nova-manage vpn spawn\nWARNING: This method only works with deprecated auth\nCommand failed, please check log for more info\n\nbash4.1$ sudo vim /var/log/nova/nova-manage.log\n\nHere we get exception:\n\n2011-12-15 17:23:50,786 CRITICAL nova [-] 'VpnCommands' object has no attribute '_vpn_for'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2141, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2129, in main\n(nova): TRACE:     fn(*fn_args, **fn_kwargs)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 179, in spawn\n(nova): TRACE:     if not self._vpn_for(p.id):\n(nova): TRACE: AttributeError: 'VpnCommands' object has no attribute '_vpn_for'\n\nbash4.1$ sudo vim /usr/bin/nova-manage \n\nAfter fix, we try it again:\n\nbash4.1$ sudo nova-manage vpn spawn\nWARNING: This method only works with deprecated auth\nCommand failed, please check log for more info\n\nbash4.1$ sudo vim /var/log/nova/nova-manage.log\n\nAnd now we get this:\n\n2011-12-15 17:30:05,172 CRITICAL nova [-] 'Instance' object has no attribute 'image_id'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2145, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2133, in main\n(nova): TRACE:     fn(*fn_args, **fn_kwargs)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 183, in spawn\n(nova): TRACE:     if self._vpn_for(ctxt, p.id):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 176, in _vpn_for\n(nova): TRACE:     return AdminController()._vpn_for(context, project_id)\n(nova): TRACE:   File \"/usr/lib/python2.7/site-packages/nova/api/ec2/admin.py\", line 275, in _vpn_for\n(nova): TRACE:     if (instance['image_id'] == str(FLAGS.vpn_image_id)\n(nova): TRACE:   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/models.py\", line 76, in __getitem__\n(nova): TRACE:     return getattr(self, key)\n(nova): TRACE: AttributeError: 'Instance' object has no attribute 'image_id'\n\n\nbecause of wrong key in nova/api/ec2/admin.py", 
            "date_created": "2011-12-15 14:13:39.516611+00:00", 
            "author": "https://api.launchpad.net/1.0/~bfilippov"
        }, 
        {
            "content": "", 
            "date_created": "2011-12-15 14:13:39.516611+00:00", 
            "author": "https://api.launchpad.net/1.0/~bfilippov"
        }, 
        {
            "content": "", 
            "date_created": "2011-12-15 15:20:15.726289+00:00", 
            "author": "https://api.launchpad.net/1.0/~bfilippov"
        }, 
        {
            "content": "Hi Boris!\n\nIt would be better if you propose your patch to merge to trunk using docs\nfrom here: http://wiki.openstack.org/GerritWorkflow. This approach should\nbe faster to merge.\n\nRegards,\nIlya\n\n15 \u0434\u0435\u043a\u0430\u0431\u0440\u044f 2011 \u0433. 19:20 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c Boris Filippov <\n<email address hidden>> \u043d\u0430\u043f\u0438\u0441\u0430\u043b:\n\n> ** Patch added: \"fix this problem in 2011.3\"\n>\n> https://bugs.launchpad.net/nova/+bug/904767/+attachment/2634492/+files/0001-Fix-nova-vpn-spawn-diablo.patch\n>\n> --\n> You received this bug notification because you are subscribed to\n> OpenStack Compute (nova).\n> https://bugs.launchpad.net/bugs/904767\n>\n> Title:\n>  nova-manage vpn spawn won't work\n>\n> Status in OpenStack Compute (Nova):\n>  New\n>\n> Bug description:\n>   Using nova 2011.3\n>\n>  Suppose, we want to start vpn:\n>\n>  bash4.1$ sudo nova-manage vpn spawn\n>  WARNING: This method only works with deprecated auth\n>  Command failed, please check log for more info\n>\n>  bash4.1$ sudo vim /var/log/nova/nova-manage.log\n>\n>  Here we get exception:\n>\n>  2011-12-15 17:23:50,786 CRITICAL nova [-] 'VpnCommands' object has no\n> attribute '_vpn_for'\n>  (nova): TRACE: Traceback (most recent call last):\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 2141, in <module>\n>  (nova): TRACE:     main()\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 2129, in main\n>  (nova): TRACE:     fn(*fn_args, **fn_kwargs)\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 179, in spawn\n>  (nova): TRACE:     if not self._vpn_for(p.id):\n>  (nova): TRACE: AttributeError: 'VpnCommands' object has no attribute\n> '_vpn_for'\n>\n>  bash4.1$ sudo vim /usr/bin/nova-manage\n>\n>  After fix, we try it again:\n>\n>  bash4.1$ sudo nova-manage vpn spawn\n>  WARNING: This method only works with deprecated auth\n>  Command failed, please check log for more info\n>\n>  bash4.1$ sudo vim /var/log/nova/nova-manage.log\n>\n>  And now we get this:\n>\n>  2011-12-15 17:30:05,172 CRITICAL nova [-] 'Instance' object has no\n> attribute 'image_id'\n>  (nova): TRACE: Traceback (most recent call last):\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 2145, in <module>\n>  (nova): TRACE:     main()\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 2133, in main\n>  (nova): TRACE:     fn(*fn_args, **fn_kwargs)\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 183, in spawn\n>  (nova): TRACE:     if self._vpn_for(ctxt, p.id):\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 176, in _vpn_for\n>  (nova): TRACE:     return AdminController()._vpn_for(context, project_id)\n>  (nova): TRACE:   File\n> \"/usr/lib/python2.7/site-packages/nova/api/ec2/admin.py\", line 275, in\n> _vpn_for\n>  (nova): TRACE:     if (instance['image_id'] == str(FLAGS.vpn_image_id)\n>  (nova): TRACE:   File\n> \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/models.py\", line 76,\n> in __getitem__\n>  (nova): TRACE:     return getattr(self, key)\n>  (nova): TRACE: AttributeError: 'Instance' object has no attribute\n> 'image_id'\n>\n>  because of wrong key in nova/api/ec2/admin.py\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/904767/+subscriptions\n>\n", 
            "date_created": "2011-12-15 16:15:20+00:00", 
            "author": "https://api.launchpad.net/1.0/~ilyaalekseyev"
        }
    ]
}