{
    "status": "Fix Released", 
    "last_updated": "2014-10-16 08:51:24.434045+00:00", 
    "description": "2014-07-31 07:14:07.574 ERROR nova.api.openstack [req-98b42d5d-575f-4209-b711-4cb2ae8ef14e FloatingIPsNegativeTestXML-1138647745 FloatingIPsNegativeTestXML-1764448859] Caught error: Floating ip pool not found.\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack Traceback (most recent call last):\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/__init__.py\", line 125, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return req.get_response(self.application)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     application, catch_exc_info=False)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/python-keystoneclient/keystoneclient/middleware/auth_token.py\", line 663, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return self.app(env, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/wsgi.py\", line 917, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     content_type, body, accept)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/wsgi.py\", line 983, in _process_stack\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/wsgi.py\", line 1070, in dispatch\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return method(req=request, **action_args)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/compute/contrib/floating_ips.py\", line 158, in create\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     address = self.network_api.allocate_floating_ip(context, pool)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/network/neutronv2/api.py\", line 927, in allocate_floating_ip\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/network/neutronv2/api.py\", line 927, in allocate_floating_ip\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     pool_id = self._get_floating_ip_pool_id_by_name_or_id(client, pool)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/network/neutronv2/api.py\", line 917, in _get_floating_ip_pool_id_by_name_or_id\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     raise exception.FloatingIpPoolNotFound()\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack FloatingIpPoolNotFound: Floating ip pool not found.\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack \n\nhttp://logs.openstack.org/72/109872/1/check/check-tempest-dsvm-neutron-full/7e11304/logs/screen-n-api.txt.gz?", 
    "tags": [
        "api"
    ], 
    "importance": "Low", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/1352141", 
    "owner": "https://api.launchpad.net/1.0/~cyeoh-0", 
    "id": 1352141, 
    "index": 59, 
    "created": "2014-08-04 05:10:37.582264+00:00", 
    "title": "uncaught exception in floating ip creation when pool is not found with neutron backend", 
    "comments": [
        {
            "content": "2014-07-31 07:14:07.574 ERROR nova.api.openstack [req-98b42d5d-575f-4209-b711-4cb2ae8ef14e FloatingIPsNegativeTestXML-1138647745 FloatingIPsNegativeTestXML-1764448859] Caught error: Floating ip pool not found.\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack Traceback (most recent call last):\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/__init__.py\", line 125, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return req.get_response(self.application)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     application, catch_exc_info=False)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/python-keystoneclient/keystoneclient/middleware/auth_token.py\", line 663, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return self.app(env, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/wsgi.py\", line 917, in __call__\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     content_type, body, accept)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/wsgi.py\", line 983, in _process_stack\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/wsgi.py\", line 1070, in dispatch\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     return method(req=request, **action_args)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/api/openstack/compute/contrib/floating_ips.py\", line 158, in create\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     address = self.network_api.allocate_floating_ip(context, pool)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/network/neutronv2/api.py\", line 927, in allocate_floating_ip\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/network/neutronv2/api.py\", line 927, in allocate_floating_ip\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     pool_id = self._get_floating_ip_pool_id_by_name_or_id(client, pool)\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack   File \"/opt/stack/new/nova/nova/network/neutronv2/api.py\", line 917, in _get_floating_ip_pool_id_by_name_or_id\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack     raise exception.FloatingIpPoolNotFound()\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack FloatingIpPoolNotFound: Floating ip pool not found.\n2014-07-31 07:14:07.574 28614 TRACE nova.api.openstack \n\nhttp://logs.openstack.org/72/109872/1/check/check-tempest-dsvm-neutron-full/7e11304/logs/screen-n-api.txt.gz?", 
            "date_created": "2014-08-04 05:10:37.582264+00:00", 
            "author": "https://api.launchpad.net/1.0/~cyeoh-0"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/111648", 
            "date_created": "2014-08-04 05:54:20.395656+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/111648\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=c34840e50d0bf60b4e60bbbcbc178aef83e0e7ad\nSubmitter: Jenkins\nBranch:    master\n\ncommit c34840e50d0bf60b4e60bbbcbc178aef83e0e7ad\nAuthor: Chris Yeoh <email address hidden>\nDate:   Mon Aug 4 15:21:26 2014 +0930\n\n    Handle FloatingIpPoolNotFound exception in floating ip creation\n    \n    If an invalid pool is specified when creating a floating ip\n    with neutron as the backend a FloatingIpPoolNotFound exception\n    can be raised. This change handles the exception at the API level.\n    \n    Change-Id: Iac46d86a11f2c1da0ed7e7861cdb87fd4d4b4c6c\n    Closes-Bug: 1352141\n", 
            "date_created": "2014-08-06 15:00:35.872215+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This change might be the reason why we started seeing failures on the Neutron full Tempest Job:\n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJcIkRldGFpbHM6IHt1J21lc3NhZ2UnOiB1J0Zsb2F0aW5nIGlwIHBvb2wgbm90IGZvdW5kLicsIHUnY29kZSc6IDQwMH1cIiIsImZpZWxkcyI6W10sIm9mZnNldCI6MCwidGltZWZyYW1lIjoiODY0MDAiLCJncmFwaG1vZGUiOiJjb3VudCIsInRpbWUiOnsidXNlcl9pbnRlcnZhbCI6MH0sInN0YW1wIjoxNDA3MzU2MDYyODM0fQ==", 
            "date_created": "2014-08-06 20:14:48.643035+00:00", 
            "author": "https://api.launchpad.net/1.0/~armando-migliaccio"
        }, 
        {
            "content": "It looks like this was a Nova issue after all.", 
            "date_created": "2014-08-07 14:53:57.076902+00:00", 
            "author": "https://api.launchpad.net/1.0/~armando-migliaccio"
        }, 
        {
            "content": "https://review.openstack.org/#/c/112541/", 
            "date_created": "2014-08-07 14:54:03.207657+00:00", 
            "author": "https://api.launchpad.net/1.0/~armando-migliaccio"
        }
    ]
}