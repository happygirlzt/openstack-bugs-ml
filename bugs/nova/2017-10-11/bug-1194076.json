{
    "status": "Invalid", 
    "last_updated": "2013-12-05 19:25:05.651714+00:00", 
    "description": "with nova suspend/resume action, nova hypervisor-show <hypervisor-id> does not recover the current_workload value.\n\nthe observation is based on Grizzly, nova version is 2.10.0.\n\nBelow is the console log: (issue also reproduced on kvm hypervisor) \nSteps:\n[root@ci-525400E87B4A ~]# nova list\n+--------------------------------------+---------+--------+--------------------------------------------+\n| ID                                   | Name    | Status | Networks                                   |\n+--------------------------------------+---------+--------+--------------------------------------------+\n| cc2bbd51-6b83-40e7-b83a-54f8b1e1f6ce | esx_vm1 | BUILD  | Private network=10.10.0.27, 16.190.248.157 |\n+--------------------------------------+---------+--------+--------------------------------------------+\n\n\n[root@ci-525400E87B4A ~]# nova hypervisor-show 9\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| Property             | Value                                                                                                                               |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| cpu_info             | {\"model\": \"Intel(R) Xeon(R) CPU           E5540  @ 2.53GHz\", \"vendor\": \"HP\", \"topology\": {\"cores\": 8, \"threads\": 16, \"sockets\": 2}} |\n| current_workload     | 1                                                                                                                                   |\n| disk_available_least | None                                                                                                                                |\n| free_disk_gb         | 164                                                                                                                                 |\n| free_ram_mb          | 38556                                                                                                                               |\n| hypervisor_hostname  | domain-c45(Cluster-3PAR-FC-ISCSI)                                                                                                   |\n| hypervisor_type      | VMware ESXi                                                                                                                         |\n| hypervisor_version   | 500                                                                                                                                 |\n| id                   | 9                                                                                                                                   |\n| local_gb             | 224                                                                                                                                 |\n| local_gb_used        | 60                                                                                                                                  |\n| memory_mb            | 41116                                                                                                                               |\n| memory_mb_used       | 2560                                                                                                                                |\n| running_vms          | 2                                                                                                                                   |\n| service_host         | mslsh104.mgmt.local                                                                                                                 |\n| service_id           | 13                                                                                                                                  |\n| vcpus                | 200                                                                                                                                 |\n| vcpus_used           | 2                                                                                                                                   |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n\n[root@ci-525400E87B4A ~]# nova list\n+--------------------------------------+---------+--------+--------------------------------------------+\n| ID                                   | Name    | Status | Networks                                   |\n+--------------------------------------+---------+--------+--------------------------------------------+\n| cc2bbd51-6b83-40e7-b83a-54f8b1e1f6ce | esx_vm1 | ACTIVE | Private network=10.10.0.27, 16.190.248.157 |\n+--------------------------------------+---------+--------+--------------------------------------------+\n\n[root@ci-525400E87B4A ~]# nova suspend esx_vm1\n\n[root@ci-525400E87B4A ~]# nova hypervisor-show 9\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| Property             | Value                                                                                                                               |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| cpu_info             | {\"model\": \"Intel(R) Xeon(R) CPU           E5540  @ 2.53GHz\", \"vendor\": \"HP\", \"topology\": {\"cores\": 8, \"threads\": 16, \"sockets\": 2}} |\n| current_workload     | 0                                                                                                                                   |\n| disk_available_least | None                                                                                                                                |\n| free_disk_gb         | 164                                                                                                                                 |\n| free_ram_mb          | 38555                                                                                                                               |\n| hypervisor_hostname  | domain-c45(Cluster-3PAR-FC-ISCSI)                                                                                                   |\n| hypervisor_type      | VMware ESXi                                                                                                                         |\n| hypervisor_version   | 500                                                                                                                                 |\n| id                   | 9                                                                                                                                   |\n| local_gb             | 224                                                                                                                                 |\n| local_gb_used        | 60                                                                                                                                  |\n| memory_mb            | 41115                                                                                                                               |\n| memory_mb_used       | 2560                                                                                                                                |\n| running_vms          | 2                                                                                                                                   |\n| service_host         | mslsh104.mgmt.local                                                                                                                 |\n| service_id           | 13                                                                                                                                  |\n| vcpus                | 200                                                                                                                                 |\n| vcpus_used           | 2                                                                                                                                   |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n\n[root@ci-525400E87B4A ~]# nova resume esx_vm1\n\n[root@ci-525400E87B4A ~]# nova list\n+--------------------------------------+---------+--------+--------------------------------------------+\n| ID                                   | Name    | Status | Networks                                   |\n+--------------------------------------+---------+--------+--------------------------------------------+\n| cc2bbd51-6b83-40e7-b83a-54f8b1e1f6ce | esx_vm1 | ACTIVE | Private network=10.10.0.27, 16.190.248.157 |\n+--------------------------------------+---------+--------+--------------------------------------------+\n\n[root@ci-525400E87B4A ~]# nova hypervisor-show 9\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| Property             | Value                                                                                                                               |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| cpu_info             | {\"model\": \"Intel(R) Xeon(R) CPU           E5540  @ 2.53GHz\", \"vendor\": \"HP\", \"topology\": {\"cores\": 8, \"threads\": 16, \"sockets\": 2}} |\n| current_workload     | 0                                                                                                                                   |\n| disk_available_least | None                                                                                                                                |\n| free_disk_gb         | 164                                                                                                                                 |\n| free_ram_mb          | 38555                                                                                                                               |\n| hypervisor_hostname  | domain-c45(Cluster-3PAR-FC-ISCSI)                                                                                                   |\n| hypervisor_type      | VMware ESXi                                                                                                                         |\n| hypervisor_version   | 500                                                                                                                                 |\n| id                   | 9                                                                                                                                   |\n| local_gb             | 224                                                                                                                                 |\n| local_gb_used        | 60                                                                                                                                  |\n| memory_mb            | 41115                                                                                                                               |\n| memory_mb_used       | 2560                                                                                                                                |\n| running_vms          | 2                                                                                                                                   |\n| service_host         | mslsh104.mgmt.local                                                                                                                 |\n| service_id           | 13                                                                                                                                  |\n| vcpus                | 200                                                                                                                                 |\n| vcpus_used           | 2                                                                                                                                   |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+", 
    "tags": [
        "vmware"
    ], 
    "importance": "Medium", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1194076", 
    "owner": "None", 
    "id": 1194076, 
    "index": 3458, 
    "created": "2013-06-24 10:03:18.107972+00:00", 
    "title": "current_workload in  nova hypervisor-show not recover after nova suspend/resume", 
    "comments": [
        {
            "content": "with nova suspend/resume action, nova hypervisor-show <hypervisor-id> does not recover the current_workload value.\n\nthe observation is based on Grizzly, nova version is 2.10.0.\n\nBelow is the console log: (issue also reproduced on kvm hypervisor) \nSteps:\n[root@ci-525400E87B4A ~]# nova list\n+--------------------------------------+---------+--------+--------------------------------------------+\n| ID                                   | Name    | Status | Networks                                   |\n+--------------------------------------+---------+--------+--------------------------------------------+\n| cc2bbd51-6b83-40e7-b83a-54f8b1e1f6ce | esx_vm1 | BUILD  | Private network=10.10.0.27, 16.190.248.157 |\n+--------------------------------------+---------+--------+--------------------------------------------+\n\n\n[root@ci-525400E87B4A ~]# nova hypervisor-show 9\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| Property             | Value                                                                                                                               |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| cpu_info             | {\"model\": \"Intel(R) Xeon(R) CPU           E5540  @ 2.53GHz\", \"vendor\": \"HP\", \"topology\": {\"cores\": 8, \"threads\": 16, \"sockets\": 2}} |\n| current_workload     | 1                                                                                                                                   |\n| disk_available_least | None                                                                                                                                |\n| free_disk_gb         | 164                                                                                                                                 |\n| free_ram_mb          | 38556                                                                                                                               |\n| hypervisor_hostname  | domain-c45(Cluster-3PAR-FC-ISCSI)                                                                                                   |\n| hypervisor_type      | VMware ESXi                                                                                                                         |\n| hypervisor_version   | 500                                                                                                                                 |\n| id                   | 9                                                                                                                                   |\n| local_gb             | 224                                                                                                                                 |\n| local_gb_used        | 60                                                                                                                                  |\n| memory_mb            | 41116                                                                                                                               |\n| memory_mb_used       | 2560                                                                                                                                |\n| running_vms          | 2                                                                                                                                   |\n| service_host         | mslsh104.mgmt.local                                                                                                                 |\n| service_id           | 13                                                                                                                                  |\n| vcpus                | 200                                                                                                                                 |\n| vcpus_used           | 2                                                                                                                                   |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n\n[root@ci-525400E87B4A ~]# nova list\n+--------------------------------------+---------+--------+--------------------------------------------+\n| ID                                   | Name    | Status | Networks                                   |\n+--------------------------------------+---------+--------+--------------------------------------------+\n| cc2bbd51-6b83-40e7-b83a-54f8b1e1f6ce | esx_vm1 | ACTIVE | Private network=10.10.0.27, 16.190.248.157 |\n+--------------------------------------+---------+--------+--------------------------------------------+\n\n[root@ci-525400E87B4A ~]# nova suspend esx_vm1\n\n[root@ci-525400E87B4A ~]# nova hypervisor-show 9\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| Property             | Value                                                                                                                               |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| cpu_info             | {\"model\": \"Intel(R) Xeon(R) CPU           E5540  @ 2.53GHz\", \"vendor\": \"HP\", \"topology\": {\"cores\": 8, \"threads\": 16, \"sockets\": 2}} |\n| current_workload     | 0                                                                                                                                   |\n| disk_available_least | None                                                                                                                                |\n| free_disk_gb         | 164                                                                                                                                 |\n| free_ram_mb          | 38555                                                                                                                               |\n| hypervisor_hostname  | domain-c45(Cluster-3PAR-FC-ISCSI)                                                                                                   |\n| hypervisor_type      | VMware ESXi                                                                                                                         |\n| hypervisor_version   | 500                                                                                                                                 |\n| id                   | 9                                                                                                                                   |\n| local_gb             | 224                                                                                                                                 |\n| local_gb_used        | 60                                                                                                                                  |\n| memory_mb            | 41115                                                                                                                               |\n| memory_mb_used       | 2560                                                                                                                                |\n| running_vms          | 2                                                                                                                                   |\n| service_host         | mslsh104.mgmt.local                                                                                                                 |\n| service_id           | 13                                                                                                                                  |\n| vcpus                | 200                                                                                                                                 |\n| vcpus_used           | 2                                                                                                                                   |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n\n[root@ci-525400E87B4A ~]# nova resume esx_vm1\n\n[root@ci-525400E87B4A ~]# nova list\n+--------------------------------------+---------+--------+--------------------------------------------+\n| ID                                   | Name    | Status | Networks                                   |\n+--------------------------------------+---------+--------+--------------------------------------------+\n| cc2bbd51-6b83-40e7-b83a-54f8b1e1f6ce | esx_vm1 | ACTIVE | Private network=10.10.0.27, 16.190.248.157 |\n+--------------------------------------+---------+--------+--------------------------------------------+\n\n[root@ci-525400E87B4A ~]# nova hypervisor-show 9\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| Property             | Value                                                                                                                               |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\n| cpu_info             | {\"model\": \"Intel(R) Xeon(R) CPU           E5540  @ 2.53GHz\", \"vendor\": \"HP\", \"topology\": {\"cores\": 8, \"threads\": 16, \"sockets\": 2}} |\n| current_workload     | 0                                                                                                                                   |\n| disk_available_least | None                                                                                                                                |\n| free_disk_gb         | 164                                                                                                                                 |\n| free_ram_mb          | 38555                                                                                                                               |\n| hypervisor_hostname  | domain-c45(Cluster-3PAR-FC-ISCSI)                                                                                                   |\n| hypervisor_type      | VMware ESXi                                                                                                                         |\n| hypervisor_version   | 500                                                                                                                                 |\n| id                   | 9                                                                                                                                   |\n| local_gb             | 224                                                                                                                                 |\n| local_gb_used        | 60                                                                                                                                  |\n| memory_mb            | 41115                                                                                                                               |\n| memory_mb_used       | 2560                                                                                                                                |\n| running_vms          | 2                                                                                                                                   |\n| service_host         | mslsh104.mgmt.local                                                                                                                 |\n| service_id           | 13                                                                                                                                  |\n| vcpus                | 200                                                                                                                                 |\n| vcpus_used           | 2                                                                                                                                   |\n+----------------------+-------------------------------------------------------------------------------------------------------------------------------------+", 
            "date_created": "2013-06-24 10:03:18.107972+00:00", 
            "author": "https://api.launchpad.net/1.0/~dao-tao"
        }, 
        {
            "content": "One potential work-around is to place the VM in the \"automatic boot\" list under \"Virtual Machine - Start up and Shut down\" in vCenter. This should be part of the VM spawn procedure.", 
            "date_created": "2013-07-02 01:42:44.036361+00:00", 
            "author": "https://api.launchpad.net/1.0/~hartsock"
        }, 
        {
            "content": "whoops, comment on wrong bug. Can't fix it now. Disregard.", 
            "date_created": "2013-07-02 01:43:42.669775+00:00", 
            "author": "https://api.launchpad.net/1.0/~hartsock"
        }, 
        {
            "content": "Hi,\nI am not sure what the problem is an I have been unable to reproduce this. I have done the following (on 2 different setups - the first with KVM and the second with ESX):\n1. Started 3 instances\n2. Suspended one of the instances\n3. Resumed the suspended instance\nWhen the instances were booting the 'current_workload' was 3. This was the same on both setups. When the instance was in suspend the 'current_workload' is 0. \nFrom the code the it seems like the task_state is not set when the VM is in mode suspend. (https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L2907).\nTo be honest I am not sure that this is a bug. It would be interesting to know what the intended functionality is.\nThanks\nGary", 
            "date_created": "2013-07-09 07:26:21.096635+00:00", 
            "author": "https://api.launchpad.net/1.0/~garyk"
        }, 
        {
            "content": "If you resume the suspended instance, the current workload should return to 3. But actually from my observation, it still keep 0 after resume.\r\n\r\nThanks, \r\n-David \r\n\r\n-----Original Message-----\r\nFrom: <email address hidden> [mailto:<email address hidden>] On Behalf Of Gary Kotton\r\nSent: 2013\u5e747\u67089\u65e5 3:26 PM\r\nTo: Tao, Dao (David, ISS-MSL-SH)\r\nSubject: [Bug 1194076] Re: current_workload in nova hypervisor-show not recover after nova suspend/resume\r\n\r\nHi,\r\nI am not sure what the problem is an I have been unable to reproduce this. I have done the following (on 2 different setups - the first with KVM and the second with ESX):\r\n1. Started 3 instances\r\n2. Suspended one of the instances\r\n3. Resumed the suspended instance\r\nWhen the instances were booting the 'current_workload' was 3. This was the same on both setups. When the instance was in suspend the 'current_workload' is 0. \r\n>From the code the it seems like the task_state is not set when the VM is in mode suspend. (https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L2907).\r\nTo be honest I am not sure that this is a bug. It would be interesting to know what the intended functionality is.\r\nThanks\r\nGary\r\n\r\n--\r\nYou received this bug notification because you are subscribed to the bug report.\r\nhttps://bugs.launchpad.net/bugs/1194076\r\n\r\nTitle:\r\n  current_workload in  nova hypervisor-show not recover after nova\r\n  suspend/resume\r\n\r\nStatus in OpenStack Compute (Nova):\r\n  Incomplete\r\n\r\nBug description:\r\n  with nova suspend/resume action, nova hypervisor-show <hypervisor-id>\r\n  does not recover the current_workload value.\r\n\r\n  the observation is based on Grizzly, nova version is 2.10.0.\r\n\r\n  Below is the console log: (issue also reproduced on kvm hypervisor)\r\n  Steps:\r\n  [root@ci-525400E87B4A ~]# nova list\r\n  +--------------------------------------+---------+--------+--------------------------------------------+\r\n  | ID                                   | Name    | Status | Networks                                   |\r\n  +--------------------------------------+---------+--------+--------------------------------------------+\r\n  | cc2bbd51-6b83-40e7-b83a-54f8b1e1f6ce | esx_vm1 | BUILD  | Private network=10.10.0.27, 16.190.248.157 |\r\n  +--------------------------------------+---------+--------+--------------------------------------------+\r\n\r\n  \r\n  [root@ci-525400E87B4A ~]# nova hypervisor-show 9\r\n  +----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\r\n  | Property             | Value                                                                                                                               |\r\n  +----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\r\n  | cpu_info             | {\"model\": \"Intel(R) Xeon(R) CPU           E5540  @ 2.53GHz\", \"vendor\": \"HP\", \"topology\": {\"cores\": 8, \"threads\": 16, \"sockets\": 2}} |\r\n  | current_workload     | 1                                                                                                                                   |\r\n  | disk_available_least | None                                                                                                                                |\r\n  | free_disk_gb         | 164                                                                                                                                 |\r\n  | free_ram_mb          | 38556                                                                                                                               |\r\n  | hypervisor_hostname  | domain-c45(Cluster-3PAR-FC-ISCSI)                                                                                                   |\r\n  | hypervisor_type      | VMware ESXi                                                                                                                         |\r\n  | hypervisor_version   | 500                                                                                                                                 |\r\n  | id                   | 9                                                                                                                                   |\r\n  | local_gb             | 224                                                                                                                                 |\r\n  | local_gb_used        | 60                                                                                                                                  |\r\n  | memory_mb            | 41116                                                                                                                               |\r\n  | memory_mb_used       | 2560                                                                                                                                |\r\n  | running_vms          | 2                                                                                                                                   |\r\n  | service_host         | mslsh104.mgmt.local                                                                                                                 |\r\n  | service_id           | 13                                                                                                                                  |\r\n  | vcpus                | 200                                                                                                                                 |\r\n  | vcpus_used           | 2                                                                                                                                   |\r\n  +----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\r\n\r\n  [root@ci-525400E87B4A ~]# nova list\r\n  +--------------------------------------+---------+--------+--------------------------------------------+\r\n  | ID                                   | Name    | Status | Networks                                   |\r\n  +--------------------------------------+---------+--------+--------------------------------------------+\r\n  | cc2bbd51-6b83-40e7-b83a-54f8b1e1f6ce | esx_vm1 | ACTIVE | Private network=10.10.0.27, 16.190.248.157 |\r\n  +--------------------------------------+---------+--------+--------------------------------------------+\r\n\r\n  [root@ci-525400E87B4A ~]# nova suspend esx_vm1\r\n\r\n  [root@ci-525400E87B4A ~]# nova hypervisor-show 9\r\n  +----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\r\n  | Property             | Value                                                                                                                               |\r\n  +----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\r\n  | cpu_info             | {\"model\": \"Intel(R) Xeon(R) CPU           E5540  @ 2.53GHz\", \"vendor\": \"HP\", \"topology\": {\"cores\": 8, \"threads\": 16, \"sockets\": 2}} |\r\n  | current_workload     | 0                                                                                                                                   |\r\n  | disk_available_least | None                                                                                                                                |\r\n  | free_disk_gb         | 164                                                                                                                                 |\r\n  | free_ram_mb          | 38555                                                                                                                               |\r\n  | hypervisor_hostname  | domain-c45(Cluster-3PAR-FC-ISCSI)                                                                                                   |\r\n  | hypervisor_type      | VMware ESXi                                                                                                                         |\r\n  | hypervisor_version   | 500                                                                                                                                 |\r\n  | id                   | 9                                                                                                                                   |\r\n  | local_gb             | 224                                                                                                                                 |\r\n  | local_gb_used        | 60                                                                                                                                  |\r\n  | memory_mb            | 41115                                                                                                                               |\r\n  | memory_mb_used       | 2560                                                                                                                                |\r\n  | running_vms          | 2                                                                                                                                   |\r\n  | service_host         | mslsh104.mgmt.local                                                                                                                 |\r\n  | service_id           | 13                                                                                                                                  |\r\n  | vcpus                | 200                                                                                                                                 |\r\n  | vcpus_used           | 2                                                                                                                                   |\r\n  +----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\r\n\r\n  [root@ci-525400E87B4A ~]# nova resume esx_vm1\r\n\r\n  [root@ci-525400E87B4A ~]# nova list\r\n  +--------------------------------------+---------+--------+--------------------------------------------+\r\n  | ID                                   | Name    | Status | Networks                                   |\r\n  +--------------------------------------+---------+--------+--------------------------------------------+\r\n  | cc2bbd51-6b83-40e7-b83a-54f8b1e1f6ce | esx_vm1 | ACTIVE | Private network=10.10.0.27, 16.190.248.157 |\r\n  +--------------------------------------+---------+--------+--------------------------------------------+\r\n\r\n  [root@ci-525400E87B4A ~]# nova hypervisor-show 9\r\n  +----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\r\n  | Property             | Value                                                                                                                               |\r\n  +----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\r\n  | cpu_info             | {\"model\": \"Intel(R) Xeon(R) CPU           E5540  @ 2.53GHz\", \"vendor\": \"HP\", \"topology\": {\"cores\": 8, \"threads\": 16, \"sockets\": 2}} |\r\n  | current_workload     | 0                                                                                                                                   |\r\n  | disk_available_least | None                                                                                                                                |\r\n  | free_disk_gb         | 164                                                                                                                                 |\r\n  | free_ram_mb          | 38555                                                                                                                               |\r\n  | hypervisor_hostname  | domain-c45(Cluster-3PAR-FC-ISCSI)                                                                                                   |\r\n  | hypervisor_type      | VMware ESXi                                                                                                                         |\r\n  | hypervisor_version   | 500                                                                                                                                 |\r\n  | id                   | 9                                                                                                                                   |\r\n  | local_gb             | 224                                                                                                                                 |\r\n  | local_gb_used        | 60                                                                                                                                  |\r\n  | memory_mb            | 41115                                                                                                                               |\r\n  | memory_mb_used       | 2560                                                                                                                                |\r\n  | running_vms          | 2                                                                                                                                   |\r\n  | service_host         | mslsh104.mgmt.local                                                                                                                 |\r\n  | service_id           | 13                                                                                                                                  |\r\n  | vcpus                | 200                                                                                                                                 |\r\n  | vcpus_used           | 2                                                                                                                                   |\r\n  +----------------------+-------------------------------------------------------------------------------------------------------------------------------------+\r\n\r\nTo manage notifications about this bug go to:\r\nhttps://bugs.launchpad.net/nova/+bug/1194076/+subscriptions\r\n", 
            "date_created": "2013-07-09 07:43:34+00:00", 
            "author": "https://api.launchpad.net/1.0/~dao-tao"
        }, 
        {
            "content": "Hi,\nPlease see the trace from below:\n\nankur@ankur-virtual-machine:~$ nova suspend 11bd61b2-87aa-4656-9ed6-b11b5734ae95\n/usr/lib/python2.7/dist-packages/gobject/constants.py:24: Warning: g_boxed_type_register_static: assertion `g_type_from_name (name) == 0' failed\n  import gobject._gobject\nankur@ankur-virtual-machine:~$ nova list\n/usr/lib/python2.7/dist-packages/gobject/constants.py:24: Warning: g_boxed_type_register_static: assertion `g_type_from_name (name) == 0' failed\n  import gobject._gobject\n+--------------------------------------+------+--------+------------+-------------+------------------+\n| ID                                   | Name | Status | Task State | Power State | Networks         |\n+--------------------------------------+------+--------+------------+-------------+------------------+\n| 11bd61b2-87aa-4656-9ed6-b11b5734ae95 | X    | ACTIVE | suspending | Running     | private=10.0.0.5 |\n| 9355de52-1cbd-40a0-bea8-af21eba16fbe | X    | ACTIVE | None       | Running     | private=10.0.0.4 |\n+--------------------------------------+------+--------+------------+-------------+------------------+\nankur@ankur-virtual-machine:~$ nova list\n/usr/lib/python2.7/dist-packages/gobject/constants.py:24: Warning: g_boxed_type_register_static: assertion `g_type_from_name (name) == 0' failed\n  import gobject._gobject\n+--------------------------------------+------+-----------+------------+-------------+------------------+\n| ID                                   | Name | Status    | Task State | Power State | Networks         |\n+--------------------------------------+------+-----------+------------+-------------+------------------+\n| 11bd61b2-87aa-4656-9ed6-b11b5734ae95 | X    | SUSPENDED | None       | Suspended   | private=10.0.0.5 |\n| 9355de52-1cbd-40a0-bea8-af21eba16fbe | X    | ACTIVE    | None       | Running     | private=10.0.0.4 |\n+--------------------------------------+------+-----------+------------+-------------+------------------+\nankur@ankur-virtual-machine:~$ nova resume 11bd61b2-87aa-4656-9ed6-b11b5734ae95\n/usr/lib/python2.7/dist-packages/gobject/constants.py:24: Warning: g_boxed_type_register_static: assertion `g_type_from_name (name) == 0' failed\n  import gobject._gobject\nankur@ankur-virtual-machine:~$ nova list\n/usr/lib/python2.7/dist-packages/gobject/constants.py:24: Warning: g_boxed_type_register_static: assertion `g_type_from_name (name) == 0' failed\n  import gobject._gobject\n+--------------------------------------+------+--------+------------+-------------+------------------+\n| ID                                   | Name | Status | Task State | Power State | Networks         |\n+--------------------------------------+------+--------+------------+-------------+------------------+\n| 11bd61b2-87aa-4656-9ed6-b11b5734ae95 | X    | ACTIVE | None       | Running     | private=10.0.0.5 |\n| 9355de52-1cbd-40a0-bea8-af21eba16fbe | X    | ACTIVE | None       | Running     | private=10.0.0.4 |\n+--------------------------------------+------+--------+------------+-------------+------------------+\nankur@ankur-virtual-machine:~$\n", 
            "date_created": "2013-07-29 09:20:05.824517+00:00", 
            "author": "https://api.launchpad.net/1.0/~garyk"
        }, 
        {
            "content": "Please note that the above code was done with Hanava.\nThanks\nGary", 
            "date_created": "2013-08-20 13:54:25.084240+00:00", 
            "author": "https://api.launchpad.net/1.0/~garyk"
        }, 
        {
            "content": "This isn't a bug, if you look at this https://github.com/openstack/nova/blob/master/nova/compute/stats.py#L52 \nthe workload is being computed by the number of tasks in progress. In your case, I believe that once you suspend and show the hypervisor stats the VM is still suspending, but when you resume, by the time you show hypervisor stats the task is no longer a task in progress, thats why you see 0.", 
            "date_created": "2013-12-05 19:24:33.862607+00:00", 
            "author": "https://api.launchpad.net/1.0/~maithem"
        }
    ]
}