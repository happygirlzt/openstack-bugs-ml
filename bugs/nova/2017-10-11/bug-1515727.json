{
    "status": "Invalid", 
    "last_updated": "2016-01-27 11:51:13.553427+00:00", 
    "description": "\nUsing Solaris 11.3 with Juno (0.2014.2.2)\n\nWhen I associate a floating-ip address using Horizon, the ip does not appear in nova show or nova list until after I have issued a 'nova refresh-network' on the instance (or until I do a 'nova reboot').\n\nHowever 'nova floating-ip-list' does correctly show the floating ip as associated, as does horizon and 'neutron floatingip-list'\n\nIf I make the association using 'nova floating-ip-associate' no refresh-network is required. \n\n\nThe same issue arises with disassociating a floating-ip. \n\nThe issue appears to be that 'nova list/show' read from the nova.instance_info_caches table and when the floating ip is associated via horizon that cache is not updated.\n\nEither associating a floating ip in horizon should update this cache, or nova list/show should update it before displaying information.\n\nSpecifically to reproduce:\n1. Create an instance either via command line or horizon, verify with nova list:\n| 54c45d69-eacd-4add-a717-dc925d876053 | fiptest1                      | ACTIVE | -          | Running     | internal_network=10.10.10.112                 \n2. Associate a floating IP via horizon\n3. run 'nova list' or 'nova show' - the floating ip address will not be listed.\n4. 'nova floating-ip-list' will show the floating ip proving that 'nova list' is presenting out of date information\nnova list:\n| 54c45d69-eacd-4add-a717-dc925d876053 | fiptest1                      | ACTIVE | -          | Running     | internal_network=10.10.10.112                 || 129.156.230.17  | 54c45d69-eacd-4add-a717-dc925d876053 | 10.10.10.112 | external_network |\n\n5. 'nova refresh-network' will force the cache to be updated and nova list will only then show the correct information.\nnova refresh-network 54c45d69-eacd-4add-a717-dc925d876053\n| 54c45d69-eacd-4add-a717-dc925d876053 | fiptest1                      | ACTIVE | -          | Running     | internal_network=10.10.10.112, 129.156.230.17 |\n\nThis is an inconsistency between how floating ips are associated and also with the information nova itself knows about an instance (show versus  floating-ip-list reporting different things). I would expect nova list to show the floating-ip without the need for refresh-network or a reboot since nova floating-ip-list etc. can display the correct information.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1515727", 
    "owner": "None", 
    "id": 1515727, 
    "index": 5848, 
    "created": "2015-11-12 18:31:43.597359+00:00", 
    "title": "nova list/show does not show floatingip information updated from horizon", 
    "comments": [
        {
            "content": "\nUsing Solaris 11.3 with Juno (0.2014.2.2)\n\nWhen I associate a floating-ip address using Horizon, the ip does not appear in nova show or nova list until after I have issued a 'nova refresh-network' on the instance (or until I do a 'nova reboot').\n\nHowever 'nova floating-ip-list' does correctly show the floating ip as associated, as does horizon and 'neutron floatingip-list'\n\nIf I make the association using 'nova floating-ip-associate' no refresh-network is required. \n\n\nThe same issue arises with disassociating a floating-ip. \n\nThe issue appears to be that 'nova list/show' read from the nova.instance_info_caches table and when the floating ip is associated via horizon that cache is not updated.\n\nEither associating a floating ip in horizon should update this cache, or nova list/show should update it before displaying information.\n\nSpecifically to reproduce:\n1. Create an instance either via command line or horizon, verify with nova list:\n| 54c45d69-eacd-4add-a717-dc925d876053 | fiptest1                      | ACTIVE | -          | Running     | internal_network=10.10.10.112                 \n2. Associate a floating IP via horizon\n3. run 'nova list' or 'nova show' - the floating ip address will not be listed.\n4. 'nova floating-ip-list' will show the floating ip proving that 'nova list' is presenting out of date information\nnova list:\n| 54c45d69-eacd-4add-a717-dc925d876053 | fiptest1                      | ACTIVE | -          | Running     | internal_network=10.10.10.112                 || 129.156.230.17  | 54c45d69-eacd-4add-a717-dc925d876053 | 10.10.10.112 | external_network |\n\n5. 'nova refresh-network' will force the cache to be updated and nova list will only then show the correct information.\nnova refresh-network 54c45d69-eacd-4add-a717-dc925d876053\n| 54c45d69-eacd-4add-a717-dc925d876053 | fiptest1                      | ACTIVE | -          | Running     | internal_network=10.10.10.112, 129.156.230.17 |\n\nThis is an inconsistency between how floating ips are associated and also with the information nova itself knows about an instance (show versus  floating-ip-list reporting different things). I would expect nova list to show the floating-ip without the need for refresh-network or a reboot since nova floating-ip-list etc. can display the correct information.", 
            "date_created": "2015-11-12 18:31:43.597359+00:00", 
            "author": "https://api.launchpad.net/1.0/~albertw"
        }, 
        {
            "content": "Juno is EOL [1] so we aren't doing fixes for it anymore. I've cosed this as invalid, but if you still have this issue in a later, supported release, please feel free to reopen this issue and provide the updated version details of your environment in the description.\n\nReferences:\n--------------\n[1] http://docs.openstack.org/releases/", 
            "date_created": "2016-01-27 11:50:58.467205+00:00", 
            "author": "https://api.launchpad.net/1.0/~auggy"
        }
    ]
}