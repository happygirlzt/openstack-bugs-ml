{
    "status": "Invalid", 
    "last_updated": "2016-03-23 15:29:29.966006+00:00", 
    "description": "nova.conf:\n#force_raw_images = true\nuse_cow_images = True\n\nerror log:\n] u'qemu-img resize /var/lib/nova/instances/727fd979-d02e-4a9b-8b7c-9488ead6c18b/disk 42949672960' failed. Not Retrying. execute /usr/lib/python2.7/site-packages/oslo_concurrency/processutils.py:308\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [req-c7949bf1-d9a1-46bd-8dd6-5bc26c32585c 7f50e4ce47aa4d28b78b3b5937f3a382 65a1edd1dad24b15a4f27bb0d7dcb4d6 - - -] [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Setting instance vm_state to ERROR\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Traceback (most recent call last):\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3934, in finish_resize\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     disk_info, image)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3900, in _finish_resize\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     old_instance_type)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     six.reraise(self.type_, self.value, self.tb)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3895, in _finish_resize\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     block_device_info, power_on)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 6836, in finish_migration\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     self._disk_resize(image, size)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 6815, in _disk_resize\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     disk.extend(image, size)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/virt/disk/api.py\", line 190, in extend\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     utils.execute('qemu-img', 'resize', image.path, size)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/utils.py\", line 390, in execute\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     return processutils.execute(*cmd, **kwargs)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/oslo_concurrency/processutils.py\", line 275, in execute\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     cmd=sanitized_cmd)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] ProcessExecutionError: Unexpected error while running command.\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Command: qemu-img resize /var/lib/nova/instances/727fd979-d02e-4a9b-8b7c-9488ead6c18b/disk 42949672960\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Exit code: 1\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Stdout: u''\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Stderr: u\"qemu-img: Could not open '/var/lib/nova/instances/727fd979-d02e-4a9b-8b7c-9488ead6c18b/disk': Could not open backing file: Could not open '/var/lib/nova/instances/_base/ccd0236b989b621fbe6c0793e2c746a1c9633c4f': No such file or directory\\n\"", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1530294", 
    "owner": "None", 
    "id": 1530294, 
    "index": 5939, 
    "created": "2015-12-31 09:36:40.853724+00:00", 
    "title": "can't resize when use_cow_images is True", 
    "comments": [
        {
            "content": "nova.conf:\n#force_raw_images = true\nuse_cow_images = True\n\nerror log:\n] u'qemu-img resize /var/lib/nova/instances/727fd979-d02e-4a9b-8b7c-9488ead6c18b/disk 42949672960' failed. Not Retrying. execute /usr/lib/python2.7/site-packages/oslo_concurrency/processutils.py:308\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [req-c7949bf1-d9a1-46bd-8dd6-5bc26c32585c 7f50e4ce47aa4d28b78b3b5937f3a382 65a1edd1dad24b15a4f27bb0d7dcb4d6 - - -] [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Setting instance vm_state to ERROR\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Traceback (most recent call last):\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3934, in finish_resize\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     disk_info, image)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3900, in _finish_resize\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     old_instance_type)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     six.reraise(self.type_, self.value, self.tb)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3895, in _finish_resize\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     block_device_info, power_on)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 6836, in finish_migration\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     self._disk_resize(image, size)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 6815, in _disk_resize\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     disk.extend(image, size)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/virt/disk/api.py\", line 190, in extend\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     utils.execute('qemu-img', 'resize', image.path, size)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/nova/utils.py\", line 390, in execute\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     return processutils.execute(*cmd, **kwargs)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]   File \"/usr/lib/python2.7/site-packages/oslo_concurrency/processutils.py\", line 275, in execute\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b]     cmd=sanitized_cmd)\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] ProcessExecutionError: Unexpected error while running command.\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Command: qemu-img resize /var/lib/nova/instances/727fd979-d02e-4a9b-8b7c-9488ead6c18b/disk 42949672960\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Exit code: 1\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Stdout: u''\n2015-12-31 16:33:16.696 18243 ERROR nova.compute.manager [instance: 727fd979-d02e-4a9b-8b7c-9488ead6c18b] Stderr: u\"qemu-img: Could not open '/var/lib/nova/instances/727fd979-d02e-4a9b-8b7c-9488ead6c18b/disk': Could not open backing file: Could not open '/var/lib/nova/instances/_base/ccd0236b989b621fbe6c0793e2c746a1c9633c4f': No such file or directory\\n\"", 
            "date_created": "2015-12-31 09:36:40.853724+00:00", 
            "author": "https://api.launchpad.net/1.0/~mingb1989"
        }, 
        {
            "content": "Hi @kaka, can you please specify more details for reproducing the bug", 
            "date_created": "2016-01-05 06:36:14.462575+00:00", 
            "author": "https://api.launchpad.net/1.0/~guduru-sirisha"
        }, 
        {
            "content": "@kaka,\nI checked and resize works on my setup. Can you provide more details, as requested?", 
            "date_created": "2016-01-05 11:48:52.131497+00:00", 
            "author": "https://api.launchpad.net/1.0/~mszankin"
        }, 
        {
            "content": "We'd need log message from earlier in the resize process. The direct cause of the above error message is that the backing file doesn't exist. We'd need to look into how that came about. Perhaps it didn't migrate properly. Perhaps an image cache bug deleted it. Not enough information to proceed with this one.", 
            "date_created": "2016-01-13 14:27:51.786251+00:00", 
            "author": "https://api.launchpad.net/1.0/~mbooth-9"
        }, 
        {
            "content": "@kaka:\nAs stated in comments 1-3 we need more information to solve this.\nThis bug report has the status \"Incomplete\" since more than 30 days.\nTo keep the bug list sane, I close this bug with \"Invalid\".\nIf you have more information, please set the bug back to \"New\" and\nuse the report template found at [1].\n\nReferences:\n[1] https://wiki.openstack.org/wiki/Nova/BugsTeam/BugReportTemplate", 
            "date_created": "2016-03-23 15:29:28.640751+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ]
}