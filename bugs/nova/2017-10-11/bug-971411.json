{
    "status": "Invalid", 
    "last_updated": "2012-12-13 10:30:22.144325+00:00", 
    "description": "Taking an instance snapshot and uploading it via nova-compute to Glance is very slow.\n\nFirst, it's often CPU bound, probably limiting the network bandwidth that is used. But the main problem is that sometimes the upload just pauses for a while before being resumed. This can be easily seen using iptraf and top.\n\nI've run strace on nova-compute and this is the kind of thing I see:\n\nsendto()\nsendto()\nsendto()\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLOUT}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLOUT}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 write(16, \"\\0\\0\\0\\34 \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\7\\0\\0\\0\\0\\0\\0\\4#\\0\\0\\0\\0\", 28) = 28\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLIN}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLIN}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 read(16, \"\\0\\0\\r0\", 4)            = 4\n25468 gettid()                          = 25468\n25468 read(16, \" \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\7\\0\\0\\0\\1\\0\\0\\4#\\0\\0\\0\\0\\0\\0\\r\\r<cap\"..., 3372) = 3372\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLOUT}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLOUT}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 write(16, \"\\0\\0\\0\\34 \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\7\\0\\0\\0\\0\\0\\0\\4$\\0\\0\\0\\0\", 28) = 28\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLIN}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLIN}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 read(16, \"\\0\\0\\r0\", 4)            = 4\n25468 gettid()                          = 25468\n25468 read(16, \" \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\7\\0\\0\\0\\1\\0\\0\\4$\\0\\0\\0\\0\\0\\0\\r\\r<cap\"..., 3372) = 3372\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLOUT}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLOUT}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 write(16, \"\\0\\0\\0\\34 \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\4\\0\\0\\0\\0\\0\\0\\4%\\0\\0\\0\\0\", 28) = 28\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLIN}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLIN}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 read(16, \"\\0\\0\\0$\", 4)            = 4\n25468 gettid()                          = 25468\n25468 read(16, \" \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\4\\0\\0\\0\\1\\0\\0\\4%\\0\\0\\0\\0\\0\\0\\0\\0\\0\\17B@\", 32) = 32\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 stat(\"/var/log/nova/nova-compute.log\", {st_dev=makedev(254, 0), st_ino=15204777, st_mode=S_IFREG|0644, st_nlink=1\n, st_uid=107, st_gid=111, st_blksize=4096, st_blocks=3856, st_size=1968859, st_atime=2012/04/02-11:40:20, st_mtime=2012\n/04/02-11:51:35, st_ctime=2012/04/02-11:51:35}) = 0\n25468 stat(\"/var/log/nova/nova-compute.log\", {st_dev=makedev(254, 0), st_ino=15204777, st_mode=S_IFREG|0644, st_nlink=1\n, st_uid=107, st_gid=111, st_blksize=4096, st_blocks=3856, st_size=1968859, st_atime=2012/04/02-11:40:20, st_mtime=2012\n/04/02-11:51:35, st_ctime=2012/04/02-11:51:35}) = 0\n25468 stat(\"/etc/localtime\", {st_dev=makedev(254, 0), st_ino=82052241, st_mode=S_IFREG|0644, st_nlink=1, st_uid=0, st_g\nid=0, st_blksize=4096, st_blocks=8, st_size=2945, st_atime=2012/04/01-18:58:37, st_mtime=2012/02/15-17:25:18, st_ctime=\n2012/02/15-17:25:18}) = 0\n25468 write(3, \"2012-04-02 11:51:49 DEBUG nova.m\"..., 191) = 191\n25468 stat(\"/etc/localtime\", {st_dev=makedev(254, 0), st_ino=82052241, st_mode=S_IFREG|0644, st_nlink=1, st_uid=0, st_g\nid=0, st_blksize=4096, st_blocks=8, st_size=2945, st_atime=2012/04/01-18:58:37, st_mtime=2012/02/15-17:25:18, st_ctime=2012/02/15-17:25:18}) = 0\n25468 write(2, \"2012-04-02 11:51:49 DEBUG nova.m\"..., 191) = 191\n25468 read(5, \"\\326\\346s\\367\\2462\\6t\\264\\364\\2416\\202\\353w\\261\", 16) = 16\n25468 gettid()                          = 25468\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\375\\t\\0\\0\\3SELECT anon_1.services_crea\"..., 2561) = 2561\n25468 read(6, \"\\1\\0\\0\\1 Q\\0\\0\\2\\3def\\0\\6anon_1\\10services\\32a\"..., 16384) = 3446\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\t\\0\\0\\0\\3rollback\", 13) = 13\n25468 read(6, \"\\7\\0\\0\\1\\0\\0\\0\\0\\0\\0\\0\", 16384) = 11\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\375\\t\\0\\0\\3SELECT anon_1.services_crea\"..., 2561) = 2561\n25468 read(6, \"\\1\\0\\0\\1 Q\\0\\0\\2\\3def\\0\\6anon_1\\10services\\32a\"..., 16384) = 3446\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"`\\0\\0\\0\\3UPDATE services SET updated\"..., 100) = 100\n25468 read(6, \"0\\0\\0\\1\\0\\1\\0\\1\\0\\0\\0(Rows matched: 1  Cha\"..., 16384) = 52\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\7\\0\\0\\0\\3commit\", 11)  = 11\n25468 read(6, \"\\7\\0\\0\\1\\0\\0\\0\\0\\0\\0\\0\", 16384) = 11\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\t\\0\\0\\0\\3rollback\", 13) = 13\n25468 read(6, \"\\7\\0\\0\\1\\0\\0\\0\\0\\0\\0\\0\", 16384) = 11\n25468 epoll_wait(4, {{EPOLLOUT, {u32=20, u64=19811017689137172}}}, 1023, 9999) = 1\n25468 epoll_ctl(4, EPOLL_CTL_DEL, 20, {EPOLLRDNORM|EPOLLWRNORM|EPOLLHUP|0x43c020, {u32=0, u64=19811017689137152}}) = 0\n25468 sendto(20, \"\\255ux\\37#\\261\\26\\203\\\"&\\217\\307K\\337\\261\\223\\0331\\206\\226\\17\\255\\214(\\202\\366M\\366\\362\\2{\\324\"..., 141, 0, NULL, 0) = 141\n25468 sendto(20, \"51\\r\\n\\17\\rO\\360\\352\\313\\325\\206\\325\\203\\252\\36E\\241\\320XqK\\251\\252\\26\\351\\313\\263&\\317YA\"..., 87, 0, NULL, 0) = 87\n25468 sendto(20, \"462\\r\\n\\20q\\304\\303\\257\\352\\10?E\\230\\356\\251&\\210\\210\\311|4\\204\\216\\230\\262s\\337\\321\\317L\"..., 1129, 0, NULL, 0) = 1129\n25468 sendto(20, \"3d\\r\\nMiscellaneous files. These f\"..., 67, 0, NULL, 0) = 67\n25468 sendto(20, \"3a\\r\\n<email address hidden> and Br\"..., 64, 0, NULL, 0) = 64\n25468 sendto(20, \"1\\r\\n\\n\\r\\n\", 6, 0, NULL, 0) = 6\n25468 sendto(20, \"47\\r\\nThis package was first put t\"..., 77, 0, NULL, 0) = 77\n25468 sendto(20, \"16\\r\\nfrom his own sources.\\n\\r\\n\", 28, 0, NULL, 0) = 28\n25468 sendto(20, \"1\\r\\n\\n\\r\\n\", 6, 0, NULL, 0) = 6\n25468 sendto(20, \"46\\r\\nThe GNU Public Licenses in /\"..., 76, 0, NULL, 0) = 76\n25468 sendto(20, \"46\\r\\nftp.gnu.org and are copyrigh\"..., 76, 0, NULL, 0) = 76\n25468 sendto(20, \"1\\r\\n\\n\\r\\n\", 6, 0, NULL, 0) = 6\n\n\n\nI'm sorry for the low quality of this strace, but it's kind hard of caputing since using strace -o makes the behaviour somehow disapear because it slows the whole machine down anyway. But I think the idea to get is that there's thousands of sendto() calls and then it seems to go back to the main loop (epoll) for several seconds, and then resume the upload.\n\nI just don't know why. Any hint appreciated. :)", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/971411", 
    "owner": "None", 
    "id": 971411, 
    "index": 2743, 
    "created": "2012-04-02 10:08:26.243991+00:00", 
    "title": "Snapshot upload is very slow", 
    "comments": [
        {
            "content": "Taking an instance snapshot and uploading it via nova-compute to Glance is very slow.\n\nFirst, it's often CPU bound, probably limiting the network bandwidth that is used. But the main problem is that sometimes the upload just pauses for a while before being resumed. This can be easily seen using iptraf and top.\n\nI've run strace on nova-compute and this is the kind of thing I see:\n\nsendto()\nsendto()\nsendto()\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLOUT}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLOUT}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 write(16, \"\\0\\0\\0\\34 \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\7\\0\\0\\0\\0\\0\\0\\4#\\0\\0\\0\\0\", 28) = 28\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLIN}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLIN}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 read(16, \"\\0\\0\\r0\", 4)            = 4\n25468 gettid()                          = 25468\n25468 read(16, \" \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\7\\0\\0\\0\\1\\0\\0\\4#\\0\\0\\0\\0\\0\\0\\r\\r<cap\"..., 3372) = 3372\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLOUT}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLOUT}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 write(16, \"\\0\\0\\0\\34 \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\7\\0\\0\\0\\0\\0\\0\\4$\\0\\0\\0\\0\", 28) = 28\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLIN}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLIN}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 read(16, \"\\0\\0\\r0\", 4)            = 4\n25468 gettid()                          = 25468\n25468 read(16, \" \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\7\\0\\0\\0\\1\\0\\0\\4$\\0\\0\\0\\0\\0\\0\\r\\r<cap\"..., 3372) = 3372\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLOUT}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLOUT}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 write(16, \"\\0\\0\\0\\34 \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\4\\0\\0\\0\\0\\0\\0\\4%\\0\\0\\0\\0\", 28) = 28\n25468 rt_sigprocmask(SIG_BLOCK, [PIPE CHLD WINCH], [], 8) = 0\n25468 poll([{fd=16, events=POLLIN}, {fd=17, events=POLLIN}], 2, -1) = 1 ([{fd=16, revents=POLLIN}])\n25468 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n25468 read(16, \"\\0\\0\\0$\", 4)            = 4\n25468 gettid()                          = 25468\n25468 read(16, \" \\0\\200\\206\\0\\0\\0\\1\\0\\0\\0\\4\\0\\0\\0\\1\\0\\0\\4%\\0\\0\\0\\0\\0\\0\\0\\0\\0\\17B@\", 32) = 32\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 gettid()                          = 25468\n25468 stat(\"/var/log/nova/nova-compute.log\", {st_dev=makedev(254, 0), st_ino=15204777, st_mode=S_IFREG|0644, st_nlink=1\n, st_uid=107, st_gid=111, st_blksize=4096, st_blocks=3856, st_size=1968859, st_atime=2012/04/02-11:40:20, st_mtime=2012\n/04/02-11:51:35, st_ctime=2012/04/02-11:51:35}) = 0\n25468 stat(\"/var/log/nova/nova-compute.log\", {st_dev=makedev(254, 0), st_ino=15204777, st_mode=S_IFREG|0644, st_nlink=1\n, st_uid=107, st_gid=111, st_blksize=4096, st_blocks=3856, st_size=1968859, st_atime=2012/04/02-11:40:20, st_mtime=2012\n/04/02-11:51:35, st_ctime=2012/04/02-11:51:35}) = 0\n25468 stat(\"/etc/localtime\", {st_dev=makedev(254, 0), st_ino=82052241, st_mode=S_IFREG|0644, st_nlink=1, st_uid=0, st_g\nid=0, st_blksize=4096, st_blocks=8, st_size=2945, st_atime=2012/04/01-18:58:37, st_mtime=2012/02/15-17:25:18, st_ctime=\n2012/02/15-17:25:18}) = 0\n25468 write(3, \"2012-04-02 11:51:49 DEBUG nova.m\"..., 191) = 191\n25468 stat(\"/etc/localtime\", {st_dev=makedev(254, 0), st_ino=82052241, st_mode=S_IFREG|0644, st_nlink=1, st_uid=0, st_g\nid=0, st_blksize=4096, st_blocks=8, st_size=2945, st_atime=2012/04/01-18:58:37, st_mtime=2012/02/15-17:25:18, st_ctime=2012/02/15-17:25:18}) = 0\n25468 write(2, \"2012-04-02 11:51:49 DEBUG nova.m\"..., 191) = 191\n25468 read(5, \"\\326\\346s\\367\\2462\\6t\\264\\364\\2416\\202\\353w\\261\", 16) = 16\n25468 gettid()                          = 25468\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\375\\t\\0\\0\\3SELECT anon_1.services_crea\"..., 2561) = 2561\n25468 read(6, \"\\1\\0\\0\\1 Q\\0\\0\\2\\3def\\0\\6anon_1\\10services\\32a\"..., 16384) = 3446\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\t\\0\\0\\0\\3rollback\", 13) = 13\n25468 read(6, \"\\7\\0\\0\\1\\0\\0\\0\\0\\0\\0\\0\", 16384) = 11\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\375\\t\\0\\0\\3SELECT anon_1.services_crea\"..., 2561) = 2561\n25468 read(6, \"\\1\\0\\0\\1 Q\\0\\0\\2\\3def\\0\\6anon_1\\10services\\32a\"..., 16384) = 3446\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"`\\0\\0\\0\\3UPDATE services SET updated\"..., 100) = 100\n25468 read(6, \"0\\0\\0\\1\\0\\1\\0\\1\\0\\0\\0(Rows matched: 1  Cha\"..., 16384) = 52\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\7\\0\\0\\0\\3commit\", 11)  = 11\n25468 read(6, \"\\7\\0\\0\\1\\0\\0\\0\\0\\0\\0\\0\", 16384) = 11\n25468 poll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\n25468 write(6, \"\\t\\0\\0\\0\\3rollback\", 13) = 13\n25468 read(6, \"\\7\\0\\0\\1\\0\\0\\0\\0\\0\\0\\0\", 16384) = 11\n25468 epoll_wait(4, {{EPOLLOUT, {u32=20, u64=19811017689137172}}}, 1023, 9999) = 1\n25468 epoll_ctl(4, EPOLL_CTL_DEL, 20, {EPOLLRDNORM|EPOLLWRNORM|EPOLLHUP|0x43c020, {u32=0, u64=19811017689137152}}) = 0\n25468 sendto(20, \"\\255ux\\37#\\261\\26\\203\\\"&\\217\\307K\\337\\261\\223\\0331\\206\\226\\17\\255\\214(\\202\\366M\\366\\362\\2{\\324\"..., 141, 0, NULL, 0) = 141\n25468 sendto(20, \"51\\r\\n\\17\\rO\\360\\352\\313\\325\\206\\325\\203\\252\\36E\\241\\320XqK\\251\\252\\26\\351\\313\\263&\\317YA\"..., 87, 0, NULL, 0) = 87\n25468 sendto(20, \"462\\r\\n\\20q\\304\\303\\257\\352\\10?E\\230\\356\\251&\\210\\210\\311|4\\204\\216\\230\\262s\\337\\321\\317L\"..., 1129, 0, NULL, 0) = 1129\n25468 sendto(20, \"3d\\r\\nMiscellaneous files. These f\"..., 67, 0, NULL, 0) = 67\n25468 sendto(20, \"3a\\r\\n<email address hidden> and Br\"..., 64, 0, NULL, 0) = 64\n25468 sendto(20, \"1\\r\\n\\n\\r\\n\", 6, 0, NULL, 0) = 6\n25468 sendto(20, \"47\\r\\nThis package was first put t\"..., 77, 0, NULL, 0) = 77\n25468 sendto(20, \"16\\r\\nfrom his own sources.\\n\\r\\n\", 28, 0, NULL, 0) = 28\n25468 sendto(20, \"1\\r\\n\\n\\r\\n\", 6, 0, NULL, 0) = 6\n25468 sendto(20, \"46\\r\\nThe GNU Public Licenses in /\"..., 76, 0, NULL, 0) = 76\n25468 sendto(20, \"46\\r\\nftp.gnu.org and are copyrigh\"..., 76, 0, NULL, 0) = 76\n25468 sendto(20, \"1\\r\\n\\n\\r\\n\", 6, 0, NULL, 0) = 6\n\n\n\nI'm sorry for the low quality of this strace, but it's kind hard of caputing since using strace -o makes the behaviour somehow disapear because it slows the whole machine down anyway. But I think the idea to get is that there's thousands of sendto() calls and then it seems to go back to the main loop (epoll) for several seconds, and then resume the upload.\n\nI just don't know why. Any hint appreciated. :)", 
            "date_created": "2012-04-02 10:08:26.243991+00:00", 
            "author": "https://api.launchpad.net/1.0/~jdanjou"
        }, 
        {
            "content": "A pause of several seconds does sound strange - perhaps some eventlet/greenlet scheduling issue on either side?\n\nReally hard to tell without debugging in detail and trying this with a simple devstack setup, this finishes really quickly\n\nCould you give more details on your setup? The versions of Nova, Glance, etc. you're using, any configuration changes you've made, network topology, etc.", 
            "date_created": "2012-08-22 06:41:21.083672+00:00", 
            "author": "https://api.launchpad.net/1.0/~markmc"
        }, 
        {
            "content": "bug #1043148 may have a similar root cause", 
            "date_created": "2012-08-29 11:30:45.241486+00:00", 
            "author": "https://api.launchpad.net/1.0/~markmc"
        }, 
        {
            "content": "We cannot solve the issue you reported without more information. Could you please provide the requested information ?\n", 
            "date_created": "2012-09-18 02:21:26.705217+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "Unfortunately I don't have access to this platform anymore and therefore cannot help you with this issue anymore. :(", 
            "date_created": "2012-09-18 08:16:09.455306+00:00", 
            "author": "https://api.launchpad.net/1.0/~jdanjou"
        }, 
        {
            "content": "Can't really make progress on this one without more information. Feel free to reopen the bug if you can reproduce it again set the bug status back to ''New''.", 
            "date_created": "2012-12-13 10:30:19.207863+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }
    ]
}