{
    "status": "Fix Released", 
    "last_updated": "2013-10-17 12:37:33.892021+00:00", 
    "description": "The listeners kwarg has been deprecated in SQLAlchemy 0.7. The replacement is the new event.listen() API.", 
    "tags": [
        "low-hanging-fruit"
    ], 
    "importance": "Undecided", 
    "heat": 16, 
    "link": "https://bugs.launchpad.net/nova/+bug/1031405", 
    "owner": "https://api.launchpad.net/1.0/~johannes.erdfelt", 
    "id": 1031405, 
    "index": 2997, 
    "created": "2012-07-31 15:40:32.050393+00:00", 
    "title": "SADeprecationWarning: Pool.add_listener is deprecated.  Use event.listen()", 
    "comments": [
        {
            "content": "The listeners kwarg has been deprecated in SQLAlchemy 0.7. The replacement is the new event.listen() API.", 
            "date_created": "2012-07-31 15:40:32.050393+00:00", 
            "author": "https://api.launchpad.net/1.0/~johannes.erdfelt"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/10606", 
            "date_created": "2012-07-31 15:41:36.442028+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/10606\nCommitted: http://github.com/openstack/nova/commit/28a7ac658959a8dcc8ba0b7d316fe598e7992c8b\nSubmitter: Jenkins\nBranch:    master\n\ncommit 28a7ac658959a8dcc8ba0b7d316fe598e7992c8b\nAuthor: Johannes Erdfelt <email address hidden>\nDate:   Tue Jul 31 15:32:08 2012 +0000\n\n    Use event.listen() instead of deprecated listeners kwarg\n    \n    Fixes bug 1031405\n    \n    The listeners kwarg is deprecated in SQLAlchemy 0.7.0. Since 0.7.3 is\n    the minimum required version of SQLAlchemy, use the new event.listen()\n    API instead.\n    \n    Change-Id: I3d2bd2e65dbc6787d1c9b69ffd0bcff85c157869\n", 
            "date_created": "2012-07-31 17:28:56.898698+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/10665", 
            "date_created": "2012-08-01 17:06:09.845997+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/10665\nCommitted: http://github.com/openstack/glance/commit/6cc23005d042901e01bfee4deeb6367879012d22\nSubmitter: Jenkins\nBranch:    master\n\ncommit 6cc23005d042901e01bfee4deeb6367879012d22\nAuthor: Josh Kearney <email address hidden>\nDate:   Wed Aug 1 12:05:42 2012 -0500\n\n    Use event.listen() instead of deprecated listeners kwarg.\n    \n    The listeners kwarg is deprecated in SQLAlchemy 0.7.0. Since 0.7.3 is\n    the minimum required version of SQLAlchemy, use the new event.listen()\n    API instead.\n    \n    Fixes bug 1031405.\n    \n    Change-Id: Ibbfe46d065575b1954a47b3a28c61151dfb1e06e\n", 
            "date_created": "2012-08-02 05:36:22.761157+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/10746", 
            "date_created": "2012-08-02 22:02:16.417810+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/essex\nReview: https://review.openstack.org/10862", 
            "date_created": "2012-08-06 05:06:30.337633+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Not backporting to glance 2012.1.2 since this is only a deprecation warning.", 
            "date_created": "2012-08-08 01:05:58.697573+00:00", 
            "author": "https://api.launchpad.net/1.0/~bcwaldon"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/11644", 
            "date_created": "2012-08-20 11:48:12.222074+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/11644\nCommitted: http://github.com/openstack/cinder/commit/5da61a7ad9d7c3320831c437c03c428b9df84ebb\nSubmitter: Jenkins\nBranch:    master\n\ncommit 5da61a7ad9d7c3320831c437c03c428b9df84ebb\nAuthor: unicell <email address hidden>\nDate:   Mon Aug 20 19:34:19 2012 +0800\n\n    Use event.listen() instead of deprecated listeners kwarg\n    \n    Fixes bug 1031405\n    \n    The listeners kwarg is deprecated in SQLAlchemy 0.7.0. Since 0.7.3 is\n    the minimum required version of SQLAlchemy, use the new event.listen()\n    API instead.\n    \n    Change-Id: I1b851e197c04b131ae96e814780b04e6dcdeeb1a\n", 
            "date_created": "2012-08-31 16:41:31.344847+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Patch to keystone was abandoned.", 
            "date_created": "2013-06-04 15:03:10.249955+00:00", 
            "author": "https://api.launchpad.net/1.0/~dolph"
        }, 
        {
            "content": "I would like to get started on addressing this issue in keystone, but I'm not quite sure where to begin.", 
            "date_created": "2013-06-18 20:11:38.789971+00:00", 
            "author": "https://api.launchpad.net/1.0/~thedodd"
        }, 
        {
            "content": "You would do pretty much the same thing all of the other projects have done. You can use this patch for nova as an example:\n\nhttps://review.openstack.org/10606", 
            "date_created": "2013-06-18 21:02:20.048636+00:00", 
            "author": "https://api.launchpad.net/1.0/~johannes.erdfelt"
        }, 
        {
            "content": "In keystone, the listeners kwarg is constructed here:\n\nhttps://github.com/openstack/keystone/blob/cdc0ee1f85aa762f7d34297a034a10519ba9f40f/keystone/common/sql/core.py#L243", 
            "date_created": "2013-06-19 14:31:56.066814+00:00", 
            "author": "https://api.launchpad.net/1.0/~dolph"
        }, 
        {
            "content": "Great, thanks gentlemen. I will do the necessary research and, hopefully,  have a fixed bug shortly!", 
            "date_created": "2013-06-19 21:10:38.639379+00:00", 
            "author": "https://api.launchpad.net/1.0/~thedodd"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/34266", 
            "date_created": "2013-06-24 21:32:26.993945+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/34266\nCommitted: http://github.com/openstack/keystone/commit/05e7a87b893aae0cb22ef85e282ada4979f9db9e\nSubmitter: Jenkins\nBranch:    master\n\ncommit 05e7a87b893aae0cb22ef85e282ada4979f9db9e\nAuthor: Anthony Dodd <email address hidden>\nDate:   Mon Jun 24 16:23:00 2013 -0500\n\n    Use event.listen() instead of deprecated listeners kwarg\n    \n    The listeners kwarg is deprecated in SQLAlchemy 0.7.0.\n    Use the new event.listen() method instead.\n    \n    Instead of using the original approach of testing whether or not the string\n    'mysql' is in 'connection_dict.drivername', now we are using a more direct\n    string equality test to ensure that engine.name == 'mysql' before passing\n    it to sql.event.listen().\n    \n    We've decided to change the name of our ping_listener function to reflect its\n    purpose more accurately. Its name has been changed from \"ping_listener\" to\n    \"mysql_on_checkout\".\n    \n    Change-Id: Ib9ef52404e3d474a60cdc82e8fcf8c6a9616bce3\n    Fixes: bug #1031405\n", 
            "date_created": "2013-07-03 15:57:20.574626+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}