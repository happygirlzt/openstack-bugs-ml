{
    "status": "Invalid", 
    "last_updated": "2012-11-02 17:59:21.448617+00:00", 
    "description": "Exceptions/tracebacks are exposed to admin on running many of the nova-manage commands without arguments. Eg:\nnova-manage network create(or delete) \nnova-manage image image_register (or kernel/ramdisk_register)\n\nwithout arguments\nThey need to be hidden and correct Usage be displayed.\n\nrohit@ubuntu-openstack-network-server-01:~/nova/bin$ sudo ./nova-manage network create\nCommand failed, please check log for more info\n2011-09-06 08:56:13,199 CRITICAL nova [-] --label is required to create a network.\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"./nova-manage\", line 1566, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"./nova-manage\", line 1554, in main\n(nova): TRACE:     fn(*fn_args, **fn_kwargs)\n(nova): TRACE:   File \"./nova-manage\", line 693, in create\n(nova): TRACE:     raise exception.Network\n\nOther examples: - (nova): TRACE: TypeError: kernel_register() takes at least 3 arguments (1 given)\n(nova): TRACE:\nex:- (nova): TRACE: TypeError: delete() takes exactly 2 arguments (1 given)\n(nova): TRACE:", 
    "tags": [], 
    "importance": "Wishlist", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/842909", 
    "owner": "None", 
    "id": 842909, 
    "index": 1114, 
    "created": "2011-09-06 16:20:58.716106+00:00", 
    "title": "nova-manage OptionParser does not hide all exceptions", 
    "comments": [
        {
            "content": "Exceptions/tracebacks are exposed to admin on running many of the nova-manage commands without arguments. Eg:\nnova-manage network create(or delete) \nnova-manage image image_register (or kernel/ramdisk_register)\n\nwithout arguments\nThey need to be hidden and correct Usage be displayed.\n\nrohit@ubuntu-openstack-network-server-01:~/nova/bin$ sudo ./nova-manage network create\nCommand failed, please check log for more info\n2011-09-06 08:56:13,199 CRITICAL nova [-] --label is required to create a network.\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"./nova-manage\", line 1566, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"./nova-manage\", line 1554, in main\n(nova): TRACE:     fn(*fn_args, **fn_kwargs)\n(nova): TRACE:   File \"./nova-manage\", line 693, in create\n(nova): TRACE:     raise exception.Network\n\nOther examples: - (nova): TRACE: TypeError: kernel_register() takes at least 3 arguments (1 given)\n(nova): TRACE:\nex:- (nova): TRACE: TypeError: delete() takes exactly 2 arguments (1 given)\n(nova): TRACE:", 
            "date_created": "2011-09-06 16:20:58.716106+00:00", 
            "author": "https://api.launchpad.net/1.0/~rohitk"
        }, 
        {
            "content": "Here's what we are doing now, we do display the usage.\n\n\ndims@dims-laptop:~/openstack/nova/bin$ nova-manage network create\nPossible wrong number of arguments supplied\nCreates fixed ips for host by range\nUsage: nova-manage network create <args> [options]\n\nOptions:\n  -h, --help            show this help message and exit\n  --label=<label>       Label for network (ex: public)\n  --fixed_range_v4=<x.x.x.x/yy>\n                        IPv4 subnet (ex: 10.0.0.0/8)\n  --num_networks=<number>\n                        Number of networks to create\n  --network_size=<number>\n                        Number of IPs per network\n  --vlan=<vlan id>      vlan id\n  --vpn=VPN_START       vpn start\n  --fixed_range_v6=CIDR_V6\n                        IPv6 subnet (ex: fe80::/64\n  --gateway=GATEWAY     gateway\n  --gateway_v6=GATEWAY_V6\n                        ipv6 gateway\n  --bridge=<bridge>     VIFs on this network are connected to this bridge\n  --bridge_interface=<bridge interface>\n                        the bridge is connected to this interface\n  --multi_host=<'T'|'F'>\n                        Multi host\n  --dns1=<DNS Address>  First DNS\n  --dns2=<DNS Address>  Second DNS\n  --uuid=<network uuid>\n                        Network UUID\n  --fixed_cidr=<x.x.x.x/yy>\n                        IPv4 subnet for fixed IPS (ex: 10.20.0.0/16)\n  --project_id=<project id>\n                        Project id\n  --priority=<number>   Network interface priority\n2012-11-02 13:57:34 CRITICAL nova [-] create_networks() takes at least 3 arguments (2 given)\n2012-11-02 13:57:34 TRACE nova Traceback (most recent call last):\n2012-11-02 13:57:34 TRACE nova   File \"/usr/local/bin/nova-manage\", line 7, in <module>\n2012-11-02 13:57:34 TRACE nova     execfile(__file__)\n2012-11-02 13:57:34 TRACE nova   File \"/opt/stack/nova/bin/nova-manage\", line 1343, in <module>\n2012-11-02 13:57:34 TRACE nova     main()\n2012-11-02 13:57:34 TRACE nova   File \"/opt/stack/nova/bin/nova-manage\", line 1330, in main\n2012-11-02 13:57:34 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-11-02 13:57:34 TRACE nova   File \"/opt/stack/nova/bin/nova-manage\", line 478, in create\n2012-11-02 13:57:34 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-11-02 13:57:34 TRACE nova TypeError: create_networks() takes at least 3 arguments (2 given)\n2012-11-02 13:57:34 TRACE nova \n", 
            "date_created": "2012-11-02 17:59:08.714627+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }
    ]
}