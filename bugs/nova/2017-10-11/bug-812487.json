{
    "status": "Fix Released", 
    "last_updated": "2011-09-22 13:23:57.706202+00:00", 
    "description": "With a single fixed ip allocated (192.168.0.11), I get the following output from 'nova-manage fixed list':\n\nroot@nova1:~# nova-manage fixed list\nnetwork           \tIP address     \tMAC address      \thostname       \thost\n192.168.0.0/25    \t192.168.0.0    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.1    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.2    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.3    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.4    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.5    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.6    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.7    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.8    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.9    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.10   \tNone             \tNone           \tNone\nCommand failed, please check log for more info\n\n\nHere is the output from the log:\n\nroot@nova1:~# tailf /var/log/nova/nova-manage.log \n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 1309, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 1298, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 521, in list\n(nova): TRACE:     mac_address = fixed_ip['mac_address']['address']\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/models.py\", line 74, in __getitem__\n(nova): TRACE:     return getattr(self, key)\n(nova): TRACE: AttributeError: 'FixedIp' object has no attribute 'mac_address'", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/812487", 
    "owner": "https://api.launchpad.net/1.0/~bcwaldon", 
    "id": 812487, 
    "index": 2464, 
    "created": "2011-07-18 19:06:23.391436+00:00", 
    "title": "'nova-manage fixed list' fails if address is allocated", 
    "comments": [
        {
            "content": "With a single fixed ip allocated (192.168.0.11), I get the following output from 'nova-manage fixed list':\n\nroot@nova1:~# nova-manage fixed list\nnetwork           \tIP address     \tMAC address      \thostname       \thost\n192.168.0.0/25    \t192.168.0.0    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.1    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.2    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.3    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.4    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.5    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.6    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.7    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.8    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.9    \tNone             \tNone           \tNone\n192.168.0.0/25    \t192.168.0.10   \tNone             \tNone           \tNone\nCommand failed, please check log for more info\n\n\nHere is the output from the log:\n\nroot@nova1:~# tailf /var/log/nova/nova-manage.log \n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 1309, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 1298, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 521, in list\n(nova): TRACE:     mac_address = fixed_ip['mac_address']['address']\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/models.py\", line 74, in __getitem__\n(nova): TRACE:     return getattr(self, key)\n(nova): TRACE: AttributeError: 'FixedIp' object has no attribute 'mac_address'", 
            "date_created": "2011-07-18 19:06:23.391436+00:00", 
            "author": "https://api.launchpad.net/1.0/~bcwaldon"
        }, 
        {
            "content": "I have same problem.\n\nin addition that there is other problem in nova-api\nwhen i run instance, i can't get metadata from nova-api server\nbut it works well before.\ni'm using FlatDHCPManager, network is 10.10.1.0/24\n\n------------< nova-api.log >---------------------\n2011-07-19 11:03:04,944 INFO nova.api [-] 0.22962s 192.168.100.72 GET /2009-04-04/meta-data/instance-id None:None 500 [Python-urllib/2.6] text/plain text/plain\n2011-07-19 11:03:19,991 ERROR nova.api.ec2.metadata [-] Failed to get metadata for ip: 192.168.100.72\n(nova.api.ec2.metadata): TRACE: Traceback (most recent call last):\n(nova.api.ec2.metadata): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/ec2/metadatarequesthandler.py\", line 78, in __call__\n(nova.api.ec2.metadata): TRACE:     meta_data = self.cc.get_metadata(remote_address)\n(nova.api.ec2.metadata): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/ec2/cloud.py\", line 238, in get_metadata\n(nova.api.ec2.metadata): TRACE:     instance_ref = self.compute_api.get_all(ctxt, fixed_ip=address)\n(nova.api.ec2.metadata): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/api.py\", line 685, in get_all\n(nova.api.ec2.metadata): TRACE:     instances = self.db.fixed_ip_get_instance(context, fixed_ip)\n(nova.api.ec2.metadata): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/api.py\", line 386, in fixed_ip_get_instance\n(nova.api.ec2.metadata): TRACE:     return IMPL.fixed_ip_get_instance(context, address)\n(nova.api.ec2.metadata): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 117, in wrapper\n(nova.api.ec2.metadata): TRACE:     return f(*args, **kwargs)\n(nova.api.ec2.metadata): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 817, in fixed_ip_get_instance\n(nova.api.ec2.metadata): TRACE:     fixed_ip_ref = fixed_ip_get_by_address(context, address)\n(nova.api.ec2.metadata): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 117, in wrapper\n(nova.api.ec2.metadata): TRACE:     return f(*args, **kwargs)\n(nova.api.ec2.metadata): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 781, in fixed_ip_get_by_address\n(nova.api.ec2.metadata): TRACE:     raise exception.FixedIpNotFoundForAddress(address=address)\n(nova.api.ec2.metadata): TRACE: FixedIpNotFoundForAddress: Fixed ip not found for address 192.168.100.72.\n(nova.api.ec2.metadata): TRACE:\n----------------< nova-api.log >----------------\n\n\nand, the interface(eth1) added in bridge(br100) interface doesn't up automatically\nso, i have to up it manually\nfor, example \"ifconfig eth1 up\"\n\n\n", 
            "date_created": "2011-07-19 02:36:10.225774+00:00", 
            "author": "https://api.launchpad.net/1.0/~nosookja"
        }
    ]
}