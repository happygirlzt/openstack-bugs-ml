{
    "status": "Expired", 
    "last_updated": "2015-12-12 04:17:25.245000+00:00", 
    "description": "I installed Kilo following the instructions on http://docs.openstack.org/kilo/install-guide/install/apt/content/\nIt failed to spawn an instance with qemu.\n\nThe nova.conf on compute node was as following:\n\nroot@cmp1:~# cat /etc/nova/nova.conf \n[DEFAULT]\ndhcpbridge_flagfile=/etc/nova/nova.conf\ndhcpbridge=/usr/bin/nova-dhcpbridge\nlog_dir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\nforce_dhcp_release=True\nlibvirt_use_virtio_for_bridges=True\nverbose=True\nec2_private_dns_show_ip=True\napi_paste_config=/etc/nova/api-paste.ini\nenabled_apis=ec2,osapi_compute,metadata\n\nrpc_backend=rabbit\n\nauth_strategy = keystone\n\nmy_ip = 192.168.201.102\nvnc_enabled = True\nvncserver_listen = 0.0.0.0\nvncserver_proxyclient_address = 192.168.201.102\nnovncproxy_base_url = http://ctl:6080/vnc_auto.html\n\nnetwork_api_class = nova.network.neutronv2.api.API\nsecurity_group_api = neutron\nlinuxnet_interface_driver = nova.network.linux_net.LinuxOVSInterfaceDriver\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\n\ncompute_driver = libvirt.LibvirtDriver\n\n[glance]\nhost = ctl\n\n[oslo_concurrency]\nlock_path = /var/lib/nova/tmp\n\n[keystone_authtoken]\nauth_uri = http://ctl:5000\nauth_url = http://ctl:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = 1\n\n\n[oslo_messaging_rabbit]\nrabbit_host = ctl\nrabbit_userid = openstack\nrabbit_password = 1\n\n[libvirt]\nvirt_type = qemu\n\n\n[neutron]\nurl = http://ctl:9696\nauth_strategy = keystone\nadmin_auth_url = http://ctl:35357/v2.0\nadmin_tenant_name = service\nadmin_username = neutron\nadmin_password = 1\n\n\n\nThe error logs were as following:\n\n2015-10-11 20:58:13.239 31702 ERROR nova.virt.libvirt.driver [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] Error defining a domain with XML: <domain type=\"kvm\">\n  <uuid>f530cc86-ee2e-4ef4-8655-83f60bfed7fa</uuid>\n  <name>instance-00000006</name>\n  <memory>65536</memory>\n  <vcpu>1</vcpu>\n  <metadata>\n    <nova:instance xmlns:nova=\"http://openstack.org/xmlns/libvirt/nova/1.0\">\n      <nova:package version=\"2015.1.1\"/>\n      <nova:name>an-instance</nova:name>\n      <nova:creationTime>2015-10-11 12:58:12</nova:creationTime>\n      <nova:flavor name=\"m1.nano\">\n        <nova:memory>64</nova:memory>\n        <nova:disk>0</nova:disk>\n        <nova:swap>0</nova:swap>\n        <nova:ephemeral>0</nova:ephemeral>\n        <nova:vcpus>1</nova:vcpus>\n      </nova:flavor>\n      <nova:owner>\n        <nova:user uuid=\"311571301159432787db5e3ed1078ee8\">administrator</nova:user>\n        <nova:project uuid=\"8fab0e9be9164f69a2d14ac383175cdc\">training</nova:project>\n      </nova:owner>\n      <nova:root type=\"image\" uuid=\"13fcaaf8-b92c-4c6b-b5f3-700e9a65347d\"/>\n    </nova:instance>\n  </metadata>\n  <sysinfo type=\"smbios\">\n    <system>\n      <entry name=\"manufacturer\">OpenStack Foundation</entry>\n      <entry name=\"product\">OpenStack Nova</entry>\n      <entry name=\"version\">2015.1.1</entry>\n      <entry name=\"serial\">564db6eb-b1e8-9c2d-85a4-f5fdc0775533</entry>\n      <entry name=\"uuid\">f530cc86-ee2e-4ef4-8655-83f60bfed7fa</entry>\n    </system>\n  </sysinfo>\n  <os>\n    <type>hvm</type>\n    <boot dev=\"hd\"/>\n    <smbios mode=\"sysinfo\"/>\n  </os>\n  <features>\n    <acpi/>\n    <apic/>\n  </features>\n  <cputune>\n    <shares>1024</shares>\n  </cputune>\n  <clock offset=\"utc\">\n    <timer name=\"pit\" tickpolicy=\"delay\"/>\n    <timer name=\"rtc\" tickpolicy=\"catchup\"/>\n    <timer name=\"hpet\" present=\"no\"/>\n  </clock>\n  <cpu mode=\"host-model\" match=\"exact\">\n    <topology sockets=\"1\" cores=\"1\" threads=\"1\"/>\n  </cpu>\n  <devices>\n    <disk type=\"file\" device=\"disk\">\n      <driver name=\"qemu\" type=\"qcow2\" cache=\"none\"/>\n      <source file=\"/var/lib/nova/instances/f530cc86-ee2e-4ef4-8655-83f60bfed7fa/disk\"/>\n      <target bus=\"virtio\" dev=\"vda\"/>\n    </disk>\n    <interface type=\"bridge\">\n      <mac address=\"fa:16:3e:22:e7:7d\"/>\n      <model type=\"virtio\"/>\n      <source bridge=\"qbr993fb72d-7a\"/>\n      <target dev=\"tap993fb72d-7a\"/>\n    </interface>\n    <serial type=\"file\">\n      <source path=\"/var/lib/nova/instances/f530cc86-ee2e-4ef4-8655-83f60bfed7fa/console.log\"/>\n    </serial>\n    <serial type=\"pty\"/>\n    <input type=\"tablet\" bus=\"usb\"/>\n    <graphics type=\"vnc\" autoport=\"yes\" keymap=\"en-us\" listen=\"0.0.0.0\"/>\n    <video>\n      <model type=\"cirrus\"/>\n    </video>\n    <memballoon model=\"virtio\">\n      <stats period=\"10\"/>\n    </memballoon>\n  </devices>\n</domain>\n\n2015-10-11 20:58:13.240 31702 ERROR nova.compute.manager [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Instance failed to spawn\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Traceback (most recent call last):\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2461, in _build_resources\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     yield resources\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2333, in _build_and_run_instance\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     block_device_info=block_device_info)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 2385, in spawn\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     block_device_info=block_device_info)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 4403, in _create_domain_and_network\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     power_on=power_on)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 4334, in _create_domain\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     LOG.error(err)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 85, in __exit__\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     six.reraise(self.type_, self.value, self.tb)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 4318, in _create_domain\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     domain = self._conn.defineXML(xml)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, in doit\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, in proxy_call\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     rv = execute(f, *args, **kwargs)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, in execute\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     six.reraise(c, e, tb)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in tworker\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     rv = meth(*args, **kwargs)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/libvirt.py\", line 3240, in defineXML\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     if ret is None:raise libvirtError('virDomainDefineXML() failed', conn=self)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] libvirtError: internal error: no supported architecture for os type 'hvm'\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] \n2015-10-11 20:58:13.243 31702 INFO nova.compute.manager [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Terminating instance\n2015-10-11 20:58:13.245 31702 INFO nova.virt.libvirt.driver [-] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] During wait destroy, instance disappeared.\n2015-10-11 20:58:13.566 31702 INFO nova.virt.libvirt.driver [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Deleting instance files /var/lib/nova/instances/f530cc86-ee2e-4ef4-8655-83f60bfed7fa_del\n2015-10-11 20:58:13.567 31702 INFO nova.virt.libvirt.driver [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Deletion of /var/lib/nova/instances/f530cc86-ee2e-4ef4-8655-83f60bfed7fa_del complete\n2015-10-11 20:58:13.658 31702 INFO nova.scheduler.client.report [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] Compute_service record updated for ('cmp1', 'cmp1.ops')\n2015-10-11 20:58:22.524 31702 INFO nova.compute.resource_tracker [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Auditing locally available compute resources for node cmp1.ops\n2015-10-11 20:58:22.637 31702 INFO nova.compute.resource_tracker [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Total usable vcpus: 2, total allocated vcpus: 0\n2015-10-11 20:58:22.637 31702 INFO nova.compute.resource_tracker [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Final resource view: name=cmp1.ops phys_ram=987MB used_ram=576MB phys_disk=18GB used_disk=0GB total_vcpus=2 used_vcpus=0 pci_stats=<nova.pci.stats.PciDeviceStats object at 0x7f4e73a95910>\n2015-10-11 20:58:22.653 31702 INFO nova.scheduler.client.report [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Compute_service record updated for ('cmp1', 'cmp1.ops')\n2015-10-11 20:58:22.654 31702 INFO nova.compute.resource_tracker [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Compute_service record updated for cmp1:cmp1.ops", 
    "tags": [
        "libvirt"
    ], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1504939", 
    "owner": "None", 
    "id": 1504939, 
    "index": 5801, 
    "created": "2015-10-11 13:08:06.988191+00:00", 
    "title": "Instance failed to spawn with qemu", 
    "comments": [
        {
            "content": "I installed Kilo following the instructions on http://docs.openstack.org/kilo/install-guide/install/apt/content/\nIt failed to spawn an instance with qemu.\n\nThe nova.conf on compute node was as following:\n\nroot@cmp1:~# cat /etc/nova/nova.conf \n[DEFAULT]\ndhcpbridge_flagfile=/etc/nova/nova.conf\ndhcpbridge=/usr/bin/nova-dhcpbridge\nlog_dir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\nforce_dhcp_release=True\nlibvirt_use_virtio_for_bridges=True\nverbose=True\nec2_private_dns_show_ip=True\napi_paste_config=/etc/nova/api-paste.ini\nenabled_apis=ec2,osapi_compute,metadata\n\nrpc_backend=rabbit\n\nauth_strategy = keystone\n\nmy_ip = 192.168.201.102\nvnc_enabled = True\nvncserver_listen = 0.0.0.0\nvncserver_proxyclient_address = 192.168.201.102\nnovncproxy_base_url = http://ctl:6080/vnc_auto.html\n\nnetwork_api_class = nova.network.neutronv2.api.API\nsecurity_group_api = neutron\nlinuxnet_interface_driver = nova.network.linux_net.LinuxOVSInterfaceDriver\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\n\ncompute_driver = libvirt.LibvirtDriver\n\n[glance]\nhost = ctl\n\n[oslo_concurrency]\nlock_path = /var/lib/nova/tmp\n\n[keystone_authtoken]\nauth_uri = http://ctl:5000\nauth_url = http://ctl:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = 1\n\n\n[oslo_messaging_rabbit]\nrabbit_host = ctl\nrabbit_userid = openstack\nrabbit_password = 1\n\n[libvirt]\nvirt_type = qemu\n\n\n[neutron]\nurl = http://ctl:9696\nauth_strategy = keystone\nadmin_auth_url = http://ctl:35357/v2.0\nadmin_tenant_name = service\nadmin_username = neutron\nadmin_password = 1\n\n\n\nThe error logs were as following:\n\n2015-10-11 20:58:13.239 31702 ERROR nova.virt.libvirt.driver [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] Error defining a domain with XML: <domain type=\"kvm\">\n  <uuid>f530cc86-ee2e-4ef4-8655-83f60bfed7fa</uuid>\n  <name>instance-00000006</name>\n  <memory>65536</memory>\n  <vcpu>1</vcpu>\n  <metadata>\n    <nova:instance xmlns:nova=\"http://openstack.org/xmlns/libvirt/nova/1.0\">\n      <nova:package version=\"2015.1.1\"/>\n      <nova:name>an-instance</nova:name>\n      <nova:creationTime>2015-10-11 12:58:12</nova:creationTime>\n      <nova:flavor name=\"m1.nano\">\n        <nova:memory>64</nova:memory>\n        <nova:disk>0</nova:disk>\n        <nova:swap>0</nova:swap>\n        <nova:ephemeral>0</nova:ephemeral>\n        <nova:vcpus>1</nova:vcpus>\n      </nova:flavor>\n      <nova:owner>\n        <nova:user uuid=\"311571301159432787db5e3ed1078ee8\">administrator</nova:user>\n        <nova:project uuid=\"8fab0e9be9164f69a2d14ac383175cdc\">training</nova:project>\n      </nova:owner>\n      <nova:root type=\"image\" uuid=\"13fcaaf8-b92c-4c6b-b5f3-700e9a65347d\"/>\n    </nova:instance>\n  </metadata>\n  <sysinfo type=\"smbios\">\n    <system>\n      <entry name=\"manufacturer\">OpenStack Foundation</entry>\n      <entry name=\"product\">OpenStack Nova</entry>\n      <entry name=\"version\">2015.1.1</entry>\n      <entry name=\"serial\">564db6eb-b1e8-9c2d-85a4-f5fdc0775533</entry>\n      <entry name=\"uuid\">f530cc86-ee2e-4ef4-8655-83f60bfed7fa</entry>\n    </system>\n  </sysinfo>\n  <os>\n    <type>hvm</type>\n    <boot dev=\"hd\"/>\n    <smbios mode=\"sysinfo\"/>\n  </os>\n  <features>\n    <acpi/>\n    <apic/>\n  </features>\n  <cputune>\n    <shares>1024</shares>\n  </cputune>\n  <clock offset=\"utc\">\n    <timer name=\"pit\" tickpolicy=\"delay\"/>\n    <timer name=\"rtc\" tickpolicy=\"catchup\"/>\n    <timer name=\"hpet\" present=\"no\"/>\n  </clock>\n  <cpu mode=\"host-model\" match=\"exact\">\n    <topology sockets=\"1\" cores=\"1\" threads=\"1\"/>\n  </cpu>\n  <devices>\n    <disk type=\"file\" device=\"disk\">\n      <driver name=\"qemu\" type=\"qcow2\" cache=\"none\"/>\n      <source file=\"/var/lib/nova/instances/f530cc86-ee2e-4ef4-8655-83f60bfed7fa/disk\"/>\n      <target bus=\"virtio\" dev=\"vda\"/>\n    </disk>\n    <interface type=\"bridge\">\n      <mac address=\"fa:16:3e:22:e7:7d\"/>\n      <model type=\"virtio\"/>\n      <source bridge=\"qbr993fb72d-7a\"/>\n      <target dev=\"tap993fb72d-7a\"/>\n    </interface>\n    <serial type=\"file\">\n      <source path=\"/var/lib/nova/instances/f530cc86-ee2e-4ef4-8655-83f60bfed7fa/console.log\"/>\n    </serial>\n    <serial type=\"pty\"/>\n    <input type=\"tablet\" bus=\"usb\"/>\n    <graphics type=\"vnc\" autoport=\"yes\" keymap=\"en-us\" listen=\"0.0.0.0\"/>\n    <video>\n      <model type=\"cirrus\"/>\n    </video>\n    <memballoon model=\"virtio\">\n      <stats period=\"10\"/>\n    </memballoon>\n  </devices>\n</domain>\n\n2015-10-11 20:58:13.240 31702 ERROR nova.compute.manager [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Instance failed to spawn\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Traceback (most recent call last):\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2461, in _build_resources\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     yield resources\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2333, in _build_and_run_instance\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     block_device_info=block_device_info)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 2385, in spawn\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     block_device_info=block_device_info)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 4403, in _create_domain_and_network\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     power_on=power_on)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 4334, in _create_domain\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     LOG.error(err)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 85, in __exit__\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     six.reraise(self.type_, self.value, self.tb)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 4318, in _create_domain\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     domain = self._conn.defineXML(xml)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 183, in doit\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 141, in proxy_call\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     rv = execute(f, *args, **kwargs)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 122, in execute\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     six.reraise(c, e, tb)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 80, in tworker\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     rv = meth(*args, **kwargs)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]   File \"/usr/lib/python2.7/dist-packages/libvirt.py\", line 3240, in defineXML\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa]     if ret is None:raise libvirtError('virDomainDefineXML() failed', conn=self)\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] libvirtError: internal error: no supported architecture for os type 'hvm'\n2015-10-11 20:58:13.240 31702 TRACE nova.compute.manager [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] \n2015-10-11 20:58:13.243 31702 INFO nova.compute.manager [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Terminating instance\n2015-10-11 20:58:13.245 31702 INFO nova.virt.libvirt.driver [-] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] During wait destroy, instance disappeared.\n2015-10-11 20:58:13.566 31702 INFO nova.virt.libvirt.driver [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Deleting instance files /var/lib/nova/instances/f530cc86-ee2e-4ef4-8655-83f60bfed7fa_del\n2015-10-11 20:58:13.567 31702 INFO nova.virt.libvirt.driver [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] [instance: f530cc86-ee2e-4ef4-8655-83f60bfed7fa] Deletion of /var/lib/nova/instances/f530cc86-ee2e-4ef4-8655-83f60bfed7fa_del complete\n2015-10-11 20:58:13.658 31702 INFO nova.scheduler.client.report [req-5e9ccf17-f58a-4d4b-82ba-e028da6daff2 311571301159432787db5e3ed1078ee8 8fab0e9be9164f69a2d14ac383175cdc - - -] Compute_service record updated for ('cmp1', 'cmp1.ops')\n2015-10-11 20:58:22.524 31702 INFO nova.compute.resource_tracker [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Auditing locally available compute resources for node cmp1.ops\n2015-10-11 20:58:22.637 31702 INFO nova.compute.resource_tracker [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Total usable vcpus: 2, total allocated vcpus: 0\n2015-10-11 20:58:22.637 31702 INFO nova.compute.resource_tracker [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Final resource view: name=cmp1.ops phys_ram=987MB used_ram=576MB phys_disk=18GB used_disk=0GB total_vcpus=2 used_vcpus=0 pci_stats=<nova.pci.stats.PciDeviceStats object at 0x7f4e73a95910>\n2015-10-11 20:58:22.653 31702 INFO nova.scheduler.client.report [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Compute_service record updated for ('cmp1', 'cmp1.ops')\n2015-10-11 20:58:22.654 31702 INFO nova.compute.resource_tracker [req-0af18523-5394-4de5-a759-7d7c9d60928f - - - - -] Compute_service record updated for cmp1:cmp1.ops", 
            "date_created": "2015-10-11 13:08:06.988191+00:00", 
            "author": "https://api.launchpad.net/1.0/~mingyu-li-cn"
        }, 
        {
            "content": "@Mingyu Li:\n\nThanks for providing the config and the log file. The error\n\n    libvirtError: internal error: no supported architecture for \n    os type 'hvm'\n\nprevents the spawn. Did you already try the troubleshooting which is\nmentioned here: http://docs.openstack.org/kilo/config-reference/content/kvm.html#kvm-troubleshooting ?", 
            "date_created": "2015-10-12 11:53:18.469975+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2015-12-12 04:17:22.088443+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}