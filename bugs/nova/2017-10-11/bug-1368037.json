{
    "status": "Expired", 
    "last_updated": "2015-10-27 04:17:37.825718+00:00", 
    "description": "Jenkins job failed with 'Error. Unable to associate floating ip'.\nLogs can be found here:\nhttp://logs.openstack.org/67/120067/2/check/check-tempest-dsvm-postgres-full/1a45f89/console.html\n\nLog snippet:\n2014-09-10 18:55:16.527 |     2014-09-10 18:30:55,125 24275 INFO     [tempest.common.rest_client] Request (TestVolumeBootPattern:_run_cleanups): 404 GET http://127.0.0.1:8776/v1/5e4676bdfb7548b3b4dd4b084cee1752/volumes/651d8b59-df65-442c-9165-1b993374b24a 0.025s\n2014-09-10 18:55:16.527 |     2014-09-10 18:30:55,157 24275 INFO     [tempest.common.rest_client] Request (TestVolumeBootPattern:_run_cleanups): 404 GET http://127.0.0.1:8774/v2/5e4676bdfb7548b3b4dd4b084cee1752/servers/25b9a6b8-dc48-47d3-9569-620e47ff0495 0.032s\n2014-09-10 18:55:16.527 |     2014-09-10 18:30:55,191 24275 INFO     [tempest.common.rest_client] Request (TestVolumeBootPattern:_run_cleanups): 404 GET http://127.0.0.1:8774/v2/5e4676bdfb7548b3b4dd4b084cee1752/servers/bbf6f5c4-7f2f-48ec-9d86-50c89d636a6d 0.032s\n2014-09-10 18:55:16.527 |     }}}\n2014-09-10 18:55:16.527 |     \n2014-09-10 18:55:16.527 |     Traceback (most recent call last):\n2014-09-10 18:55:16.527 |       File \"tempest/test.py\", line 128, in wrapper\n2014-09-10 18:55:16.527 |         return f(self, *func_args, **func_kwargs)\n2014-09-10 18:55:16.528 |       File \"tempest/scenario/test_volume_boot_pattern.py\", line 164, in test_volume_boot_pattern\n2014-09-10 18:55:16.528 |         keypair)\n2014-09-10 18:55:16.528 |       File \"tempest/scenario/test_volume_boot_pattern.py\", line 108, in _ssh_to_server\n2014-09-10 18:55:16.528 |         floating_ip['ip'], server['id'])\n2014-09-10 18:55:16.528 |       File \"tempest/services/compute/json/floating_ips_client.py\", line 80, in associate_floating_ip_to_server\n2014-09-10 18:55:16.528 |         resp, body = self.post(url, post_body)\n2014-09-10 18:55:16.528 |       File \"tempest/common/rest_client.py\", line 219, in post\n2014-09-10 18:55:16.528 |         return self.request('POST', url, extra_headers, headers, body)\n2014-09-10 18:55:16.528 |       File \"tempest/common/rest_client.py\", line 435, in request\n2014-09-10 18:55:16.528 |         resp, resp_body)\n2014-09-10 18:55:16.529 |       File \"tempest/common/rest_client.py\", line 484, in _error_checker\n2014-09-10 18:55:16.529 |         raise exceptions.BadRequest(resp_body)\n2014-09-10 18:55:16.529 |     BadRequest: Bad request\n2014-09-10 18:55:16.529 |     Details: {u'message': u'Error. Unable to associate floating ip', u'code': 400}", 
    "tags": [
        "dsvm-postgres", 
        "jenkins"
    ], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1368037", 
    "owner": "None", 
    "id": 1368037, 
    "index": 4024, 
    "created": "2014-09-11 05:56:33.055243+00:00", 
    "title": "tempest-dsvm-postgres-full fail with 'Error. Unable to associate floating ip'", 
    "comments": [
        {
            "content": "Jenkins job failed with 'Error. Unable to associate floating ip'.\nLogs can be found here:\nhttp://logs.openstack.org/67/120067/2/check/check-tempest-dsvm-postgres-full/1a45f89/console.html\n\nLog snippet:\n2014-09-10 18:55:16.527 |     2014-09-10 18:30:55,125 24275 INFO     [tempest.common.rest_client] Request (TestVolumeBootPattern:_run_cleanups): 404 GET http://127.0.0.1:8776/v1/5e4676bdfb7548b3b4dd4b084cee1752/volumes/651d8b59-df65-442c-9165-1b993374b24a 0.025s\n2014-09-10 18:55:16.527 |     2014-09-10 18:30:55,157 24275 INFO     [tempest.common.rest_client] Request (TestVolumeBootPattern:_run_cleanups): 404 GET http://127.0.0.1:8774/v2/5e4676bdfb7548b3b4dd4b084cee1752/servers/25b9a6b8-dc48-47d3-9569-620e47ff0495 0.032s\n2014-09-10 18:55:16.527 |     2014-09-10 18:30:55,191 24275 INFO     [tempest.common.rest_client] Request (TestVolumeBootPattern:_run_cleanups): 404 GET http://127.0.0.1:8774/v2/5e4676bdfb7548b3b4dd4b084cee1752/servers/bbf6f5c4-7f2f-48ec-9d86-50c89d636a6d 0.032s\n2014-09-10 18:55:16.527 |     }}}\n2014-09-10 18:55:16.527 |     \n2014-09-10 18:55:16.527 |     Traceback (most recent call last):\n2014-09-10 18:55:16.527 |       File \"tempest/test.py\", line 128, in wrapper\n2014-09-10 18:55:16.527 |         return f(self, *func_args, **func_kwargs)\n2014-09-10 18:55:16.528 |       File \"tempest/scenario/test_volume_boot_pattern.py\", line 164, in test_volume_boot_pattern\n2014-09-10 18:55:16.528 |         keypair)\n2014-09-10 18:55:16.528 |       File \"tempest/scenario/test_volume_boot_pattern.py\", line 108, in _ssh_to_server\n2014-09-10 18:55:16.528 |         floating_ip['ip'], server['id'])\n2014-09-10 18:55:16.528 |       File \"tempest/services/compute/json/floating_ips_client.py\", line 80, in associate_floating_ip_to_server\n2014-09-10 18:55:16.528 |         resp, body = self.post(url, post_body)\n2014-09-10 18:55:16.528 |       File \"tempest/common/rest_client.py\", line 219, in post\n2014-09-10 18:55:16.528 |         return self.request('POST', url, extra_headers, headers, body)\n2014-09-10 18:55:16.528 |       File \"tempest/common/rest_client.py\", line 435, in request\n2014-09-10 18:55:16.528 |         resp, resp_body)\n2014-09-10 18:55:16.529 |       File \"tempest/common/rest_client.py\", line 484, in _error_checker\n2014-09-10 18:55:16.529 |         raise exceptions.BadRequest(resp_body)\n2014-09-10 18:55:16.529 |     BadRequest: Bad request\n2014-09-10 18:55:16.529 |     Details: {u'message': u'Error. Unable to associate floating ip', u'code': 400}", 
            "date_created": "2014-09-11 05:56:33.055243+00:00", 
            "author": "https://api.launchpad.net/1.0/~nilesh-bhosale"
        }, 
        {
            "content": "I didn't see this issue post a recheck on my change https://review.openstack.org/#/c/120067/. \nProbably a temporary Jenkins environment issue.", 
            "date_created": "2014-09-11 08:19:36.435335+00:00", 
            "author": "https://api.launchpad.net/1.0/~nilesh-bhosale"
        }, 
        {
            "content": "This test was run with nova-network, so it is not applicable to neutron.", 
            "date_created": "2014-09-11 15:05:09.463615+00:00", 
            "author": "https://api.launchpad.net/1.0/~gessau"
        }, 
        {
            "content": "Agree with Henry, adding nova, removing neutron", 
            "date_created": "2014-09-12 04:23:42.098459+00:00", 
            "author": "https://api.launchpad.net/1.0/~enikanorov"
        }, 
        {
            "content": "nova-api:\n\n2014-09-10 18:28:07.120 ERROR nova.api.openstack.compute.contrib.floating_ips [req-c0a4e3d4-35f6-4c4a-99f7-4b7fa6fec030 TestVolumeBootPattern-685024276 TestVolumeBootPattern-724196437] Error. Unable to associate floating ip\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips Traceback (most recent call last):\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/opt/stack/new/nova/nova/api/openstack/compute/contrib/floating_ips.py\", line 240, in _add_floating_ip\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     fixed_address=fixed_address)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/opt/stack/new/nova/nova/network/api.py\", line 48, in wrapped\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     return func(self, context, *args, **kwargs)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/opt/stack/new/nova/nova/network/base_api.py\", line 60, in wrapper\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     res = f(self, context, *args, **kwargs)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/opt/stack/new/nova/nova/network/api.py\", line 222, in associate_floating_ip\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     context, floating_address, fixed_address, affect_auto_assigned)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/opt/stack/new/nova/nova/utils.py\", line 949, in wrapper\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     return func(*args, **kwargs)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/server.py\", line 139, in inner\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     return func(*args, **kwargs)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/opt/stack/new/nova/nova/network/floating_ips.py\", line 349, in associate_floating_ip\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     fixed_ip.instance_uuid)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/opt/stack/new/nova/nova/network/rpcapi.py\", line 335, in _associate_floating_ip\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     interface=interface, instance_uuid=instance_uuid)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 152, in call\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     retry=self.retry)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     timeout=timeout, retry=retry)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 408, in send\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     retry=retry)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 397, in _send\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     result = self._waiter.wait(msg_id, timeout)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 285, in wait\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     reply, ending = self._poll_connection(msg_id, timeout)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 235, in _poll_connection\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips     % msg_id)\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips MessagingTimeout: Timed out waiting for a reply to message ID ad9e952983974acfbb2c06719c3d3820\n2014-09-10 18:28:07.120 21523 TRACE nova.api.openstack.compute.contrib.floating_ips ", 
            "date_created": "2014-09-12 14:13:03.508203+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "nova-cpu:\n\n2014-09-10 18:27:06.310 21614 DEBUG nova.openstack.common.periodic_task [-] Running periodic task ComputeManager._check_instance_build_time run_periodic_tasks /opt/stack/new/nova/nova/openstack/common/periodic_task.py:193\n2014-09-10 18:27:06.310 21614 DEBUG nova.openstack.common.loopingcall [-] Dynamic looping call <bound method Service.periodic_tasks of <nova.service.Service object at 0x7f777a5170d0>> sleeping for 50.00 seconds _inner /opt/stack/new/nova/nova/openstack/common/loopingcall.py:132\n2014-09-10 18:27:56.312 21614 DEBUG nova.openstack.common.periodic_task [-] Running periodic task ComputeManager._instance_usage_audit run_periodic_tasks /opt/stack/new/nova/nova/openstack/common/periodic_task.py:193\n2014-09-10 18:28:47.800 21614 ERROR nova.servicegroup.drivers.db [-] model server went away\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db Traceback (most recent call last):\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db   File \"/opt/stack/new/nova/nova/servicegroup/drivers/db.py\", line 99, in _report_state\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db     service.service_ref, state_catalog)\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db   File \"/opt/stack/new/nova/nova/conductor/api.py\", line 180, in service_update\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db     return self._manager.service_update(context, service, values)\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db   File \"/opt/stack/new/nova/nova/conductor/rpcapi.py\", line 281, in service_update\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db     service=service_p, values=values)\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 152, in call\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db     retry=self.retry)\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db     timeout=timeout, retry=retry)\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 408, in send\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db     retry=retry)\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 397, in _send\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db     result = self._waiter.wait(msg_id, timeout)\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 285, in wait\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db     reply, ending = self._poll_connection(msg_id, timeout)\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 235, in _poll_connection\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db     % msg_id)\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db MessagingTimeout: Timed out waiting for a reply to message ID 8bde0d324f834ec3b9449a8101c75c47\n2014-09-10 18:28:47.800 21614 TRACE nova.servicegroup.drivers.db \n2014-09-10 18:28:47.804 21614 WARNING nova.openstack.common.loopingcall [-] task <bound method DbDriver._report_state of <nova.servicegroup.drivers.db.DbDriver object at 0x7f777a517410>> run outlasted interval by 81.67 sec\n2014-09-10 18:28:47.878 21614 WARNING oslo.messaging._drivers.amqpdriver [-] No calling threads waiting for msg_id : 8bde0d324f834ec3b9449a8101c75c47, message : {u'_unique_id': u'68fd46c14bd94a3a97a956f5083fe291', u'failure': None, u'result': {u'binary': u'nova-compute', u'deleted': 0, u'created_at': u'2014-09-10T17:52:37.973288', u'updated_at': u'2014-09-10T18:27:16.144475', u'report_count': 208, u'topic': u'compute', u'host': u'devstack-trusty-hpcloud-b5-2053112', u'disabled': False, u'deleted_at': None, u'disabled_reason': None, u'id': 5}}\n2014-09-10 18:28:47.879 21614 WARNING oslo.messaging._drivers.amqpdriver [-] _queues: {'ec7200851eb042018713d13663dd9eb4': <Queue at 0x7f775c2cd290 maxsize=None getters[1]>, 'a8103baece094a37b2e3e1981423a3ee': <Queue at 0x7f7774037750 maxsize=None tasks=1 _cond=<Event at 0x7f77852a0450 result=NOT_USED _exc=None _waiters[0]>>}\n2014-09-10 18:28:47.879 21614 WARNING oslo.messaging._drivers.amqpdriver [-] No calling threads waiting for msg_id : 8bde0d324f834ec3b9449a8101c75c47, message : {u'_unique_id': u'e755932257bd4c23b853360595a73c6c', u'failure': None, u'result': None, u'ending': True}\n2014-09-10 18:28:47.879 21614 WARNING oslo.messaging._drivers.amqpdriver [-] _queues: {'ec7200851eb042018713d13663dd9eb4': <Queue at 0x7f775c2cd290 maxsize=None getters[1]>, 'a8103baece094a37b2e3e1981423a3ee': <Queue at 0x7f7774037750 maxsize=None tasks=1 _cond=<Event at 0x7f77852a0450 result=NOT_USED _exc=None _waiters[0]>>}", 
            "date_created": "2014-09-12 14:26:53.272362+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "nova-cond:\n\n/opt/stack/new/nova/nova/quota.py:1334\n2014-09-10 18:27:07.945 21738 DEBUG nova.openstack.common.loopingcall [-] Dynamic looping call <bound method Service.periodic_tasks of <nova.service.Service object at 0x7fa3d0348bd0>> sleeping for 60.00 seconds _inner /opt/stack/new/nova/nova/openstack/common/loopingcall.py:132\n2014-09-10 18:28:07.999 21738 DEBUG nova.openstack.common.loopingcall [-] Dynamic looping call <bound method Service.periodic_tasks of <nova.service.Service object at 0x7fa3d0348bd0>> sleeping for 60.00 seconds _inner /opt/stack/new/nova/nova/openstack/common/loopingcall.py:132\n2014-09-10 18:28:47.823 21734 WARNING nova.openstack.common.loopingcall [-] task <bound method DbDriver._report_state of <nova.servicegroup.drivers.db.DbDriver object at 0x7fa3d0348ed0>> run outlasted interval by 83.63 sec\n2014-09-10 18:28:47.878 21737 WARNING nova.openstack.common.loopingcall [-] task <bound method DbDriver._report_state of <nova.servicegroup.drivers.db.DbDriver object at 0x7fa3d0348ed0>> run outlasted interval by 83.82 sec\n2014-09-10 18:28:47.918 21738 WARNING nova.openstack.common.loopingcall [-] task <bound method DbDriver._report_state of <nova.servicegroup.drivers.db.DbDriver object at 0x7fa3d0348ed0>> run outlasted interval by 83.31 sec\n2014-09-10 18:28:47.925 21736 WARNING nova.openstack.common.loopingcall [-] task <bound method DbDriver._report_state of <nova.servicegroup.drivers.db.DbDriver object at 0x7fa3d0348ed0>> run outlasted interval by 83.67 sec\n2014-09-10 18:28:47.928 21739 WARNING nova.openstack.common.loopingcall [-] task <bound method DbDriver._report_state of <nova.servicegroup.drivers.db.DbDriver object at 0x7fa3d0348ed0>> run outlasted interval by 83.72 sec\n2014-09-10 18:28:47.924 21732 WARNING nova.openstack.common.loopingcall [-] task <bound method DbDriver._report_state of <nova.servicegroup.drivers.db.DbDriver object at 0x7fa3d0348ed0>> run outlasted interval by 83.72 sec", 
            "date_created": "2014-09-12 14:28:31.751580+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "It looks like the periodic job is taking a lock which is consuming all the conductor workers so messages can't get sent?", 
            "date_created": "2014-09-12 14:32:22.483842+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Is this still a problem?", 
            "date_created": "2015-08-28 01:25:25.481584+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2015-10-27 04:17:34.487028+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}