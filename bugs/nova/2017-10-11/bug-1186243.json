{
    "status": "Fix Released", 
    "last_updated": "2013-10-17 11:45:21.266391+00:00", 
    "description": "Got this error from gerrit.\n\npython26 passed, but python27 failed.\n\n======================================================================\n2013-05-31 12:11:53.737 | FAIL: nova.tests.integrated.test_servers.ServersTest.test_deferred_delete_restore\n2013-05-31 12:11:53.737 | tags: worker-3\n2013-05-31 12:11:53.737 | ----------------------------------------------------------------------\n2013-05-31 12:11:53.737 | Empty attachments:\n2013-05-31 12:11:53.737 |   stderr\n2013-05-31 12:11:53.737 |   stdout\n2013-05-31 12:11:53.737 | \n2013-05-31 12:11:53.737 | pythonlogging:'': {{{\n2013-05-31 12:11:53.738 | Starting conductor node (version 2013.2)\n2013-05-31 12:11:53.738 | Loading compute driver 'nova.virt.fake.FakeDriver'\n2013-05-31 12:11:53.738 | Starting compute node (version 2013.2)\n2013-05-31 12:11:53.738 | Updating host status\n2013-05-31 12:11:53.738 | Auditing locally available compute resources\n2013-05-31 12:11:53.738 | Free ram (MB): 7680\n2013-05-31 12:11:53.738 | Free disk (GB): 1028\n2013-05-31 12:11:53.738 | Free VCPUS: 1\n2013-05-31 12:11:53.738 | Compute_service record created for 760497b8a7e84358b92c6bbe81556192:fake-mini\n2013-05-31 12:11:53.738 | Starting cert node (version 2013.2)\n2013-05-31 12:11:53.738 | Loading network driver 'nova.network.linux_net'\n2013-05-31 12:11:53.738 | Starting network node (version 2013.2)\n2013-05-31 12:11:53.738 | Starting scheduler node (version 2013.2)\n2013-05-31 12:11:53.738 | Starting cells node (version 2013.2)\n2013-05-31 12:11:53.738 | Initializing extension manager.\n2013-05-31 12:11:53.738 | Loaded extension: os-fping\n2013-05-31 12:11:53.739 | Loaded extension: os-services\n2013-05-31 12:11:53.739 | Loaded extension: os-hosts\n2013-05-31 12:11:53.739 | Loaded extension: os-create-server-ext\n2013-05-31 12:11:53.739 | Loaded extension: OS-EXT-SRV-ATTR\n2013-05-31 12:11:53.739 | Loaded extension: OS-EXT-IPS-MAC\n2013-05-31 12:11:53.739 | Loaded extension: OS-SCH-HNT\n2013-05-31 12:11:53.739 | Loaded extension: os-floating-ips-bulk\n2013-05-31 12:11:53.739 | Loaded extension: os-keypairs\n2013-05-31 12:11:53.739 | Loaded extension: OS-EXT-VIF-NET\n2013-05-31 12:11:53.739 | Loaded extension: os-extended-floating-ips\n2013-05-31 12:11:53.739 | Loaded extension: os-user-data\n2013-05-31 12:11:53.739 | Loaded extension: os-virtual-interfaces\n2013-05-31 12:11:53.739 | Loaded extension: os-hide-server-addresses\n2013-05-31 12:11:53.739 | Loaded extension: os-agents\n2013-05-31 12:11:53.739 | Loaded extension: os-quota-sets\n2013-05-31 12:11:53.740 | Loaded extension: os-deferred-delete\n2013-05-31 12:11:53.740 | Loaded extension: os-cells\n2013-05-31 12:11:53.740 | Loaded extension: os-tenant-networks\n2013-05-31 12:11:53.740 | Loaded extension: os-hypervisors\n2013-05-31 12:11:53.740 | Loaded extension: os-quota-class-sets\n2013-05-31 12:11:53.740 | Loaded extension: os-server-password\n2013-05-31 12:11:53.740 | Loaded extension: OS-EXT-AZ\n2013-05-31 12:11:53.740 | Loaded extension: os-rescue\n2013-05-31 12:11:53.740 | Loaded extension: OS-EXT-IPS\n2013-05-31 12:11:53.740 | Loaded extension: OS-EXT-STS\n2013-05-31 12:11:53.740 | Loaded extension: os-security-group-default-rules\n2013-05-31 12:11:53.740 | Loaded extension: os-certificates\n2013-05-31 12:11:53.740 | Loaded extension: os-availability-zone\n2013-05-31 12:11:53.740 | Loaded extension: os-networks\n2013-05-31 12:11:53.740 | Loaded extension: os-flavor-swap\n2013-05-31 12:11:53.741 | Loaded extension: os-instance-actions\n2013-05-31 12:11:53.741 | Loaded extension: os-flavor-manage\n2013-05-31 12:11:53.741 | Loaded extension: os-flavor-extra-specs\n2013-05-31 12:11:53.741 | Loaded extension: os-floating-ip-pools\n2013-05-31 12:11:53.741 | Loaded extension: OS-FLV-DISABLED\n2013-05-31 12:11:53.741 | Loaded extension: os-cloudpipe\n2013-05-31 12:11:53.741 | Loaded extension: os-config-drive\n2013-05-31 12:11:53.741 | Loaded extension: os-floating-ip-dns\n2013-05-31 12:11:53.741 | Loaded extension: os-volumes\n2013-05-31 12:11:53.741 | Loaded extension: os-multiple-create\n2013-05-31 12:11:53.741 | Loaded extension: os-flavor-rxtx\n2013-05-31 12:11:53.741 | Loaded extension: os-networks-associate\n2013-05-31 12:11:53.741 | Loaded extension: os-simple-tenant-usage\n2013-05-31 12:11:53.741 | Loaded extension: NMN\n2013-05-31 12:11:53.741 | Loaded extension: os-floating-ips\n2013-05-31 12:11:53.742 | Loaded extension: os-extended-quotas\n2013-05-31 12:11:53.742 | Loaded extension: os-coverage\n2013-05-31 12:11:53.742 | Loaded extension: os-aggregates\n2013-05-31 12:11:53.742 | Loaded extension: os-server-diagnostics\n2013-05-31 12:11:53.742 | Loaded extension: os-console-output\n2013-05-31 12:11:53.742 | Loaded extension: os-security-groups\n2013-05-31 12:11:53.742 | Loaded extension: os-evacuate\n2013-05-31 12:11:53.742 | Loaded extension: os-used-limits\n2013-05-31 12:11:53.742 | Loaded extension: OS-FLV-EXT-DATA\n2013-05-31 12:11:53.742 | Loaded extension: OS-EXT-IMG-SIZE\n2013-05-31 12:11:53.742 | Loaded extension: os-server-start-stop\n2013-05-31 12:11:53.742 | Loaded extension: os-cloudpipe-update\n2013-05-31 12:11:53.742 | Loaded extension: OS-DCF\n2013-05-31 12:11:53.742 | Loaded extension: os-admin-actions\n2013-05-31 12:11:53.743 | Loaded extension: os-attach-interfaces\n2013-05-31 12:11:53.743 | Loaded extension: os-fixed-ips\n2013-05-31 12:11:53.743 | Loaded extension: os-instance_usage_audit_log\n2013-05-31 12:11:53.743 | Loaded extension: os-consoles\n2013-05-31 12:11:53.743 | Loaded extension: os-flavor-access\n2013-05-31 12:11:53.743 | Loaded extension: os-baremetal-nodes\n2013-05-31 12:11:53.743 | Loaded extension os-keypairs\n2013-05-31 12:11:53.743 | Loaded extension os-fixed-ips\n2013-05-31 12:11:53.743 | Loaded extension extensions\n2013-05-31 12:11:53.743 | Loaded extension servers\n2013-05-31 12:11:53.743 | Initializing extension manager.\n2013-05-31 12:11:53.743 | Loaded extension: os-fping\n2013-05-31 12:11:53.743 | Loaded extension: os-services\n2013-05-31 12:11:53.744 | Loaded extension: os-hosts\n2013-05-31 12:11:53.744 | Loaded extension: os-create-server-ext\n2013-05-31 12:11:53.744 | Loaded extension: OS-EXT-SRV-ATTR\n2013-05-31 12:11:53.744 | Loaded extension: OS-EXT-IPS-MAC\n2013-05-31 12:11:53.744 | Loaded extension: OS-SCH-HNT\n2013-05-31 12:11:53.744 | Loaded extension: os-floating-ips-bulk\n2013-05-31 12:11:53.744 | Loaded extension: os-keypairs\n2013-05-31 12:11:53.744 | Loaded extension: OS-EXT-VIF-NET\n2013-05-31 12:11:53.744 | Loaded extension: os-extended-floating-ips\n2013-05-31 12:11:53.744 | Loaded extension: os-user-data\n2013-05-31 12:11:53.744 | Loaded extension: os-virtual-interfaces\n2013-05-31 12:11:53.744 | Loaded extension: os-hide-server-addresses\n2013-05-31 12:11:53.744 | Loaded extension: os-agents\n2013-05-31 12:11:53.744 | Loaded extension: os-quota-sets\n2013-05-31 12:11:53.744 | Loaded extension: os-deferred-delete\n2013-05-31 12:11:53.744 | Loaded extension: os-cells\n2013-05-31 12:11:53.745 | Loaded extension: os-tenant-networks\n2013-05-31 12:11:53.745 | Loaded extension: os-hypervisors\n2013-05-31 12:11:53.745 | Loaded extension: os-quota-class-sets\n2013-05-31 12:11:53.745 | Loaded extension: os-server-password\n2013-05-31 12:11:53.745 | Loaded extension: OS-EXT-AZ\n2013-05-31 12:11:53.745 | Loaded extension: os-rescue\n2013-05-31 12:11:53.745 | Loaded extension: OS-EXT-IPS\n2013-05-31 12:11:53.745 | Loaded extension: OS-EXT-STS\n2013-05-31 12:11:53.745 | Loaded extension: os-security-group-default-rules\n2013-05-31 12:11:53.745 | Loaded extension: os-certificates\n2013-05-31 12:11:53.745 | Loaded extension: os-availability-zone\n2013-05-31 12:11:53.745 | Loaded extension: os-networks\n2013-05-31 12:11:53.745 | Loaded extension: os-flavor-swap\n2013-05-31 12:11:53.745 | Loaded extension: os-instance-actions\n2013-05-31 12:11:53.746 | Loaded extension: os-flavor-manage\n2013-05-31 12:11:53.746 | Loaded extension: os-flavor-extra-specs\n2013-05-31 12:11:53.746 | Loaded extension: os-floating-ip-pools\n2013-05-31 12:11:53.746 | Loaded extension: OS-FLV-DISABLED\n2013-05-31 12:11:53.746 | Loaded extension: os-cloudpipe\n2013-05-31 12:11:53.746 | Loaded extension: os-config-drive\n2013-05-31 12:11:53.746 | Loaded extension: os-floating-ip-dns\n2013-05-31 12:11:53.746 | Loaded extension: os-volumes\n2013-05-31 12:11:53.746 | Loaded extension: os-multiple-create\n2013-05-31 12:11:53.746 | Loaded extension: os-flavor-rxtx\n2013-05-31 12:11:53.746 | Loaded extension: os-networks-associate\n2013-05-31 12:11:53.746 | Loaded extension: os-simple-tenant-usage\n2013-05-31 12:11:53.746 | Loaded extension: NMN\n2013-05-31 12:11:53.746 | Loaded extension: os-floating-ips\n2013-05-31 12:11:53.746 | Loaded extension: os-extended-quotas\n2013-05-31 12:11:53.746 | Loaded extension: os-coverage\n2013-05-31 12:11:53.747 | Loaded extension: os-aggregates\n2013-05-31 12:11:53.747 | Loaded extension: os-server-diagnostics\n2013-05-31 12:11:53.747 | Loaded extension: os-console-output\n2013-05-31 12:11:53.747 | Loaded extension: os-security-groups\n2013-05-31 12:11:53.747 | Loaded extension: os-evacuate\n2013-05-31 12:11:53.747 | Loaded extension: os-used-limits\n2013-05-31 12:11:53.747 | Loaded extension: OS-FLV-EXT-DATA\n2013-05-31 12:11:53.747 | Loaded extension: OS-EXT-IMG-SIZE\n2013-05-31 12:11:53.747 | Loaded extension: os-server-start-stop\n2013-05-31 12:11:53.747 | Loaded extension: os-cloudpipe-update\n2013-05-31 12:11:53.747 | Loaded extension: OS-DCF\n2013-05-31 12:11:53.747 | Loaded extension: os-admin-actions\n2013-05-31 12:11:53.747 | Loaded extension: os-attach-interfaces\n2013-05-31 12:11:53.747 | Loaded extension: os-fixed-ips\n2013-05-31 12:11:53.747 | Loaded extension: os-instance_usage_audit_log\n2013-05-31 12:11:53.748 | Loaded extension: os-consoles\n2013-05-31 12:11:53.748 | Loaded extension: os-flavor-access\n2013-05-31 12:11:53.748 | Loaded extension: os-baremetal-nodes\n2013-05-31 12:11:53.748 | osapi_compute listening on 127.0.0.1:40408\n2013-05-31 12:11:53.748 | http://127.0.0.1:40408/v2\n2013-05-31 12:11:53.748 | Starting conductor node (version 2013.2)\n2013-05-31 12:11:53.748 | (31622) wsgi starting up on http://127.0.0.1:40408/\n2013-05-31 12:11:53.748 | \n2013-05-31 12:11:53.748 | Doing GET on /v2\n2013-05-31 12:11:53.748 | (31622) accepted ('127.0.0.1', 60809)\n2013-05-31 12:11:53.748 | \n2013-05-31 12:11:53.748 | 127.0.0.1 \"GET /v2 HTTP/1.1\" status: 204 len: 216 time: 0.0006292\n2013-05-31 12:11:53.748 | \n2013-05-31 12:11:53.748 | Doing GET on /v2/openstack//images/detail\n2013-05-31 12:11:53.748 | (31622) accepted ('127.0.0.1', 60810)\n2013-05-31 12:11:53.748 | \n2013-05-31 12:11:53.749 | 127.0.0.1 \"GET /v2/openstack//images/detail HTTP/1.1\" status: 200 len: 5251 time: 0.8105230\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | Doing GET on /v2/openstack//flavors/detail\n2013-05-31 12:11:53.749 | (31622) accepted ('127.0.0.1', 60813)\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | 127.0.0.1 \"GET /v2/openstack//flavors/detail HTTP/1.1\" status: 200 len: 2013 time: 0.0107400\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | Doing GET on /v2/openstack//servers/detail\n2013-05-31 12:11:53.749 | (31622) accepted ('127.0.0.1', 60814)\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | 127.0.0.1 \"GET /v2/openstack//servers/detail HTTP/1.1\" status: 200 len: 187 time: 0.0314510\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | Doing POST on /v2/openstack//servers\n2013-05-31 12:11:53.749 | Body: {\"server\": {\"flavorRef\": \"http://fake.server/1\", \"name\": \"serverGNYOHCDP\", \"imageRef\": \"http://fake.server/70a599e0-31e7-49b7-b260-868f441e862b\"}}\n2013-05-31 12:11:53.749 | (31622) accepted ('127.0.0.1', 60815)\n2013-05-31 12:11:53.750 | \n2013-05-31 12:11:53.750 | Starting instance...\n2013-05-31 12:11:53.750 | Attempting claim: memory 512 MB, disk 1 GB, VCPUs 1\n2013-05-31 12:11:53.750 | Total Memory: 8192 MB, used: 512.00 MB\n2013-05-31 12:11:53.750 | Memory limit not specified, defaulting to unlimited\n2013-05-31 12:11:53.750 | Total Disk: 1028 GB, used: 0.00 GB\n2013-05-31 12:11:53.750 | Disk limit not specified, defaulting to unlimited\n2013-05-31 12:11:53.750 | Total CPU: 1 VCPUs, used: 0.00 VCPUs\n2013-05-31 12:11:53.750 | CPU limit not specified, defaulting to unlimited\n2013-05-31 12:11:53.750 | Claim successful\n2013-05-31 12:11:53.750 | 127.0.0.1 \"POST /v2/openstack//servers HTTP/1.1\" status: 202 len: 659 time: 0.5113389\n2013-05-31 12:13:26.360 | \n2013-05-31 12:13:26.360 | Doing GET on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.360 | (31622) accepted ('127.0.0.1', 60817)\n2013-05-31 12:13:26.360 | \n2013-05-31 12:13:26.360 | 127.0.0.1 \"GET /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 200 len: 1470 time: 0.0540881\n2013-05-31 12:13:26.360 | \n2013-05-31 12:13:26.360 | Doing DELETE on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.361 | (31622) accepted ('127.0.0.1', 60818)\n2013-05-31 12:13:26.361 | \n2013-05-31 12:13:26.361 | Auditing locally available compute resources\n2013-05-31 12:13:26.361 | 127.0.0.1 \"DELETE /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 204 len: 179 time: 0.2205250\n2013-05-31 12:13:26.361 | \n2013-05-31 12:13:26.361 | Doing GET on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.361 | (31622) accepted ('127.0.0.1', 60821)\n2013-05-31 12:13:26.361 | \n2013-05-31 12:13:26.361 | 127.0.0.1 \"GET /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 200 len: 1461 time: 0.0791640\n2013-05-31 12:13:26.361 | \n2013-05-31 12:13:26.361 | Doing POST on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd/action\n2013-05-31 12:13:26.361 | Body: {\"restore\": {}}\n2013-05-31 12:13:26.361 | Free ram (MB): 7168\n2013-05-31 12:13:26.361 | Free disk (GB): 1027\n2013-05-31 12:13:26.362 | Free VCPUS: 0\n2013-05-31 12:13:26.362 | (31622) accepted ('127.0.0.1', 60822)\n2013-05-31 12:13:26.362 | \n2013-05-31 12:13:26.362 | Compute_service record updated for 760497b8a7e84358b92c6bbe81556192:fake-mini\n2013-05-31 12:13:26.362 | Reclaiming deleted instance\n2013-05-31 12:13:26.362 | Terminating instance\n2013-05-31 12:13:26.362 | 127.0.0.1 \"POST /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd/action HTTP/1.1\" status: 202 len: 121 time: 0.2906492\n2013-05-31 12:13:26.362 | \n2013-05-31 12:13:26.362 | Doing GET on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.362 | (31622) accepted ('127.0.0.1', 60823)\n2013-05-31 12:13:26.362 | \n2013-05-31 12:13:26.362 | 127.0.0.1 \"GET /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 200 len: 1457 time: 0.0971241\n2013-05-31 12:13:26.362 | \n2013-05-31 12:13:26.362 | Updating bandwidth usage cache\n2013-05-31 12:13:26.362 | Doing GET on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.362 | (31622) accepted ('127.0.0.1', 60825)\n2013-05-31 12:13:26.363 | \n2013-05-31 12:13:26.363 | HTTP exception thrown: Instance could not be found\n2013-05-31 12:13:26.363 | 127.0.0.1 \"GET /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 404 len: 267 time: 0.0434902\n2013-05-31 12:13:26.363 | \n2013-05-31 12:13:26.363 | Stopping WSGI server.\n2013-05-31 12:13:26.363 | }}}\n2013-05-31 12:13:26.363 | \n2013-05-31 12:13:26.363 | Traceback (most recent call last):\n2013-05-31 12:13:26.363 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/test_servers.py\", line 216, in test_deferred_delete_restore\n2013-05-31 12:13:26.363 |     found_server = self._wait_for_state_change(found_server, 'DELETED')\n2013-05-31 12:13:26.363 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/test_servers.py\", line 39, in _wait_for_state_change\n2013-05-31 12:13:26.363 |     server = self.api.get_server(server['id'])\n2013-05-31 12:13:26.363 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/api/client.py\", line 211, in get_server\n2013-05-31 12:13:26.363 |     return self.api_get('/servers/%s' % server_id)['server']\n2013-05-31 12:13:26.363 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/api/client.py\", line 180, in api_get\n2013-05-31 12:13:26.364 |     response = self.api_request(relative_uri, **kwargs)\n2013-05-31 12:13:26.364 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/api/client.py\", line 160, in api_request\n2013-05-31 12:13:26.364 |     raise OpenStackApiNotFoundException(response=response)\n2013-05-31 12:13:26.364 | OpenStackApiNotFoundException: Item not found\n2013-05-31 12:13:26.364 | Status Code: 404\n2013-05-31 12:13:26.364 | Body: {\"itemNotFound\": {\"message\": \"Instance could not be found\", \"code\": 404}}\n2013-05-31 12:13:26.364 | ======================================================================\n2013-05-31 12:13:26.364 | FAIL: process-returncode\n2013-05-31 12:13:26.364 | tags: worker-3\n2013-05-31 12:13:26.364 | ----------------------------------------------------------------------\n2013-05-31 12:13:26.364 | Binary content:\n2013-05-31 12:13:26.364 |   traceback (test/plain; charset=\"utf8\")\n2013-05-31 12:13:26.364 | Ran 6154 tests in 322.356s\n2013-05-31 12:13:26.364 | FAILED (id=0, failures=2, skips=8)\n2013-05-31 12:13:26.364 | error: testr failed (1)\n2013-05-31 12:13:26.581 | ERROR: InvocationError: '/home/jenkins/workspace/gate-nova-python27/.tox/py27/bin/python setup.py testr --slowest --testr-args='\n2013-05-31 12:13:26.582 | ___________________________________ summary ____________________________________\n2013-05-31 12:13:26.582 | ERROR:   py27: commands failed\n2013-05-31 12:13:26.600 | + result=1\n2013-05-31 12:13:26.600 | + echo 'Begin pip freeze output from test virtualenv:'\n2013-05-31 12:13:26.600 | Begin pip freeze output from test virtualenv:\n2013-05-31 12:13:26.600 | + echo ======================================================================\n2013-05-31 12:13:26.600 | ======================================================================", 
    "tags": [], 
    "importance": "Critical", 
    "heat": 16, 
    "link": "https://bugs.launchpad.net/nova/+bug/1186243", 
    "owner": "https://api.launchpad.net/1.0/~hanlind", 
    "id": 1186243, 
    "index": 141, 
    "created": "2013-05-31 13:01:49.442685+00:00", 
    "title": "Race can cause soft deleted instance to be erased by mistake", 
    "comments": [
        {
            "content": "Got this error from gerrit.\n\npython26 passed, but python27 failed.\n\n======================================================================\n2013-05-31 12:11:53.737 | FAIL: nova.tests.integrated.test_servers.ServersTest.test_deferred_delete_restore\n2013-05-31 12:11:53.737 | tags: worker-3\n2013-05-31 12:11:53.737 | ----------------------------------------------------------------------\n2013-05-31 12:11:53.737 | Empty attachments:\n2013-05-31 12:11:53.737 |   stderr\n2013-05-31 12:11:53.737 |   stdout\n2013-05-31 12:11:53.737 | \n2013-05-31 12:11:53.737 | pythonlogging:'': {{{\n2013-05-31 12:11:53.738 | Starting conductor node (version 2013.2)\n2013-05-31 12:11:53.738 | Loading compute driver 'nova.virt.fake.FakeDriver'\n2013-05-31 12:11:53.738 | Starting compute node (version 2013.2)\n2013-05-31 12:11:53.738 | Updating host status\n2013-05-31 12:11:53.738 | Auditing locally available compute resources\n2013-05-31 12:11:53.738 | Free ram (MB): 7680\n2013-05-31 12:11:53.738 | Free disk (GB): 1028\n2013-05-31 12:11:53.738 | Free VCPUS: 1\n2013-05-31 12:11:53.738 | Compute_service record created for 760497b8a7e84358b92c6bbe81556192:fake-mini\n2013-05-31 12:11:53.738 | Starting cert node (version 2013.2)\n2013-05-31 12:11:53.738 | Loading network driver 'nova.network.linux_net'\n2013-05-31 12:11:53.738 | Starting network node (version 2013.2)\n2013-05-31 12:11:53.738 | Starting scheduler node (version 2013.2)\n2013-05-31 12:11:53.738 | Starting cells node (version 2013.2)\n2013-05-31 12:11:53.738 | Initializing extension manager.\n2013-05-31 12:11:53.738 | Loaded extension: os-fping\n2013-05-31 12:11:53.739 | Loaded extension: os-services\n2013-05-31 12:11:53.739 | Loaded extension: os-hosts\n2013-05-31 12:11:53.739 | Loaded extension: os-create-server-ext\n2013-05-31 12:11:53.739 | Loaded extension: OS-EXT-SRV-ATTR\n2013-05-31 12:11:53.739 | Loaded extension: OS-EXT-IPS-MAC\n2013-05-31 12:11:53.739 | Loaded extension: OS-SCH-HNT\n2013-05-31 12:11:53.739 | Loaded extension: os-floating-ips-bulk\n2013-05-31 12:11:53.739 | Loaded extension: os-keypairs\n2013-05-31 12:11:53.739 | Loaded extension: OS-EXT-VIF-NET\n2013-05-31 12:11:53.739 | Loaded extension: os-extended-floating-ips\n2013-05-31 12:11:53.739 | Loaded extension: os-user-data\n2013-05-31 12:11:53.739 | Loaded extension: os-virtual-interfaces\n2013-05-31 12:11:53.739 | Loaded extension: os-hide-server-addresses\n2013-05-31 12:11:53.739 | Loaded extension: os-agents\n2013-05-31 12:11:53.739 | Loaded extension: os-quota-sets\n2013-05-31 12:11:53.740 | Loaded extension: os-deferred-delete\n2013-05-31 12:11:53.740 | Loaded extension: os-cells\n2013-05-31 12:11:53.740 | Loaded extension: os-tenant-networks\n2013-05-31 12:11:53.740 | Loaded extension: os-hypervisors\n2013-05-31 12:11:53.740 | Loaded extension: os-quota-class-sets\n2013-05-31 12:11:53.740 | Loaded extension: os-server-password\n2013-05-31 12:11:53.740 | Loaded extension: OS-EXT-AZ\n2013-05-31 12:11:53.740 | Loaded extension: os-rescue\n2013-05-31 12:11:53.740 | Loaded extension: OS-EXT-IPS\n2013-05-31 12:11:53.740 | Loaded extension: OS-EXT-STS\n2013-05-31 12:11:53.740 | Loaded extension: os-security-group-default-rules\n2013-05-31 12:11:53.740 | Loaded extension: os-certificates\n2013-05-31 12:11:53.740 | Loaded extension: os-availability-zone\n2013-05-31 12:11:53.740 | Loaded extension: os-networks\n2013-05-31 12:11:53.740 | Loaded extension: os-flavor-swap\n2013-05-31 12:11:53.741 | Loaded extension: os-instance-actions\n2013-05-31 12:11:53.741 | Loaded extension: os-flavor-manage\n2013-05-31 12:11:53.741 | Loaded extension: os-flavor-extra-specs\n2013-05-31 12:11:53.741 | Loaded extension: os-floating-ip-pools\n2013-05-31 12:11:53.741 | Loaded extension: OS-FLV-DISABLED\n2013-05-31 12:11:53.741 | Loaded extension: os-cloudpipe\n2013-05-31 12:11:53.741 | Loaded extension: os-config-drive\n2013-05-31 12:11:53.741 | Loaded extension: os-floating-ip-dns\n2013-05-31 12:11:53.741 | Loaded extension: os-volumes\n2013-05-31 12:11:53.741 | Loaded extension: os-multiple-create\n2013-05-31 12:11:53.741 | Loaded extension: os-flavor-rxtx\n2013-05-31 12:11:53.741 | Loaded extension: os-networks-associate\n2013-05-31 12:11:53.741 | Loaded extension: os-simple-tenant-usage\n2013-05-31 12:11:53.741 | Loaded extension: NMN\n2013-05-31 12:11:53.741 | Loaded extension: os-floating-ips\n2013-05-31 12:11:53.742 | Loaded extension: os-extended-quotas\n2013-05-31 12:11:53.742 | Loaded extension: os-coverage\n2013-05-31 12:11:53.742 | Loaded extension: os-aggregates\n2013-05-31 12:11:53.742 | Loaded extension: os-server-diagnostics\n2013-05-31 12:11:53.742 | Loaded extension: os-console-output\n2013-05-31 12:11:53.742 | Loaded extension: os-security-groups\n2013-05-31 12:11:53.742 | Loaded extension: os-evacuate\n2013-05-31 12:11:53.742 | Loaded extension: os-used-limits\n2013-05-31 12:11:53.742 | Loaded extension: OS-FLV-EXT-DATA\n2013-05-31 12:11:53.742 | Loaded extension: OS-EXT-IMG-SIZE\n2013-05-31 12:11:53.742 | Loaded extension: os-server-start-stop\n2013-05-31 12:11:53.742 | Loaded extension: os-cloudpipe-update\n2013-05-31 12:11:53.742 | Loaded extension: OS-DCF\n2013-05-31 12:11:53.742 | Loaded extension: os-admin-actions\n2013-05-31 12:11:53.743 | Loaded extension: os-attach-interfaces\n2013-05-31 12:11:53.743 | Loaded extension: os-fixed-ips\n2013-05-31 12:11:53.743 | Loaded extension: os-instance_usage_audit_log\n2013-05-31 12:11:53.743 | Loaded extension: os-consoles\n2013-05-31 12:11:53.743 | Loaded extension: os-flavor-access\n2013-05-31 12:11:53.743 | Loaded extension: os-baremetal-nodes\n2013-05-31 12:11:53.743 | Loaded extension os-keypairs\n2013-05-31 12:11:53.743 | Loaded extension os-fixed-ips\n2013-05-31 12:11:53.743 | Loaded extension extensions\n2013-05-31 12:11:53.743 | Loaded extension servers\n2013-05-31 12:11:53.743 | Initializing extension manager.\n2013-05-31 12:11:53.743 | Loaded extension: os-fping\n2013-05-31 12:11:53.743 | Loaded extension: os-services\n2013-05-31 12:11:53.744 | Loaded extension: os-hosts\n2013-05-31 12:11:53.744 | Loaded extension: os-create-server-ext\n2013-05-31 12:11:53.744 | Loaded extension: OS-EXT-SRV-ATTR\n2013-05-31 12:11:53.744 | Loaded extension: OS-EXT-IPS-MAC\n2013-05-31 12:11:53.744 | Loaded extension: OS-SCH-HNT\n2013-05-31 12:11:53.744 | Loaded extension: os-floating-ips-bulk\n2013-05-31 12:11:53.744 | Loaded extension: os-keypairs\n2013-05-31 12:11:53.744 | Loaded extension: OS-EXT-VIF-NET\n2013-05-31 12:11:53.744 | Loaded extension: os-extended-floating-ips\n2013-05-31 12:11:53.744 | Loaded extension: os-user-data\n2013-05-31 12:11:53.744 | Loaded extension: os-virtual-interfaces\n2013-05-31 12:11:53.744 | Loaded extension: os-hide-server-addresses\n2013-05-31 12:11:53.744 | Loaded extension: os-agents\n2013-05-31 12:11:53.744 | Loaded extension: os-quota-sets\n2013-05-31 12:11:53.744 | Loaded extension: os-deferred-delete\n2013-05-31 12:11:53.744 | Loaded extension: os-cells\n2013-05-31 12:11:53.745 | Loaded extension: os-tenant-networks\n2013-05-31 12:11:53.745 | Loaded extension: os-hypervisors\n2013-05-31 12:11:53.745 | Loaded extension: os-quota-class-sets\n2013-05-31 12:11:53.745 | Loaded extension: os-server-password\n2013-05-31 12:11:53.745 | Loaded extension: OS-EXT-AZ\n2013-05-31 12:11:53.745 | Loaded extension: os-rescue\n2013-05-31 12:11:53.745 | Loaded extension: OS-EXT-IPS\n2013-05-31 12:11:53.745 | Loaded extension: OS-EXT-STS\n2013-05-31 12:11:53.745 | Loaded extension: os-security-group-default-rules\n2013-05-31 12:11:53.745 | Loaded extension: os-certificates\n2013-05-31 12:11:53.745 | Loaded extension: os-availability-zone\n2013-05-31 12:11:53.745 | Loaded extension: os-networks\n2013-05-31 12:11:53.745 | Loaded extension: os-flavor-swap\n2013-05-31 12:11:53.745 | Loaded extension: os-instance-actions\n2013-05-31 12:11:53.746 | Loaded extension: os-flavor-manage\n2013-05-31 12:11:53.746 | Loaded extension: os-flavor-extra-specs\n2013-05-31 12:11:53.746 | Loaded extension: os-floating-ip-pools\n2013-05-31 12:11:53.746 | Loaded extension: OS-FLV-DISABLED\n2013-05-31 12:11:53.746 | Loaded extension: os-cloudpipe\n2013-05-31 12:11:53.746 | Loaded extension: os-config-drive\n2013-05-31 12:11:53.746 | Loaded extension: os-floating-ip-dns\n2013-05-31 12:11:53.746 | Loaded extension: os-volumes\n2013-05-31 12:11:53.746 | Loaded extension: os-multiple-create\n2013-05-31 12:11:53.746 | Loaded extension: os-flavor-rxtx\n2013-05-31 12:11:53.746 | Loaded extension: os-networks-associate\n2013-05-31 12:11:53.746 | Loaded extension: os-simple-tenant-usage\n2013-05-31 12:11:53.746 | Loaded extension: NMN\n2013-05-31 12:11:53.746 | Loaded extension: os-floating-ips\n2013-05-31 12:11:53.746 | Loaded extension: os-extended-quotas\n2013-05-31 12:11:53.746 | Loaded extension: os-coverage\n2013-05-31 12:11:53.747 | Loaded extension: os-aggregates\n2013-05-31 12:11:53.747 | Loaded extension: os-server-diagnostics\n2013-05-31 12:11:53.747 | Loaded extension: os-console-output\n2013-05-31 12:11:53.747 | Loaded extension: os-security-groups\n2013-05-31 12:11:53.747 | Loaded extension: os-evacuate\n2013-05-31 12:11:53.747 | Loaded extension: os-used-limits\n2013-05-31 12:11:53.747 | Loaded extension: OS-FLV-EXT-DATA\n2013-05-31 12:11:53.747 | Loaded extension: OS-EXT-IMG-SIZE\n2013-05-31 12:11:53.747 | Loaded extension: os-server-start-stop\n2013-05-31 12:11:53.747 | Loaded extension: os-cloudpipe-update\n2013-05-31 12:11:53.747 | Loaded extension: OS-DCF\n2013-05-31 12:11:53.747 | Loaded extension: os-admin-actions\n2013-05-31 12:11:53.747 | Loaded extension: os-attach-interfaces\n2013-05-31 12:11:53.747 | Loaded extension: os-fixed-ips\n2013-05-31 12:11:53.747 | Loaded extension: os-instance_usage_audit_log\n2013-05-31 12:11:53.748 | Loaded extension: os-consoles\n2013-05-31 12:11:53.748 | Loaded extension: os-flavor-access\n2013-05-31 12:11:53.748 | Loaded extension: os-baremetal-nodes\n2013-05-31 12:11:53.748 | osapi_compute listening on 127.0.0.1:40408\n2013-05-31 12:11:53.748 | http://127.0.0.1:40408/v2\n2013-05-31 12:11:53.748 | Starting conductor node (version 2013.2)\n2013-05-31 12:11:53.748 | (31622) wsgi starting up on http://127.0.0.1:40408/\n2013-05-31 12:11:53.748 | \n2013-05-31 12:11:53.748 | Doing GET on /v2\n2013-05-31 12:11:53.748 | (31622) accepted ('127.0.0.1', 60809)\n2013-05-31 12:11:53.748 | \n2013-05-31 12:11:53.748 | 127.0.0.1 \"GET /v2 HTTP/1.1\" status: 204 len: 216 time: 0.0006292\n2013-05-31 12:11:53.748 | \n2013-05-31 12:11:53.748 | Doing GET on /v2/openstack//images/detail\n2013-05-31 12:11:53.748 | (31622) accepted ('127.0.0.1', 60810)\n2013-05-31 12:11:53.748 | \n2013-05-31 12:11:53.749 | 127.0.0.1 \"GET /v2/openstack//images/detail HTTP/1.1\" status: 200 len: 5251 time: 0.8105230\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | Doing GET on /v2/openstack//flavors/detail\n2013-05-31 12:11:53.749 | (31622) accepted ('127.0.0.1', 60813)\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | 127.0.0.1 \"GET /v2/openstack//flavors/detail HTTP/1.1\" status: 200 len: 2013 time: 0.0107400\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | Doing GET on /v2/openstack//servers/detail\n2013-05-31 12:11:53.749 | (31622) accepted ('127.0.0.1', 60814)\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | 127.0.0.1 \"GET /v2/openstack//servers/detail HTTP/1.1\" status: 200 len: 187 time: 0.0314510\n2013-05-31 12:11:53.749 | \n2013-05-31 12:11:53.749 | Doing POST on /v2/openstack//servers\n2013-05-31 12:11:53.749 | Body: {\"server\": {\"flavorRef\": \"http://fake.server/1\", \"name\": \"serverGNYOHCDP\", \"imageRef\": \"http://fake.server/70a599e0-31e7-49b7-b260-868f441e862b\"}}\n2013-05-31 12:11:53.749 | (31622) accepted ('127.0.0.1', 60815)\n2013-05-31 12:11:53.750 | \n2013-05-31 12:11:53.750 | Starting instance...\n2013-05-31 12:11:53.750 | Attempting claim: memory 512 MB, disk 1 GB, VCPUs 1\n2013-05-31 12:11:53.750 | Total Memory: 8192 MB, used: 512.00 MB\n2013-05-31 12:11:53.750 | Memory limit not specified, defaulting to unlimited\n2013-05-31 12:11:53.750 | Total Disk: 1028 GB, used: 0.00 GB\n2013-05-31 12:11:53.750 | Disk limit not specified, defaulting to unlimited\n2013-05-31 12:11:53.750 | Total CPU: 1 VCPUs, used: 0.00 VCPUs\n2013-05-31 12:11:53.750 | CPU limit not specified, defaulting to unlimited\n2013-05-31 12:11:53.750 | Claim successful\n2013-05-31 12:11:53.750 | 127.0.0.1 \"POST /v2/openstack//servers HTTP/1.1\" status: 202 len: 659 time: 0.5113389\n2013-05-31 12:13:26.360 | \n2013-05-31 12:13:26.360 | Doing GET on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.360 | (31622) accepted ('127.0.0.1', 60817)\n2013-05-31 12:13:26.360 | \n2013-05-31 12:13:26.360 | 127.0.0.1 \"GET /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 200 len: 1470 time: 0.0540881\n2013-05-31 12:13:26.360 | \n2013-05-31 12:13:26.360 | Doing DELETE on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.361 | (31622) accepted ('127.0.0.1', 60818)\n2013-05-31 12:13:26.361 | \n2013-05-31 12:13:26.361 | Auditing locally available compute resources\n2013-05-31 12:13:26.361 | 127.0.0.1 \"DELETE /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 204 len: 179 time: 0.2205250\n2013-05-31 12:13:26.361 | \n2013-05-31 12:13:26.361 | Doing GET on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.361 | (31622) accepted ('127.0.0.1', 60821)\n2013-05-31 12:13:26.361 | \n2013-05-31 12:13:26.361 | 127.0.0.1 \"GET /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 200 len: 1461 time: 0.0791640\n2013-05-31 12:13:26.361 | \n2013-05-31 12:13:26.361 | Doing POST on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd/action\n2013-05-31 12:13:26.361 | Body: {\"restore\": {}}\n2013-05-31 12:13:26.361 | Free ram (MB): 7168\n2013-05-31 12:13:26.361 | Free disk (GB): 1027\n2013-05-31 12:13:26.362 | Free VCPUS: 0\n2013-05-31 12:13:26.362 | (31622) accepted ('127.0.0.1', 60822)\n2013-05-31 12:13:26.362 | \n2013-05-31 12:13:26.362 | Compute_service record updated for 760497b8a7e84358b92c6bbe81556192:fake-mini\n2013-05-31 12:13:26.362 | Reclaiming deleted instance\n2013-05-31 12:13:26.362 | Terminating instance\n2013-05-31 12:13:26.362 | 127.0.0.1 \"POST /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd/action HTTP/1.1\" status: 202 len: 121 time: 0.2906492\n2013-05-31 12:13:26.362 | \n2013-05-31 12:13:26.362 | Doing GET on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.362 | (31622) accepted ('127.0.0.1', 60823)\n2013-05-31 12:13:26.362 | \n2013-05-31 12:13:26.362 | 127.0.0.1 \"GET /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 200 len: 1457 time: 0.0971241\n2013-05-31 12:13:26.362 | \n2013-05-31 12:13:26.362 | Updating bandwidth usage cache\n2013-05-31 12:13:26.362 | Doing GET on /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd\n2013-05-31 12:13:26.362 | (31622) accepted ('127.0.0.1', 60825)\n2013-05-31 12:13:26.363 | \n2013-05-31 12:13:26.363 | HTTP exception thrown: Instance could not be found\n2013-05-31 12:13:26.363 | 127.0.0.1 \"GET /v2/openstack//servers/42e6f3a9-6618-4197-97d4-67c7dbe33bfd HTTP/1.1\" status: 404 len: 267 time: 0.0434902\n2013-05-31 12:13:26.363 | \n2013-05-31 12:13:26.363 | Stopping WSGI server.\n2013-05-31 12:13:26.363 | }}}\n2013-05-31 12:13:26.363 | \n2013-05-31 12:13:26.363 | Traceback (most recent call last):\n2013-05-31 12:13:26.363 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/test_servers.py\", line 216, in test_deferred_delete_restore\n2013-05-31 12:13:26.363 |     found_server = self._wait_for_state_change(found_server, 'DELETED')\n2013-05-31 12:13:26.363 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/test_servers.py\", line 39, in _wait_for_state_change\n2013-05-31 12:13:26.363 |     server = self.api.get_server(server['id'])\n2013-05-31 12:13:26.363 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/api/client.py\", line 211, in get_server\n2013-05-31 12:13:26.363 |     return self.api_get('/servers/%s' % server_id)['server']\n2013-05-31 12:13:26.363 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/api/client.py\", line 180, in api_get\n2013-05-31 12:13:26.364 |     response = self.api_request(relative_uri, **kwargs)\n2013-05-31 12:13:26.364 |   File \"/home/jenkins/workspace/gate-nova-python27/nova/tests/integrated/api/client.py\", line 160, in api_request\n2013-05-31 12:13:26.364 |     raise OpenStackApiNotFoundException(response=response)\n2013-05-31 12:13:26.364 | OpenStackApiNotFoundException: Item not found\n2013-05-31 12:13:26.364 | Status Code: 404\n2013-05-31 12:13:26.364 | Body: {\"itemNotFound\": {\"message\": \"Instance could not be found\", \"code\": 404}}\n2013-05-31 12:13:26.364 | ======================================================================\n2013-05-31 12:13:26.364 | FAIL: process-returncode\n2013-05-31 12:13:26.364 | tags: worker-3\n2013-05-31 12:13:26.364 | ----------------------------------------------------------------------\n2013-05-31 12:13:26.364 | Binary content:\n2013-05-31 12:13:26.364 |   traceback (test/plain; charset=\"utf8\")\n2013-05-31 12:13:26.364 | Ran 6154 tests in 322.356s\n2013-05-31 12:13:26.364 | FAILED (id=0, failures=2, skips=8)\n2013-05-31 12:13:26.364 | error: testr failed (1)\n2013-05-31 12:13:26.581 | ERROR: InvocationError: '/home/jenkins/workspace/gate-nova-python27/.tox/py27/bin/python setup.py testr --slowest --testr-args='\n2013-05-31 12:13:26.582 | ___________________________________ summary ____________________________________\n2013-05-31 12:13:26.582 | ERROR:   py27: commands failed\n2013-05-31 12:13:26.600 | + result=1\n2013-05-31 12:13:26.600 | + echo 'Begin pip freeze output from test virtualenv:'\n2013-05-31 12:13:26.600 | Begin pip freeze output from test virtualenv:\n2013-05-31 12:13:26.600 | + echo ======================================================================\n2013-05-31 12:13:26.600 | ======================================================================", 
            "date_created": "2013-05-31 13:01:49.442685+00:00", 
            "author": "https://api.launchpad.net/1.0/~johngarbutt"
        }, 
        {
            "content": "Looks like the instance is being reclaimed before it gets to be restored.\r\n\r\n2013-05-31 12:13:26.362 | Reclaiming deleted instance\r\n\r\nThere is a race going on here and this is what i think happens.\r\n1. The restore command is issued, which immediately sets task_state=RESTORING and deleted_at=None.\r\n2. The reclaim job runs before the restore finishes and looks for soft deleted instances to remove. It finds the instance and looks if it is old enough by looking at deleted_at...BANG!\r\n\r\nThis happening to an instance that someone actually wants to restore is really bad.", 
            "date_created": "2013-06-01 22:48:02.120608+00:00", 
            "author": "https://api.launchpad.net/1.0/~hanlind"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/31402", 
            "date_created": "2013-06-01 22:57:58.169900+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/31402\nCommitted: http://github.com/openstack/nova/commit/cdf10381caad217ae9eb99c69a4226e40ba81db4\nSubmitter: Jenkins\nBranch:    master\n\ncommit cdf10381caad217ae9eb99c69a4226e40ba81db4\nAuthor: Hans Lindgren <email address hidden>\nDate:   Sun Jun 2 00:29:59 2013 +0200\n\n    Fix a race where a soft deleted instance might be removed by mistake\n    \n    When a soft deleted instance is restored there is a tiny risk that it\n    might be deleted if the reclaim periodic task runs at the same time.\n    This happens because the restore operation sets deleted_at to None\n    which makes the reclaim job think it is ok to delete the instance.\n    \n    This can be resolved by restricting reclaims to only those instances\n    whose task_state is None.\n    \n    Resolves bug 1186243.\n    \n    Change-Id: Ia138e2d504b7482c46900583f019a32c70513245\n", 
            "date_created": "2013-06-12 23:26:10.129024+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/grizzly\nReview: https://review.openstack.org/33822", 
            "date_created": "2013-06-20 13:51:44.448356+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/33822\nCommitted: http://github.com/openstack/nova/commit/c17e0c1d8f15854c2ef5cf3aadb1a89e8db55ecf\nSubmitter: Jenkins\nBranch:    stable/grizzly\n\ncommit c17e0c1d8f15854c2ef5cf3aadb1a89e8db55ecf\nAuthor: Hans Lindgren <email address hidden>\nDate:   Sun Jun 2 00:29:59 2013 +0200\n\n    Fix a race where a soft deleted instance might be removed by mistake\n    \n    When a soft deleted instance is restored there is a tiny risk that it\n    might be deleted if the reclaim periodic task runs at the same time.\n    This happens because the restore operation sets deleted_at to None\n    which makes the reclaim job think it is ok to delete the instance.\n    \n    This can be resolved by restricting reclaims to only those instances\n    whose task_state is None.\n    \n    Resolves bug 1186243.\n    \n    Conflicts:\n    \tnova/compute/manager.py\n    \tnova/db/sqlalchemy/api.py\n    \tnova/tests/compute/test_compute.py\n    \n    Change-Id: Ia138e2d504b7482c46900583f019a32c70513245\n    (cherry picked from commit cdf10381caad217ae9eb99c69a4226e40ba81db4)\n", 
            "date_created": "2013-07-28 22:30:14.535382+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}