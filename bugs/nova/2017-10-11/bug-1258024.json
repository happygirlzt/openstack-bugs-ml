{
    "status": "Invalid", 
    "last_updated": "2013-12-16 20:02:25.246099+00:00", 
    "description": "When I show server with \"nova show serverid\" ,it returns the flavor which does not  I use when creating server.\nI think it is a bug.\n\nBasically what is happening is:\n\n1.creating a flavor \"flavor1\" ,flavorid \"10\"\n2.deleting  flavor \"flavor1\"\n3.creating a flavor \"flavor2\", flavorid \"10\"\n4.booting a server with \"flavor2\"\n5.showing server details.\n\nThis bug because we show flavor details with flavorid in API, but the flavorid is not primary key in table.(another parameter \"id\" is PK)\nSo I think we should remove  \"flavorid\" from the table and show flavor with \"id\".", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1258024", 
    "owner": "None", 
    "id": 1258024, 
    "index": 4362, 
    "created": "2013-12-05 05:27:35.694137+00:00", 
    "title": "Wrong flavor name on show_server", 
    "comments": [
        {
            "content": "When I show server with \"nova show serverid\" ,it returns the flavor which does not  I use when creating server.\nI think it is a bug.\n\nBasically what is happening is:\n\n1.creating a flavor \"flavor1\" ,flavorid \"10\"\n2.deleting  flavor \"flavor1\"\n3.creating a flavor \"flavor2\", flavorid \"10\"\n4.booting a server with \"flavor2\"\n5.show server details.\n\nThis bug because we show flavor details with flavorid in API, but the flavorid is not Primary key in table.\nSo I think we should remove  \"flavorid\" from the table.", 
            "date_created": "2013-12-05 05:27:35.694137+00:00", 
            "author": "https://api.launchpad.net/1.0/~lin-qian"
        }, 
        {
            "content": "I am unable to produce your result. Can you please provide information about your setup. When I delete a flavor then create another one with the same ID, the newly created VM has the latest flavor attributes. ", 
            "date_created": "2013-12-05 23:06:49.604565+00:00", 
            "author": "https://api.launchpad.net/1.0/~maithem"
        }, 
        {
            "content": "Yes, the vm has the latest flavor attrubutes. \n\nI want to say that: when I show instance detail with \"nova show  serverid\", it returns flavor is flavorname(flavorid),\nand the flavorname is the old one. ", 
            "date_created": "2013-12-08 03:28:25.415384+00:00", 
            "author": "https://api.launchpad.net/1.0/~lin-qian"
        }, 
        {
            "content": "I am sorry. This bug is found in grizzly.Havana has fixed it. BUt found another one in Havana :\n1.creating a flavor \"test\" ,flavorid \"6\":\nroot@havana-07:~# nova flavor-create test 6 1024 10 1\n+----+------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+------+-----------+------+-----------+------+-------+-------------+-----------+\n| 6  | test | 1024      | 10   | 0         |      | 1     | 1.0         | True      |\n+----+------+-----------+------+-----------+------+-------+-------------+-----------+\n2.booting a server with \"test\"\nroot@havana-07:~# nova boot --flavor 6 --image 1981396c-17ae-4c58-9bcb-eb2bdee1b5d8 --nic net-id=d9c792cd-ad6a-41b0-b63c-b3e987b7aa19 test\n+--------------------------------------+--------------------------------------+\n| Property                             | Value                                |\n+--------------------------------------+--------------------------------------+\n| OS-EXT-STS:task_state                | scheduling                           |\n| image                                | cirros                               |\n| OS-EXT-STS:vm_state                  | building                             |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000009                    |\n| OS-SRV-USG:launched_at               | None                                 |\n| flavor                               | test                                 |\n| id                                   | 00672c2e-c1ce-42b7-9153-0fa4cdbf64ec |\n| security_groups                      | [{u'name': u'default'}]              |\n| user_id                              | 11b42c36a7d541b9b933afd69bb81ccb     |\n| OS-DCF:diskConfig                    | MANUAL                               |\n| accessIPv4                           |                                      |\n| accessIPv6                           |                                      |\n| progress                             | 0                                    |\n| OS-EXT-STS:power_state               | 0                                    |\n| OS-EXT-AZ:availability_zone          | nova                                 |\n| config_drive                         |                                      |\n| status                               | BUILD                                |\n| updated                              | 2013-12-09T14:49:25Z                 |\n| hostId                               |                                      |\n| OS-EXT-SRV-ATTR:host                 | None                                 |\n| OS-SRV-USG:terminated_at             | None                                 |\n| key_name                             | None                                 |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | None                                 |\n| name                                 | test                                 |\n| adminPass                            | idFDTwC239X4                         |\n| tenant_id                            | 1c840bbe802c43b7808b1e494518e6a6     |\n| created                              | 2013-12-09T14:49:24Z                 |\n| os-extended-volumes:volumes_attached | []                                   |\n| metadata                             | {}                                   |\n+--------------------------------------+--------------------------------------+\n3.deleting flavor \"test\"\nroot@havana-07:~# nova flavor-delete 6\n+----+------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+------+-----------+------+-----------+------+-------+-------------+-----------+\n| 6  | test | 1024      | 10   | 0         |      | 1     | 1.0         | True      |\n+----+------+-----------+------+-----------+------+-------+-------------+-----------+\n4.creating a flavor \"aaa\", flavorid \"6\"\nroot@havana-07:~# nova flavor-create aaa 6 1024 10 1\n+----+------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+------+-----------+------+-----------+------+-------+-------------+-----------+\n| 6  | aaa  | 1024      | 10   | 0         |      | 1     | 1.0         | True      |\n+----+------+-----------+------+-----------+------+-------+-------------+-----------+\n5.nova show serverid.\nroot@havana-07:~# nova show 00672c2e-c1ce-42b7-9153-0fa4cdbf64ec\n+--------------------------------------+----------------------------------------------------------+\n| Property                             | Value                                                    |\n+--------------------------------------+----------------------------------------------------------+\n| status                               | ACTIVE                                                   |\n| updated                              | 2013-12-09T14:49:34Z                                     |\n| OS-EXT-STS:task_state                | None                                                     |\n| OS-EXT-SRV-ATTR:host                 | havana-07                                                |\n| key_name                             | None                                                     |\n| image                                | cirros (1981396c-17ae-4c58-9bcb-eb2bdee1b5d8)            |\n| hostId                               | ef5fb275b8cd20762247514de1a9a014a6457cf502fff25327ab8301 |\n| OS-EXT-STS:vm_state                  | active                                                   |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000009                                        |\n| OS-SRV-USG:launched_at               | 2013-12-09T14:49:34.000000                               |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | havana-07                                                |\n| flavor                               | aaa (6)                                                  |\n| id                                   | 00672c2e-c1ce-42b7-9153-0fa4cdbf64ec                     |\n| security_groups                      | [{u'name': u'default'}]                                  |\n| OS-SRV-USG:terminated_at             | None                                                     |\n| user_id                              | 11b42c36a7d541b9b933afd69bb81ccb                         |\n| name                                 | test                                                     |\n| created                              | 2013-12-09T14:49:24Z                                     |\n| tenant_id                            | 1c840bbe802c43b7808b1e494518e6a6                         |\n| OS-DCF:diskConfig                    | MANUAL                                                   |\n| metadata                             | {}                                                       |\n| os-extended-volumes:volumes_attached | []                                                       |\n| accessIPv4                           |                                                          |\n| accessIPv6                           |                                                          |\n| net1 network                         | 10.150.0.4                                               |\n| progress                             | 0                                                        |\n| OS-EXT-STS:power_state               | 1                                                        |\n| OS-EXT-AZ:availability_zone          | nova                                                     |\n| config_drive                         |                                                          |\n+--------------------------------------+----------------------------------------------------------+\nit returns \" flavor    | aaa (6) \",I think it should be \"test\u201c.\n\n", 
            "date_created": "2013-12-09 02:08:52.120523+00:00", 
            "author": "https://api.launchpad.net/1.0/~lin-qian"
        }
    ]
}