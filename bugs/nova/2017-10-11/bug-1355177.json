{
    "status": "Invalid", 
    "last_updated": "2014-08-11 14:28:42.008046+00:00", 
    "description": "I have a 2012 R2 windows machine where hyperV, openstack nova compute service and openstack   neutron hyperV agent is installed.\n\nI have a devstack running where neutron is not installed.\n\nWhen I am trying to boot an instance, it fails with error: \"ConnectionFailed: Connection to neutron failed: HTTPConnectionPool(host='x.x.x.x', port=9696): Max retries exceeded with url\" and further re-scheduled to a different host.\n\nBut in the mean time compute service becomes dead in the hyperV host.\n\nnova list: \nnova-compute     WIN-4EUO2SEHJ92                      nova             enabled    XXX   2014-08-11 09:57:55\n\ncompute.log:\n014-08-11 10:21:53.653 3924 ERROR nova.compute.manager [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Instance failed to spawn\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Traceback (most recent call last):\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\compute\\manager.py\", line 2108, in _build_resources\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     yield resources\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\compute\\manager.py\", line 1994, in _build_and_run_instance\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     block_device_info=block_device_info)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\driver.py\", line 55, in spawn\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     admin_password, network_info, block_device_info)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py\", line 87, in wrapper\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     return function(self, *args, **kwds)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py\", line 255, in spawn\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     self.destroy(instance)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\openstack\\common\\excutils.py\", line 82, in __exit__\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     six.reraise(self.type_, self.value, self.tb)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py\", line 246, in spawn\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     root_vhd_path, eph_vhd_path)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py\", line 289, in create_instance\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     for vif in network_info:\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\model.py\", line 441, in __iter__\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     return self._sync_wrapper(fn, *args, **kwargs)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\model.py\", line 432, in _sync_wrapper\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     self.wait()\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\model.py\", line 464, in wait\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     self[:] = self._gt.wait()\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\eventlet\\greenthread.py\", line 168, in wait\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     return self._exit_event.wait()\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\eventlet\\event.py\", line 124, in wait\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     current.throw(*self._exc)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\eventlet\\greenthread.py\", line 207, in main\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     result = function(*args, **kwargs)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\compute\\manager.py\", line 1553, in _allocate_network_async\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     dhcp_options=dhcp_options)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\neutronv2\\api.py\", line 287, in allocate_for_instance\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     net_ids)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\neutronv2\\api.py\", line 150, in _get_available_networks\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     nets = neutron.list_networks(**search_opts).get('networks', [])\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 101, in with_params\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     ret = self.function(instance, *args, **kwargs)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 341, in list_networks\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     **_params)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1344, in list\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     for r in self._pagination(collection, path, **params):\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1357, in _pagination\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     res = self.get(path, params=params)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1330, in get\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     headers=headers, params=params)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1307, in retry_request\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     headers=headers, params=params)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1240, in do_request\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     resp, replybody = self.httpclient.do_request(action, method, body=body)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\client.py\", line 163, in do_request\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     **kwargs)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\client.py\", line 113, in _cs_request\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     raise exceptions.ConnectionFailed(reason=e)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] ConnectionFailed: Connection to neutron failed: HTTPConnectionPool(host='10.1.5.139', port=9696): Max retries exceeded with url: /v2.0/networks.json?tenant_id=d7e8ef6c573045fcb983b77bd2ecf7e4&shared=False (Caused by <class 'socket.error'>: [Errno 10061] WSAECONNREFUSED)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] \n2014-08-11 10:21:53.657 3924 AUDIT nova.compute.manager [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Terminating instance\n2014-08-11 10:21:53.658 3924 INFO nova.virt.hyperv.vmops [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Got request to destroy instance\n2014-08-11 10:21:53.668 3924 DEBUG nova.virt.hyperv.vmops [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Instance not found destroy C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py:375\n2014-08-11 10:21:53.671 3924 DEBUG nova.compute.claims [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Aborting claim: [Claim: 2048 MB memory, 20 GB disk, 1 VCPUS] abort C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\compute\\claims.py:113\n\nconductor.log:\n2014-08-11 18:46:32.261 ERROR nova.scheduler.utils [req-b9f1073d-f99c-4120-b87e-214a62148e7f admin demo] [instance: 3c010141-dd65-44c3-a776-2b1cdbbe2522] Erro\nr from last host: WIN-7VBQHQQ93FG (node WIN-7VBQHQQ93FG): [u'Traceback (most recent call last):\\n', u'  File \"C:\\\\Program Files (x86)\\\\Cloudbase Solutions\\\\Op\nenStack\\\\Nova\\\\Python27\\\\lib\\\\site-packages\\\\nova\\\\compute\\\\manager.py\", line 1913, in do_build_and_run_instance\\n    filter_properties)\\n', u'  File \"C:\\\\Pro\ngram Files (x86)\\\\Cloudbase Solutions\\\\OpenStack\\\\Nova\\\\Python27\\\\lib\\\\site-packages\\\\nova\\\\compute\\\\manager.py\", line 2042, in _build_and_run_instance\\n    i\nnstance_uuid=instance.uuid, reason=str(e))\\n', u\"RescheduledException: Build of instance 3c010141-dd65-44c3-a776-2b1cdbbe2522 was re-scheduled: Connection to\nneutron failed: HTTPConnectionPool(host='10.1.5.139', port=9696): Max retries exceeded with url: /v2.0/networks.json?tenant_id=d7e8ef6c573045fcb983b77bd2ecf7e\n4&shared=False (Caused by <class 'socket.error'>: [Errno 10061] WSAECONNREFUSED)\\n\"]", 
    "tags": [
        "compute", 
        "hyper-v"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1355177", 
    "owner": "None", 
    "id": 1355177, 
    "index": 5062, 
    "created": "2014-08-11 13:41:38.999560+00:00", 
    "title": "hyperV: compute service goes off when booting an instance fails", 
    "comments": [
        {
            "content": "I have a 2012 R2 windows machine where hyperV, openstack nova compute service and openstack   neutron hyperV agent is installed.\n\nI have a devstack running where neutron is not installed.\n\nWhen I am trying to boot an instance, it fails with error: \"ConnectionFailed: Connection to neutron failed: HTTPConnectionPool(host='x.x.x.x', port=9696): Max retries exceeded with url\" and further re-scheduled to a different host.\n\nBut in the mean time compute service becomes dead in the hyperV host.\n\nnova list: \nnova-compute     WIN-4EUO2SEHJ92                      nova             enabled    XXX   2014-08-11 09:57:55\n\ncompute.log:\n014-08-11 10:21:53.653 3924 ERROR nova.compute.manager [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Instance failed to spawn\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Traceback (most recent call last):\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\compute\\manager.py\", line 2108, in _build_resources\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     yield resources\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\compute\\manager.py\", line 1994, in _build_and_run_instance\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     block_device_info=block_device_info)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\driver.py\", line 55, in spawn\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     admin_password, network_info, block_device_info)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py\", line 87, in wrapper\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     return function(self, *args, **kwds)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py\", line 255, in spawn\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     self.destroy(instance)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\openstack\\common\\excutils.py\", line 82, in __exit__\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     six.reraise(self.type_, self.value, self.tb)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py\", line 246, in spawn\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     root_vhd_path, eph_vhd_path)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py\", line 289, in create_instance\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     for vif in network_info:\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\model.py\", line 441, in __iter__\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     return self._sync_wrapper(fn, *args, **kwargs)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\model.py\", line 432, in _sync_wrapper\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     self.wait()\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\model.py\", line 464, in wait\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     self[:] = self._gt.wait()\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\eventlet\\greenthread.py\", line 168, in wait\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     return self._exit_event.wait()\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\eventlet\\event.py\", line 124, in wait\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     current.throw(*self._exc)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\eventlet\\greenthread.py\", line 207, in main\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     result = function(*args, **kwargs)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\compute\\manager.py\", line 1553, in _allocate_network_async\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     dhcp_options=dhcp_options)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\neutronv2\\api.py\", line 287, in allocate_for_instance\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     net_ids)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\network\\neutronv2\\api.py\", line 150, in _get_available_networks\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     nets = neutron.list_networks(**search_opts).get('networks', [])\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 101, in with_params\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     ret = self.function(instance, *args, **kwargs)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 341, in list_networks\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     **_params)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1344, in list\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     for r in self._pagination(collection, path, **params):\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1357, in _pagination\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     res = self.get(path, params=params)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1330, in get\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     headers=headers, params=params)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1307, in retry_request\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     headers=headers, params=params)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\v2_0\\client.py\", line 1240, in do_request\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     resp, replybody = self.httpclient.do_request(action, method, body=body)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\client.py\", line 163, in do_request\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     **kwargs)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]   File \"C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\neutronclient\\client.py\", line 113, in _cs_request\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40]     raise exceptions.ConnectionFailed(reason=e)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] ConnectionFailed: Connection to neutron failed: HTTPConnectionPool(host='10.1.5.139', port=9696): Max retries exceeded with url: /v2.0/networks.json?tenant_id=d7e8ef6c573045fcb983b77bd2ecf7e4&shared=False (Caused by <class 'socket.error'>: [Errno 10061] WSAECONNREFUSED)\n2014-08-11 10:21:53.653 3924 TRACE nova.compute.manager [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] \n2014-08-11 10:21:53.657 3924 AUDIT nova.compute.manager [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Terminating instance\n2014-08-11 10:21:53.658 3924 INFO nova.virt.hyperv.vmops [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Got request to destroy instance\n2014-08-11 10:21:53.668 3924 DEBUG nova.virt.hyperv.vmops [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Instance not found destroy C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\virt\\hyperv\\vmops.py:375\n2014-08-11 10:21:53.671 3924 DEBUG nova.compute.claims [req-69c46c41-0aa1-47cc-8abe-7306ec5ef57d None] [instance: 6d430014-faa6-4af5-9701-063f61f4eb40] Aborting claim: [Claim: 2048 MB memory, 20 GB disk, 1 VCPUS] abort C:\\Program Files (x86)\\Cloudbase Solutions\\OpenStack\\Nova\\Python27\\lib\\site-packages\\nova\\compute\\claims.py:113\n\nconductor.log:\n2014-08-11 18:46:32.261 ERROR nova.scheduler.utils [req-b9f1073d-f99c-4120-b87e-214a62148e7f admin demo] [instance: 3c010141-dd65-44c3-a776-2b1cdbbe2522] Erro\nr from last host: WIN-7VBQHQQ93FG (node WIN-7VBQHQQ93FG): [u'Traceback (most recent call last):\\n', u'  File \"C:\\\\Program Files (x86)\\\\Cloudbase Solutions\\\\Op\nenStack\\\\Nova\\\\Python27\\\\lib\\\\site-packages\\\\nova\\\\compute\\\\manager.py\", line 1913, in do_build_and_run_instance\\n    filter_properties)\\n', u'  File \"C:\\\\Pro\ngram Files (x86)\\\\Cloudbase Solutions\\\\OpenStack\\\\Nova\\\\Python27\\\\lib\\\\site-packages\\\\nova\\\\compute\\\\manager.py\", line 2042, in _build_and_run_instance\\n    i\nnstance_uuid=instance.uuid, reason=str(e))\\n', u\"RescheduledException: Build of instance 3c010141-dd65-44c3-a776-2b1cdbbe2522 was re-scheduled: Connection to\nneutron failed: HTTPConnectionPool(host='10.1.5.139', port=9696): Max retries exceeded with url: /v2.0/networks.json?tenant_id=d7e8ef6c573045fcb983b77bd2ecf7e\n4&shared=False (Caused by <class 'socket.error'>: [Errno 10061] WSAECONNREFUSED)\\n\"]", 
            "date_created": "2014-08-11 13:41:38.999560+00:00", 
            "author": "https://api.launchpad.net/1.0/~mayank0107"
        }, 
        {
            "content": "This is the expected behaviour and it's unrelated to the Hyper-V driver.\n\nYou can tell Nova not to use Neutron by unsetting \"network_api_class\" in nova.conf on your Hyper-V compute node(s) which will revert to the default (Nova network).\n\nPlease note that Nova network is not supported on Hyper-V beyond the very basic flat networking.\n", 
            "date_created": "2014-08-11 14:27:23.085818+00:00", 
            "author": "https://api.launchpad.net/1.0/~alexpilotti"
        }
    ]
}