{
    "status": "Fix Released", 
    "last_updated": "2014-09-22 22:21:49.484586+00:00", 
    "description": "If non-admin user try to unshelve a server, nova-compute fails due to \"User does not have admin privileges\".\n\nThe nova-compute log likes the following: (http://logs.openstack.org/92/49892/9/check/check-tempest-devstack-vm-full/aff2152/logs/screen-n-cpu.txt.gz)\n2013-10-21 06:14:24.894 ERROR nova.openstack.common.rpc.amqp [req-32fb62d3-f520-4fef-b116-9855066b28d4 ServerActionsTestJSON-tempest-54235254-user ServerActionsTestJSON-tempest-54235254-tenant] Exception during message handling\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/exception.py\", line 90, in wrapped\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     payload)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/exception.py\", line 73, in wrapped\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 244, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     pass\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 230, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 295, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     function(self, context, *args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 272, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     e, sys.exc_info())\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 259, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3426, in unshelve_instance\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     do_unshelve_instance()\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/lockutils.py\", line 246, in inner\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3425, in do_unshelve_instance\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     self._unshelve_instance(context, instance, image)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3443, in _unshelve_instance\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     compute_info = self._get_compute_info(context, self.host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3908, in _get_compute_info\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     context, host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/conductor/api.py\", line 221, in service_get_by_compute_host\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = self._manager.service_get_all_by(context, 'compute', host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/conductor/rpcapi.py\", line 332, in service_get_all_by\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     topic=topic, host=host, binary=binary)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/rpcclient.py\", line 85, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return self._invoke(self.proxy.call, ctxt, method, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/rpcclient.py\", line 63, in _invoke\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return cast_or_call(ctxt, msg, **self.kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/proxy.py\", line 126, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = rpc.call(context, real_topic, msg, timeout)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/__init__.py\", line 139, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return _get_impl().call(CONF, context, topic, msg, timeout)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/impl_kombu.py\", line 816, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     rpc_amqp.get_connection_pool(conf, Connection))\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/amqp.py\", line 574, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     rv = list(rv)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/amqp.py\", line 539, in __iter__\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     raise result\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp AdminRequired_Remote: User does not have admin privileges\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/common.py\", line 439, in inner\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return catch_client_exception(exceptions, func, *args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/common.py\", line 420, in catch_client_exception\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return func(*args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/conductor/manager.py\", line 419, in service_get_all_by\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = self.db.service_get_by_compute_host(context, host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/db/api.py\", line 140, in service_get_by_compute_host\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return IMPL.service_get_by_compute_host(context, host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/db/sqlalchemy/api.py\", line 106, in wrapper\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     nova.context.require_admin_context(args[0])\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/context.py\", line 195, in require_admin_context\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     raise exception.AdminRequired()\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp AdminRequired: User does not have admin privileges\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp", 
    "tags": [
        "havana-backport-potential", 
        "in-stable-havana"
    ], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1245312", 
    "owner": "https://api.launchpad.net/1.0/~oomichi", 
    "id": 1245312, 
    "index": 3676, 
    "created": "2013-10-28 02:34:58.909248+00:00", 
    "title": "non-admin user cannot unshelve a server", 
    "comments": [
        {
            "content": "If non-admin user try to unshelve a server, nova-compute fails due to \"User does not have admin privileges\".\n\nThe nova-compute log likes the following: (http://logs.openstack.org/92/49892/9/check/check-tempest-devstack-vm-full/aff2152/logs/screen-n-cpu.txt.gz)\n2013-10-21 06:14:24.894 ERROR nova.openstack.common.rpc.amqp [req-32fb62d3-f520-4fef-b116-9855066b28d4 ServerActionsTestJSON-tempest-54235254-user ServerActionsTestJSON-tempest-54235254-tenant] Exception during message handling\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/exception.py\", line 90, in wrapped\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     payload)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/exception.py\", line 73, in wrapped\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 244, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     pass\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 230, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 295, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     function(self, context, *args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 272, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     e, sys.exc_info())\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 259, in decorated_function\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3426, in unshelve_instance\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     do_unshelve_instance()\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/lockutils.py\", line 246, in inner\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3425, in do_unshelve_instance\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     self._unshelve_instance(context, instance, image)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3443, in _unshelve_instance\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     compute_info = self._get_compute_info(context, self.host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 3908, in _get_compute_info\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     context, host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/conductor/api.py\", line 221, in service_get_by_compute_host\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = self._manager.service_get_all_by(context, 'compute', host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/conductor/rpcapi.py\", line 332, in service_get_all_by\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     topic=topic, host=host, binary=binary)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/rpcclient.py\", line 85, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return self._invoke(self.proxy.call, ctxt, method, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/rpcclient.py\", line 63, in _invoke\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return cast_or_call(ctxt, msg, **self.kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/proxy.py\", line 126, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = rpc.call(context, real_topic, msg, timeout)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/__init__.py\", line 139, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return _get_impl().call(CONF, context, topic, msg, timeout)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/impl_kombu.py\", line 816, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     rpc_amqp.get_connection_pool(conf, Connection))\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/amqp.py\", line 574, in call\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     rv = list(rv)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/amqp.py\", line 539, in __iter__\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     raise result\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp AdminRequired_Remote: User does not have admin privileges\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/common.py\", line 439, in inner\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return catch_client_exception(exceptions, func, *args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/openstack/common/rpc/common.py\", line 420, in catch_client_exception\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return func(*args, **kwargs)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/conductor/manager.py\", line 419, in service_get_all_by\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     result = self.db.service_get_by_compute_host(context, host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/db/api.py\", line 140, in service_get_by_compute_host\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     return IMPL.service_get_by_compute_host(context, host)\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/db/sqlalchemy/api.py\", line 106, in wrapper\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     nova.context.require_admin_context(args[0])\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/new/nova/nova/context.py\", line 195, in require_admin_context\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp     raise exception.AdminRequired()\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp AdminRequired: User does not have admin privileges\n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp \n2013-10-21 06:14:24.894 26229 TRACE nova.openstack.common.rpc.amqp", 
            "date_created": "2013-10-28 02:34:58.909248+00:00", 
            "author": "https://api.launchpad.net/1.0/~oomichi"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/54051", 
            "date_created": "2013-10-28 02:36:42.002991+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/54051\nCommitted: http://github.com/openstack/nova/commit/13fa2caaad796ee66c432e0d19fd6f759234a964\nSubmitter: Jenkins\nBranch:    master\n\ncommit 13fa2caaad796ee66c432e0d19fd6f759234a964\nAuthor: Ken'ichi Ohmichi <email address hidden>\nDate:   Mon Oct 28 11:16:48 2013 +0900\n\n    Make non-admin users can unshelve a server\n    \n    If non-admin users try to unshelve a server, nova-compute fails due to\n    \"User does not have admin privileges\" while getting hypervisor_hostname.\n    This patch changes the user context to admin's one temporarily to get the\n    hypervisor_hostname.\n    \n    Closes-Bug: 1245312\n    Change-Id: I84dce1f7694d09c1281da13c6008bb3aa5940f85\n", 
            "date_created": "2013-10-31 16:55:01.791989+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/havana\nReview: https://review.openstack.org/77734", 
            "date_created": "2014-03-03 23:50:04.999857+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/77734\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=83d739892e7826c4b377786cfa7432c9fecffe98\nSubmitter: Jenkins\nBranch:    stable/havana\n\ncommit 83d739892e7826c4b377786cfa7432c9fecffe98\nAuthor: Ken'ichi Ohmichi <email address hidden>\nDate:   Mon Oct 28 11:16:48 2013 +0900\n\n    Make non-admin users can unshelve a server\n    \n    If non-admin users try to unshelve a server, nova-compute fails due to\n    \"User does not have admin privileges\" while getting hypervisor_hostname.\n    This patch changes the user context to admin's one temporarily to get the\n    hypervisor_hostname.\n    \n    Closes-Bug: 1245312\n    Change-Id: I84dce1f7694d09c1281da13c6008bb3aa5940f85\n    (cherry picked from commit 13fa2caaad796ee66c432e0d19fd6f759234a964)\n", 
            "date_created": "2014-08-18 17:26:32.371531+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}