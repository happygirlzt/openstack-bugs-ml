{
    "status": "Invalid", 
    "last_updated": "2012-03-04 14:27:21.341004+00:00", 
    "description": "i started a new node with the services nova-compute and nova-network on it (using multi host networks). i'm using the default network model (FlatDHCPVlan)\n\nif i now live migrate an instance to this new node it looks like the network stuff doesn't come up. i don't have a running dnsmasq on the new node, i don't have the vlan interface on the new node and i don't have an ip address on the configured bridge. i think this is critical, because if i add a new node to compute and i want to remove all running instances from an other node to the new node (maintanance on the other node...) i have a problem...\n\nthis is the output of ip a s from the new node:\n\n5: br0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP \n    link/ether 00:14:0b:44:2a:1e brd ff:ff:ff:ff:ff:ff\n    inet 192.168.23.51/24 brd 192.168.23.255 scope global br0\n    inet6 fe80::214:bff:fe44:2a1e/64 scope link \n       valid_lft forever preferred_lft forever\n7: vnet0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master br0 state UNKNOWN qlen 500\n    link/ether fe:16:3e:51:a7:4c brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::fc16:3eff:fe51:a74c/64 scope link \n       valid_lft forever preferred_lft forever\n\nthis is the output of ip a s from the source node:\n\n4: br0: <BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP \n    link/ether 00:14:0b:44:25:15 brd ff:ff:ff:ff:ff:ff\n    inet 10.0.0.4/24 brd 10.0.0.255 scope global br0\n    inet 192.168.23.52/24 brd 192.168.23.255 scope global br0\n    inet6 fe80::214:bff:fe44:2515/64 scope link \n       valid_lft forever preferred_lft forever\n9: vlan100@eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue master br0 state UP \n    link/ether 02:16:3e:5f:4c:65 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::16:3eff:fe5f:4c65/64 scope link \n       valid_lft forever preferred_lft forever\n\n\nafter creating a new instance on the new compute node i have the vlan interface, a running dnsmasq and a new ip address on the bridge interface... the migrated instance is now also usable through the network.\n\n8: vlan100@eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue master br0 state UP \n    link/ether 02:16:3e:00:02:52 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::16:3eff:fe00:252/64 scope link \n       valid_lft forever preferred_lft forever\n\n5: br0: <BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP \n    link/ether 00:14:0b:44:2a:1e brd ff:ff:ff:ff:ff:ff\n    inet 10.0.0.5/24 brd 10.0.0.255 scope global br0\n    inet 192.168.23.51/24 brd 192.168.23.255 scope global br0\n    inet6 fe80::214:bff:fe44:2a1e/64 scope link \n       valid_lft forever preferred_lft forever", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/946348", 
    "owner": "None", 
    "id": 946348, 
    "index": 2653, 
    "created": "2012-03-04 13:59:56.109978+00:00", 
    "title": "networking problem if live migrating to a newly started nova compute node", 
    "comments": [
        {
            "content": "i started a new node with the services nova-compute and nova-network on it (using multi host networks). i'm using the default network model (FlatDHCPVlan)\n\nif i now live migrate an instance to this new node it looks like the network stuff doesn't come up. i don't have a running dnsmasq on the new node, i don't have the vlan interface on the new node and i don't have an ip address on the configured bridge. i think this is critical, because if i add a new node to compute and i want to remove all running instances from an other node to the new node (maintanance on the other node...) i have a problem...\n\nthis is the output of ip a s from the new node:\n\n5: br0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP \n    link/ether 00:14:0b:44:2a:1e brd ff:ff:ff:ff:ff:ff\n    inet 192.168.23.51/24 brd 192.168.23.255 scope global br0\n    inet6 fe80::214:bff:fe44:2a1e/64 scope link \n       valid_lft forever preferred_lft forever\n7: vnet0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master br0 state UNKNOWN qlen 500\n    link/ether fe:16:3e:51:a7:4c brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::fc16:3eff:fe51:a74c/64 scope link \n       valid_lft forever preferred_lft forever\n\nthis is the output of ip a s from the source node:\n\n4: br0: <BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP \n    link/ether 00:14:0b:44:25:15 brd ff:ff:ff:ff:ff:ff\n    inet 10.0.0.4/24 brd 10.0.0.255 scope global br0\n    inet 192.168.23.52/24 brd 192.168.23.255 scope global br0\n    inet6 fe80::214:bff:fe44:2515/64 scope link \n       valid_lft forever preferred_lft forever\n9: vlan100@eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue master br0 state UP \n    link/ether 02:16:3e:5f:4c:65 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::16:3eff:fe5f:4c65/64 scope link \n       valid_lft forever preferred_lft forever\n\n\nafter creating a new instance on the new compute node i have the vlan interface, a running dnsmasq and a new ip address on the bridge interface... the migrated instance is now also usable through the network.\n\n8: vlan100@eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue master br0 state UP \n    link/ether 02:16:3e:00:02:52 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::16:3eff:fe00:252/64 scope link \n       valid_lft forever preferred_lft forever\n\n5: br0: <BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP \n    link/ether 00:14:0b:44:2a:1e brd ff:ff:ff:ff:ff:ff\n    inet 10.0.0.5/24 brd 10.0.0.255 scope global br0\n    inet 192.168.23.51/24 brd 192.168.23.255 scope global br0\n    inet6 fe80::214:bff:fe44:2a1e/64 scope link \n       valid_lft forever preferred_lft forever", 
            "date_created": "2012-03-04 13:59:56.109978+00:00", 
            "author": "https://api.launchpad.net/1.0/~berendt"
        }, 
        {
            "content": "duplicate: 939060", 
            "date_created": "2012-03-04 14:27:17.736274+00:00", 
            "author": "https://api.launchpad.net/1.0/~berendt"
        }
    ]
}