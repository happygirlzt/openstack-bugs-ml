{
    "status": "Invalid", 
    "last_updated": "2012-07-12 14:12:06.554839+00:00", 
    "description": "I have built the openstack environment using crowbar.\nIn the network configuration file, I use the default \"nova-fixed\" configuration without any change.\n\nI could enter the dashboard UI and create instances. Also, I could reboot , terminate and edit the instance.\nBut I could not use the vnc console and log in the dashbboard.\n\nThe dashboard UI reported \" Unable to get vnc console for instance 3: The server has either erred or is incapable of performing the requested operation.\" The exceptions in the nova-api.log are as follows( there are no errors in the other nova  log files):\n\n2012-03-15 14:59:23,781 ERROR nova.api.openstack [-] Caught error: InstanceNotFound Instance instance-00000003 could not be found.\n[u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 1242, in get_vnc_console\\n    return self.driver.get_vnc_console(instance_ref)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 736, in get_vnc_console\\n    port = get_vnc_port_for_instance(instance[\\'name\\'])\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 727, in get_vnc_port_for_instance\\n    virt_dom = self._lookup_by_name(instance_name)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 1190, in _lookup_by_name\\n    raise exception.InstanceNotFound(instance_id=instance_name)\\n', u'InstanceNotFound: Instance instance-00000003 could not be found.\\n']\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/__init__.py\", line 64, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 919, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 887, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/keystone/middleware/auth_token.py\", line 212, in __call__\n(nova.api.openstack): TRACE:     return self._forward_request(env, start_response, proxy_headers)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/keystone/middleware/auth_token.py\", line 344, in _forward_request\n(nova.api.openstack): TRACE:     return self.app(env, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/wsgi.py\", line 494, in __call__\n(nova.api.openstack): TRACE:     action_result = self.dispatch(request, action, args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/wsgi.py\", line 522, in dispatch\n(nova.api.openstack): TRACE:     return controller_method(req=request, **action_args)\n(nova.api.openstack): TRACE:   File \"/var/lib/nova/extensions/admin.py\", line 412, in create\n(nova.api.openstack): TRACE:     context, instance_id=server_id)['url']\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/api.py\", line 1333, in get_vnc_console\n(nova.api.openstack): TRACE:     instance_id)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/api.py\", line 969, in _call_compute_message\n(nova.api.openstack): TRACE:     return rpc.call(context, queue, kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/__init__.py\", line 45, in call\n(nova.api.openstack): TRACE:     return get_impl().call(context, topic, msg)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 739, in call\n(nova.api.openstack): TRACE:     rv = list(rv)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 703, in __iter__\n(nova.api.openstack): TRACE:     raise result\n(nova.api.openstack): TRACE: RemoteError: InstanceNotFound Instance instance-00000003 could not be found.\n(nova.api.openstack): TRACE: [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 1242, in get_vnc_console\\n    return self.driver.get_vnc_console(instance_ref)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 736, in get_vnc_console\\n    port = get_vnc_port_for_instance(instance[\\'name\\'])\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 727, in get_vnc_port_for_instance\\n    virt_dom = self._lookup_by_name(instance_name)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 1190, in _lookup_by_name\\n    raise exception.InstanceNotFound(instance_id=instance_name)\\n', u'InstanceNotFound: Instance instance-00000003 could not be found.\\n']\n(nova.api.openstack): TRACE: \n\n\n\nI do not know what causes not find the instance and how to solve the problem.\n\nThanks a lot for everyone's help!", 
    "tags": [
        "console", 
        "dashboard", 
        "vnc"
    ], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/957316", 
    "owner": "None", 
    "id": 957316, 
    "index": 2703, 
    "created": "2012-03-16 18:44:13.755036+00:00", 
    "title": "error nova.api.openstack caught error: instance not found ", 
    "comments": [
        {
            "content": "I have built the openstack environment using crowbar.\nIn the network configuration file, I use the default \"nova-fixed\" configuration without any change.\n\nI could enter the dashboard UI and create instances. Also, I could reboot , terminate and edit the instance.\nBut I could not use the vnc console and log in the dashbboard.\n\nThe dashboard UI reported \" Unable to get vnc console for instance 3: The server has either erred or is incapable of performing the requested operation.\" The exceptions in the nova-api.log are as follows( there are no errors in the other nova  log files):\n\n2012-03-15 14:59:23,781 ERROR nova.api.openstack [-] Caught error: InstanceNotFound Instance instance-00000003 could not be found.\n[u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 1242, in get_vnc_console\\n    return self.driver.get_vnc_console(instance_ref)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 736, in get_vnc_console\\n    port = get_vnc_port_for_instance(instance[\\'name\\'])\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 727, in get_vnc_port_for_instance\\n    virt_dom = self._lookup_by_name(instance_name)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 1190, in _lookup_by_name\\n    raise exception.InstanceNotFound(instance_id=instance_name)\\n', u'InstanceNotFound: Instance instance-00000003 could not be found.\\n']\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/__init__.py\", line 64, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 919, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 887, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/keystone/middleware/auth_token.py\", line 212, in __call__\n(nova.api.openstack): TRACE:     return self._forward_request(env, start_response, proxy_headers)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/keystone/middleware/auth_token.py\", line 344, in _forward_request\n(nova.api.openstack): TRACE:     return self.app(env, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/wsgi.py\", line 494, in __call__\n(nova.api.openstack): TRACE:     action_result = self.dispatch(request, action, args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/wsgi.py\", line 522, in dispatch\n(nova.api.openstack): TRACE:     return controller_method(req=request, **action_args)\n(nova.api.openstack): TRACE:   File \"/var/lib/nova/extensions/admin.py\", line 412, in create\n(nova.api.openstack): TRACE:     context, instance_id=server_id)['url']\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/api.py\", line 1333, in get_vnc_console\n(nova.api.openstack): TRACE:     instance_id)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/api.py\", line 969, in _call_compute_message\n(nova.api.openstack): TRACE:     return rpc.call(context, queue, kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/__init__.py\", line 45, in call\n(nova.api.openstack): TRACE:     return get_impl().call(context, topic, msg)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 739, in call\n(nova.api.openstack): TRACE:     rv = list(rv)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 703, in __iter__\n(nova.api.openstack): TRACE:     raise result\n(nova.api.openstack): TRACE: RemoteError: InstanceNotFound Instance instance-00000003 could not be found.\n(nova.api.openstack): TRACE: [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 1242, in get_vnc_console\\n    return self.driver.get_vnc_console(instance_ref)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 736, in get_vnc_console\\n    port = get_vnc_port_for_instance(instance[\\'name\\'])\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 727, in get_vnc_port_for_instance\\n    virt_dom = self._lookup_by_name(instance_name)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt/connection.py\", line 1190, in _lookup_by_name\\n    raise exception.InstanceNotFound(instance_id=instance_name)\\n', u'InstanceNotFound: Instance instance-00000003 could not be found.\\n']\n(nova.api.openstack): TRACE: \n\n\n\nI do not know what causes not find the instance and how to solve the problem.\n\nThanks a lot for everyone's help!", 
            "date_created": "2012-03-16 18:44:13.755036+00:00", 
            "author": "https://api.launchpad.net/1.0/~zsq0204"
        }, 
        {
            "content": "I don't know if this is an openstack specific problem. It sounds like crowbar isn't setting up the vnc console configuration properly somehow.\n\nThis may help: http://docs.openstack.org/trunk/openstack-compute/admin/content/faq-about-vnc.html\n\nNot found is a very odd issue and may mean that the vm never actually launched correctly.  I would scour the logs for more errors, especially nova-compute logs.", 
            "date_created": "2012-06-07 17:43:45.683621+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "Looks like a packaging / install-prerequisites / crowbar issue... Not sure that's something tha can be fixed from inside Nova. Closing, please reopen (set back to New) if you disagree or if you can point to a specific issue within Nova.", 
            "date_created": "2012-07-12 14:12:02.572837+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }
    ]
}