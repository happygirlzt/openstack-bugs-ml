{
    "status": "Invalid", 
    "last_updated": "2015-12-18 20:08:14.632574+00:00", 
    "description": "Seen here:\n\nhttp://logs.openstack.org/38/249138/9/check/gate-grenade-dsvm-multinode/5b991dc/logs/new/screen-n-api.txt.gz?level=TRACE\n\n2015-12-09 12:44:56.998 ERROR nova.api.openstack.extensions [req-e2625ff8-3f5c-494c-8d84-a91d6d9c862b cinder_grenade cinder_grenade] Unexpected exception in API method\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/extensions.py\", line 478, in wrapped\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/compute/floating_ips.py\", line 291, in _remove_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     disassociate_floating_ip(self, context, instance, address)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/compute/floating_ips.py\", line 79, in disassociate_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     self.network_api.disassociate_floating_ip(context, instance, address)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/api.py\", line 49, in wrapped\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return func(self, context, *args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/base_api.py\", line 77, in wrapper\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     res = f(self, context, *args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/api.py\", line 240, in disassociate_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     affect_auto_assigned)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/utils.py\", line 1100, in wrapper\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/server.py\", line 150, in inner\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/floating_ips.py\", line 456, in disassociate_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     fixed_ip.instance_uuid)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/floating_ips.py\", line 490, in _disassociate_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     do_disassociate()\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py\", line 271, in inner\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/floating_ips.py\", line 483, in do_disassociate\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     self.l3driver.remove_floating_ip(address, fixed.address,\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions AttributeError: 'LocalManager' object has no attribute 'l3driver'\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions \n\n\n\nStarted in the last 24 hours:\n\nhttp://logstash.openstack.org/#dashboard/file/logstash.json?query=message:%5C%22AttributeError:%20'LocalManager'%20object%20has%20no%20attribute%20'l3driver'%5C%22%20AND%20tags:%5C%22screen-n-api.txt%5C%22\n\nThinking it's something in oslo.messaging 3.1.0 that was merged into upper-constraints on 12/8:\n\nhttps://review.openstack.org/#/c/254571/", 
    "tags": [
        "in-feature-pika", 
        "in-stable-kilo", 
        "in-stable-liberty", 
        "network"
    ], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1524418", 
    "owner": "None", 
    "id": 1524418, 
    "index": 1855, 
    "created": "2015-12-09 17:03:08.561568+00:00", 
    "title": "gate-grenade-dsvm-multinode fails with 'AttributeError: 'LocalManager' object has no attribute 'l3driver''", 
    "comments": [
        {
            "content": "Seen here:\n\nhttp://logs.openstack.org/38/249138/9/check/gate-grenade-dsvm-multinode/5b991dc/logs/new/screen-n-api.txt.gz?level=TRACE\n\n2015-12-09 12:44:56.998 ERROR nova.api.openstack.extensions [req-e2625ff8-3f5c-494c-8d84-a91d6d9c862b cinder_grenade cinder_grenade] Unexpected exception in API method\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/extensions.py\", line 478, in wrapped\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/compute/floating_ips.py\", line 291, in _remove_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     disassociate_floating_ip(self, context, instance, address)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/compute/floating_ips.py\", line 79, in disassociate_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     self.network_api.disassociate_floating_ip(context, instance, address)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/api.py\", line 49, in wrapped\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return func(self, context, *args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/base_api.py\", line 77, in wrapper\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     res = f(self, context, *args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/api.py\", line 240, in disassociate_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     affect_auto_assigned)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/utils.py\", line 1100, in wrapper\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/server.py\", line 150, in inner\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/floating_ips.py\", line 456, in disassociate_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     fixed_ip.instance_uuid)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/floating_ips.py\", line 490, in _disassociate_floating_ip\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     do_disassociate()\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py\", line 271, in inner\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/network/floating_ips.py\", line 483, in do_disassociate\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions     self.l3driver.remove_floating_ip(address, fixed.address,\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions AttributeError: 'LocalManager' object has no attribute 'l3driver'\n2015-12-09 12:44:56.998 15804 ERROR nova.api.openstack.extensions \n\n\n\nStarted in the last 24 hours:\n\nhttp://logstash.openstack.org/#dashboard/file/logstash.json?query=message:%5C%22AttributeError:%20'LocalManager'%20object%20has%20no%20attribute%20'l3driver'%5C%22%20AND%20tags:%5C%22screen-n-api.txt%5C%22\n\nThinking it's something in oslo.messaging 3.1.0 that was merged into upper-constraints on 12/8:\n\nhttps://review.openstack.org/#/c/254571/", 
            "date_created": "2015-12-09 17:03:08.561568+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "https://github.com/openstack/oslo.messaging/compare/3.0.0...3.1.0", 
            "date_created": "2015-12-09 17:17:15.408128+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "The crux of this issue is really that nova-network is failing to check in after shutdown / restart, which is why it's being seen on grenade jobs only:\n\nhttp://logstash.openstack.org/#dashboard/file/logstash.json?query=message:%5C%22Timed%20out%20waiting%20for%20a%20reply%20to%20message%20ID%5C%22%20AND%20tags:screen-n-net.txt", 
            "date_created": "2015-12-09 17:37:22.858902+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Related fix proposed to branch: master\nReview: https://review.openstack.org/255403", 
            "date_created": "2015-12-09 17:50:50.898222+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/255435", 
            "date_created": "2015-12-09 18:40:16.636637+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: stable/kilo\nReview: https://review.openstack.org/255530", 
            "date_created": "2015-12-09 21:21:36.827693+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/255532", 
            "date_created": "2015-12-09 21:22:24.289397+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Hmm, the oslo.messaging!=3.1.0 block in nova failed on this bug, so maybe not the problem?\n\nhttps://review.openstack.org/#/c/253901/", 
            "date_created": "2015-12-10 02:23:06.773437+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/255403\nCommitted: https://git.openstack.org/cgit/openstack/oslo.messaging/commit/?id=e72599435c59c09277a9da7686b32aa4f9df7ba4\nSubmitter: Jenkins\nBranch:    master\n\ncommit e72599435c59c09277a9da7686b32aa4f9df7ba4\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 9 18:49:19 2015 +0100\n\n    Don't trigger error_callback for known exc\n    \n    When AMQPDestinationNotFound is raised, we must not\n    call the error_callback method. The exception is logged\n    only if needed in upper layer (amqpdriver.py).\n    \n    Related-bug: #1524418\n    \n    Change-Id: Ic1ddec2d13172532dbaa572d04a4c22c97ac4fe7\n", 
            "date_created": "2015-12-10 06:44:36.013106+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/255435\nCommitted: https://git.openstack.org/cgit/openstack/oslo.messaging/commit/?id=3ee86964fa460882d8fcac8686edd0e6bfb12008\nSubmitter: Jenkins\nBranch:    master\n\ncommit 3ee86964fa460882d8fcac8686edd0e6bfb12008\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 9 19:37:40 2015 +0100\n\n    Revert \"default of kombu_missing_consumer_retry_timeout\"\n    \n    This reverts commit 8c03a6db6c0396099e7425834998da5478a1df7c.\n    \n    Closes-bug: #1524418\n    Change-Id: I35538a6c15d6402272e4513bc1beaa537b0dd7b9\n", 
            "date_created": "2015-12-10 06:49:46.732049+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/255530\nCommitted: https://git.openstack.org/cgit/openstack/oslo.messaging/commit/?id=8093aefaae695bc4407b451f8863ed1137a0e022\nSubmitter: Jenkins\nBranch:    stable/kilo\n\ncommit 8093aefaae695bc4407b451f8863ed1137a0e022\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 9 18:49:19 2015 +0100\n\n    Don't trigger error_callback for known exc\n    \n    When AMQPDestinationNotFound is raised, we must not\n    call the error_callback method. The exception is logged\n    only if needed in upper layer (amqpdriver.py).\n    \n    Related-bug: #1524418\n    Related-bug: #1521958\n    \n    (cherry picked from commit Ic1ddec2d13172532dbaa572d04a4c22c97ac4fe7)\n    \n    Change-Id: I4bc323f0b9578cfd4972f882d6fbf59b9064ca53\n", 
            "date_created": "2015-12-11 09:29:57.299777+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: master\nReview: https://review.openstack.org/256312", 
            "date_created": "2015-12-11 10:03:32.583453+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/256325", 
            "date_created": "2015-12-11 10:32:50.637328+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/256326", 
            "date_created": "2015-12-11 10:33:09.638643+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Mehdi Abaakouk (sileht) (<email address hidden>) on branch: stable/liberty\nReview: https://review.openstack.org/256326", 
            "date_created": "2015-12-11 10:33:52.966964+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Mehdi Abaakouk (sileht) (<email address hidden>) on branch: stable/liberty\nReview: https://review.openstack.org/256325", 
            "date_created": "2015-12-11 10:35:22.746888+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/256327", 
            "date_created": "2015-12-11 10:35:54.749767+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: stable/kilo\nReview: https://review.openstack.org/256331", 
            "date_created": "2015-12-11 10:43:48.699151+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: stable/kilo\nReview: https://review.openstack.org/256336", 
            "date_created": "2015-12-11 10:49:08.809957+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Mehdi Abaakouk (sileht) (<email address hidden>) on branch: stable/liberty\nReview: https://review.openstack.org/256327", 
            "date_created": "2015-12-11 10:49:45.350557+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Mehdi Abaakouk (sileht) (<email address hidden>) on branch: stable/kilo\nReview: https://review.openstack.org/256331", 
            "date_created": "2015-12-11 10:49:50.169427+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This was not a Nova problem", 
            "date_created": "2015-12-11 14:08:52.510721+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/255532\nCommitted: https://git.openstack.org/cgit/openstack/oslo.messaging/commit/?id=9e095c4bd84c3e83e394071c4f49a8bba3eb1dd6\nSubmitter: Jenkins\nBranch:    stable/liberty\n\ncommit 9e095c4bd84c3e83e394071c4f49a8bba3eb1dd6\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 9 18:49:19 2015 +0100\n\n    Don't trigger error_callback for known exc\n    \n    When AMQPDestinationNotFound is raised, we must not\n    call the error_callback method. The exception is logged\n    only if needed in upper layer (amqpdriver.py).\n    \n    Related-bug: #1524418\n    Related-bug: #1521958\n    \n    (cherry picked from commit Ic1ddec2d13172532dbaa572d04a4c22c97ac4fe7)\n    \n    Change-Id: Id874fcfb50b1661031589bfb6d93ddb84a1467c6\n", 
            "date_created": "2015-12-11 16:19:41.357251+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/256312\nCommitted: https://git.openstack.org/cgit/openstack/oslo.messaging/commit/?id=17ccb2306d03a74304c57d31716a54ba2b3b4311\nSubmitter: Jenkins\nBranch:    master\n\ncommit 17ccb2306d03a74304c57d31716a54ba2b3b4311\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Fri Dec 11 10:59:54 2015 +0100\n\n    Move to debug a too verbose log\n    \n    When a client is gone (died/restart) and somes replies cannot be sent because\n    the the exchange of this client will never comeback. We log one message per\n    reply every 0.25 messages during 60 seconds. When the only useful log\n    is the one where we decide to drop this replies.\n    \n    This change moves the less important message to debug level.\n    \n    Change-Id: I508787c0db4dcec2c0027b89eb4e65c4f98022b9\n    Related-bug: #1524418\n", 
            "date_created": "2015-12-12 07:37:33.984527+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: feature/pika\nReview: https://review.openstack.org/257373", 
            "date_created": "2015-12-14 14:22:39.837438+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/257373\nCommitted: https://git.openstack.org/cgit/openstack/oslo.messaging/commit/?id=cc0f8cc8a9ff25c9fb081cac5366c12a0c06ec53\nSubmitter: Jenkins\nBranch:    feature/pika\n\ncommit a5d78891745b6b9e5827271dc305f00acae1392f\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Fri Dec 11 15:24:05 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: Ifd78016c067740477a82dbe06d74d5944ba91893\n\ncommit 17ccb2306d03a74304c57d31716a54ba2b3b4311\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Fri Dec 11 10:59:54 2015 +0100\n\n    Move to debug a too verbose log\n    \n    When a client is gone (died/restart) and somes replies cannot be sent because\n    the the exchange of this client will never comeback. We log one message per\n    reply every 0.25 messages during 60 seconds. When the only useful log\n    is the one where we decide to drop this replies.\n    \n    This change moves the less important message to debug level.\n    \n    Change-Id: I508787c0db4dcec2c0027b89eb4e65c4f98022b9\n    Related-bug: #1524418\n\ncommit 46daf858144202a072c4bf8580aeafec11d20e13\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Fri Dec 11 11:04:13 2015 +0300\n\n    Cleanup parameter docstrings\n    \n    Change-Id: I301fdd51446bf0c0a6dd0d05b26da0556db8367d\n\ncommit 3ee86964fa460882d8fcac8686edd0e6bfb12008\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 9 19:37:40 2015 +0100\n\n    Revert \"default of kombu_missing_consumer_retry_timeout\"\n    \n    This reverts commit 8c03a6db6c0396099e7425834998da5478a1df7c.\n    \n    Closes-bug: #1524418\n    Change-Id: I35538a6c15d6402272e4513bc1beaa537b0dd7b9\n\ncommit e72599435c59c09277a9da7686b32aa4f9df7ba4\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 9 18:49:19 2015 +0100\n\n    Don't trigger error_callback for known exc\n    \n    When AMQPDestinationNotFound is raised, we must not\n    call the error_callback method. The exception is logged\n    only if needed in upper layer (amqpdriver.py).\n    \n    Related-bug: #1524418\n    \n    Change-Id: Ic1ddec2d13172532dbaa572d04a4c22c97ac4fe7\n\ncommit 185693a6ed57e02b2f94b0fb8f14a91471605969\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 9 11:23:52 2015 +0100\n\n    Improves comment\n    \n    Change-Id: Idc8002e6d622435aac48304857985c0f82be3e32\n\ncommit 148e8380ce1cc4f60716300b95104aaa2cf8c543\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Fri Dec 4 14:57:03 2015 +0100\n\n    Fix reconnection when heartbeat is missed\n    \n    When a heartbeat is missing we call ensure_connection()\n    that runs a dummy method to trigger the reconnection\n    code in kombu. But also the code is triggered only if the\n    channel is None.\n    \n    In case of the heartbeat threads we didn't reset the channel\n    before reconnecting, so the dummy method doesn't do anything.\n    \n    This change sets the channel to None to ensure the connection\n    is reestablished before the dummy method is run.\n    \n    Also it replaces the dummy method by checking the kombu connection\n    object. So we are sure the connection is reestablished.\n    \n    Change-Id: I39f8cd23c5a5498e6f4c1aa3236ed27f3b5d7c9a\n    Closes-bug: #1493890\n\ncommit 050024f7984397010c38cbfb8626112d33cbec43\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Tue Dec 8 08:03:55 2015 +0000\n\n    Fix notifier options registration\n    \n    Change-Id: I37082f6f349e89af6b74e6ec5e5c416902299263\n\ncommit 185f94c013442d87edcea3d81b133d26fdf8a945\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Tue Dec 1 10:27:23 2015 +0100\n\n    notif: Check the driver features in dispatcher\n    \n    The transport/driver features check is done into the get listener\n    methods.\n    So when these methods are not used the driver features checks is not\n    done.\n    \n    This change moves it into the dispatcher layer to ensure the\n    requirements are always checked.\n    \n    This changes a bit the behavior of when the check occurs. Before\n    it was during the listener object initialisation. Now this\n    when the listener server start.\n    \n    Change-Id: I4d81a4e8496f04d62e48317829d5dd8b942d501c\n\ncommit 4dd644ac201ee0fe247d648a2f735998416bf2c7\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Sun Aug 2 10:26:02 2015 +0200\n\n    batch notification listener\n    \n    Gnocchi performs better if measurements are write in batch\n    When Ceilometer is used with Gnocchi, this is not possible.\n    \n    This change introduce a new notification listener that allows that.\n    \n    On the driver side, a default batch implementation is provided.\n    It's just call the legacy poll method many times.\n    \n    Driver can override it to provide a better implementation.\n    For example, kafka handles batch natively and take benefit of this.\n    \n    Change-Id: I16184da24b8661aff7f4fba6196ecf33165f1a77\n\ncommit a1fb6b9776dd635cf53d3bb03867de879cb4ed89\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Tue Dec 8 02:32:50 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: Ie3e254b5b37a1d74eeb24ce1ae179ca9b4e84707\n\ncommit bdf287e847024368e20f5f806380e97070c9561c\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Tue Dec 1 09:34:57 2015 +0100\n\n    creates a dispatcher abstraction\n    \n    This change creates a dispatcher abstraction\n    to document the interface of a dispatcher.\n    \n    And also allows in the futur to have attributes with default values.\n    \n    Change-Id: I9a7e5e03f89635a3790b3851f492a1a7aab58feb\n\ncommit 2a4f915891eec8adabc1caaff3948dbde0ef6bbe\nAuthor: Stanis\u0142aw Pitucha <email address hidden>\nDate:   Mon Dec 7 15:11:50 2015 +1100\n\n    Remove unnecessary quote\n    \n    Change-Id: I6ec2297495c1a7ce409ea0de9a92a9720b6e2dca\n\ncommit 5561a6fd0fbe8dc7defb8fb1f7432fc460954aa4\nAuthor: Stanis\u0142aw Pitucha <email address hidden>\nDate:   Mon Dec 7 15:09:43 2015 +1100\n\n    Fix multiline strings with missing spaces\n    \n    Change-Id: Ide9999f6bb80f0f87500270a4fc024462bce0dbf\n\ncommit 52ccff7cbc26af0738d7a0a7d6e99330421b61d1\nAuthor: Oleksii Zamiatin <email address hidden>\nDate:   Fri Dec 4 21:47:18 2015 +0200\n\n    Properly skip zmq tests without ZeroMQ being installed\n    \n    In this change import_zmq() doesn't raise ImportError any more\n    for the benefit of skipping tests.\n    Alarm about zmq unavailability moved to driver's init.\n    \n    Change-Id: I6e6acc39f42c979333510064d9e845228400d233\n    Closes-Bug: #1522920\n\ncommit c1d0412e2d5b437b06d8729bbe2cdaea594427be\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 2 10:13:18 2015 +0100\n\n    kombu: remove compat of folsom reply format\n    \n    This change removes codepath where _reply_q is not\n    present in the message dict.\n    \n    This kind of messages have been deprecated in grizzly and cannot\n    be emitted since havana.\n    \n    https://github.com/openstack/oslo-incubator/commit/70891c271e011f59792933eaf65c3214493ef14a\n    \n    Change-Id: I20558d9fae8f56970c967aa0def77cfb2a1ca3ec\n\ncommit 6ad70713a3316dd2003ff1f73db573b674a6f20f\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 2 10:02:01 2015 +0100\n\n    Follow the plan about the single reply message\n    \n    This change removes the \"send_single_reply\" option as planned in the bp:\n    \n    http://specs.openstack.org/openstack/oslo-specs/specs/liberty/oslo.messaging-remove-double-reply.html\n    \n    Change-Id: Ib88de71cb2008a49a25f302d5e47ed587154d402\n\ncommit 8c03a6db6c0396099e7425834998da5478a1df7c\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 2 09:39:37 2015 +0100\n\n    default of kombu_missing_consumer_retry_timeout\n    \n    This change the default of kombu_missing_consumer_retry_timeout\n    \n    The initial value of 60 seconds, have been chosen because the default\n    rpc_response_timeout is 60. That means, the client doesn't wait for\n    its reply after rpc_response_timeout is reach, so we don't need\n    to retry it send it its reply more than rpc_response_timeout.\n    \n    But the real intent of kombu_missing_consumer_retry_timeout is\n    to mitigate the side effect when the rabbitmq server(s) died/failover/restart.\n    \n    So the question is more how long we expect the server(s) to come back\n    and all the oslo.messaging applications to reconnect.\n    \n    In that case 60 seconds looks a bit high.\n    \n    Also this 60 seconds have a sad side effect when we can't send the reply\n    when the rpc client is really gone (like nova-compute restart).\n    The rabbitmq connection to send the reply is hold during 60 seconds.\n    \n    I propose 5 seconds because,i n case of failover or restart I expect\n    everything because normal in less that 5 seconds.\n    \n    Change-Id: I2ec174e440eb91e950d9453a9de8b97ed5888968\n\ncommit 18d1708711191a8cfee479499ac066828355d47f\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 2 09:36:02 2015 +0100\n\n    rename kombu_reconnect_timeout option\n    \n    This change renames kombu_reconnect_timeout to missing_consumer_retry_timeout.\n    And improves its documentation.\n    \n    Change-Id: I961cf96108db2f392b13d159f516baac9ff4e989\n\ncommit 822b803fb0d7e260628230c680b4975c1a3e0900\nAuthor: Kenneth Giusti <email address hidden>\nDate:   Thu Dec 3 14:22:50 2015 -0500\n\n    Skip Cyrus SASL tests if proton does not support Cyrus SASL\n    \n    Change-Id: I265d17a2c92b97777a5a97683b95427825872d3a\n    Closes-Bug: #1508523\n\ncommit 74a0ec8b1c4b3ca6c700d110d6bfd77348cc970a\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Wed Dec 2 14:43:32 2015 -0500\n\n    setUp/tearDown decorator for set/clear override\n    \n    Problem with recursion shows up only in full runs\n    of Nova for example. So split the code that sets\n    up the decorator and add a method to cleanup\n    the decorated set_override during teardown.\n    \n    Also add a decorator for clear_override similar to\n    the one for set_override.\n    \n    Added more tests for all the above.\n    \n    Change-Id: Ib16af2e770e96d971aef7f5c5d48ffd781477cfe\n\ncommit b6ad95e1caa19a755e11077facaa2022b64d0cf0\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Tue Dec 1 17:23:20 2015 -0500\n\n    Support older notifications set_override keys\n    \n    Neutron and Ceilometer use set_override to set\n    the older deprecated key. We should support them\n    using the ConfFixture\n    \n    Closes-Bug: #1521776\n    Change-Id: I2bd77284f80bc4525f062f313b1ec74f2b54b395\n\ncommit daddb82788918296f8b34d6cdeb40d01620fb183\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Wed Dec 2 11:38:27 2015 +0100\n\n    Don't hold the connection when reply fail\n    \n    This change moves the reply retry code to upper layer\n    to be able to release the connection while we wait between\n    two retries.\n    \n    In the worse scenario, a client waits for more than 30 replies\n    and died/restart, the server tries to send this 30 replies to this\n    this client and can wait too 60s per replies. During this\n    replies for other clients are just stuck.\n    \n    This change fixes that.\n    \n    Related-bug: #1477914\n    Closes-bug: #1521958\n    \n    Change-Id: I0d3c16ea6d2c1da143de4924b3be41d1cea159bd\n\ncommit cc97ba2e17d48cc5fa02f8d9c32b2e0ffacab1a6\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Tue Dec 1 15:50:50 2015 +0100\n\n    doc: explain rpc call/cast expection\n    \n    This change adds some doc about remote method execution expectation\n    when rpc call/cast is used.\n    \n    Change-Id: Idb26413fc9a6747ebcd6fd32b82f63ea97bfae16\n\ncommit 67c63031f5cb1a675686fc2648ce27f6e36ee254\nAuthor: Komei Shimamura <email address hidden>\nDate:   Fri Jun 5 23:05:29 2015 -0700\n\n    Add a driver for Apache Kafka\n    \n    Adding a driver for Apache Kafka connection, supporting\n    notification via Kafka. This driver is experimental\n    until having functional and integration tests\n    \n    Change-Id: I7a5d8e3259b21d5e29ed3b795d04952e1d13ad08\n    Implements: blueprint adding-kafka-support\n\ncommit 33c1010c3281804456a22b769c4bac5ac6a7cca1\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Tue Nov 24 19:56:16 2015 -0500\n\n    Option group for notifications\n    \n    In change Ief6f95ea906bfd95b3218a930c9db5d8a764beb9, we\n    decoupled RPC and Notifications a bit. We should take another\n    step and separate out the options for notifications into\n    its own group.\n    \n    Change-Id: Ib51e2839f9035d0cc0e3f459939d9f9003a8c810\n\ncommit 357dcb75abdfe1fc78e034d1913f478357cde18f\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Sun Nov 29 18:26:32 2015 -0500\n\n    Move ConnectionPool and ConnectionContext outside amqp.py\n    \n    ConnectionPool and ConnectionContext can be used by other\n    drivers (like Kafka) and hence should be outside of amqp.py.\n    * Moving ConnectionPool to pool.py\n    * Moving ConnectionContext to common.py\n    * Moving a couple of global variables to common.py\n    \n    No other logic changes, just refactoring\n    \n    Change-Id: I85154509a361690426772ef116590d38a965ca8d\n\ncommit 6ae46796a61fc97467450b5bdd51dc6a0c86f9f4\nAuthor: Dmitry Mescheryakov <email address hidden>\nDate:   Mon Nov 23 17:27:24 2015 +0300\n\n    Use round robin failover strategy for Kombu driver\n    \n    Shuffle strategy we use right now leads to increased reconnection time\n    and provides no benefit. Sometimes it might lead to RPC operations\n    timeout because the strategy provides no guarantee on how long the\n    reconnection process will take. See the referenced bug for details.\n    \n    On the other side, round-robin strategy provides least achievable\n    reconnection time. It also provides guarantee that if K of N RabbitMQ\n    hosts are alive, it will take at most N - K + 1 attempts to\n    successfully reconnect to RabbitMQ cluster.\n    \n    With shuffle strategy during failover clients connect to random hosts\n    and so the load is distributed evenly between alive RabbitMQs.\n    But since we shuffle list of hosts before providing it to Kombu, load\n    will be distributed evenly with round-robin strategy as well.\n    \n    DocImpact\n    A new configuration option kombu_failover_strategy for Kombu driver is\n    added. It determines how the next RabbitMQ node is chosen in case the\n    one we are currently connected to becomes unavailable. It takes effect\n    only if more than one RabbitMQ node is provided in config. Available\n    options are:\n    \n     * round-robin: each RabbitMQ host in the list is tried in cycle until\n       oslo.messaging successfully connects. Since oslo.messaging\n       shuffles list of RabbitMQ hosts, the order of hosts in the cycle\n       will be random and will not depend on order provided in config.\n    \n     * shuffle: oslo.messaging selects a random host from the list and\n       tries to connect to it. If connection fails, oslo.messaging repeats\n       attempt to connect to another random host. Oslo.messaging stops\n       once it successfully connects to a host. Note that in each\n       iteration a host to connect is selected independently of previous\n       iterations, i.e. it might happen that oslo.messaging will try to\n       connect to the same host several times in a row.\n    \n    The option's default value is round-robin. Before the option was\n    introduced, the default strategy was shuffle. For the reasoning,\n    see the main body of the commit message and the referenced bug.\n    \n    Closes-Bug: #1519851\n    Change-Id: I9a510c86bd5a6ce8b707734385af1a83de82804e\n\ncommit 6cd1dcebc0801dc16db5f64c81baf1fe17165c88\nAuthor: Davanum Srinivas (dims) <email address hidden>\nDate:   Sun Nov 29 02:21:46 2015 +0000\n\n    Revert \"serializer: remove deprecated RequestContextSerializer\"\n    \n    This reverts commit fb2037bcb492137ee7de5488c30ef8941b914e13.\n    \n    Change-Id: I9b32708340c232369940738ade14cb6cbb02b331\n\ncommit 067cac36be9d57fe4d92490cb1f17b683213a81b\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Fri Nov 27 17:47:01 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: I6670a181e2e2fe3ed1c96d0a16525c2d6eada436\n\ncommit 47baebde1f04b1dbd657250084b64f0990b768c2\nAuthor: Oleksii Zamiatin <email address hidden>\nDate:   Tue Nov 24 13:21:54 2015 +0200\n\n    [zmq] Random failure with ZmqPortRangeExceededException\n    \n    Don't restrict ports range for all the other unit tests.\n    \n    Change-Id: I47d566f3488d371cff604dac72c94c775d729487\n    Closes-Bug: #1519312\n\ncommit eea60cfb36e1f429185da0d801b9818322e5a73b\nAuthor: Oleksii Zamiatin <email address hidden>\nDate:   Mon Nov 16 15:07:15 2015 +0200\n\n    [zmq] Driver optimizations for CALL\n    \n    New DEALER-based publisher provided for CALL.\n    Futures-based reply waiting makes possible to\n    refuse using of REQ blocking socket and also\n    reduce number of openned sockets to a socket-per-target\n    instead of socket-per-message as it was for CALL.\n    \n    Closes-Bug: #1517999\n    \n    Optimized redis requests - request once instead of\n    per each message. This should be elaborated with an\n    autonomous nodes discovery mechanism to be correct\n    in general case.\n    \n    Closes-Bug: #1517993\n    \n    Reduced number of INFO log messages. Most of them switched\n    to the DEBUG level.\n    \n    Closes-Bug: #1517997\n    \n    Change-Id: Id017e79368cdc68613ddd7adef26411ea422dc8c\n\ncommit a811cf3e8bcc1704604082075a9c89d828a0e72d\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Wed Nov 25 22:27:46 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: Idc6649634438a2a0f33cc463594ad347a3674bc2\n\ncommit 533a0f8f3de497a7c46a97c98df89029703ae173\nAuthor: ZhiQiang Fan <email address hidden>\nDate:   Thu Oct 22 01:30:33 2015 -0600\n\n    Use oslo_config new type PortOpt for port options\n    \n    The oslo_config library provides new type PortOpt to validate the\n    range of port now.\n    \n    Note, rpc_zmq_max_port is a socket port upper limit, so leave it untouched.\n    \n    Change-Id: Icac28141bcb09e2b894662de1a6497766351919d\n    Closes-Bug: #1518256\n    ref: https://github.com/openstack/oslo.config/blob/2.6.0/oslo_config/cfg.py#L1114\n\ncommit fb2037bcb492137ee7de5488c30ef8941b914e13\nAuthor: Julien Danjou <email address hidden>\nDate:   Thu Nov 12 17:25:36 2015 +0100\n\n    serializer: remove deprecated RequestContextSerializer\n    \n    This also allows us to drop the oslo.context dependency!\n    \n    Change-Id: I1434caf6323fb417ff99ceff865a0d43799e89b2\n\ncommit a33c761e6261347864f0284f59022c1d340611d1\nAuthor: Kui Shi <email address hidden>\nDate:   Wed Nov 25 09:02:45 2015 +0000\n\n    Add log info for AMQP client\n    \n    If librabbitmq is installed and can be imported correctly, it will\n    be used as AMQP client to connect RabbitMQ. Mark it in the log file.\n    \n    Change-Id: I33807df67dd2fffa13c675324c8cc7ae716a210e\n    Signed-off-by: Kui Shi <email address hidden>\n\ncommit 4ea583b718e87a875567ae33690bc1f87df3eed9\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Tue Nov 24 14:45:11 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: I6bc59397619d4cf06b8e18b8f48e27b2e0c8c862\n\ncommit 6dba2ed591c357a722076db498a6c29657f8760d\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Sat Nov 21 09:50:35 2015 -0500\n\n    Add Warning when we cannot notify\n    \n    Calling Notifier.audit() won't work with LogDriver as the\n    logger does not have a audit level anymore, So let's at\n    least not fail silently and let the operators know that\n    we are dropping stuff on the floor.\n    \n    Closes-Bug: #1518170\n    Change-Id: I74002c72e6763ea8b5df7d97d722619bd4a1950b\n\ncommit 16f956d6f336bee259f194db2480821777a8058b\nAuthor: ZhiQiang Fan <email address hidden>\nDate:   Mon Nov 23 18:32:35 2015 -0700\n\n    ignore .eggs directory\n    \n    This directory contains eggs that were downloaded by setuptools\n    to build, test, and run plug-ins.\n    \n    This directory caches those eggs to prevent repeated downloads.\n    \n    We need to ignore it.\n    \n    Change-Id: Idd164c7c8952c70487253e5691ba2da33345059a\n\ncommit 196980dace199c412dfaec34568c2a2d66b95a45\nAuthor: Julien Danjou <email address hidden>\nDate:   Thu Nov 12 12:02:56 2015 +0100\n\n    serializer: deprecate RequestContextSerializer\n    \n    We plan to remove it to avoid dependency on oslo.context.\n    \n    Change-Id: I21d76abf1c30b9e89cb8a6c20d1c0cc79cd83a3f\n\ncommit 47a906aff3cee8bc2f3e8102bf9f30802cf7974d\nAuthor: Julien Danjou <email address hidden>\nDate:   Thu Nov 12 17:24:55 2015 +0100\n\n    middleware: remove oslo.context usage\n    \n    There's nothing interesting in the fake context we're passing. Let's\n    stop depending on oslo.context all together here.\n    \n    Change-Id: I7784bc3b818e67118e03905857c39eac66765fad\n\ncommit 925eb734a9d3cb46bb89a89ec1a78281d2d7afe9\nAuthor: Flavio Percoco <email address hidden>\nDate:   Tue Nov 3 22:34:22 2015 -0200\n\n    Remove qpidd's driver from the tree\n    \n    Back in liberty we marked this driver as deprecated. This patch removes\n    it from the tree. The patch also removes tests, options and other\n    references in the documentation. Note that one script is being kept\n    because it's required by the amqp driver.\n    \n    Depends-On: If4b1773334e424d1f4a4e112bd1f10aca62682a9\n    Change-Id: I4a9cba314c4a2f24307504fa7b5427424268b114\n\ncommit 15cd99050c6d2714b90059e0faad9f9e3409eaaa\nAuthor: Matt Riedemann <email address hidden>\nDate:   Thu Nov 19 10:42:34 2015 -0800\n\n    Provide alias to oslo_messaging.notify._impl_messaging\n    \n    Ifb96c2ae9868426cac2700bf4917c27c02c90b15 moved the _impl_messaging\n    module to oslo_messaging.notify.messaging which breaks neutron.\n    \n    Neutron is fixed on master for mitaka but neutron on stable/liberty\n    is broken, and changing neutron on stable/liberty to use the new\n    path would require a global-requirements minimum version bump for\n    oslo.messaging to 2.6.0, which we want to avoid for people that have\n    already shipped liberty.\n    \n    So provide an alias to the moved module so neutron in stable/liberty\n    continues to work. We deprecate the module so consumers know they\n    need to upgrade and move off this. We may need to cap oslo.messaging\n    in global-requirements on stable/liberty at some point when we remove\n    the deprecated alias module.\n    \n    Change-Id: I29453e0fbf30b0a571c2b1afc7cc81d1a11535f0\n    Closes-Bug: #1513630\n\ncommit 9843641b862fa7a2ce07673af3d2e0ff39eb032f\nAuthor: Sean Dague <email address hidden>\nDate:   Thu Nov 19 14:09:38 2015 -0500\n\n    make pep8 faster\n    \n    This builds a stripped down tox target for pep8 that doesn't need a\n    giant venv with all the things. Works fast and lean, and makes julien\n    fries.\n    \n    Change-Id: Id5b7671fb7f2b8cbf88745fd12f9238b3c0bb2dd\n\ncommit 52be09af4da2264358f6ec4e413ea83a7a919f31\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Thu Nov 19 16:00:26 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: Ib8cbf18578b4bfd1be8d5f529d646645bf3e8c71\n\ncommit 00d07f5205c758757bb854372c5576e62a5f57d6\nAuthor: Matthew Booth <email address hidden>\nDate:   Mon Oct 19 14:11:23 2015 +0100\n\n    Robustify locking in MessageHandlingServer\n    \n    This change formalises locking in MessageHandlingServer, which closes\n    several bugs:\n    \n    * It adds locking for internal state when using the blocking executor,\n      which closes a number of races.\n    * It does not hold a lock while executing server functions,\n      which removes a potential cause of deadlock if the server does its\n      own locking.\n    * It fixes a regression introduced in change\n      gI3cfbe1bf02d451e379b1dcc23dacb0139c03be76. If multiple threads\n      called wait() simultaneously, only 1 of them would wait and the\n      others would return immediately, despite message handling not having\n      completed.  With this change only 1 will call the underlying wait,\n      but all will wait on its completion.\n    \n    Additionally, it introduces some new functionality:\n    \n    * It allows the user to make calls in any order and it will ensure,\n      with locking, that these will be reordered appropriately.\n    * The caller can pass a `timeout` argument to any server method, which\n      will cause it to raise an exception if it waits too long.\n    * The caller can pass a `log_after` argument to any server method,\n      which will cause it to raise a log message if it waits too long. It\n      can also be used to disable logging when waiting is intentional.\n    \n    We remove DummyCondition as it no longer has any users.\n    \n    This change was originally committed as change\n    I9d516b208446963dcd80b75e2d5a2cecb1187efa, but was reverted as it\n    caused a hang in a Nova test. This was caused by the locking behaviour\n    for handling restarting a previously stopped server. The original\n    patch caused the state to 'wrap' immediately after the user called\n    wait(). This caused a hang in tests which redundantly called stop()\n    and wait() multiple times. This new patch only wraps when the user\n    calls start() again. Callers who do not restart a server will\n    therefore not be affected by the wrapping behaviour. Callers who do\n    restart a server will be no worse than before. We add a deprecation\n    warning on restart, as this operation is inherently racy with this api\n    and there is a simple, safe alternative.\n    \n    This new version has been successfully tested against the unit and\n    functional tests of nova, cinder, glance, and ceilometer.\n    \n    Change-Id: Ic79f87e7b069c1f62d6121486fd6cafd732fdde7\n\ncommit bfa6f5af038ce9e86521dcfefb7f1536b9cf5b32\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Tue Nov 17 02:30:04 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: Ic5436cf41d5e6c10e4080bc6c42694d2542c970c\n\ncommit a2ff73cb801344737032475820a0976e356f47ad\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Sat Nov 14 23:06:55 2015 -0500\n\n    cleanup tox.ini\n    \n    * Remove requirements.txt from deps, as this is\n      already added automatically\n    \n    \n    Change-Id: I696dd69ba1d59ab026180e8e3cb864fe37442e10\n\ncommit 4a3ddce05bac17903fb768a47b042d4bc17fd0d9\nAuthor: Oleksii Zamiatin <email address hidden>\nDate:   Wed Nov 11 14:12:20 2015 +0200\n\n    [zmq] Add config options to specify dynamic ports range\n    \n    Operators may need a possibility to restrict ports ranges for a specified services\n    in order to distinguish ports related to zmq messaging from all other ports in a system.\n    \n    Change-Id: Ibe5b02c1211b16859ff58bc02a59d96e1d2fa660\n    Closes-Bug: #1511181\n\ncommit 018dfcd6415258c59df70d8012d8c7dc73a0752b\nAuthor: Oleksii Zamiatin <email address hidden>\nDate:   Thu Nov 12 15:14:01 2015 +0200\n\n    [zmq] Make bind address configurable\n    \n    Makes use of exisiting 'rpc_zmq_bind_address' option in\n    order to make binding address configurable.\n    \n    Change-Id: Ia46fa03e54b0e92d3504d9a0ebd65171a283e073\n    Closes-Bug: #1515267\n\ncommit 517ae12b17afd6fdfa4358bf17cc4f4e109b4036\nAuthor: Oleksii Zamiatin <email address hidden>\nDate:   Wed Nov 11 12:13:44 2015 +0200\n\n    [zmq][matchmaker] Distinguish targets by listener types\n    \n    In order to have a possibility to pass messages via different\n    pipelines (not over DEALER/ROUTER only) we need an information\n    in the name service about socket type assigned to the target.\n    \n    Change-Id: I7cdba6c2c91af7f63ecca30c94faecef2c2eff8b\n    Closes-Bug: #1497326\n\ncommit d571b6642513974be84be115663f0bdaf441b3fe\nAuthor: Oleksii Zamiatin <email address hidden>\nDate:   Wed Nov 11 16:25:24 2015 +0200\n\n    [zmq] Update zmq-deployment guide according to the new driver\n    \n    New driver introduced some new options and changed its architecture.\n    The first update of the deployment guide after the driver being\n    reimplemented. Following driver updates should be reflected in the\n    guide as well.\n    \n    Change-Id: Id8629907560e335dfcff688082fe943b3657568c\n    Closes-Bug: #1497278\n\ncommit 26d9362e5d8075af8feebb0f108b2c18a2c6a08a\nAuthor: Dmitry Tantsur <email address hidden>\nDate:   Wed Nov 11 10:39:06 2015 +0100\n\n    Make \"Connect(ing|ed) to AMQP server\" log messages DEBUG level\n    \n    According to our guidelines, INFO level is for unit-of-work messages\n    valueable for an operator. This rules out \"connecting\" message.\n    As to \"connected\", while it might fall under guidelines, it seems\n    to flood logs without too much value, see for example:\n    http://logs.openstack.org/98/219298/9/check/gate-tempest-dsvm-ironic-pxe_ipa/53784fb/logs/screen-ir-api.txt.gz?level=INFO\n    \n    Change-Id: I65e0f19590c42d25e5551d45af37416a01a7d638\n\ncommit 8130e833a4863d3945dffcb0818ae1cbab42ba45\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Wed Nov 11 17:23:28 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: I3fe04f3751e79f87517d4078faea03344fe8f68e\n\ncommit 6621b9010e6c46cfff72be4ce0f7f5c2cad81b45\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Fri Oct 9 15:44:35 2015 -0700\n\n    Decouple transport for RPC and Notification\n    \n    Add a new configuration option for setting up\n    an alternate notification_transport_url that\n    can be used for notifications. This allows\n    operators to separate the transport mechanisms\n    used for RPC and Notifications.\n    \n    DocImpact\n    \n    Closes-Bug: #1504622\n    Change-Id: Ief6f95ea906bfd95b3218a930c9db5d8a764beb9\n\ncommit 33243c26aca82474a719c74a0e8f29fab644a3f5\nAuthor: BANASHANKAR KALEBELAGUNDI VEERA <email address hidden>\nDate:   Mon Nov 9 12:15:53 2015 -0800\n\n    Fixing the server example code\n    Added server.stop() before server.wait()\n    \n    Change-Id: I9764c77e0aa076b6a7b9bb9715e2ead89b12126f\n\ncommit e5b15ce642775c00bc163d89f6961b505911715f\nAuthor: Sean Dague <email address hidden>\nDate:   Tue Nov 10 15:33:14 2015 +0000\n\n    Revert \"Robustify locking in MessageHandlingServer\"\n    \n    This reverts commit d700c382791b6352bb80a0dc455589085881669f.\n    \n    This commit is causing a timeout/lock wait condition when using the in\n    memory rpc bus. It exposed in the Nova unit / functional tests which use\n    this extensively.\n    \n    Change-Id: I9610a5533383955f926dbbb78ab679f45cd7bcdb\n    Closes-Bug: #1514876\n\ncommit 64518fa170f3c36529453782a82d855c3e98f8af\nAuthor: Clint Byrum <email address hidden>\nDate:   Fri Oct 30 14:09:37 2015 -0700\n\n    Move supported messaging drivers in-tree\n    \n    Up until now it has only been available in the OpenStack spec, but it is\n    a living document and I believe we can maintain it in oslo.messaging's\n    tree.\n    \n    Change-Id: I7bb9e5f02004f857d8f75909fcc0d05f2882a77d\n\ncommit 2786a9ded35fdd427e22133abd050fc7bbebdcab\nAuthor: Cyril Roelandt <email address hidden>\nDate:   Mon Oct 26 11:01:11 2015 +0100\n\n    Add a \"bandit\" target to tox.ini\n    \n    This will allow us to find potential security issues, such as those fixed by\n    52e624891fc500c8ab9f3f10ef45258ce740916a and\n    c4a7ac0b653543e8a3ba10060cabdb114fb6672b .\n    \n    Change-Id: I21aa0ca79232784069e55da46920eb43250d8939\n\ncommit f5d189723eac0215758766a8750233d8a26b38f3\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Sat Oct 24 00:26:49 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: If7fdb576d25c0742ce47824209ee70cba5d78d33\n\ncommit 9e5fb5697d3f7259f01e3416af0582090d20859a\nAuthor: Cyril Roelandt <email address hidden>\nDate:   Fri Oct 23 20:07:39 2015 +0200\n\n    Remove a useless statement\n    \n    This statement is useless since both 'username' and 'password' are set to None\n    in the for loop, and that they are not used outside of the loop.\n    \n    Removing this line also help us getting rid of a false positive thrown by\n    bandit.\n    \n    Change-Id: I2aa1a16f30928b77aa40c5a900e35b7bf752658a\n\ncommit d700c382791b6352bb80a0dc455589085881669f\nAuthor: Matthew Booth <email address hidden>\nDate:   Mon Oct 19 14:11:23 2015 +0100\n\n    Robustify locking in MessageHandlingServer\n    \n    This change formalises locking in MessageHandlingServer. It allows the\n    user to make calls in any order and it will ensure, with locking, that\n    these will be reordered appropriately. It also adds locking for\n    internal state when using the blocking executor, which closes a number\n    of races.\n    \n    It fixes a regression introduced in change\n    gI3cfbe1bf02d451e379b1dcc23dacb0139c03be76. If multiple threads called\n    wait() simultaneously, only 1 of them would wait and the others would\n    return immediately, despite message handling not having completed.\n    With this change only 1 will call the underlying wait, but all will\n    wait on its completion.\n    \n    We add a common logging mechanism when waiting too long. Specifically,\n    we now log a single message when waiting on any lock for longer than\n    30 seconds.\n    \n    We remove DummyCondition as it no longer has any users.\n    \n    Change-Id: I9d516b208446963dcd80b75e2d5a2cecb1187efa\n\ncommit 52e624891fc500c8ab9f3f10ef45258ce740916a\nAuthor: Cyril Roelandt <email address hidden>\nDate:   Fri Oct 23 15:01:33 2015 +0200\n\n    Use \"secret=True\" for password-related options\n    \n    This makes sure the value of the option is not leaked in the logs.\n    \n    Found using bandit.\n    \n    Change-Id: I6db2eea1d3f1ad3cacb749dbb9766c5d32cf047f\n\ncommit a162d65a23814c5dc8d7bbc27a5db65dab3e7a33\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Fri Oct 23 06:27:02 2015 +0000\n\n    Imported Translations from Zanata\n    \n    For more information about this automatic import see:\n    https://wiki.openstack.org/wiki/Translations/Infrastructure\n    \n    Change-Id: I260a5e3ae5d394c8c01dc80751f979296650af18\n\ncommit d05278f762dd44d8e328ba11888e524e42a42c3f\nAuthor: Dina Belova <email address hidden>\nDate:   Fri Oct 16 17:32:55 2015 +0300\n\n    Modify simulator.py tool\n    \n    Introduce mechanism of generating real life messages to the tool\n    using the information gathered during Rally testing. This change\n    allows to generate messages of the specfic length due to the\n    distribution observed on real environment.\n    \n    messages_length.txt file contains lengths of string JSON objects\n    that were later sent through the MQ layer during deployment and\n    deletion of 50 VMs.\n    \n    simulator.py was modified to use this data as a baseline to generate\n    random string messages of the required length with the needed\n    probability.\n    \n    Change-Id: Iae21f90b5ca202bf0e83f1149baef8b42c64eb55\n\ncommit ea106e9a090aee65879ef6c676c248f54d08a46f\nAuthor: Oleksii Zamiatin <email address hidden>\nDate:   Thu Oct 8 22:26:01 2015 +0300\n\n    Fix target resolution mismatch in neutron, nova, heat\n    \n    Some tempest tests were failing because of NoSuchMethod,\n    UnsupportedVersion and other missed endpoint errors.\n    \n    This fix provides new listener per each target and\n    more straight-forward matchmaker target resolution logic.\n    \n    Change-Id: I4bfb42048630a0eab075e462ad1e22ebe9a45820\n    Closes-Bug: #1501682\n\ncommit c4a7ac0b653543e8a3ba10060cabdb114fb6672b\nAuthor: Cyril Roelandt <email address hidden>\nDate:   Wed Oct 21 17:08:12 2015 +0200\n\n    Use yaml.safe_load instead of yaml.load\n    \n    We currently use yaml.load to read a user-written config file. This can\n    lead to malicious code execution, so we should use yaml.safe_load\n    instead.\n    \n    Found using bandit.\n    \n    Change-Id: I27792f0435bc3cb9b9d31846d07a8d47a1e7679d\n\ncommit a6da2a98c367de2c1c023acf914c3f4ad5a41783\nAuthor: Matthew Booth <email address hidden>\nDate:   Fri Oct 16 16:16:23 2015 +0100\n\n    Trivial locking cleanup in test_listener\n    \n    ListenerSetupMixin.ThreadTracker was reading self._received_msgs\n    unlocked and sleep/looping until the desired value was reached.\n    Replaced this pattern with a threading.Condition.\n    \n    Change-Id: Id4731caee2104bdb231e78e7b460905a0aaf84bf\n\ncommit f9b14c03377cde4abbd6280b60478eeb91634c29\nAuthor: Matthew Booth <email address hidden>\nDate:   Wed Oct 21 11:36:28 2015 +0100\n\n    Remove unused event in ServerThreadHelper\n    \n    Change-Id: Ib9ebe363f29cf9a0034550ad852882c2cde8bb49\n\ncommit 3f3c489aafc1461835b6c266c8c1e742d88d725b\nAuthor: Matthew Booth <email address hidden>\nDate:   Mon Oct 19 13:04:37 2015 +0100\n\n    Fix a race calling blocking MessageHandlingServer.start()\n    \n    This fixes a race due to the quirkiness of the blocking executor. The\n    blocking executor does not create a separate thread, but is instead\n    explicitly executed in the calling thread. Other threads will,\n    however, continue to interact with it.\n    \n    In the non-blocking case, the executor will have done certain\n    initialisation in start() before starting a worker thread and\n    returning control to the caller. That is, the caller can be sure that\n    this initialisation has occurred when control is returned. However, in\n    the blocking case, control is never returned. We currently work round\n    this by setting self._running to True before executing executor.start,\n    and by not doing any locking whatsoever in MessageHandlingServer.\n    However, this current means there is a race whereby executor.stop()\n    can run before executor.start(). This is fragile and extremely\n    difficult to reason about robustly, if not currently broken.\n    \n    The solution is to split the initialisation from the execution in the\n    blocking case. executor.start() is no longer a blocking operation for\n    the blocking executor. As for the non-blocking case, executor.start()\n    returns as soon as initialisation is complete, indicating that it is\n    safe to subsequently call stop(). Actual execution is done explicitly\n    via the new execute() method, which blocks.\n    \n    In doing this, we also make FakeBlockingThread a more complete\n    implementation of threading.Thread. This fixes a related issue in\n    that, previously, calling server.wait() on a blocking executor from\n    another thread would not wait for the completion of the executor. This\n    has a knock-on effect in test_server's ServerSetupMixin. This mixin\n    created an endpoint with a stop method which called server.stop().\n    However, as this is executed by the executor, and also joins the\n    executor thread, which is now blocking, this results in a deadlock. I\n    am satisfied that, in general, this is not a sane thing to do.\n    However, it is useful for these tests. We fix the tests by making the\n    stop method non-blocking, and do the actual stop and wait calls from\n    the main thread.\n    \n    Change-Id: I0d332f74c06c22b44179319432153e15b69f2f45\n\ncommit 9d74ee40c6080a8ee656e0783fc72287e0d55e4d\nAuthor: Matthew Booth <email address hidden>\nDate:   Mon Oct 19 10:40:15 2015 +0100\n\n    Fix assumptions in test_server_wait_method\n    \n    test_server_wait_method was calling server.wait without having\n    previously called server.start and server.stop. This happened to work\n    because it also injected server._executor_obj. This is problematic,\n    though, as it assumes internal details of the server and does not\n    represent the calling contract of server.wait, which is that it must\n    follow server.stop (which must itself also follow server.start).\n    \n    This change makes the necessary changes to call server.wait in the\n    correct sequence.\n    \n    Change-Id: I205683ac6e0f2d64606bb06d08d3d1419f7645f4\n\ncommit aec50602d557a8b1b4130f9886991f18db596e54\nAuthor: Matthew Booth <email address hidden>\nDate:   Mon Oct 19 10:31:50 2015 +0100\n\n    Rename MessageHandlingServer._executor for readability\n    \n    MessageHandlingServer has both MessageHandlingServer.executor, which\n    is the name of an executor type, and MessageHandlingServer._executor,\n    which is an instance of that type. Ideally we would rename\n    MessageHandlingServer.executor, but as this is referenced from outside\n    the class we change _executor instead to _executor_obj.\n    \n    Change-Id: Id69ba7a0729cc66d266327dac2fd4eab50f2814c\n\ncommit a3fa8ffec975bc56c306e92b763cdf902dd45613\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Mon Oct 19 23:32:00 2015 +0000\n\n    Updated from global requirements\n    \n    Change-Id: I882a029c98255087bee77ac54c0bf0538f53db33\n\ncommit e7873550d0dfa229b5171f776826948d0b87e9c7\nAuthor: Joshua Harlow <email address hidden>\nDate:   Fri Oct 16 10:44:16 2015 -0700\n\n    Some executors are not async so update docstring to reflect that\n    \n    Change-Id: I84db5adf5af0372d521e05f7c4277e1fb570f881\n", 
            "date_created": "2015-12-15 10:41:27.708596+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/256336\nCommitted: https://git.openstack.org/cgit/openstack/oslo.messaging/commit/?id=715dba34ecc94d04e322ad6e0a6cd9e4de73482e\nSubmitter: Jenkins\nBranch:    stable/kilo\n\ncommit 715dba34ecc94d04e322ad6e0a6cd9e4de73482e\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Fri Dec 11 10:59:54 2015 +0100\n\n    Move to debug a too verbose log\n    \n    When a client is gone (died/restart) and somes replies cannot be sent because\n    the the exchange of this client will never comeback. We log one message per\n    reply every 0.25 messages during 60 seconds. When the only useful log\n    is the one where we decide to drop this replies.\n    \n    This change moves the less important message to debug level.\n    \n    Change-Id: I508787c0db4dcec2c0027b89eb4e65c4f98022b9\n    Related-bug: #1524418\n    (cherry picked from commit 17ccb2306d03a74304c57d31716a54ba2b3b4311)\n", 
            "date_created": "2015-12-18 20:03:05.887876+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/256326\nCommitted: https://git.openstack.org/cgit/openstack/oslo.messaging/commit/?id=93240b34917702c1688ca92310fe22c005adecd8\nSubmitter: Jenkins\nBranch:    stable/liberty\n\ncommit 93240b34917702c1688ca92310fe22c005adecd8\nAuthor: Mehdi Abaakouk <email address hidden>\nDate:   Fri Dec 11 10:59:54 2015 +0100\n\n    Move to debug a too verbose log\n    \n    When a client is gone (died/restart) and somes replies cannot be sent because\n    the the exchange of this client will never comeback. We log one message per\n    reply every 0.25 messages during 60 seconds. When the only useful log\n    is the one where we decide to drop this replies.\n    \n    This change moves the less important message to debug level.\n    \n    Change-Id: I508787c0db4dcec2c0027b89eb4e65c4f98022b9\n    Related-bug: #1524418\n    (cherry picked from commit 17ccb2306d03a74304c57d31716a54ba2b3b4311)\n", 
            "date_created": "2015-12-18 20:08:14.106407+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}