{
    "status": "Fix Released", 
    "last_updated": "2017-01-27 00:52:42.831668+00:00", 
    "description": "create/update resource_class APIs raises HTTP 500 Internal Server Error if you pass name\ngreater than 255 characters\n\nSteps to reproduce:\n\ncreate resource class by passing the name parameter greater than 255 character\n\n$ curl -g -i -X POST http://10.232.48.200/placement/resource_classes -H \"OpenStack-API-Version: placement 1.2\" -H \"Content-Type: application/json\" -H \"X-Auth-Token: cc6e31c316a24820a6d9257cdb9d802f\" -d '{\"name\": \"CUSTOM_TESTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"}'\n\nOutput:\n\nHTTP/1.1 500 Internal Server Error\nDate: Wed, 07 Dec 2016 08:02:05 GMT\nServer: Apache/2.4.7 (Ubuntu)\nx-openstack-request-id: req-a836bf46-e51d-4bfe-814d-59c2aa62fd82\nContent-Length: 128\nConnection: close\nContent-Type: application/json; charset=UTF-8\n\n{\"computeFault\": {\"message\": \"The server has either erred or is incapable of performing the requested operation.\", \"code\": 500}}\n\nError Logs:\n\n2016-12-08 12:04:13.122 TRACE nova.api.openstack Traceback (most recent call last):\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/\n__init__.py\", line 88, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return req.get_response(self.applicatio\nn)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/request.py\", line 1299, in send\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     application, catch_exc_info=False)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/request.py\", line 1263, in call_application\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     app_iter = application(self.environ, st\nart_response)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/dec.py\", line 130, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     resp = self.call_func(req, *args, **sel\nf.kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/dec.py\", line 195, in call_func\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/\nplacement/microversion.py\", line 104, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     response = req.get_response(self.applic\nation)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/request.py\", line 1299, in send\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     application, catch_exc_info=False)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/request.py\", line 1263, in call_application\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     app_iter = application(self.environ, st\nart_response)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/handler.py\", line 195, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return dispatch(environ, start_response, self._map)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/handler.py\", line 122, in dispatch\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return handler(environ, start_response)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/microversion.py\", line 245, in decorated_func\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return _find_method(f, version_float)(req, *args, **kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/util.py\", line 133, in decorated_function\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return f(req)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/handlers/resource_class.py\", line 78, in create_resource_class\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     rc.create()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/resource_provider.py\", line 1203, in create\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     rc = self._create_in_db(self._context, updates)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 824, in wrapper\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return fn(*args, **kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self.gen.next()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 875, in _transaction_scope\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     yield resource\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self.gen.next()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 522, in _session\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self._end_session_transaction(self.session)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 543, in _end_session_transaction\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     session.commit()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 801, in commit\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self.transaction.commit()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 392, in commit\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self._prepare_impl()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 372, in _prepare_impl\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self.session.flush()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2019, in flush\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self._flush(objects)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2137, in _flush\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     transaction.rollback(_capture_exception=True)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/util/langhelpers.py\", line 60, in __exit__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     compat.reraise(exc_type, exc_value, exc2016-12-08 12:04:13.122 TRACE nova.api.openstack     compat.reraise(exc_type, exc_value, exc_tb)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2101, in _flush\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     flush_context.execute()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 373, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     rec.execute(self)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 532, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     uow\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 174, in save_obj\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     mapper, table, insert)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 767, in _emit_insert_statements\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     execute(statement, multiparams)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return meth(self, multiparams, params)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return connection._execute_clauseelement(self, multiparams, params)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     compiled_sql, distilled_params\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     context)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1337, in _handle_dbapi_exception\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     util.raise_from_cause(newraise, exc_info)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 202, in raise_from_cause\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     reraise(type(exception), exception, tb=exc_tb, cause=cause)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     context)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     cursor.execute(statement, parameters)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/cursors.py\", line 166, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     result = self._query(query)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/cursors.py\", line 166, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     result = self._query(query)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/cursors.py\", line 322, in _query\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     conn.query(q)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 835, in query\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 1019, in _read_query_result\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     result.read()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 1302, in read\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     first_packet = self.connection._read_packet()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 981, in _read_packet\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     packet.check_error()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 393, in check_error\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     err.raise_mysql_exception(self._data)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/err.py\", line 107, in raise_mysql_exception\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     raise errorclass(errno, errval)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack DBError: (pymysql.err.DataError) (1406, u\"Data too long for column 'name' at row 1\") [SQL: u'INSERT INTO resource_classes (created_at, updated_at, id, name) VALUES (%(created_at)s, %(updated_at)s, %(id)s, %(name)s)'] [parameters: {'created_at': datetime.datetime(2016, 12, 8, 6, 34, 13, 109271), 'id': 10001, 'name': u'CUSTOM_TESTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA', 'updated_at': None}]", 
    "tags": [
        "placement"
    ], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1648314", 
    "owner": "https://api.launchpad.net/1.0/~bhagyashri-shewale", 
    "id": 1648314, 
    "index": 4701, 
    "created": "2016-12-08 06:38:43.110823+00:00", 
    "title": "create/update resource_class APIs raises HTTP 500 Internal Server Error when name is greater than 255 characters", 
    "comments": [
        {
            "content": "create/update resource_class APIs raises HTTP 500 Internal Server Error if you pass name\ngreater than 255 characters\n\nSteps to reproduce:\n\ncreate resource class by passing the name parameter greater than 255 character\n\n$ curl -g -i -X POST http://10.232.48.200/placement/resource_classes -H \"OpenStack-API-Version: placement 1.2\" -H \"Content-Type: application/json\" -H \"X-Auth-Token: cc6e31c316a24820a6d9257cdb9d802f\" -d '{\"name\": \"CUSTOM_TESTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"}'\n\nOutput:\n\nHTTP/1.1 500 Internal Server Error\nDate: Wed, 07 Dec 2016 08:02:05 GMT\nServer: Apache/2.4.7 (Ubuntu)\nx-openstack-request-id: req-a836bf46-e51d-4bfe-814d-59c2aa62fd82\nContent-Length: 128\nConnection: close\nContent-Type: application/json; charset=UTF-8\n\n{\"computeFault\": {\"message\": \"The server has either erred or is incapable of performing the requested operation.\", \"code\": 500}}\n\nError Logs:\n\n2016-12-08 12:04:13.122 TRACE nova.api.openstack Traceback (most recent call last):\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/\n__init__.py\", line 88, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return req.get_response(self.applicatio\nn)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/request.py\", line 1299, in send\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     application, catch_exc_info=False)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/request.py\", line 1263, in call_application\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     app_iter = application(self.environ, st\nart_response)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/dec.py\", line 130, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     resp = self.call_func(req, *args, **sel\nf.kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/dec.py\", line 195, in call_func\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/\nplacement/microversion.py\", line 104, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     response = req.get_response(self.applic\nation)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/request.py\", line 1299, in send\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     application, catch_exc_info=False)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packa\nges/webob/request.py\", line 1263, in call_application\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     app_iter = application(self.environ, st\nart_response)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/handler.py\", line 195, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return dispatch(environ, start_response, self._map)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/handler.py\", line 122, in dispatch\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return handler(environ, start_response)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/microversion.py\", line 245, in decorated_func\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return _find_method(f, version_float)(req, *args, **kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/util.py\", line 133, in decorated_function\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return f(req)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/placement/handlers/resource_class.py\", line 78, in create_resource_class\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     rc.create()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/resource_provider.py\", line 1203, in create\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     rc = self._create_in_db(self._context, updates)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 824, in wrapper\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return fn(*args, **kwargs)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self.gen.next()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 875, in _transaction_scope\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     yield resource\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self.gen.next()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 522, in _session\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self._end_session_transaction(self.session)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 543, in _end_session_transaction\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     session.commit()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 801, in commit\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self.transaction.commit()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 392, in commit\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self._prepare_impl()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 372, in _prepare_impl\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self.session.flush()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2019, in flush\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self._flush(objects)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2137, in _flush\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     transaction.rollback(_capture_exception=True)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/util/langhelpers.py\", line 60, in __exit__\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     compat.reraise(exc_type, exc_value, exc2016-12-08 12:04:13.122 TRACE nova.api.openstack     compat.reraise(exc_type, exc_value, exc_tb)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2101, in _flush\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     flush_context.execute()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 373, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     rec.execute(self)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 532, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     uow\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 174, in save_obj\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     mapper, table, insert)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 767, in _emit_insert_statements\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     execute(statement, multiparams)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return meth(self, multiparams, params)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     return connection._execute_clauseelement(self, multiparams, params)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     compiled_sql, distilled_params\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     context)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1337, in _handle_dbapi_exception\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     util.raise_from_cause(newraise, exc_info)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 202, in raise_from_cause\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     reraise(type(exception), exception, tb=exc_tb, cause=cause)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     context)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     cursor.execute(statement, parameters)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/cursors.py\", line 166, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     result = self._query(query)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/cursors.py\", line 166, in execute\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     result = self._query(query)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/cursors.py\", line 322, in _query\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     conn.query(q)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 835, in query\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 1019, in _read_query_result\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     result.read()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 1302, in read\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     first_packet = self.connection._read_packet()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 981, in _read_packet\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     packet.check_error()\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/connections.py\", line 393, in check_error\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     err.raise_mysql_exception(self._data)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/pymysql/err.py\", line 107, in raise_mysql_exception\n2016-12-08 12:04:13.122 TRACE nova.api.openstack     raise errorclass(errno, errval)\n2016-12-08 12:04:13.122 TRACE nova.api.openstack DBError: (pymysql.err.DataError) (1406, u\"Data too long for column 'name' at row 1\") [SQL: u'INSERT INTO resource_classes (created_at, updated_at, id, name) VALUES (%(created_at)s, %(updated_at)s, %(id)s, %(name)s)'] [parameters: {'created_at': datetime.datetime(2016, 12, 8, 6, 34, 13, 109271), 'id': 10001, 'name': u'CUSTOM_TESTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA', 'updated_at': None}]", 
            "date_created": "2016-12-08 06:38:43.110823+00:00", 
            "author": "https://api.launchpad.net/1.0/~bhagyashri-shewale"
        }, 
        {
            "content": "Definitely should get some tests on this case, nice catch.", 
            "date_created": "2016-12-08 20:23:53.260606+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/409002", 
            "date_created": "2016-12-09 08:01:13.008301+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/409002\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=874e666e7a53ad59b820791491584ba0f8276fd1\nSubmitter: Jenkins\nBranch:    master\n\ncommit 874e666e7a53ad59b820791491584ba0f8276fd1\nAuthor: bhagyashris <email address hidden>\nDate:   Wed Dec 7 18:28:48 2016 +0530\n\n    Return 400 when name is more than 255 characters\n    \n    APIs listed below are returning 500 error if you pass name more than\n    255 characters.\n    1. create resource_classes\n    2. update resource_classes\n    \n    Added maxLength check in schema to ensure name should not be more than\n    255 characters.\n    \n    Closes-Bug: #1648314\n    Change-Id: I4ae54f3061fe43d87a656088db1d2ae454eb8237\n", 
            "date_created": "2017-01-04 21:32:48.398289+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 15.0.0.0b3 development milestone.", 
            "date_created": "2017-01-27 00:52:41.850630+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}