{
    "status": "Expired", 
    "last_updated": "2016-01-15 04:17:38.627230+00:00", 
    "description": "oslo_versionedobjects will raise TypeError exception when boot instance with nova-network.\n\nI'm using devstack with\nnova:  00af05e13f5f0a2d8d10baf238dad553a86bc6e0\noslo_versionedobjects: 5.2\n\nNova had remove VirtaulInterface's super class base.NovaObjectDictCompat\nhttps://github.com/openstack/nova/commit/91f8cc9c153b61a5aed081c2d1b44b21f35d3311\nIt can work above oslo_versionedobjects 6.0.\n\nBut oslo_versionedobjects 5.2 still using dict to assign value.\nhttps://github.com/openstack/oslo.versionedobjects/blob/0.5.2/oslo_versionedobjects/base.py#L205\n\nMaybe we should update oslo_versionedobjects version in global-requirement.\n\nFollowing is traceback in n-net:\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 142, in _dispatch_and_reply\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     executor_callback))\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 186, in _dispatch\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     executor_callback)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 129, in _do_dispatch\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     result = func(ctxt, **new_args)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/floating_ips.py\", line 113, in allocate_for_instance\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     **kwargs)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/manager.py\", line 496, in allocate_for_instance\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     context, instance_uuid)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 119, in __exit__\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/manager.py\", line 490, in allocate_for_instance\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     networks, macs)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/manager.py\", line 755, in _allocate_mac_addresses\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     network['id'])\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/manager.py\", line 774, in _add_virtual_interface\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     vif.create()\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 205, in wrapper\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     self[key] = field.from_primitive(self, key, value)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher TypeError: 'VirtualInterface' object does not support item assignment\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher", 
    "tags": [], 
    "importance": "High", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1482092", 
    "owner": "None", 
    "id": 1482092, 
    "index": 1788, 
    "created": "2015-08-06 07:07:40.906633+00:00", 
    "title": "oslo_versionedobjects raise exception when boot instance with nova-network", 
    "comments": [
        {
            "content": "oslo_versionedobjects will raise TypeError exception when boot instance with nova-network.\n\nI'm using devstack with\nnova:  00af05e13f5f0a2d8d10baf238dad553a86bc6e0\noslo_versionedobjects: 5.2\n\nNova had remove VirtaulInterface's super class base.NovaObjectDictCompat\nhttps://github.com/openstack/nova/commit/91f8cc9c153b61a5aed081c2d1b44b21f35d3311\nIt can work above oslo_versionedobjects 6.0.\n\nBut oslo_versionedobjects 5.2 still using dict to assign value.\nhttps://github.com/openstack/oslo.versionedobjects/blob/0.5.2/oslo_versionedobjects/base.py#L205\n\nMaybe we should update oslo_versionedobjects version in global-requirement.\n\nFollowing is traceback in n-net:\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 142, in _dispatch_and_reply\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     executor_callback))\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 186, in _dispatch\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     executor_callback)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 129, in _do_dispatch\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     result = func(ctxt, **new_args)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/floating_ips.py\", line 113, in allocate_for_instance\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     **kwargs)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/manager.py\", line 496, in allocate_for_instance\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     context, instance_uuid)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 119, in __exit__\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/manager.py\", line 490, in allocate_for_instance\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     networks, macs)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/manager.py\", line 755, in _allocate_mac_addresses\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     network['id'])\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/network/manager.py\", line 774, in _add_virtual_interface\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     vif.create()\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 205, in wrapper\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher     self[key] = field.from_primitive(self, key, value)\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher TypeError: 'VirtualInterface' object does not support item assignment\n2015-08-06 05:08:31.264 TRACE oslo_messaging.rpc.dispatcher", 
            "date_created": "2015-08-06 07:07:40.906633+00:00", 
            "author": "https://api.launchpad.net/1.0/~lyanchih"
        }, 
        {
            "content": "this is actually a fix for global requirements, but once that gets sync into nova, this bug should be fixed, see:\nhttps://review.openstack.org/#/c/209797/", 
            "date_created": "2015-08-06 09:19:17.456310+00:00", 
            "author": "https://api.launchpad.net/1.0/~johngarbutt"
        }, 
        {
            "content": "Can someone verify that this is now fixed?", 
            "date_created": "2015-09-14 16:02:53.315394+00:00", 
            "author": "https://api.launchpad.net/1.0/~danms"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2016-01-15 04:17:35.929721+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}