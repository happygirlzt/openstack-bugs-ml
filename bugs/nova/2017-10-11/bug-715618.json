{
    "status": "Fix Released", 
    "last_updated": "2011-08-16 12:06:58.480858+00:00", 
    "description": "I have a lot of traces in my /v/l/m, because AMQP is not started. Please make some useful logging message (AMQP server on xxxx:5672 is unreachable) without the trace. (I set --noverbose in my /etc/nova/nova.conf)\n\nFeb  9 08:33:46 mandarin 2011-02-09 08:33:46,574 ERROR nova.rpc [-] AMQP server on xxxx:5672 is unreachable. Trying again in 10 seconds. (nova.rpc): TRACE: Traceback (most recent call last): (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/rpc.py\", line 88, in __init__ (nova.rpc): TRACE:     super(Consumer, self).__init__(*args, **kwargs) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/messaging.py\", line 233, in __init__ (nova.rpc): TRACE:     self.declare() (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/messaging.py\", line 271, in declare (nova.rpc): TRACE:     warn_if_exists=self.warn_if_exists) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/backends/pyamqplib.py\", line 245, in queue_declare (nova.rpc): TRACE:     return self.channel.queue_declare(queue=queue, (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/backends/pyamqplib.py\", line 187, in channel (nova.rpc): TRACE:     connection = self.connection.connection (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/connection.py\", line 135, in connection (nova.rpc): TRACE:     self._connection = self._establish_connection() (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/connection.py\", line 148, in _establish_connection (nova.rpc): TRACE:     return self.create_backend().establish_connection() (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/backends/pyamqplib.py\", line 208, in establish_connection (nova.rpc): TRACE:     connect_timeout=conninfo.connect_timeout) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/amqplib/client_0_8/connection.py\", line 125, in __init__ (nova.rpc): TRACE:     self.transport = create_transport(host, connect_timeout, ssl) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/amqplib/client_0_8/transport.py\", line 220, in create_transport (nova.rpc): TRACE:     return TCPTransport(host, connect_timeout) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/amqplib/client_0_8/transport.py\", line 58, in __init__ (nova.rpc): TRACE:     self.sock.connect((host, port)) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/eventlet/greenio.py\", line 166, in connect (nova.rpc): TRACE:     if socket_connect(fd, address): (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/eventlet/greenio.py\", line 35, in socket_connect (nova.rpc): TRACE:     raise socket.error(err, errno.errorcode[err]) (nova.rpc): TRACE: error: [Errno 111] ECONNREFUSED (nova.rpc): TRACE:", 
    "tags": [], 
    "importance": "Low", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/715618", 
    "owner": "https://api.launchpad.net/1.0/~klmitch", 
    "id": 715618, 
    "index": 4989, 
    "created": "2011-02-09 07:37:56.983057+00:00", 
    "title": "fix logging message if AMQP server is not reachable", 
    "comments": [
        {
            "content": "I have a lot of traces in my /v/l/m, because AMQP is not started. Please make some useful logging message (AMQP server on xxxx:5672 is unreachable) without the trace. (I set --noverbose in my /etc/nova/nova.conf)\n\nFeb  9 08:33:46 mandarin 2011-02-09 08:33:46,574 ERROR nova.rpc [-] AMQP server on xxxx:5672 is unreachable. Trying again in 10 seconds. (nova.rpc): TRACE: Traceback (most recent call last): (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/nova/rpc.py\", line 88, in __init__ (nova.rpc): TRACE:     super(Consumer, self).__init__(*args, **kwargs) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/messaging.py\", line 233, in __init__ (nova.rpc): TRACE:     self.declare() (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/messaging.py\", line 271, in declare (nova.rpc): TRACE:     warn_if_exists=self.warn_if_exists) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/backends/pyamqplib.py\", line 245, in queue_declare (nova.rpc): TRACE:     return self.channel.queue_declare(queue=queue, (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/backends/pyamqplib.py\", line 187, in channel (nova.rpc): TRACE:     connection = self.connection.connection (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/connection.py\", line 135, in connection (nova.rpc): TRACE:     self._connection = self._establish_connection() (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/connection.py\", line 148, in _establish_connection (nova.rpc): TRACE:     return self.create_backend().establish_connection() (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/carrot/backends/pyamqplib.py\", line 208, in establish_connection (nova.rpc): TRACE:     connect_timeout=conninfo.connect_timeout) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/amqplib/client_0_8/connection.py\", line 125, in __init__ (nova.rpc): TRACE:     self.transport = create_transport(host, connect_timeout, ssl) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/amqplib/client_0_8/transport.py\", line 220, in create_transport (nova.rpc): TRACE:     return TCPTransport(host, connect_timeout) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/amqplib/client_0_8/transport.py\", line 58, in __init__ (nova.rpc): TRACE:     self.sock.connect((host, port)) (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/eventlet/greenio.py\", line 166, in connect (nova.rpc): TRACE:     if socket_connect(fd, address): (nova.rpc): TRACE:   File \"/usr/lib64/python2.6/site-packages/eventlet/greenio.py\", line 35, in socket_connect (nova.rpc): TRACE:     raise socket.error(err, errno.errorcode[err]) (nova.rpc): TRACE: error: [Errno 111] ECONNREFUSED (nova.rpc): TRACE:", 
            "date_created": "2011-02-09 07:37:56.983057+00:00", 
            "author": "https://api.launchpad.net/1.0/~berendt"
        }
    ]
}