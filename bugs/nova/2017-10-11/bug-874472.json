{
    "status": "Fix Released", 
    "last_updated": "2012-04-05 09:37:25.575433+00:00", 
    "description": "Currently mysql operational errors roll up to the client.  This should be obscured from the client as it typically will dump out the query or identify a migration needs to be ran.\n\nchainreaction:~ ant$ nova boot --image 2 --flavor 2 testing\n(OperationalError) (2006, 'MySQL server has gone away') 'SELECT anon_1.instance_types_created_at AS anon_1_instance_types_created_at, anon_1.instance_types_updated_at AS anon_1_instance_types_updated_at, anon_1.instance_types_deleted_at AS anon_1_instance_types_deleted_at, anon_1.instance_types_deleted AS anon_1_instance_types_deleted, anon_1.instance_types_id AS anon_1_instance_types_id, anon_1.instance_types_name AS anon_1_instance_types_name, anon_1.instance_types_memory_mb AS anon_1_instance_types_memory_mb, anon_1.instance_types_vcpus AS anon_1_instance_types_vcpus, anon_1.instance_types_local_gb AS anon_1_instance_types_local_gb, anon_1.instance_types_flavorid AS anon_1_instance_types_flavorid, anon_1.instance_types_swap AS anon_1_instance_types_swap, anon_1.instance_types_rxtx_quota AS anon_1_instance_types_rxtx_quota, anon_1.instance_types_rxtx_cap AS anon_1_instance_types_rxtx_cap, instance_type_extra_specs_1.created_at AS instance_type_extra_specs_1_created_at, instance_type_extra_specs_1.updated_at AS instance_type_extra_specs_1_updated_at, instance_type_extra_specs_1.deleted_at AS instance_type_extra_specs_1_deleted_at, instance_type_extra_specs_1.deleted AS instance_type_extra_specs_1_deleted, instance_type_extra_specs_1.id AS instance_type_extra_specs_1_id, instance_type_extra_specs_1.`key` AS instance_type_extra_specs_1_key, instance_type_extra_specs_1.value AS instance_type_extra_specs_1_value, instance_type_extra_specs_1.instance_type_id AS instance_type_extra_specs_1_instance_type_id \\nFROM (SELECT instance_types.created_at AS instance_types_created_at, instance_types.updated_at AS instance_types_updated_at, instance_types.deleted_at AS instance_types_deleted_at, instance_types.deleted AS instance_types_deleted, instance_types.id AS instance_types_id, instance_types.name AS instance_types_name, instance_types.memory_mb AS instance_types_memory_mb, instance_types.vcpus AS instance_types_vcpus, instance_types.local_gb AS instance_types_local_gb, instance_types.flavorid AS instance_types_flavorid, instance_types.swap AS instance_types_swap, instance_types.rxtx_quota AS instance_types_rxtx_quota, instance_types.rxtx_cap AS instance_types_rxtx_cap \\nFROM instance_types \\nWHERE instance_types.flavorid = %s \\n LIMIT 0, 1) AS anon_1 LEFT OUTER JOIN instance_type_extra_specs AS instance_type_extra_specs_1 ON instance_type_extra_specs_1.instance_type_id = anon_1.instance_types_id AND instance_type_extra_specs_1.deleted = %s' (2, False) (HTTP 500)", 
    "tags": [
        "verification-needed"
    ], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/874472", 
    "owner": "https://api.launchpad.net/1.0/~johannes.erdfelt", 
    "id": 874472, 
    "index": 2315, 
    "created": "2011-10-14 17:57:02.449186+00:00", 
    "title": "Prevent mysql operation errors from rolling up to client", 
    "comments": [
        {
            "content": "Currently mysql operational errors roll up to the client.  This should be obscured from the client as it typically will dump out the query or identify a migration needs to be ran.\n\nchainreaction:~ ant$ nova boot --image 2 --flavor 2 testing\n(OperationalError) (2006, 'MySQL server has gone away') 'SELECT anon_1.instance_types_created_at AS anon_1_instance_types_created_at, anon_1.instance_types_updated_at AS anon_1_instance_types_updated_at, anon_1.instance_types_deleted_at AS anon_1_instance_types_deleted_at, anon_1.instance_types_deleted AS anon_1_instance_types_deleted, anon_1.instance_types_id AS anon_1_instance_types_id, anon_1.instance_types_name AS anon_1_instance_types_name, anon_1.instance_types_memory_mb AS anon_1_instance_types_memory_mb, anon_1.instance_types_vcpus AS anon_1_instance_types_vcpus, anon_1.instance_types_local_gb AS anon_1_instance_types_local_gb, anon_1.instance_types_flavorid AS anon_1_instance_types_flavorid, anon_1.instance_types_swap AS anon_1_instance_types_swap, anon_1.instance_types_rxtx_quota AS anon_1_instance_types_rxtx_quota, anon_1.instance_types_rxtx_cap AS anon_1_instance_types_rxtx_cap, instance_type_extra_specs_1.created_at AS instance_type_extra_specs_1_created_at, instance_type_extra_specs_1.updated_at AS instance_type_extra_specs_1_updated_at, instance_type_extra_specs_1.deleted_at AS instance_type_extra_specs_1_deleted_at, instance_type_extra_specs_1.deleted AS instance_type_extra_specs_1_deleted, instance_type_extra_specs_1.id AS instance_type_extra_specs_1_id, instance_type_extra_specs_1.`key` AS instance_type_extra_specs_1_key, instance_type_extra_specs_1.value AS instance_type_extra_specs_1_value, instance_type_extra_specs_1.instance_type_id AS instance_type_extra_specs_1_instance_type_id \\nFROM (SELECT instance_types.created_at AS instance_types_created_at, instance_types.updated_at AS instance_types_updated_at, instance_types.deleted_at AS instance_types_deleted_at, instance_types.deleted AS instance_types_deleted, instance_types.id AS instance_types_id, instance_types.name AS instance_types_name, instance_types.memory_mb AS instance_types_memory_mb, instance_types.vcpus AS instance_types_vcpus, instance_types.local_gb AS instance_types_local_gb, instance_types.flavorid AS instance_types_flavorid, instance_types.swap AS instance_types_swap, instance_types.rxtx_quota AS instance_types_rxtx_quota, instance_types.rxtx_cap AS instance_types_rxtx_cap \\nFROM instance_types \\nWHERE instance_types.flavorid = %s \\n LIMIT 0, 1) AS anon_1 LEFT OUTER JOIN instance_type_extra_specs AS instance_type_extra_specs_1 ON instance_type_extra_specs_1.instance_type_id = anon_1.instance_types_id AND instance_type_extra_specs_1.deleted = %s' (2, False) (HTTP 500)", 
            "date_created": "2011-10-14 17:57:02.449186+00:00", 
            "author": "https://api.launchpad.net/1.0/~antonym"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/940\nCommitted: http://github.com/openstack/nova/commit/2431b7848d633dc67ad684b4d1cc79468df24568\nSubmitter: Jenkins\nBranch:    master\n\n status fixcommitted\n done\n\ncommit 2431b7848d633dc67ad684b4d1cc79468df24568\nAuthor: Johannes Erdfelt <email address hidden>\nDate:   Tue Oct 18 22:08:49 2011 +0000\n\n    Don't leak exceptions out to users\n    \n    Fixed bug 874472\n    \n    Exceptions can contain all kinds of sensitive information, including\n    SQL queries (and arguments), configuration information and in some\n    cases the correct password (bug 868360). The information isn't useful\n    to users, so don't return potentially sensitive information. The\n    exceptions still get logged for debugging and troubleshooting purposes.\n    \n    Change-Id: I97cc72aec4e83ce866169ed94146d911aa8f6a6a\n", 
            "date_created": "2011-10-18 23:32:12+00:00", 
            "author": "https://api.launchpad.net/1.0/~openstack-gerrit"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/993\nCommitted: http://github.com/openstack/nova/commit/03c9f40f1d7be54e62b129edf41a3c729049ce0c\nSubmitter: Jenkins\nBranch:    stable/diablo\n\n status fixcommitted\n done\n\ncommit 03c9f40f1d7be54e62b129edf41a3c729049ce0c\nAuthor: Johannes Erdfelt <email address hidden>\nDate:   Tue Oct 18 22:08:49 2011 +0000\n\n    Don't leak exceptions out to users\n    \n    Fixed bug 874472\n    \n    Exceptions can contain all kinds of sensitive information, including\n    SQL queries (and arguments), configuration information and in some\n    cases the correct password (bug 868360). The information isn't useful\n    to users, so don't return potentially sensitive information. The\n    exceptions still get logged for debugging and troubleshooting purposes.\n    \n    (cherry picked from commit 2431b7848d633dc67ad684b4d1cc79468df24568)\n    \n    Change-Id: I45af83ee5276b92259522a4761137d7339d2b77d\n", 
            "date_created": "2011-10-26 16:45:00+00:00", 
            "author": "https://api.launchpad.net/1.0/~openstack-gerrit"
        }, 
        {
            "content": "Hello Antony, or anyone else affected,\n\nAccepted nova into oneiric-proposed, the package will build now and be available in a few hours. Please test and give feedback here. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you in advance!", 
            "date_created": "2011-12-19 14:59:18.266576+00:00", 
            "author": "https://api.launchpad.net/1.0/~pitti"
        }
    ]
}