{
    "status": "Invalid", 
    "last_updated": "2013-02-11 16:16:17.422413+00:00", 
    "description": "Trying to create a network, we are using FlatDHCP\n\nnova-manage network create --label=np --fixed_range_v4=X.X.X.X/22 --num_networks=1 --network_size=1024 --bridge=br100 --bridge_interface=eth4 --multi_host=T --dns1=X.X.X.X\nCommand failed, please check log for more info\n2012-09-21 05:18:17 CRITICAL nova [req-43a1db5c-e7bc-4ac9-9ba2-a952a87e0153 None None] 'vlan_start'\n2012-09-21 05:18:17 TRACE nova Traceback (most recent call last):\n2012-09-21 05:18:17 TRACE nova   File \"/usr/local/bin/nova-manage\", line 7, in <module>\n2012-09-21 05:18:17 TRACE nova     execfile(__file__)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1463, in <module>\n2012-09-21 05:18:17 TRACE nova     main()\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1450, in main\n2012-09-21 05:18:17 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 476, in create\n2012-09-21 05:18:17 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/nova/network/manager.py\", line 2026, in create_networks\n2012-09-21 05:18:17 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-09-21 05:18:17 TRACE nova KeyError: 'vlan_start'\n2012-09-21 05:18:17 TRACE nova \n'vlan_start'\n2012-09-21 05:18:17 TRACE nova Traceback (most recent call last):\n2012-09-21 05:18:17 TRACE nova   File \"/usr/local/bin/nova-manage\", line 7, in <module>\n2012-09-21 05:18:17 TRACE nova     execfile(__file__)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1463, in <module>\n2012-09-21 05:18:17 TRACE nova     main()\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1450, in main\n2012-09-21 05:18:17 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 476, in create\n2012-09-21 05:18:17 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/nova/network/manager.py\", line 2026, in create_networks\n2012-09-21 05:18:17 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-09-21 05:18:17 TRACE nova KeyError: 'vlan_start'\n2012-09-21 05:18:17 TRACE nova \n\nThere is no vlan_start mentioned in the --help command either", 
    "tags": [
        "low-hanging-fruit"
    ], 
    "importance": "Medium", 
    "heat": 58, 
    "link": "https://bugs.launchpad.net/nova/+bug/1053814", 
    "owner": "https://api.launchpad.net/1.0/~sulochan-acharya", 
    "id": 1053814, 
    "index": 3069, 
    "created": "2012-09-21 05:21:58.723476+00:00", 
    "title": "vlan_start keyerror when creating a network", 
    "comments": [
        {
            "content": "Trying to create a network, we are using FlatDHCP\n\nnova-manage network create --label=np --fixed_range_v4=X.X.X.X/22 --num_networks=1 --network_size=1024 --bridge=br100 --bridge_interface=eth4 --multi_host=T --dns1=X.X.X.X\nCommand failed, please check log for more info\n2012-09-21 05:18:17 CRITICAL nova [req-43a1db5c-e7bc-4ac9-9ba2-a952a87e0153 None None] 'vlan_start'\n2012-09-21 05:18:17 TRACE nova Traceback (most recent call last):\n2012-09-21 05:18:17 TRACE nova   File \"/usr/local/bin/nova-manage\", line 7, in <module>\n2012-09-21 05:18:17 TRACE nova     execfile(__file__)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1463, in <module>\n2012-09-21 05:18:17 TRACE nova     main()\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1450, in main\n2012-09-21 05:18:17 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 476, in create\n2012-09-21 05:18:17 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/nova/network/manager.py\", line 2026, in create_networks\n2012-09-21 05:18:17 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-09-21 05:18:17 TRACE nova KeyError: 'vlan_start'\n2012-09-21 05:18:17 TRACE nova \n'vlan_start'\n2012-09-21 05:18:17 TRACE nova Traceback (most recent call last):\n2012-09-21 05:18:17 TRACE nova   File \"/usr/local/bin/nova-manage\", line 7, in <module>\n2012-09-21 05:18:17 TRACE nova     execfile(__file__)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1463, in <module>\n2012-09-21 05:18:17 TRACE nova     main()\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1450, in main\n2012-09-21 05:18:17 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 476, in create\n2012-09-21 05:18:17 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-09-21 05:18:17 TRACE nova   File \"/opt/nova/nova/network/manager.py\", line 2026, in create_networks\n2012-09-21 05:18:17 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-09-21 05:18:17 TRACE nova KeyError: 'vlan_start'\n2012-09-21 05:18:17 TRACE nova \n\nThere is no vlan_start mentioned in the --help command either", 
            "date_created": "2012-09-21 05:21:58.723476+00:00", 
            "author": "https://api.launchpad.net/1.0/~sorrison"
        }, 
        {
            "content": "Something isn't right with your environment ... the traceback has two separate paths to nova-manage:\n\n\n2012-09-21 05:18:17 TRACE nova File \"/usr/local/bin/nova-manage\", line 7, in <module>\n\n2012-09-21 05:18:17 TRACE nova File \"/opt/nova/bin/nova-manage\", line 1463, in <module>\n", 
            "date_created": "2012-09-21 15:59:47.435818+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "Was my setup", 
            "date_created": "2012-09-25 05:11:15.817421+00:00", 
            "author": "https://api.launchpad.net/1.0/~sorrison"
        }, 
        {
            "content": "OK now my setup is good I still get this error:\n\nroot@qh2-rcc1:~# nova-manage network create --label=qh2 --fixed_range_v4=X.X.X.X/22 --num_networks=1 --network_size=1024 --bridge=br100 --bridge_interface=eth4 --multi_host=T --dns1=X.X.X.X\nCommand failed, please check log for more info\n2012-10-03 23:54:16 CRITICAL nova [req-616ef3e7-1b46-40e7-be8f-e2d28e6a2b14 None None] 'vlan_start'\n2012-10-03 23:54:16 TRACE nova Traceback (most recent call last):\n2012-10-03 23:54:16 TRACE nova   File \"/usr/local/bin/nova-manage\", line 7, in <module>\n2012-10-03 23:54:16 TRACE nova     execfile(__file__)\n2012-10-03 23:54:16 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1464, in <module>\n2012-10-03 23:54:16 TRACE nova     main()\n2012-10-03 23:54:16 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1451, in main\n2012-10-03 23:54:16 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-10-03 23:54:16 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 476, in create\n2012-10-03 23:54:16 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-10-03 23:54:16 TRACE nova   File \"/opt/nova/nova/network/manager.py\", line 2040, in create_networks\n2012-10-03 23:54:16 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-10-03 23:54:16 TRACE nova KeyError: 'vlan_start'\n2012-10-03 23:54:16 TRACE nova \n\nCan't see this option in the --help list, is this a required field even when not using vlan manager?", 
            "date_created": "2012-10-03 23:56:17.103022+00:00", 
            "author": "https://api.launchpad.net/1.0/~sorrison"
        }, 
        {
            "content": "This time with the stack trace using /opt/nova/bin/nova-manage (/usr/local/bin/nova-manage is a symlink)\n\n2012-10-03 23:56:34 CRITICAL nova [req-37dd367d-897b-4404-85d3-5b534a3e573f None None] 'vlan_start'\n2012-10-03 23:56:34 TRACE nova Traceback (most recent call last):\n2012-10-03 23:56:34 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1464, in <module>\n2012-10-03 23:56:34 TRACE nova     main()\n2012-10-03 23:56:34 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 1451, in main\n2012-10-03 23:56:34 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-10-03 23:56:34 TRACE nova   File \"/opt/nova/bin/nova-manage\", line 476, in create\n2012-10-03 23:56:34 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-10-03 23:56:34 TRACE nova   File \"/opt/nova/nova/network/manager.py\", line 2040, in create_networks\n2012-10-03 23:56:34 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-10-03 23:56:34 TRACE nova KeyError: 'vlan_start'\n2012-10-03 23:56:34 TRACE nova \n", 
            "date_created": "2012-10-03 23:57:34.290453+00:00", 
            "author": "https://api.launchpad.net/1.0/~sorrison"
        }, 
        {
            "content": "Reproducable for me on Folsom when using VLanmanager:\n\nThis is the related documentation: http://docs.openstack.org/trunk/openstack-compute/admin/content/configuring-vlan-networking.html\n\nroot@folsom-controller:/home/eayun# nova-manage network create --num_networks=100 --fixed_range_v4=172.16.100.0/24\n{'num_networks': u'100', 'cidr': u'172.16.100.0/24'}\nCommand failed, please check log for more info\n2012-10-17 13:44:45 CRITICAL nova [req-b4ac90c2-0a81-4859-86de-54d80f56f88e None None] 'vlan_start'\n2012-10-17 13:44:45 TRACE nova Traceback (most recent call last):\n2012-10-17 13:44:45 TRACE nova   File \"/usr/bin/nova-manage\", line 1401, in <module>\n2012-10-17 13:44:45 TRACE nova     main()\n2012-10-17 13:44:45 TRACE nova   File \"/usr/bin/nova-manage\", line 1388, in main\n2012-10-17 13:44:45 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-10-17 13:44:45 TRACE nova   File \"/usr/bin/nova-manage\", line 477, in create\n2012-10-17 13:44:45 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-10-17 13:44:45 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 2040, in create_networks\n2012-10-17 13:44:45 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-10-17 13:44:45 TRACE nova KeyError: 'vlan_start'\n2012-10-17 13:44:45 TRACE nova \n\nAnd my nova.conf:\n# Networking #\nforce_dhcp_release=True\ndhcpbridge_flagfile=/etc/nova/nova.conf\ndhcpbridge=/usr/bin/nova-dhcpbridge\nfirewall_driver=nova.virt.libvirt.firewall.IptablesFirewallDriver\n# Change my_ip to match each host\nmy_ip=192.168.176.225\nnetwork_manager=nova.network.manager.VlanManager\nfixed_range=172.16.0.0/12\nvlan_interface=eth0\nnetwork_size=256\nvlan_start=100", 
            "date_created": "2012-10-17 05:51:00.683916+00:00", 
            "author": "https://api.launchpad.net/1.0/~sammiestoel"
        }, 
        {
            "content": "Trying a work around as such: \nnova-manage network create --num_networks=100 --fixed_range_v4=172.16.100.0/24 --vlan=100 --network_size=256\n\nBut error:\nValueError: The network range is not big enough to fit 100. Network size is 256\n\nThe following method works though:\nnova-manage network create --label=example-net --fixed_range_v4=172.16.169.0/24 --vlan=169 --bridge=br169 --project_id=<tenant_id> --num_networks=1 \u2013network_size=256\n\nTo create a network for a specific tenant, but I would like to create several networks and let openstack specify which one will be used by which tenant.\n\n\"\"Instead of manually specifying a VLAN, bridge, and project id, you can create many networks at once and have the Compute service automatically associate these networks with tenants as needed, as well as automatically generating the VLAN IDs and bridge interface names. For example, the following command would create 100 networks, from 172.16.100.0/24 to 172.16.199.0/24. (This assumes the network_size=256 option has been set at nova.conf, though this can also be specified by passing --network_size=256 as a flag to the nova-manage command)\"\" Seems the doc or the code contains a bug?", 
            "date_created": "2012-10-17 05:57:02.635885+00:00", 
            "author": "https://api.launchpad.net/1.0/~sammiestoel"
        }, 
        {
            "content": "I am facing the same error. Here is the output of create network \n\n$ nova-manage network create private --fixed_range_v4=192.168.0.0/24 --num_networks=1 --bridge=br100 --bridge_interface=eth0 --network_size=32\nCommand failed, please check log for more info\n2012-10-18 12:13:19 CRITICAL nova [req-1fa10025-4ab9-45a4-a95d-fbef98023754 None None] 'vlan_start'\n2012-10-18 12:13:19 TRACE nova Traceback (most recent call last):\n2012-10-18 12:13:19 TRACE nova   File \"/usr/bin/nova-manage\", line 1400, in <module>\n2012-10-18 12:13:19 TRACE nova     main()\n2012-10-18 12:13:19 TRACE nova   File \"/usr/bin/nova-manage\", line 1387, in main\n2012-10-18 12:13:19 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-10-18 12:13:19 TRACE nova   File \"/usr/bin/nova-manage\", line 476, in create\n2012-10-18 12:13:19 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-10-18 12:13:19 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 2040, in create_networks\n2012-10-18 12:13:19 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-10-18 12:13:19 TRACE nova KeyError: 'vlan_start'\n2012-10-18 12:13:19 TRACE nova \n\nEither a bug in documentation or in the package.  ", 
            "date_created": "2012-10-18 06:52:13.433208+00:00", 
            "author": "https://api.launchpad.net/1.0/~hiddenharmony"
        }, 
        {
            "content": "*bump!* \n\nI'm get the same error -- is there a workaround?\n\n# nova-manage network create --fixed_range_v4=172.16.1.0/24 --num_networks=8 --network_size=32 --label=private1\nCommand failed, please check log for more info\n2012-10-22 13:21:55 CRITICAL nova [req-3257a566-67d3-4db4-935d-aba0d1ec4ed7 None None] 'vlan_start'\n2012-10-22 13:21:55 TRACE nova Traceback (most recent call last):\n2012-10-22 13:21:55 TRACE nova   File \"/usr/bin/nova-manage\", line 1400, in <module>\n2012-10-22 13:21:55 TRACE nova     main()\n2012-10-22 13:21:55 TRACE nova   File \"/usr/bin/nova-manage\", line 1387, in main\n2012-10-22 13:21:55 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-10-22 13:21:55 TRACE nova   File \"/usr/bin/nova-manage\", line 476, in create\n2012-10-22 13:21:55 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-10-22 13:21:55 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 2040, in create_networks\n2012-10-22 13:21:55 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-10-22 13:21:55 TRACE nova KeyError: 'vlan_start'\n2012-10-22 13:21:55 TRACE nova \n", 
            "date_created": "2012-10-22 20:22:43.502044+00:00", 
            "author": "https://api.launchpad.net/1.0/~digitalwonk"
        }, 
        {
            "content": "Try:\n\nnova-manage network create --fixed_range_v4=172.16.1.0/24 --num_networks=8 --network_size=32 --label=private1 --vlan=100\n\n", 
            "date_created": "2012-10-22 21:32:00.737280+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "I don't think this is invalid.\n\nI'm not using VLANManager so not sure why I would need to specify the vlan option?\n\nAlso the error is a stack trace, it should be an error saying that the vlan option is missing.\n\nThere is already another ticket about this 1070560 so it is affecting a few people", 
            "date_created": "2012-10-23 22:07:01.383876+00:00", 
            "author": "https://api.launchpad.net/1.0/~sorrison"
        }, 
        {
            "content": "agreed that it should be a helpful error message, but I don't understand your comment about not using VLANManager:\n\n2012-09-21 05:18:17 TRACE nova net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-09-21 05:18:17 TRACE nova File \"/opt/nova/nova/network/manager.py\", line 2026, in create_networks\n\na) that line is specifically in the vlan manager class\nb) I have no problems creating networks with your command using FlatDHCPManager", 
            "date_created": "2012-10-25 16:37:50.146989+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "When I found this, I had just tried --vlan_start, --vlan did work, but I noticed that this works:\n\nroot@openstack:/home/openstack# sudo nova-manage network create vmnet --fixed_range_v4=10.0.0.0/8 --network_size=64 --bridge_interface=eth2 --vlan=100 --num_networks=1\n\nWhile this breaks like the above, however, before that, I got weird parser errors and defending on the order the variable of complaint changes from 'num_networks' to 'vlan_start' as above. While I was putting debugs in the python I was reading the docs/python variables and although I'm only a ops, never claimed to be dev, I noticed the --vlan option that makes it work isn't\nin the parter list of -- options\n\nhere's the stuff:\n\nroot@openstack:/home/openstack# sudo nova-manage network create vmnet --fixed_range_v4=10.0.0.0/8 --network_size=64 --bridge_interface=eth2 --vlan=100\nCommand failed, please check log for more info\n2012-11-11 09:53:42 CRITICAL nova [req-ce695cc0-b449-46a6-87af-0df8f57f8eea None None] 'num_networks'\n2012-11-11 09:53:42 TRACE nova Traceback (most recent call last):\n2012-11-11 09:53:42 TRACE nova   File \"/usr/bin/nova-manage\", line 1400, in <module>\n2012-11-11 09:53:42 TRACE nova     main()\n2012-11-11 09:53:42 TRACE nova   File \"/usr/bin/nova-manage\", line 1387, in main\n2012-11-11 09:53:42 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-11-11 09:53:42 TRACE nova   File \"/usr/bin/nova-manage\", line 476, in create\n2012-11-11 09:53:42 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-11-11 09:53:42 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 2040, in create_networks\n2012-11-11 09:53:42 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-11-11 09:53:42 TRACE nova KeyError: 'num_networks'\n2012-11-11 09:53:42 TRACE nova \n\nroot@openstack:/home/openstack# sudo nova-manage network create vmnet --fixed_range_v4=10.0.0.0/8 --network_size=64 --bridge_interface=eth2 --vlan=100\nCommand failed, please check log for more info\n2012-11-11 09:53:42 CRITICAL nova [req-ce695cc0-b449-46a6-87af-0df8f57f8eea None None] 'num_networks'\n2012-11-11 09:53:42 TRACE nova Traceback (most recent call last):\n2012-11-11 09:53:42 TRACE nova   File \"/usr/bin/nova-manage\", line 1400, in <module>\n2012-11-11 09:53:42 TRACE nova     main()\n2012-11-11 09:53:42 TRACE nova   File \"/usr/bin/nova-manage\", line 1387, in main\n2012-11-11 09:53:42 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-11-11 09:53:42 TRACE nova   File \"/usr/bin/nova-manage\", line 476, in create\n2012-11-11 09:53:42 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-11-11 09:53:42 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 2040, in create_networks\n2012-11-11 09:53:42 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-11-11 09:53:42 TRACE nova KeyError: 'num_networks'\n2012-11-11 09:53:42 TRACE nova \n\n", 
            "date_created": "2012-11-11 17:16:55.789880+00:00", 
            "author": "https://api.launchpad.net/1.0/~watkins"
        }, 
        {
            "content": "Vish Ishaya, I'm not using VLAN manager but FlatDHCP  and I'm getting the same error. Here is my network session\n\n# NETWORK\nnetwork_manager=nova.network.manager.FlatDHCPManager\nforce_dhcp_release=True\ndhcpbridge_flagfile=/etc/nova/nova.conf\nfirewall_driver=nova.virt.libvirt.firewall.IptablesFirewallDriver\n# Change my_ip to match each host\nmy_ip=150.164.3.219\npublic_interface=eth0\n#vlan_interface=eth1\nflat_network_bridge=br100\nflat_interface=eth1\nfixed_range=192.168.100.0/24\n\nand here is the error:\n\nroot@stable-controller:~# nova-manage network create private --multi_host=T --fixed_range_v4=192.168.100.0/24 --bridge_interface=eth1 --num_networks=1 --network_size=256 \nCommand failed, please check log for more info\n2012-11-14 08:41:41 CRITICAL nova [req-5542a448-6723-4faf-aa0e-0ee9c6cb45df None None] 'vlan_start'\n2012-11-14 08:41:41 TRACE nova Traceback (most recent call last):\n2012-11-14 08:41:41 TRACE nova   File \"/usr/bin/nova-manage\", line 1400, in <module>\n2012-11-14 08:41:41 TRACE nova     main()\n2012-11-14 08:41:41 TRACE nova   File \"/usr/bin/nova-manage\", line 1387, in main\n2012-11-14 08:41:41 TRACE nova     fn(*fn_args, **fn_kwargs)\n2012-11-14 08:41:41 TRACE nova   File \"/usr/bin/nova-manage\", line 476, in create\n2012-11-14 08:41:41 TRACE nova     net_manager.create_networks(context.get_admin_context(), **kwargs)\n2012-11-14 08:41:41 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 2040, in create_networks\n2012-11-14 08:41:41 TRACE nova     if kwargs['num_networks'] + kwargs['vlan_start'] > 4094:\n2012-11-14 08:41:41 TRACE nova KeyError: 'vlan_start'\n2012-11-14 08:41:41 TRACE nova \n\n", 
            "date_created": "2012-11-14 10:45:22.596874+00:00", 
            "author": "https://api.launchpad.net/1.0/~guimalufb"
        }, 
        {
            "content": "The same here - trying to install folsom on Ubuntu 12.10 following the installation manual. Workarounded with adding vlan like:\n\nnova-manage network create private --multi_host=T --fixed_range_v4=192.168.60.0/24 --bridge_interface=br100 --num_networks=1 --network_size=256 --vlan=0\n", 
            "date_created": "2012-11-16 14:46:57.721378+00:00", 
            "author": "https://api.launchpad.net/1.0/~vpaul"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/18140", 
            "date_created": "2012-12-14 17:26:59.632648+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "I tried the above patches and now, instead of the traceback the other commentors got, I get this:\n\nbladernr@cloud:~$ nova-manage network create private --fixed_range_v4=192.168.4.32/27 --num_networks=1 --bridge=br100 --bridge_interface=eth1 --network_size=32\nvlan is required to create a network.\n\nI'm following the single-machine instructions step by step found here: http://docs.openstack.org/trunk/openstack-compute/install/apt/content/osfolubuntu-computesevice.html", 
            "date_created": "2012-12-17 05:50:17.539798+00:00", 
            "author": "https://api.launchpad.net/1.0/~bladernr"
        }, 
        {
            "content": "Hi guys\nI am using OpenStack with  FlatDHCP network.. \n\nTrying to create a new network via nova-manage network  command I noticed the --vlanid option.\n\nWhich is the mean of this parameter for my config ? \nDoes it make sense only using VLAN Manager network manager ?\n\nAm I wrong ?\n\nThx\n", 
            "date_created": "2013-02-11 16:16:13.078503+00:00", 
            "author": "https://api.launchpad.net/1.0/~fristinaca"
        }
    ]
}