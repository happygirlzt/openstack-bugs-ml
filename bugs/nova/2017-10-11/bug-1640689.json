{
    "status": "Invalid", 
    "last_updated": "2016-11-12 07:59:55.721264+00:00", 
    "description": "When I try to integrate vcenter with OpenStack Newton, I come with this problem, it seems a bug which reported in Bug #1549288. \nI install my OpenStack under the reference of docs.openstack.com, my os is CentOS7 and the kernel is 3.10.0-327.36.3.el7.x86_64 which has been updated too newest.\n\nthe log of nova-compute follows:\n-----------------------------\n2016-11-10 14:46:44.590 8155 INFO nova.virt.vmwareapi.vif [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] NSX Logical switch ID is not present. Using network ID to attach to the opaque network.\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall [-] in fixed duration looping call\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall Traceback (most recent call last):\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall   File \"/usr/lib/python2.7/site-packages/oslo_vmware/common/loopingcall.py\", line 76, in _inner\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall     self.f(*self.args, **self.kw)\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall   File \"/usr/lib/python2.7/site-packages/oslo_vmware/api.py\", line 427, in _poll_task\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall     raise task_ex\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall VimFaultException: \u8bbe\u5907\u201c0\u201d\u7684\u914d\u7f6e\u65e0\u6548\u3002\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall Faults: ['InvalidDeviceSpec']\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall \n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Instance failed to spawn\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Traceback (most recent call last):\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2078, in _build_resources\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     yield resources\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1920, in _build_and_run_instance\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     block_device_info=block_device_info)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/driver.py\", line 316, in spawn\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     admin_password, network_info, block_device_info)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/vmops.py\", line 739, in spawn\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     metadata)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/vmops.py\", line 306, in build_virtual_machine\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     config_spec, self._root_resource_pool)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/vm_util.py\", line 1332, in create_vm\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     {'ostype': config_spec.guestId})\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 220, in __exit__\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     self.force_reraise()\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 196, in force_reraise\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     six.reraise(self.type_, self.value, self.tb)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/vm_util.py\", line 1317, in create_vm\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     task_info = session._wait_for_task(vm_create_task)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/driver.py\", line 539, in _wait_for_task\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     return self.wait_for_task(task_ref)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_vmware/api.py\", line 387, in wait_for_task\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     return evt.wait()\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 121, in wait\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     return hubs.get_hub().switch()\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/eventlet/hubs/hub.py\", line 294, in switch\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     return self.greenlet.switch()\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_vmware/common/loopingcall.py\", line 76, in _inner\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     self.f(*self.args, **self.kw)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_vmware/api.py\", line 427, in _poll_task\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     raise task_ex\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] VimFaultException: \u8bbe\u5907\u201c0\u201d\u7684\u914d\u7f6e\u65e0\u6548\u3002\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Faults: ['InvalidDeviceSpec']\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] \n2016-11-10 14:46:45.884 8155 INFO nova.compute.manager [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Terminating instance\n2016-11-10 14:46:46.178 8155 WARNING nova.virt.vmwareapi.vmops [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Instance does not exist on backend\n2016-11-10 14:46:46.178 8155 INFO nova.compute.manager [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Took 0.29 seconds to destroy the instance on the hypervisor.\n-----------------------------", 
    "tags": [
        "nova-compute", 
        "nsx", 
        "openstack-newton", 
        "vmware"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1640689", 
    "owner": "None", 
    "id": 1640689, 
    "index": 6520, 
    "created": "2016-11-10 07:05:10.122334+00:00", 
    "title": "VMware: unable to launch and instance with NSX neutron plugin in newton release", 
    "comments": [
        {
            "content": "When I try to integrate vcenter with OpenStack Newton, I come with this problem, it seems a bug which reported in Bug #1549288. \nI install my OpenStack under the reference of docs.openstack.com, my os is CentOS7 and the kernel is 3.10.0-327.36.3.el7.x86_64 which has been updated too newest.\n\nthe log of nova-compute follows:\n-----------------------------\n2016-11-10 14:46:44.590 8155 INFO nova.virt.vmwareapi.vif [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] NSX Logical switch ID is not present. Using network ID to attach to the opaque network.\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall [-] in fixed duration looping call\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall Traceback (most recent call last):\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall   File \"/usr/lib/python2.7/site-packages/oslo_vmware/common/loopingcall.py\", line 76, in _inner\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall     self.f(*self.args, **self.kw)\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall   File \"/usr/lib/python2.7/site-packages/oslo_vmware/api.py\", line 427, in _poll_task\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall     raise task_ex\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall VimFaultException: \u8bbe\u5907\u201c0\u201d\u7684\u914d\u7f6e\u65e0\u6548\u3002\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall Faults: ['InvalidDeviceSpec']\n2016-11-10 14:46:45.878 8155 ERROR oslo_vmware.common.loopingcall \n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Instance failed to spawn\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Traceback (most recent call last):\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2078, in _build_resources\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     yield resources\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1920, in _build_and_run_instance\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     block_device_info=block_device_info)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/driver.py\", line 316, in spawn\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     admin_password, network_info, block_device_info)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/vmops.py\", line 739, in spawn\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     metadata)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/vmops.py\", line 306, in build_virtual_machine\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     config_spec, self._root_resource_pool)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/vm_util.py\", line 1332, in create_vm\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     {'ostype': config_spec.guestId})\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 220, in __exit__\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     self.force_reraise()\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 196, in force_reraise\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     six.reraise(self.type_, self.value, self.tb)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/vm_util.py\", line 1317, in create_vm\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     task_info = session._wait_for_task(vm_create_task)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/nova/virt/vmwareapi/driver.py\", line 539, in _wait_for_task\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     return self.wait_for_task(task_ref)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_vmware/api.py\", line 387, in wait_for_task\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     return evt.wait()\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 121, in wait\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     return hubs.get_hub().switch()\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/eventlet/hubs/hub.py\", line 294, in switch\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     return self.greenlet.switch()\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_vmware/common/loopingcall.py\", line 76, in _inner\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     self.f(*self.args, **self.kw)\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]   File \"/usr/lib/python2.7/site-packages/oslo_vmware/api.py\", line 427, in _poll_task\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91]     raise task_ex\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] VimFaultException: \u8bbe\u5907\u201c0\u201d\u7684\u914d\u7f6e\u65e0\u6548\u3002\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Faults: ['InvalidDeviceSpec']\n2016-11-10 14:46:45.881 8155 ERROR nova.compute.manager [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] \n2016-11-10 14:46:45.884 8155 INFO nova.compute.manager [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Terminating instance\n2016-11-10 14:46:46.178 8155 WARNING nova.virt.vmwareapi.vmops [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Instance does not exist on backend\n2016-11-10 14:46:46.178 8155 INFO nova.compute.manager [req-2618c027-a3e3-443c-9ba4-2dc41f5af4bf 6a25bb358c804782a277286532728fa5 aa911cba99854da981c5bfea83b7ebf8 - - -] [instance: 4904ac4e-1846-4025-b86a-2a63372bff91] Took 0.29 seconds to destroy the instance on the hypervisor.\n-----------------------------", 
            "date_created": "2016-11-10 07:05:10.122334+00:00", 
            "author": "https://api.launchpad.net/1.0/~hi-fly"
        }, 
        {
            "content": "What version of nova (package version of nova-compute) and what version of the vmware nsxv3 plugin?", 
            "date_created": "2016-11-12 00:33:47.582641+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "There are errors in the neutron logs?", 
            "date_created": "2016-11-12 00:35:14.939064+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Also, what version of vcenter are you running?", 
            "date_created": "2016-11-12 00:35:44.747951+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "I am sorry, and it's my mistake by not configuring NSX well. Thanks for your replication.", 
            "date_created": "2016-11-12 07:59:54.824634+00:00", 
            "author": "https://api.launchpad.net/1.0/~hi-fly"
        }
    ]
}