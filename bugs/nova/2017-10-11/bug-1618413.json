{
    "status": "Expired", 
    "last_updated": "2017-08-23 04:17:41.522039+00:00", 
    "description": "VMs are going into error state when nova host aggregation is used to boot VMs.i have added host aggregation and added compute hosts to it.The meta data key-value is added in ext_specs of flavor.\n\nSetup used: Devstack-master branch\n\nIn nova.conf, have the below config for filters\n\nscheduler_default_filters = RetryFilter,AvailabilityZoneFilter,RamFilter,DiskFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter,AggregateInstanceExtraSpecsFilter\nscheduler_driver = filter_scheduler\n\nSteps:\n\n1. Create an aggregate\n\nstack@devstack:~/devstack$ nova aggregate-create test\n+----+------+-------------------+-------+----------+\n| Id | Name | Availability Zone | Hosts | Metadata |\n+----+------+-------------------+-------+----------+\n| 4  | test | -                 |       |          |\n+----+------+-------------------+-------+----------+\n\n2.Set a meta-data \u201cfamily=intel\u201d to the created aggregate\n\nstack@devstack:~/devstack$ nova aggregate-set-metadata 4 family=intel\nMetadata has been successfully updated for aggregate 4.\n+----+------+-------------------+-------+----------------+\n| Id | Name | Availability Zone | Hosts | Metadata       |\n+----+------+-------------------+-------+----------------+\n| 4  | test | -                 |       | 'family=intel' |\n+----+------+-------------------+-------+----------------+\n\n3. Add a host(devstack) to this aggregate\n\nstack@devstack:~/devstack$ nova aggregate-add-host 4 devstack\nHost devstack has been successfully added for aggregate 4\n+----+------+-------------------+------------+----------------+\n| Id | Name | Availability Zone | Hosts      | Metadata       |\n+----+------+-------------------+------------+----------------+\n| 4  | test | -                 | 'devstack' | 'family=intel' |\n+----+------+-------------------+------------+----------------+\n\n4. Create a new flavor\n\nstack@devstack:~/devstack$ nova flavor-create testflavor1 auto 4096 10 2 --is-public true\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID                                   | Name        | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n| 75a142d8-3124-4fc9-97b3-9b1db1469d76 | testflavor1 | 4096      | 10   | 0         |      | 2     | 1.0         | True      |\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n\n5.Create flavor key-value to match meta-data of the aggregate\n\nstack@devstack:~/devstack$ nova flavor-key testflavor1 set family=intel\n\nstack@devstack:~/devstack$  nova flavor-list\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID                                   | Name        | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1                                    | m1.tiny     | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2                                    | m1.small    | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3                                    | m1.medium   | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4                                    | m1.large    | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 42                                   | m1.nano     | 64        | 0    | 0         |      | 1     | 1.0         | True      |\n| 5                                    | m1.xlarge   | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n| 75a142d8-3124-4fc9-97b3-9b1db1469d76 | testflavor1 | 4096      | 10   | 0         |      | 2     | 1.0         | True      |\n| 84                                   | m1.micro    | 128       | 0    | 0         |      | 1     | 1.0         | True      |\n| c1                                   | cirros256   | 256       | 0    | 0         |      | 1     | 1.0         | True      |\n| d1                                   | ds512M      | 512       | 5    | 0         |      | 1     | 1.0         | True      |\n| d2                                   | ds1G        | 1024      | 10   | 0         |      | 1     | 1.0         | True      |\n| d3                                   | ds2G        | 2048      | 10   | 0         |      | 2     | 1.0         | True      |\n| d4                                   | ds4G        | 4096      | 20   | 0         |      | 4     | 1.0         | True      |\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n\n6.From the nova flavor-show, we can see the key-value is in \u201cextra_specs\u201d already\n\nstack@devstack:~/devstack$ nova flavor-show testflavor1\n+----------------------------+--------------------------------------+\n| Property                   | Value                                |\n+----------------------------+--------------------------------------+\n| OS-FLV-DISABLED:disabled   | False                                |\n| OS-FLV-EXT-DATA:ephemeral  | 0                                    |\n| disk                       | 10                                   |\n| extra_specs                | {\"family\": \"intel\"}                  |\n| id                         | 75a142d8-3124-4fc9-97b3-9b1db1469d76 |\n| name                       | testflavor1                          |\n| os-flavor-access:is_public | True                                 |\n| ram                        | 4096                                 |\n| rxtx_factor                | 1.0                                  |\n| swap                       |                                      |\n| vcpus                      | 2                                    |\n+----------------------------+--------------------------------------+\nstack@devstack:~/devstack$\n\n7. Now boot a VM with the flavor\n\nstack@devstack:~/devstack$ nova boot --image cirros-0.3.4-x86_64-uec --flavor testflavor1 --nic net-name=private vm-test      +--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          |                                                                |\n| OS-EXT-SRV-ATTR:host                 | -                                                              |\n| OS-EXT-SRV-ATTR:hostname             | vm-test                                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | -                                                              |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000016                                              |\n| OS-EXT-SRV-ATTR:kernel_id            | 6c74a0f6-b54a-4604-9d6f-9e3886a811ee                           |\n| OS-EXT-SRV-ATTR:launch_index         | 0                                                              |\n| OS-EXT-SRV-ATTR:ramdisk_id           | 2728b402-2af0-4b01-91ae-0472ecb34a01                           |\n| OS-EXT-SRV-ATTR:reservation_id       | r-6n0igzwj                                                     |\n| OS-EXT-SRV-ATTR:root_device_name     | -                                                              |\n| OS-EXT-SRV-ATTR:user_data            | -                                                              |\n| OS-EXT-STS:power_state               | 0                                                              |\n| OS-EXT-STS:task_state                | scheduling                                                     |\n| OS-EXT-STS:vm_state                  | building                                                       |\n| OS-SRV-USG:launched_at               | -                                                              |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| adminPass                            | T8PaX8G9F6rF                                                   |\n| config_drive                         |                                                                |\n| created                              | 2016-08-30T10:24:03Z                                           |\n| description                          | -                                                              |\n| flavor                               | testflavor1 (75a142d8-3124-4fc9-97b3-9b1db1469d76)             |\n| hostId                               |                                                                |\n| host_status                          |                                                                |\n| id                                   | 238b7482-8c94-427c-b073-dd1c922c572c                           |\n| image                                | cirros-0.3.4-x86_64-uec (bc8b111e-e312-4124-a3ba-64e7a2376612) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | vm-test                                                        |\n| os-extended-volumes:volumes_attached | []                                                             |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | BUILD                                                          |\n| tags                                 | []                                                             |\n| tenant_id                            | b26794c2d89748e9996d767a4ccfc5d0                               |\n| updated                              | 2016-08-30T10:24:04Z                                           |\n| user_id                              | 2398670e99844bd5ba30d6b7d3cdeaa5                               |\n+--------------------------------------+----------------------------------------------------------------+\nstack@devstack:~/devstack$ nova show vm-test\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                                                                                                                     |\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                                                                                                                    |\n| OS-EXT-AZ:availability_zone          |                                                                                                                                                                                           |\n| OS-EXT-SRV-ATTR:host                 | -                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:hostname             | vm-test                                                                                                                                                                                   |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | -                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000016                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:kernel_id            | 6c74a0f6-b54a-4604-9d6f-9e3886a811ee                                                                                                                                                      |\n| OS-EXT-SRV-ATTR:launch_index         | 0                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:ramdisk_id           | 2728b402-2af0-4b01-91ae-0472ecb34a01                                                                                                                                                      |\n| OS-EXT-SRV-ATTR:reservation_id       | r-6n0igzwj                                                                                                                                                                                |\n| OS-EXT-SRV-ATTR:root_device_name     | -                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:user_data            | -                                                                                                                                                                                         |\n| OS-EXT-STS:power_state               | 0                                                                                                                                                                                         |\n| OS-EXT-STS:task_state                | -                                                                                                                                                                                         |\n| OS-EXT-STS:vm_state                  | error                                                                                                                                                                                     |\n| OS-SRV-USG:launched_at               | -                                                                                                                                                                                         |\n| OS-SRV-USG:terminated_at             | -                                                                                                                                                                                         |\n| accessIPv4                           |                                                                                                                                                                                           |\n| accessIPv6                           |                                                                                                                                                                                           |\n| config_drive                         |                                                                                                                                                                                           |\n| created                              | 2016-08-30T10:24:03Z                                                                                                                                                                      |\n| description                          | -                                                                                                                                                                                         |\n| fault                                | {\"message\": \"No valid host was found. There are not enough hosts available.\", \"code\": 500, \"details\": \"  File \\\"/opt/stack/nova/nova/conductor/manager.py\\\", line 484, in build_instances |\n|                                      |     context, request_spec, filter_properties)                                                                                                                                             |\n|                                      |   File \\\"/opt/stack/nova/nova/conductor/manager.py\\\", line 541, in _schedule_instances                                                                                                    |\n|                                      |     hosts = self.scheduler_client.select_destinations(context, spec_obj)                                                                                                                  |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/utils.py\\\", line 370, in wrapped                                                                                                                  |\n|                                      |     return func(*args, **kwargs)                                                                                                                                                          |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/client/__init__.py\\\", line 51, in select_destinations                                                                                             |\n|                                      |     return self.queryclient.select_destinations(context, spec_obj)                                                                                                                        |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/client/__init__.py\\\", line 37, in __run_method                                                                                                    |\n|                                      |     return getattr(self.instance, __name)(*args, **kwargs)                                                                                                                                |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/client/query.py\\\", line 32, in select_destinations                                                                                                |\n|                                      |     return self.scheduler_rpcapi.select_destinations(context, spec_obj)                                                                                                                   |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/rpcapi.py\\\", line 126, in select_destinations                                                                                                     |\n|                                      |     return cctxt.call(ctxt, 'select_destinations', **msg_args)                                                                                                                            |\n|                                      |   File \\\"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\\\", line 169, in call                                                                                         |\n|                                      |     retry=self.retry)                                                                                                                                                                     |\n|                                      |   File \\\"/usr/local/lib/python2.7/dist-packages/oslo_messaging/transport.py\\\", line 97, in _send                                                                                          |\n|                                      |     timeout=timeout, retry=retry)                                                                                                                                                         |\n|                                      |   File \\\"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\\\", line 464, in send                                                                                |\n|                                      |     retry=retry)                                                                                                                                                                          |\n|                                      |   File \\\"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\\\", line 455, in _send                                                                               |\n|                                      |     raise result                                                                                                                                                                          |\n|                                      | \", \"created\": \"2016-08-30T10:24:04Z\"}                                                                                                                                                     |\n| flavor                               | testflavor1 (75a142d8-3124-4fc9-97b3-9b1db1469d76)                                                                                                                                        |\n| hostId                               |                                                                                                                                                                                           |\n| host_status                          |                                                                                                                                                                                           |\n| id                                   | 238b7482-8c94-427c-b073-dd1c922c572c                                                                                                                                                      |\n| image                                | cirros-0.3.4-x86_64-uec (bc8b111e-e312-4124-a3ba-64e7a2376612)                                                                                                                            |\n| key_name                             | -                                                                                                                                                                                         |\n| locked                               | False                                                                                                                                                                                     |\n| metadata                             | {}                                                                                                                                                                                        |\n| name                                 | vm-test                                                                                                                                                                                   |\n| os-extended-volumes:volumes_attached | []                                                                                                                                                                                        |\n| status                               | ERROR                                                                                                                                                                                     |\n| tags                                 | []                                                                                                                                                                                        |\n| tenant_id                            | b26794c2d89748e9996d767a4ccfc5d0                                                                                                                                                          |\n| updated                              | 2016-08-30T10:24:04Z                                                                                                                                                                      |\n| user_id                              | 2398670e99844bd5ba30d6b7d3cdeaa5                                                                                                                                                          |\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\nstack@devstack:~/devstack$\n\n\n\nAttached devstack logs", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1618413", 
    "owner": "None", 
    "id": 1618413, 
    "index": 6401, 
    "created": "2016-08-30 10:44:17.361006+00:00", 
    "title": "VMs are going into error state when nova host aggregation is used to boot VMs", 
    "comments": [
        {
            "content": "VMs are going into error state when nova host aggregation is used to boot VMs.i have added host aggregation and added compute hosts to it.The meta data key-value is added in ext_specs of flavor.\n\nSteps: \n\n1. Create an aggregate \n\n\nstack@devstack:~/devstack$ nova aggregate-create test\n+----+------+-------------------+-------+----------+\n| Id | Name | Availability Zone | Hosts | Metadata |\n+----+------+-------------------+-------+----------+\n| 4  | test | -                 |       |          |\n+----+------+-------------------+-------+----------+\n\n2.Set a meta-data \u201cfamily=intel\u201d to the created aggregate\n\nstack@devstack:~/devstack$ nova aggregate-set-metadata 4 family=intel\nMetadata has been successfully updated for aggregate 4.\n+----+------+-------------------+-------+----------------+\n| Id | Name | Availability Zone | Hosts | Metadata       |\n+----+------+-------------------+-------+----------------+\n| 4  | test | -                 |       | 'family=intel' |\n+----+------+-------------------+-------+----------------+\n\n3. Add a host(devstack) to this aggregate\n\nstack@devstack:~/devstack$ nova aggregate-add-host 4 devstack\nHost devstack has been successfully added for aggregate 4\n+----+------+-------------------+------------+----------------+\n| Id | Name | Availability Zone | Hosts      | Metadata       |\n+----+------+-------------------+------------+----------------+\n| 4  | test | -                 | 'devstack' | 'family=intel' |\n+----+------+-------------------+------------+----------------+\n\n4. Create a new flavor\n\nstack@devstack:~/devstack$ nova flavor-create testflavor1 auto 4096 10 2 --is-public true\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID                                   | Name        | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n| 75a142d8-3124-4fc9-97b3-9b1db1469d76 | testflavor1 | 4096      | 10   | 0         |      | 2     | 1.0         | True      |\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n\n5.Create flavor key-value to match meta-data of the aggregate\n\n\nstack@devstack:~/devstack$ nova flavor-key testflavor1 set family=intel\n\n\nstack@devstack:~/devstack$  nova flavor-list\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID                                   | Name        | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1                                    | m1.tiny     | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2                                    | m1.small    | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3                                    | m1.medium   | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4                                    | m1.large    | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 42                                   | m1.nano     | 64        | 0    | 0         |      | 1     | 1.0         | True      |\n| 5                                    | m1.xlarge   | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n| 75a142d8-3124-4fc9-97b3-9b1db1469d76 | testflavor1 | 4096      | 10   | 0         |      | 2     | 1.0         | True      |\n| 84                                   | m1.micro    | 128       | 0    | 0         |      | 1     | 1.0         | True      |\n| c1                                   | cirros256   | 256       | 0    | 0         |      | 1     | 1.0         | True      |\n| d1                                   | ds512M      | 512       | 5    | 0         |      | 1     | 1.0         | True      |\n| d2                                   | ds1G        | 1024      | 10   | 0         |      | 1     | 1.0         | True      |\n| d3                                   | ds2G        | 2048      | 10   | 0         |      | 2     | 1.0         | True      |\n| d4                                   | ds4G        | 4096      | 20   | 0         |      | 4     | 1.0         | True      |\n+--------------------------------------+-------------+-----------+------+-----------+------+-------+-------------+-----------+\n\n6.From the nova flavor-show, we can see the key-value is in \u201cextra_specs\u201d already\n\nstack@devstack:~/devstack$ nova flavor-show testflavor1\n+----------------------------+--------------------------------------+\n| Property                   | Value                                |\n+----------------------------+--------------------------------------+\n| OS-FLV-DISABLED:disabled   | False                                |\n| OS-FLV-EXT-DATA:ephemeral  | 0                                    |\n| disk                       | 10                                   |\n| extra_specs                | {\"family\": \"intel\"}                  |\n| id                         | 75a142d8-3124-4fc9-97b3-9b1db1469d76 |\n| name                       | testflavor1                          |\n| os-flavor-access:is_public | True                                 |\n| ram                        | 4096                                 |\n| rxtx_factor                | 1.0                                  |\n| swap                       |                                      |\n| vcpus                      | 2                                    |\n+----------------------------+--------------------------------------+\nstack@devstack:~/devstack$\n\n\n7. Now boot a VM with the flavor\n\n\nstack@devstack:~/devstack$ nova boot --image cirros-0.3.4-x86_64-uec --flavor testflavor1 --nic net-name=private vm-test      +--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          |                                                                |\n| OS-EXT-SRV-ATTR:host                 | -                                                              |\n| OS-EXT-SRV-ATTR:hostname             | vm-test                                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | -                                                              |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000016                                              |\n| OS-EXT-SRV-ATTR:kernel_id            | 6c74a0f6-b54a-4604-9d6f-9e3886a811ee                           |\n| OS-EXT-SRV-ATTR:launch_index         | 0                                                              |\n| OS-EXT-SRV-ATTR:ramdisk_id           | 2728b402-2af0-4b01-91ae-0472ecb34a01                           |\n| OS-EXT-SRV-ATTR:reservation_id       | r-6n0igzwj                                                     |\n| OS-EXT-SRV-ATTR:root_device_name     | -                                                              |\n| OS-EXT-SRV-ATTR:user_data            | -                                                              |\n| OS-EXT-STS:power_state               | 0                                                              |\n| OS-EXT-STS:task_state                | scheduling                                                     |\n| OS-EXT-STS:vm_state                  | building                                                       |\n| OS-SRV-USG:launched_at               | -                                                              |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| adminPass                            | T8PaX8G9F6rF                                                   |\n| config_drive                         |                                                                |\n| created                              | 2016-08-30T10:24:03Z                                           |\n| description                          | -                                                              |\n| flavor                               | testflavor1 (75a142d8-3124-4fc9-97b3-9b1db1469d76)             |\n| hostId                               |                                                                |\n| host_status                          |                                                                |\n| id                                   | 238b7482-8c94-427c-b073-dd1c922c572c                           |\n| image                                | cirros-0.3.4-x86_64-uec (bc8b111e-e312-4124-a3ba-64e7a2376612) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | vm-test                                                        |\n| os-extended-volumes:volumes_attached | []                                                             |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | BUILD                                                          |\n| tags                                 | []                                                             |\n| tenant_id                            | b26794c2d89748e9996d767a4ccfc5d0                               |\n| updated                              | 2016-08-30T10:24:04Z                                           |\n| user_id                              | 2398670e99844bd5ba30d6b7d3cdeaa5                               |\n+--------------------------------------+----------------------------------------------------------------+\nstack@devstack:~/devstack$ nova show vm-test\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                                                                                                                     |\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                                                                                                                    |\n| OS-EXT-AZ:availability_zone          |                                                                                                                                                                                           |\n| OS-EXT-SRV-ATTR:host                 | -                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:hostname             | vm-test                                                                                                                                                                                   |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | -                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000016                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:kernel_id            | 6c74a0f6-b54a-4604-9d6f-9e3886a811ee                                                                                                                                                      |\n| OS-EXT-SRV-ATTR:launch_index         | 0                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:ramdisk_id           | 2728b402-2af0-4b01-91ae-0472ecb34a01                                                                                                                                                      |\n| OS-EXT-SRV-ATTR:reservation_id       | r-6n0igzwj                                                                                                                                                                                |\n| OS-EXT-SRV-ATTR:root_device_name     | -                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:user_data            | -                                                                                                                                                                                         |\n| OS-EXT-STS:power_state               | 0                                                                                                                                                                                         |\n| OS-EXT-STS:task_state                | -                                                                                                                                                                                         |\n| OS-EXT-STS:vm_state                  | error                                                                                                                                                                                     |\n| OS-SRV-USG:launched_at               | -                                                                                                                                                                                         |\n| OS-SRV-USG:terminated_at             | -                                                                                                                                                                                         |\n| accessIPv4                           |                                                                                                                                                                                           |\n| accessIPv6                           |                                                                                                                                                                                           |\n| config_drive                         |                                                                                                                                                                                           |\n| created                              | 2016-08-30T10:24:03Z                                                                                                                                                                      |\n| description                          | -                                                                                                                                                                                         |\n| fault                                | {\"message\": \"No valid host was found. There are not enough hosts available.\", \"code\": 500, \"details\": \"  File \\\"/opt/stack/nova/nova/conductor/manager.py\\\", line 484, in build_instances |\n|                                      |     context, request_spec, filter_properties)                                                                                                                                             |\n|                                      |   File \\\"/opt/stack/nova/nova/conductor/manager.py\\\", line 541, in _schedule_instances                                                                                                    |\n|                                      |     hosts = self.scheduler_client.select_destinations(context, spec_obj)                                                                                                                  |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/utils.py\\\", line 370, in wrapped                                                                                                                  |\n|                                      |     return func(*args, **kwargs)                                                                                                                                                          |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/client/__init__.py\\\", line 51, in select_destinations                                                                                             |\n|                                      |     return self.queryclient.select_destinations(context, spec_obj)                                                                                                                        |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/client/__init__.py\\\", line 37, in __run_method                                                                                                    |\n|                                      |     return getattr(self.instance, __name)(*args, **kwargs)                                                                                                                                |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/client/query.py\\\", line 32, in select_destinations                                                                                                |\n|                                      |     return self.scheduler_rpcapi.select_destinations(context, spec_obj)                                                                                                                   |\n|                                      |   File \\\"/opt/stack/nova/nova/scheduler/rpcapi.py\\\", line 126, in select_destinations                                                                                                     |\n|                                      |     return cctxt.call(ctxt, 'select_destinations', **msg_args)                                                                                                                            |\n|                                      |   File \\\"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\\\", line 169, in call                                                                                         |\n|                                      |     retry=self.retry)                                                                                                                                                                     |\n|                                      |   File \\\"/usr/local/lib/python2.7/dist-packages/oslo_messaging/transport.py\\\", line 97, in _send                                                                                          |\n|                                      |     timeout=timeout, retry=retry)                                                                                                                                                         |\n|                                      |   File \\\"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\\\", line 464, in send                                                                                |\n|                                      |     retry=retry)                                                                                                                                                                          |\n|                                      |   File \\\"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\\\", line 455, in _send                                                                               |\n|                                      |     raise result                                                                                                                                                                          |\n|                                      | \", \"created\": \"2016-08-30T10:24:04Z\"}                                                                                                                                                     |\n| flavor                               | testflavor1 (75a142d8-3124-4fc9-97b3-9b1db1469d76)                                                                                                                                        |\n| hostId                               |                                                                                                                                                                                           |\n| host_status                          |                                                                                                                                                                                           |\n| id                                   | 238b7482-8c94-427c-b073-dd1c922c572c                                                                                                                                                      |\n| image                                | cirros-0.3.4-x86_64-uec (bc8b111e-e312-4124-a3ba-64e7a2376612)                                                                                                                            |\n| key_name                             | -                                                                                                                                                                                         |\n| locked                               | False                                                                                                                                                                                     |\n| metadata                             | {}                                                                                                                                                                                        |\n| name                                 | vm-test                                                                                                                                                                                   |\n| os-extended-volumes:volumes_attached | []                                                                                                                                                                                        |\n| status                               | ERROR                                                                                                                                                                                     |\n| tags                                 | []                                                                                                                                                                                        |\n| tenant_id                            | b26794c2d89748e9996d767a4ccfc5d0                                                                                                                                                          |\n| updated                              | 2016-08-30T10:24:04Z                                                                                                                                                                      |\n| user_id                              | 2398670e99844bd5ba30d6b7d3cdeaa5                                                                                                                                                          |\n+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\nstack@devstack:~/devstack$", 
            "date_created": "2016-08-30 10:44:17.361006+00:00", 
            "author": "https://api.launchpad.net/1.0/~chandrasekaran-natarajan"
        }, 
        {
            "content": "There are a number of reasons scheduling could fail to find a valid host and we need to see the n-sch.log and n-cpu.log to see the details of what's going on. If you can attach those to this bug, we can look into it further.", 
            "date_created": "2016-09-08 21:56:38.622675+00:00", 
            "author": "https://api.launchpad.net/1.0/~melwitt"
        }, 
        {
            "content": "", 
            "date_created": "2016-10-21 08:14:55.164422+00:00", 
            "author": "https://api.launchpad.net/1.0/~chandrasekaran-natarajan"
        }, 
        {
            "content": "", 
            "date_created": "2016-10-21 08:15:33.142338+00:00", 
            "author": "https://api.launchpad.net/1.0/~chandrasekaran-natarajan"
        }, 
        {
            "content": "Please find the log attached ", 
            "date_created": "2016-10-21 08:16:09.877755+00:00", 
            "author": "https://api.launchpad.net/1.0/~chandrasekaran-natarajan"
        }, 
        {
            "content": "\nThere are no currently open reviews on this bug, changing\nthe status back to the previous state and unassigning. If\nthere are active reviews related to this bug, please include\nlinks in comments.\n", 
            "date_created": "2017-06-23 12:43:37.574583+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2017-08-23 04:17:39.129724+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ]
}