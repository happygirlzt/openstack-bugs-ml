{
    "status": "Invalid", 
    "last_updated": "2013-06-25 23:01:07.121790+00:00", 
    "description": "The system currently has 1000 active VM.  When I create the 1001 VM the oldest VM 1 gets deleted without warning.  I'm not sure if it is still running on the compute/volume node but I cannot find it using 'nova show stca-00044'.  I have checked the quota for enough resources but then if the quota was exceeded for any of the resources (i.e vcpu/memory/etc) there would have been an error.  In this case the new 1001 VM becomes active and 1 VM is not longer accessible.   The system will always stay at 1000vm due to this and cannot be exceeded.\n\nThis setup was configured using Cisco Openstack Edition Folsom-multinode.  \nLink to configuration documentation: http://docwiki.cisco.com/wiki/OpenStack:Folsom\n\nThe setup contains 1 control/network node and 43 compute/volume nodes.\n\n\nHere is an example:\n\nroot@control-server:~# nova show stca-0044\n+-------------------------------------+----------------------------------------------------------+\n| Property                            | Value                                                    |\n+-------------------------------------+----------------------------------------------------------+\n| status                              | ACTIVE                                                   |\n| updated                             | 2013-06-07T18:42:41Z                                     |\n| OS-EXT-STS:task_state               | None                                                     |\n| OS-EXT-SRV-ATTR:host                | compute-server19                                         |\n| net16 network                       | 16.0.0.52                                                |\n| key_name                            | dkp                                                      |\n| image                               | f16_STCa_4.24 (b978b4bc-044a-4ccc-a14c-bc4ed9f7cb34)     |\n| hostId                              | d63142d9402fb3f64934f6a5aacd8876f7df2869cecb9f653aa0acd0 |\n| net15 network                       | 15.0.0.52                                                |\n| OS-EXT-STS:vm_state                 | active                                                   |\n| OS-EXT-SRV-ATTR:instance_name       | instance-00000041                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname | compute-server19.cisco.com                               |\n| flavor                              | STCa-vm (6)                                              |\n| id                                  | 26825b9c-edd5-477e-acb3-c58bd1a2d775                     |\n| security_groups                     | [{u'name': u'default'}]                                  |\n| user_id                             | 2562b65ac23840d483647f6deba74b0d                         |\n| name                                | stca-0044                                                |\n| created                             | 2013-06-07T18:42:22Z                                     |\n| tenant_id                           | 0f330a6acb4f43ac99961ba1573ced10                         |\n| OS-DCF:diskConfig                   | MANUAL                                                   |\n| accessIPv4                          |                                                          |\n| accessIPv6                          |                                                          |\n| progress                            | 0                                                        |\n| OS-EXT-STS:power_state              | 1                                                        |\n| metadata                            | {}                                                       |\n| config_drive                        |                                                          |\n+-------------------------------------+----------------------------------------------------------+\n\nroot@control-server:~# nova show stca-0044\n+-------------------------------------+----------------------------------------------------------+\n| Property                            | Value                                                    |\n+-------------------------------------+----------------------------------------------------------+\n| status                              | ACTIVE                                                   |\n| updated                             | 2013-06-07T18:42:41Z                                     |\n| OS-EXT-STS:task_state               | None                                                     |\n| OS-EXT-SRV-ATTR:host                | compute-server19                                         |\n| net16 network                       | 16.0.0.52                                                |\n| key_name                            | dkp                                                      |\n| image                               | f16_STCa_4.24 (b978b4bc-044a-4ccc-a14c-bc4ed9f7cb34)     |\n| hostId                              | d63142d9402fb3f64934f6a5aacd8876f7df2869cecb9f653aa0acd0 |\n| net15 network                       | 15.0.0.52                                                |\n| OS-EXT-STS:vm_state                 | active                                                   |\n| OS-EXT-SRV-ATTR:instance_name       | instance-00000041                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname | compute-server19.cisco.com                               |\n| flavor                              | STCa-vm (6)                                              |\n| id                                  | 26825b9c-edd5-477e-acb3-c58bd1a2d775                     |\n| security_groups                     | [{u'name': u'default'}]                                  |\n| user_id                             | 2562b65ac23840d483647f6deba74b0d                         |\n| name                                | stca-0044                                                |\n| created                             | 2013-06-07T18:42:22Z                                     |\n| tenant_id                           | 0f330a6acb4f43ac99961ba1573ced10                         |\n| OS-DCF:diskConfig                   | MANUAL                                                   |\n| accessIPv4                          |                                                          |\n| accessIPv6                          |                                                          |\n| progress                            | 0                                                        |\n| OS-EXT-STS:power_state              | 1                                                        |\n| metadata                            | {}                                                       |\n| config_drive                        |                                                          |\n+-------------------------------------+----------------------------------------------------------+\nroot@control-server:~# nova boot --image f16_STCa_4.24 --flavor STCa-vm --key_name dkp --nic net-id=6a9bf08e-ecdf-452d-a2fb-e8b8f16963dc --nic net-id=72c067cc-c32d-41bc-a3bf-c01f8cd6ae2b stca-1004\n+-------------------------------------+--------------------------------------+\n| Property                            | Value                                |\n+-------------------------------------+--------------------------------------+\n| status                              | BUILD                                |\n| updated                             | 2013-06-19T23:43:35Z                 |\n| OS-EXT-STS:task_state               | scheduling                           |\n| OS-EXT-SRV-ATTR:host                | None                                 |\n| key_name                            | dkp                                  |\n| image                               | f16_STCa_4.24                        |\n| hostId                              |                                      |\n| OS-EXT-STS:vm_state                 | building                             |\n| OS-EXT-SRV-ATTR:instance_name       | instance-00000441                    |\n| OS-EXT-SRV-ATTR:hypervisor_hostname | None                                 |\n| flavor                              | STCa-vm                              |\n| id                                  | d34f6621-acf5-42d6-b461-72ec75542ebb |\n| security_groups                     | [{u'name': u'default'}]              |\n| user_id                             | 2562b65ac23840d483647f6deba74b0d     |\n| name                                | stca-1004                            |\n| adminPass                           | waMig9CL5Z4u                         |\n| tenant_id                           | 0f330a6acb4f43ac99961ba1573ced10     |\n| created                             | 2013-06-19T23:43:35Z                 |\n| OS-DCF:diskConfig                   | MANUAL                               |\n| accessIPv4                          |                                      |\n| accessIPv6                          |                                      |\n| progress                            | 0                                    |\n| OS-EXT-STS:power_state              | 0                                    |\n| metadata                            | {}                                   |\n| config_drive                        |                                      |\n+-------------------------------------+--------------------------------------+\nroot@control-server:~# nova show stca-0044 ERROR: No server with a name or ID of 'stca-0044' exists.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1192749", 
    "owner": "None", 
    "id": 1192749, 
    "index": 3770, 
    "created": "2013-06-19 23:56:56.126232+00:00", 
    "title": "Cannot create over 1000 VM due to previous VM deletion", 
    "comments": [
        {
            "content": "The system currently has 1000 active VM.  When I create the 1001 VM the oldest VM 1 gets deleted without warning.  I'm not sure if it is still running on the compute/volume node but I cannot find it using 'nova show stca-00044'.  I have checked the quota for enough resources but then if the quota was exceeded for any of the resources (i.e vcpu/memory/etc) there would have been an error.  In this case the new 1001 VM becomes active and 1 VM is not longer accessible.   The system will always stay at 1000vm due to this and cannot be exceeded.\n\nThis setup was configured using Cisco Openstack Edition Folsom-multinode.  \nLink to configuration documentation: http://docwiki.cisco.com/wiki/OpenStack:Folsom\n\nThe setup contains 1 control/network node and 43 compute/volume nodes.\n\n\nHere is an example:\n\nroot@control-server:~# nova show stca-0044\n+-------------------------------------+----------------------------------------------------------+\n| Property                            | Value                                                    |\n+-------------------------------------+----------------------------------------------------------+\n| status                              | ACTIVE                                                   |\n| updated                             | 2013-06-07T18:42:41Z                                     |\n| OS-EXT-STS:task_state               | None                                                     |\n| OS-EXT-SRV-ATTR:host                | compute-server19                                         |\n| net16 network                       | 16.0.0.52                                                |\n| key_name                            | dkp                                                      |\n| image                               | f16_STCa_4.24 (b978b4bc-044a-4ccc-a14c-bc4ed9f7cb34)     |\n| hostId                              | d63142d9402fb3f64934f6a5aacd8876f7df2869cecb9f653aa0acd0 |\n| net15 network                       | 15.0.0.52                                                |\n| OS-EXT-STS:vm_state                 | active                                                   |\n| OS-EXT-SRV-ATTR:instance_name       | instance-00000041                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname | compute-server19.cisco.com                               |\n| flavor                              | STCa-vm (6)                                              |\n| id                                  | 26825b9c-edd5-477e-acb3-c58bd1a2d775                     |\n| security_groups                     | [{u'name': u'default'}]                                  |\n| user_id                             | 2562b65ac23840d483647f6deba74b0d                         |\n| name                                | stca-0044                                                |\n| created                             | 2013-06-07T18:42:22Z                                     |\n| tenant_id                           | 0f330a6acb4f43ac99961ba1573ced10                         |\n| OS-DCF:diskConfig                   | MANUAL                                                   |\n| accessIPv4                          |                                                          |\n| accessIPv6                          |                                                          |\n| progress                            | 0                                                        |\n| OS-EXT-STS:power_state              | 1                                                        |\n| metadata                            | {}                                                       |\n| config_drive                        |                                                          |\n+-------------------------------------+----------------------------------------------------------+\n\nroot@control-server:~# nova show stca-0044\n+-------------------------------------+----------------------------------------------------------+\n| Property                            | Value                                                    |\n+-------------------------------------+----------------------------------------------------------+\n| status                              | ACTIVE                                                   |\n| updated                             | 2013-06-07T18:42:41Z                                     |\n| OS-EXT-STS:task_state               | None                                                     |\n| OS-EXT-SRV-ATTR:host                | compute-server19                                         |\n| net16 network                       | 16.0.0.52                                                |\n| key_name                            | dkp                                                      |\n| image                               | f16_STCa_4.24 (b978b4bc-044a-4ccc-a14c-bc4ed9f7cb34)     |\n| hostId                              | d63142d9402fb3f64934f6a5aacd8876f7df2869cecb9f653aa0acd0 |\n| net15 network                       | 15.0.0.52                                                |\n| OS-EXT-STS:vm_state                 | active                                                   |\n| OS-EXT-SRV-ATTR:instance_name       | instance-00000041                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname | compute-server19.cisco.com                               |\n| flavor                              | STCa-vm (6)                                              |\n| id                                  | 26825b9c-edd5-477e-acb3-c58bd1a2d775                     |\n| security_groups                     | [{u'name': u'default'}]                                  |\n| user_id                             | 2562b65ac23840d483647f6deba74b0d                         |\n| name                                | stca-0044                                                |\n| created                             | 2013-06-07T18:42:22Z                                     |\n| tenant_id                           | 0f330a6acb4f43ac99961ba1573ced10                         |\n| OS-DCF:diskConfig                   | MANUAL                                                   |\n| accessIPv4                          |                                                          |\n| accessIPv6                          |                                                          |\n| progress                            | 0                                                        |\n| OS-EXT-STS:power_state              | 1                                                        |\n| metadata                            | {}                                                       |\n| config_drive                        |                                                          |\n+-------------------------------------+----------------------------------------------------------+\nroot@control-server:~# nova boot --image f16_STCa_4.24 --flavor STCa-vm --key_name dkp --nic net-id=6a9bf08e-ecdf-452d-a2fb-e8b8f16963dc --nic net-id=72c067cc-c32d-41bc-a3bf-c01f8cd6ae2b stca-1004\n+-------------------------------------+--------------------------------------+\n| Property                            | Value                                |\n+-------------------------------------+--------------------------------------+\n| status                              | BUILD                                |\n| updated                             | 2013-06-19T23:43:35Z                 |\n| OS-EXT-STS:task_state               | scheduling                           |\n| OS-EXT-SRV-ATTR:host                | None                                 |\n| key_name                            | dkp                                  |\n| image                               | f16_STCa_4.24                        |\n| hostId                              |                                      |\n| OS-EXT-STS:vm_state                 | building                             |\n| OS-EXT-SRV-ATTR:instance_name       | instance-00000441                    |\n| OS-EXT-SRV-ATTR:hypervisor_hostname | None                                 |\n| flavor                              | STCa-vm                              |\n| id                                  | d34f6621-acf5-42d6-b461-72ec75542ebb |\n| security_groups                     | [{u'name': u'default'}]              |\n| user_id                             | 2562b65ac23840d483647f6deba74b0d     |\n| name                                | stca-1004                            |\n| adminPass                           | waMig9CL5Z4u                         |\n| tenant_id                           | 0f330a6acb4f43ac99961ba1573ced10     |\n| created                             | 2013-06-19T23:43:35Z                 |\n| OS-DCF:diskConfig                   | MANUAL                               |\n| accessIPv4                          |                                      |\n| accessIPv6                          |                                      |\n| progress                            | 0                                    |\n| OS-EXT-STS:power_state              | 0                                    |\n| metadata                            | {}                                   |\n| config_drive                        |                                      |\n+-------------------------------------+--------------------------------------+\nroot@control-server:~# nova show stca-0044 ERROR: No server with a name or ID of 'stca-0044' exists.", 
            "date_created": "2013-06-19 23:56:56.126232+00:00", 
            "author": "https://api.launchpad.net/1.0/~tutho"
        }, 
        {
            "content": "i think this is not a bug but just a configuration issue.\nThere is a parameter to check the max number of items returned, something like that:\nosapi_opts = [\n    cfg.IntOpt('osapi_max_limit',\n               default=1000,\n               help='the maximum number of items returned in a single '\n                    'response from a collection resource'),\n\nCan you check in your configuration if you have this parameter ?", 
            "date_created": "2013-06-20 09:38:37.124883+00:00", 
            "author": "https://api.launchpad.net/1.0/~andrea-rosa-m"
        }, 
        {
            "content": "Hi Andrea,\n   I even tried the command 'nova show stca-0044' but it returned with the following error: \n\nERROR: No server with a name or ID of 'stca-0044' exists.\n\nHow else could I pull information about that particular VM?\n\nThanks,\nTuan", 
            "date_created": "2013-06-20 16:52:18.523218+00:00", 
            "author": "https://api.launchpad.net/1.0/~tutho"
        }, 
        {
            "content": "Hi Tuan,\n\nare you seeing this error with a Folsom installation?\nUnfortunately I don't have a right env to install/test/debug a Folsom code, surely anyone else around here can give you more help but in the meantime can you try s simple test?\nTry to dlete a couple of instances just to have less than 1000 instances and run again the nova show command?\n\nThanks\n--\nAndrea", 
            "date_created": "2013-06-21 12:34:16.892538+00:00", 
            "author": "https://api.launchpad.net/1.0/~andrea-rosa-m"
        }, 
        {
            "content": "Hi Andrea,\n  Yes, I am running a Folsom installation.   When I tried your suggestion and reduced the number of VMs below 1000, my older VM that previously had the cannot be found error returned.  I can also add more VM without having the older VMs error when doing 'nova show'.\n\nI think the bug is in the 'nova show' only parses from the first 1000 VM.\n\nThanks,\nTuan", 
            "date_created": "2013-06-21 16:49:51.365334+00:00", 
            "author": "https://api.launchpad.net/1.0/~tutho"
        }, 
        {
            "content": "Hi Tuan,\n\nwhen you given instance name in 'nova show', novaclient will get the details of first 1000 instances, then search the name in them.\nBut if you use instance uuid in 'nova show', It will just get the right instance information directly from API.\n\nBTW, you can use 'nova --debug show <id>' to see what request novaclient has send.", 
            "date_created": "2013-06-22 10:09:00.898953+00:00", 
            "author": "https://api.launchpad.net/1.0/~gtt116"
        }, 
        {
            "content": "Hi TianTian,\n\nHow do I get the instance uuid of the VMs that are greater than 1000 VM?  I've tried nova list command but it stops at 1000...\n\nI tried 'nova show <instance uuid>' and it does pull the VM information correctly but still 'nova show <name>' fails.\n\nI've upload the 'nova --debug show <id>' as nova-debug-show.rtf", 
            "date_created": "2013-06-25 23:00:29.492998+00:00", 
            "author": "https://api.launchpad.net/1.0/~tutho"
        }, 
        {
            "content": "", 
            "date_created": "2013-06-25 23:01:06.129425+00:00", 
            "author": "https://api.launchpad.net/1.0/~tutho"
        }
    ]
}