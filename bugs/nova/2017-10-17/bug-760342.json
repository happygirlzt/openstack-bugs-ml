{
    "status": "Fix Released", 
    "last_updated": "2011-09-22 13:42:49.836764+00:00", 
    "description": "Launched 50 builds into nova api and can no longer list via novaclient, running rev 986, get the following error\n\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/__init__.py\", line 59, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 919, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 887, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/wsgi.py\", line 354, in __call__\n(nova.api.openstack): TRACE:     result = method(**arg_dict)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/servers.py\", line 79, in detail\n(nova.api.openstack): TRACE:     return self._items(req, is_detail=True)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/servers.py\", line 90, in _items\n(nova.api.openstack): TRACE:     for inst in limited_list]\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/views/servers.py\", line 45, in build\n(nova.api.openstack): TRACE:     server = self._build_detail(inst)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/views/servers.py\", line 84, in _build_detail\n(nova.api.openstack): TRACE:     for item in inst.get('metadata', []):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/models.py\", line 77, in get\n(nova.api.openstack): TRACE:     return getattr(self, key, default)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/sqlalchemy/orm/attributes.py\", line 163, in __get__\n(nova.api.openstack): TRACE:     instance_dict(instance))\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/sqlalchemy/orm/attributes.py\", line 382, in get\n(nova.api.openstack): TRACE:     value = callable_(passive=passive)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/sqlalchemy/orm/strategies.py\", line 578, in __call__\n(nova.api.openstack): TRACE:     (mapperutil.state_str(state), self.key)\n(nova.api.openstack): TRACE: DetachedInstanceError: Parent instance <Instance at 0x3720550> is not bound to a Session; lazy load operation of attribute 'metadata' cannot proceed\n(nova.api.openstack): TRACE:", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/760342", 
    "owner": "https://api.launchpad.net/1.0/~jk0", 
    "id": 760342, 
    "index": 3381, 
    "openned": "2011-04-13 23:33:42.123614+00:00", 
    "created": "2011-04-13 23:33:42.123614+00:00", 
    "title": "API returning Error after running a number of builds", 
    "comments": [
        {
            "content": "Launched 50 builds into nova api and can no longer list via novaclient, running rev 986, get the following error\n\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/__init__.py\", line 59, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 919, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 887, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/wsgi.py\", line 354, in __call__\n(nova.api.openstack): TRACE:     result = method(**arg_dict)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/servers.py\", line 79, in detail\n(nova.api.openstack): TRACE:     return self._items(req, is_detail=True)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/servers.py\", line 90, in _items\n(nova.api.openstack): TRACE:     for inst in limited_list]\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/views/servers.py\", line 45, in build\n(nova.api.openstack): TRACE:     server = self._build_detail(inst)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/views/servers.py\", line 84, in _build_detail\n(nova.api.openstack): TRACE:     for item in inst.get('metadata', []):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/models.py\", line 77, in get\n(nova.api.openstack): TRACE:     return getattr(self, key, default)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/sqlalchemy/orm/attributes.py\", line 163, in __get__\n(nova.api.openstack): TRACE:     instance_dict(instance))\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/sqlalchemy/orm/attributes.py\", line 382, in get\n(nova.api.openstack): TRACE:     value = callable_(passive=passive)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.6/dist-packages/sqlalchemy/orm/strategies.py\", line 578, in __call__\n(nova.api.openstack): TRACE:     (mapperutil.state_str(state), self.key)\n(nova.api.openstack): TRACE: DetachedInstanceError: Parent instance <Instance at 0x3720550> is not bound to a Session; lazy load operation of attribute 'metadata' cannot proceed\n(nova.api.openstack): TRACE:", 
            "date_created": "2011-04-13 23:33:42.123614+00:00", 
            "author": "https://api.launchpad.net/1.0/~antonym"
        }, 
        {
            "content": "http://paste.openstack.org/show/1187/", 
            "date_created": "2011-04-13 23:35:33.524555+00:00", 
            "author": "https://api.launchpad.net/1.0/~antonym"
        }
    ], 
    "closed": "2011-09-22 13:42:48.786184+00:00"
}