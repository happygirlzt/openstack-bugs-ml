{
    "status": "Fix Released", 
    "last_updated": "2016-03-21 14:38:56.165008+00:00", 
    "description": "Mitaka devstack created about a week ago:\n\nstack@neutron:~/python-novaclient$ cd /opt/stack/nova\nstack@neutron:~/nova$ git log -1\ncommit 11019fab7a2415cbca8b93e9346b21327e79688d\nAuthor: bhagyashris <email address hidden>\nDate:   Tue Feb 16 01:13:23 2016 -0800\n\n    Remove duplicate key from dictionary\n\n    There is a duplicate dictionary key entry in test_vmops.py.\n    Removed duplicate key 'display_name' from dictionary.\n\n    TrivialFix\n\n    Change-Id: I4e779bceb26077b95bd3ae4ab19e60152c126e34\nstack@neutron:~/nova$\n\n\n--\n\nI have a deleted instance:\n\nmysql> select id,uuid,display_name,deleted from nova.instances;\n+----+--------------------------------------+--------------+---------+\n| id | uuid                                 | display_name | deleted |\n+----+--------------------------------------+--------------+---------+\n|  1 | 55b9808b-7e01-44ba-ab84-c0bac34d57f1 | test1        |       1 |\n+----+--------------------------------------+--------------+---------+\n1 row in set (0.00 sec)\n\n\nI try to list deleted instances using 'nova list --deleted' and it fails with a 404.\n\nChecking the n-api logs there is an InstanceNotFound, it looks like when lazy-loading the instance.services field:\n\n2016-02-23 20:17:25.103 DEBUG nova.objects.instance [req-4f701f32-d988-4ae0-93f5-11a4591b297e admin alt_demo] Lazy-loading 'services' on Instance uuid 55b9808b-7e01-44ba-ab84-c0bac34d57f1 from (pid=17965) obj_load_attr /opt/stack/nova/nova/objects/instance.py:879\n2016-02-23 20:17:25.168 ERROR nova.api.openstack [req-4f701f32-d988-4ae0-93f5-11a4591b297e admin alt_demo] Caught error: Instance 55b9808b-7e01-44ba-ab84-c0bac34d57f1 could not be found.\n2016-02-23 20:17:25.168 TRACE nova.api.openstack Traceback (most recent call last):\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 140, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return req.get_response(self.application)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1317, in send\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     application, catch_exc_info=False)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1281, in call_application\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return resp(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 457, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     response = req.get_response(self._app)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1317, in send\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     application, catch_exc_info=False)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1281, in call_application\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return resp(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return resp(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 136, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return resp(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 672, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     content_type, body, accept)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 756, in _process_stack\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     request, action_args)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 619, in post_process_extensions\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     **action_args)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/extended_server_attributes.py\", line 90, in detail\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     instances.values())\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/compute/api.py\", line 3461, in get_instances_host_statuses\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     host_status = self.get_instance_host_status(instance)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/compute/api.py\", line 3439, in get_instance_host_status\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     service = [service for service in instance.services if\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 67, in getter\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     self.obj_load_attr(name)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/instance.py\", line 902, in obj_load_attr\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     self._load_generic(attrname)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/instance.py\", line 746, in _load_generic\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     expected_attrs=[attrname])\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 181, in wrapper\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     result = fn(cls, context, *args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/instance.py\", line 399, in get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     use_slave=use_slave)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 283, in wrapper\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return f(*args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/instance.py\", line 391, in _db_instance_get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     columns_to_join=columns_to_join)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/api.py\", line 670, in instance_get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return IMPL.instance_get_by_uuid(context, uuid, columns_to_join)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 227, in wrapper\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return f(*args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 709, in wrapper\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return fn(*args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 1746, in instance_get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     columns_to_join=columns_to_join)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 1755, in _instance_get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     raise exception.InstanceNotFound(instance_id=uuid)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack InstanceNotFound: Instance 55b9808b-7e01-44ba-ab84-c0bac34d57f1 could not be found.\n2016-02-23 20:17:25.168 TRACE nova.api.openstack", 
    "tags": [
        "api"
    ], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1548980", 
    "owner": "https://api.launchpad.net/1.0/~mriedem", 
    "id": 1548980, 
    "index": 1883, 
    "openned": "2016-02-23 20:22:38.068305+00:00", 
    "created": "2016-02-23 20:22:38.068305+00:00", 
    "title": "nova list --deleted as admin fails with 404", 
    "comments": [
        {
            "content": "Mitaka devstack created about a week ago:\n\nstack@neutron:~/python-novaclient$ cd /opt/stack/nova\nstack@neutron:~/nova$ git log -1\ncommit 11019fab7a2415cbca8b93e9346b21327e79688d\nAuthor: bhagyashris <email address hidden>\nDate:   Tue Feb 16 01:13:23 2016 -0800\n\n    Remove duplicate key from dictionary\n\n    There is a duplicate dictionary key entry in test_vmops.py.\n    Removed duplicate key 'display_name' from dictionary.\n\n    TrivialFix\n\n    Change-Id: I4e779bceb26077b95bd3ae4ab19e60152c126e34\nstack@neutron:~/nova$\n\n\n--\n\nI have a deleted instance:\n\nmysql> select id,uuid,display_name,deleted from nova.instances;\n+----+--------------------------------------+--------------+---------+\n| id | uuid                                 | display_name | deleted |\n+----+--------------------------------------+--------------+---------+\n|  1 | 55b9808b-7e01-44ba-ab84-c0bac34d57f1 | test1        |       1 |\n+----+--------------------------------------+--------------+---------+\n1 row in set (0.00 sec)\n\n\nI try to list deleted instances using 'nova list --deleted' and it fails with a 404.\n\nChecking the n-api logs there is an InstanceNotFound, it looks like when lazy-loading the instance.services field:\n\n2016-02-23 20:17:25.103 DEBUG nova.objects.instance [req-4f701f32-d988-4ae0-93f5-11a4591b297e admin alt_demo] Lazy-loading 'services' on Instance uuid 55b9808b-7e01-44ba-ab84-c0bac34d57f1 from (pid=17965) obj_load_attr /opt/stack/nova/nova/objects/instance.py:879\n2016-02-23 20:17:25.168 ERROR nova.api.openstack [req-4f701f32-d988-4ae0-93f5-11a4591b297e admin alt_demo] Caught error: Instance 55b9808b-7e01-44ba-ab84-c0bac34d57f1 could not be found.\n2016-02-23 20:17:25.168 TRACE nova.api.openstack Traceback (most recent call last):\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 140, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return req.get_response(self.application)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1317, in send\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     application, catch_exc_info=False)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1281, in call_application\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return resp(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 457, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     response = req.get_response(self._app)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1317, in send\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     application, catch_exc_info=False)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1281, in call_application\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return resp(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return resp(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 136, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return resp(environ, start_response)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 672, in __call__\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     content_type, body, accept)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 756, in _process_stack\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     request, action_args)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 619, in post_process_extensions\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     **action_args)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/extended_server_attributes.py\", line 90, in detail\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     instances.values())\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/compute/api.py\", line 3461, in get_instances_host_statuses\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     host_status = self.get_instance_host_status(instance)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/compute/api.py\", line 3439, in get_instance_host_status\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     service = [service for service in instance.services if\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 67, in getter\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     self.obj_load_attr(name)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/instance.py\", line 902, in obj_load_attr\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     self._load_generic(attrname)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/instance.py\", line 746, in _load_generic\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     expected_attrs=[attrname])\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 181, in wrapper\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     result = fn(cls, context, *args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/instance.py\", line 399, in get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     use_slave=use_slave)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 283, in wrapper\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return f(*args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/objects/instance.py\", line 391, in _db_instance_get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     columns_to_join=columns_to_join)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/api.py\", line 670, in instance_get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return IMPL.instance_get_by_uuid(context, uuid, columns_to_join)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 227, in wrapper\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return f(*args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 709, in wrapper\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     return fn(*args, **kwargs)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 1746, in instance_get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     columns_to_join=columns_to_join)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 1755, in _instance_get_by_uuid\n2016-02-23 20:17:25.168 TRACE nova.api.openstack     raise exception.InstanceNotFound(instance_id=uuid)\n2016-02-23 20:17:25.168 TRACE nova.api.openstack InstanceNotFound: Instance 55b9808b-7e01-44ba-ab84-c0bac34d57f1 could not be found.\n2016-02-23 20:17:25.168 TRACE nova.api.openstack", 
            "date_created": "2016-02-23 20:22:38.068305+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "This is the compute API call to get the instance.services:\n\nhttps://github.com/openstack/nova/blob/11019fab7a2415cbca8b93e9346b21327e79688d/nova/compute/api.py#L3439\n\nWhich tries to generically get the updated instance object from the database here:\n\nhttps://github.com/openstack/nova/blob/11019fab7a2415cbca8b93e9346b21327e79688d/nova/objects/instance.py#L744\n\nBut because it's deleted that results in InstanceNotFound.\n\nSo we should either update the nova.objects.instance.Instance.obj_load_attr method to specifically handle the services field, or when we get the instance in the first place we should join on the services table.", 
            "date_created": "2016-02-23 20:27:31.516393+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "The regression was introduced with this change:\n\nhttps://github.com/openstack/nova/commit/9345d5835fb8ff6a3534122c3c13620547862e95", 
            "date_created": "2016-02-23 20:29:02.349746+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/283820", 
            "date_created": "2016-02-23 21:52:46.605750+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: master\nReview: https://review.openstack.org/283837", 
            "date_created": "2016-02-23 22:29:07.683136+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/283837\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=d6c334765559df07572441647a48debfe51829cb\nSubmitter: Jenkins\nBranch:    master\n\ncommit d6c334765559df07572441647a48debfe51829cb\nAuthor: Matt Riedemann <email address hidden>\nDate:   Tue Feb 23 17:27:50 2016 -0500\n\n    Add functional regression test for list deleted instances on v2.16\n    \n    There is a bug such that listing deleted instances with microversion\n    2.16 and greater is broken. It results in a 404. This adds a functional\n    regression test to exhibit the failure. The fix will build on the test\n    to show it's working again.\n    \n    Change-Id: Ifca42c23e2ead2b533776365de29f874819cb2a8\n    Related-Bug: #1548980\n", 
            "date_created": "2016-03-04 12:09:16.237450+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/283820\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=3d6bb233828ce63ae649e98e02dc59e04f3db2f5\nSubmitter: Jenkins\nBranch:    master\n\ncommit 3d6bb233828ce63ae649e98e02dc59e04f3db2f5\nAuthor: Matt Riedemann <email address hidden>\nDate:   Tue Feb 23 16:34:39 2016 -0500\n\n    Don't lazy-load instance.services if the instance is deleted\n    \n    The 2.16 microversion added the host_status extended\n    server attribute which relies on the instance.services field.\n    \n    The primary join in the database for that field is dependent on\n    the instance not being deleted.\n    \n    When listing deleted instances at microversion>=2.16, the\n    compute API attempts to lazy-load the instance.services field\n    which fails with an InstanceNotFound because the instance\n    is deleted.\n    \n    In this case, it's best to just set instance.services to an\n    empty ServiceList when lazy loading the services field on a\n    deleted instance since the DB object won't have any value for\n    the services attribute anyway.\n    \n    Change-Id: Ic2f239f634f917a5771b0401a5073546c710c036\n    Closes-Bug: #1548980\n", 
            "date_created": "2016-03-04 22:16:58.397630+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 13.0.0.0rc1 release candidate.", 
            "date_created": "2016-03-16 18:03:52.424337+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }
    ], 
    "closed": "2016-03-04 22:16:56.303263+00:00"
}