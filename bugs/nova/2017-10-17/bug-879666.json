{
    "status": "Invalid", 
    "last_updated": "2014-12-03 09:38:31.092648+00:00", 
    "description": "[Impact]\n<fill me in with explanation of severity and frequency of bug on users and justification for backporting the fix to the stable release>\n\n[Development Fix]\n<fill me in with an explanation of how the bug has been addressed in the development branch, including the relevant version numbers of packages modified in order to implement the fix. >\n\n[Stable Fix]\n<fill me in by pointing out a minimal patch applicable to the stable version of the package.>\n\n[Text Case]\n<fill me in with detailed *instructions* on how to reproduce the bug.  This will be used by people later on to verify the updated package fixes the problem.>\n1.\n2.\n3.\nBroken Behavior: \nFixed Behavior: \n\n[Regression Potential]\n<fill me in with a discussion of likelihood and potential severity of regressions and how users could get inadvertently affected. \n\n[Original Report]\nI saw this once before when I was less confident I knew how to run nova. I cannot reliably reproduce this problem. Here is the contents of the directory supposedly containng the missing file:\n\nroot@xg11eth0:~# ls -l /var/lib/nova/instances/instance-00000001/\ntotal 82492\nprw-rw---- 1 root root        0 2011-10-21 16:21 console.fifo.in\nprw-rw---- 1 root root        0 2011-10-21 16:22 console.fifo.out\n-rw-rw-r-- 1 nova nova    65545 2011-10-21 16:22 console.ring\n-rw-r--r-- 1 root root 75497472 2011-10-21 16:26 disk\n-rw-r--r-- 1 root root 12582912 2011-10-21 16:22 disk.local\n-rw-rw-r-- 1 root root  4732048 2011-10-21 16:21 kernel\n-rw-rw-r-- 1 nova nova     1750 2011-10-21 16:31 libvirt.xml\n\nThis was running from packages using oneiric-proposed\n\n2011-10-21 16:31:54,147 DEBUG nova.utils [-] Running cmd (subprocess): mkdir -p /var/lib/nova/instances/instance-00000001/ from (pid=1185) execute /usr/lib/python2.7/dist-package\\\ns/nova/utils.py:168\n2011-10-21 16:31:54,153 INFO nova.virt.libvirt_conn [-] instance instance-00000001: Creating image\n2011-10-21 16:31:54,153 DEBUG nova.utils [-] Running cmd (subprocess): sudo chown 107 /var/lib/nova/instances/instance-00000001/console.fifo from (pid=1185) execute /usr/lib/pyth\\\non2.7/dist-packages/nova/utils.py:168\n2011-10-21 16:31:54,173 DEBUG nova.utils [-] Result was 1 from (pid=1185) execute /usr/lib/python2.7/dist-packages/nova/utils.py:183\n2011-10-21 16:31:54,174 ERROR nova.exception [-] Uncaught exception\n(nova.exception): TRACE: Traceback (most recent call last):\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 98, in wrapped\n(nova.exception): TRACE:     return f(*args, **kw)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 676, in spawn\n(nova.exception): TRACE:     block_device_info=block_device_info)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 928, in _create_image\n(nova.exception): TRACE:     run_as_root=True)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/utils.py\", line 191, in execute\n(nova.exception): TRACE:     cmd=' '.join(cmd))\n(nova.exception): TRACE: ProcessExecutionError: Unexpected error while running command.\n(nova.exception): TRACE: Command: sudo chown 107 /var/lib/nova/instances/instance-00000001/console.fifo\n(nova.exception): TRACE: Exit code: 1\n(nova.exception): TRACE: Stdout: ''\n(nova.exception): TRACE: Stderr: \"chown: cannot access `/var/lib/nova/instances/instance-00000001/console.fifo': No such file or directory\\n\"\n(nova.exception): TRACE:\n2011-10-21 16:31:54,192 ERROR nova.compute.manager [-] Instance '1' failed to spawn. Is virtualization enabled in the BIOS? Details: Unexpected error while running command.\nCommand: sudo chown 107 /var/lib/nova/instances/instance-00000001/console.fifo\nExit code: 1\nStdout: ''\nStderr: \"chown: cannot access `/var/lib/nova/instances/instance-00000001/console.fifo': No such file or directory\\n\"\n(nova.compute.manager): TRACE: Traceback (most recent call last):\n(nova.compute.manager): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 424, in _run_instance\n(nova.compute.manager): TRACE:     network_info, block_device_info)\n(nova.compute.manager): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 129, in wrapped\n(nova.compute.manager): TRACE:     raise Error(str(e))\n(nova.compute.manager): TRACE: Error: Unexpected error while running command.\n(nova.compute.manager): TRACE: Command: sudo chown 107 /var/lib/nova/instances/instance-00000001/console.fifo\n(nova.compute.manager): TRACE: Exit code: 1\n(nova.compute.manager): TRACE: Stdout: ''\n(nova.compute.manager): TRACE: Stderr: \"chown: cannot access `/var/lib/nova/instances/instance-00000001/console.fifo': No such file or directory\\n\"\n(nova.compute.manager): TRACE:\n2011-10-21 16:32:43,346 INFO nova.compute.manager [-] Updating host status\n2011-10-21 16:32:44,184 INFO nova.compute.manager [-] Found 1 in the database and 0 on the hypervisor.\n2011-10-21 16:33:45,087 INFO nova.compute.manager [-] Found 1 in the database and 0 on the hypervisor.", 
    "tags": [
        "patch"
    ], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/879666", 
    "owner": "None", 
    "id": 879666, 
    "index": 3589, 
    "openned": "2011-10-21 20:55:58.626464+00:00", 
    "created": "2011-10-21 20:55:58.626464+00:00", 
    "title": "chown error for console.fifo when launching vm", 
    "comments": [
        {
            "content": "I saw this once before when I was less confident I knew how to run nova. I cannot reliably reproduce this problem. Here is the contents of the directory supposedly containng the missing file:\n\nroot@xg11eth0:~# ls -l /var/lib/nova/instances/instance-00000001/\ntotal 82492\nprw-rw---- 1 root root        0 2011-10-21 16:21 console.fifo.in\nprw-rw---- 1 root root        0 2011-10-21 16:22 console.fifo.out\n-rw-rw-r-- 1 nova nova    65545 2011-10-21 16:22 console.ring\n-rw-r--r-- 1 root root 75497472 2011-10-21 16:26 disk\n-rw-r--r-- 1 root root 12582912 2011-10-21 16:22 disk.local\n-rw-rw-r-- 1 root root  4732048 2011-10-21 16:21 kernel\n-rw-rw-r-- 1 nova nova     1750 2011-10-21 16:31 libvirt.xml\n\nThis was running from packages using oneiric-proposed\n\n\n2011-10-21 16:31:54,147 DEBUG nova.utils [-] Running cmd (subprocess): mkdir -p /var/lib/nova/instances/instance-00000001/ from (pid=1185) execute /usr/lib/python2.7/dist-package\\\ns/nova/utils.py:168\n2011-10-21 16:31:54,153 INFO nova.virt.libvirt_conn [-] instance instance-00000001: Creating image\n2011-10-21 16:31:54,153 DEBUG nova.utils [-] Running cmd (subprocess): sudo chown 107 /var/lib/nova/instances/instance-00000001/console.fifo from (pid=1185) execute /usr/lib/pyth\\\non2.7/dist-packages/nova/utils.py:168\n2011-10-21 16:31:54,173 DEBUG nova.utils [-] Result was 1 from (pid=1185) execute /usr/lib/python2.7/dist-packages/nova/utils.py:183\n2011-10-21 16:31:54,174 ERROR nova.exception [-] Uncaught exception\n(nova.exception): TRACE: Traceback (most recent call last):\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 98, in wrapped\n(nova.exception): TRACE:     return f(*args, **kw)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 676, in spawn\n(nova.exception): TRACE:     block_device_info=block_device_info)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 928, in _create_image\n(nova.exception): TRACE:     run_as_root=True)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/utils.py\", line 191, in execute\n(nova.exception): TRACE:     cmd=' '.join(cmd))\n(nova.exception): TRACE: ProcessExecutionError: Unexpected error while running command.\n(nova.exception): TRACE: Command: sudo chown 107 /var/lib/nova/instances/instance-00000001/console.fifo\n(nova.exception): TRACE: Exit code: 1\n(nova.exception): TRACE: Stdout: ''\n(nova.exception): TRACE: Stderr: \"chown: cannot access `/var/lib/nova/instances/instance-00000001/console.fifo': No such file or directory\\n\"\n(nova.exception): TRACE:\n2011-10-21 16:31:54,192 ERROR nova.compute.manager [-] Instance '1' failed to spawn. Is virtualization enabled in the BIOS? Details: Unexpected error while running command.\nCommand: sudo chown 107 /var/lib/nova/instances/instance-00000001/console.fifo\nExit code: 1\nStdout: ''\nStderr: \"chown: cannot access `/var/lib/nova/instances/instance-00000001/console.fifo': No such file or directory\\n\"\n(nova.compute.manager): TRACE: Traceback (most recent call last):\n(nova.compute.manager): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 424, in _run_instance\n(nova.compute.manager): TRACE:     network_info, block_device_info)\n(nova.compute.manager): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 129, in wrapped\n(nova.compute.manager): TRACE:     raise Error(str(e))\n(nova.compute.manager): TRACE: Error: Unexpected error while running command.\n(nova.compute.manager): TRACE: Command: sudo chown 107 /var/lib/nova/instances/instance-00000001/console.fifo\n(nova.compute.manager): TRACE: Exit code: 1\n(nova.compute.manager): TRACE: Stdout: ''\n(nova.compute.manager): TRACE: Stderr: \"chown: cannot access `/var/lib/nova/instances/instance-00000001/console.fifo': No such file or directory\\n\"\n(nova.compute.manager): TRACE:\n2011-10-21 16:32:43,346 INFO nova.compute.manager [-] Updating host status\n2011-10-21 16:32:44,184 INFO nova.compute.manager [-] Found 1 in the database and 0 on the hypervisor.\n2011-10-21 16:33:45,087 INFO nova.compute.manager [-] Found 1 in the database and 0 on the hypervisor.", 
            "date_created": "2011-10-21 20:55:58.626464+00:00", 
            "author": "https://api.launchpad.net/1.0/~david-kranz"
        }, 
        {
            "content": "This bug is Ubuntu specific - console.fifo has never existed upstream", 
            "date_created": "2012-01-13 09:23:08.189398+00:00", 
            "author": "https://api.launchpad.net/1.0/~markmc"
        }, 
        {
            "content": "I think that this might have been caused by an erroneous merge. Untested, but it looks obvious to me what the fix should be. I've attached it. But because it's a race, it will be difficult to test the fix itself. I think it's only realistic to test that this doesn't break anything.\n\nWhat's the status of this in precise, as upstream will not accept the console fifo security fix? Does this issue exist in precise also? For this reason I'm not sure what to do about the SRU procedure here.", 
            "date_created": "2012-01-17 13:54:36.943691+00:00", 
            "author": "https://api.launchpad.net/1.0/~racb"
        }, 
        {
            "content": "The attachment \"debdiff\" of this bug report has been identified as being a patch in the form of a debdiff.  The ubuntu-sponsors team has been subscribed to the bug report so that they can review and hopefully sponsor the debdiff.  In the event that this is in fact not a patch you can resolve this situation by removing the tag 'patch' from the bug report and editing the attachment so that it is not flagged as a patch.  Additionally, if you are member of the ubuntu-sponsors team please also unsubscribe the team from this bug report.\n\n[This is an automated message performed by a Launchpad user owned by Brian Murray.  Please contact him regarding any issues with the action taken in this bug report.]", 
            "date_created": "2012-01-17 16:14:35.642593+00:00", 
            "author": "https://api.launchpad.net/1.0/~crichton"
        }, 
        {
            "content": "@Robie, Can you propose this fix for Precise first; then we'll SRU it.\n\nThanks.", 
            "date_created": "2012-01-19 21:35:42.167054+00:00", 
            "author": "https://api.launchpad.net/1.0/~davewalker"
        }, 
        {
            "content": "Precise seems to be missing the console fifo patch. What am I missing?", 
            "date_created": "2012-01-27 11:48:47.731048+00:00", 
            "author": "https://api.launchpad.net/1.0/~racb"
        }, 
        {
            "content": "Ok, looking at the precise tree, this bug is not valid there as that chunk of code has been removed.\n\nRobie, Daviey, it's possible I'm misreading, but it seems to me this should be marked Fix Released for precise, and Robie's debdiff should be updated to apply to oneiric-proposed's version (which still has the bug).", 
            "date_created": "2012-02-03 23:20:29.469890+00:00", 
            "author": "https://api.launchpad.net/1.0/~serge-hallyn"
        }, 
        {
            "content": "Just to update anyone following this bug, the plan decided at the last meeting is that Chuck will rebase the console fifo patch for Precise, fixing this bug on the way, and then SRU the fix for this bug in Oneiric. Thanks Chuck!", 
            "date_created": "2012-02-09 10:49:51.711202+00:00", 
            "author": "https://api.launchpad.net/1.0/~racb"
        }, 
        {
            "content": "Un-subscribing ubuntu-sponsors as Chuck has this in hand.", 
            "date_created": "2012-02-10 10:06:17.399448+00:00", 
            "author": "https://api.launchpad.net/1.0/~james-page"
        }, 
        {
            "content": "This bug was fixed in the package nova - 2012.1~e4~20120224.12913-0ubuntu1\n\n---------------\nnova (2012.1~e4~20120224.12913-0ubuntu1) precise; urgency=low\n\n  [ Monty Taylor ]\n  * Move files from nova/locale to /usr/share/locale\n\n  [ Chuck Short ]\n  * debian/rules: Fix FTBFS.\n  * debian/control: Add depends on python-babel.\n  * debian/control: Add depends on python-iso8601.\n  * debian/nova-api-os-volume.install: Fix FTBS.\n  * debian/patches/libvirt-use-console-pipe.patch: Refreshed and\n    Re-enabled. (LP: #879666)\n  * debian/control: Make sure we install nova-cert\n\n  [ Joseph Heck ]\n  * debian/nova-console.install: Add nova-consoleauth.\n  * Add nova-api-ec2, nova-api-os-compute, and nova-api-os-volume.\n -- Chuck Short <email address hidden>   Fri, 24 Feb 2012 10:08:10 -0500", 
            "date_created": "2012-02-24 16:30:06.326405+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }, 
        {
            "content": "oneiric has seen the end of its life and is no longer receiving any updates. Marking the oneiric task for this ticket as \"Won't Fix\".", 
            "date_created": "2014-12-03 09:38:23.920814+00:00", 
            "author": "https://api.launchpad.net/1.0/~r0lf"
        }
    ], 
    "closed": "2012-01-13 09:22:43.655214+00:00"
}