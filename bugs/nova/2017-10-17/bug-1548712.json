{
    "status": "Invalid", 
    "last_updated": "2016-02-23 10:35:48.261397+00:00", 
    "description": "Running on CentOS 7 i'm currently unable to run Nova tests on the master branch.\nI tested this on a fresh clone:\n\n[kaisers@kaisers nova-test (master)>tox\npy34 create: /home/kaisers/tmp/nova-test/.tox/py34\npy34 installdeps: -r/home/kaisers/tmp/nova-test/test-requirements.txt, oslo.versionedobjects[fixtures]\nERROR: invocation failed (exit code 2), logfile: /home/kaisers/tmp/nova-test/.tox/py34/log/py34-1.log\nERROR: actionid: py34\nmsg: getenv\ncmdargs: [local('/home/kaisers/tmp/nova-test/.tox/py34/bin/pip'), 'install', '-chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt', '-r/home/kaisers/tmp/nova-test/test-requirements.txt', 'oslo.versionedobjects[fixtures]']\nenv: {'SSH_ASKPASS': '/usr/libexec/openssh/gnome-ssh-askpass', 'INSTALL_DIR': '/home/kaisers/experimental/quobyte', 'HADOOP_CLASSPATH': '/home/kaisers/development/xtreemstorage/java/hadoop/dist/quobyte-hadoop-full.jar', 'IMSETTINGS_MODULE': 'none', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'GJS_DEBUG_OUTPUT': 'stderr', 'LESSOPEN': '||/usr/bin/lesspipe.sh %s', 'QT_IM_MODULE': 'ibus', 'LOGNAME': 'kaisers', 'USER': 'kaisers', 'PATH': '/home/kaisers/tmp/nova-test/.tox/py34/bin:/users/share/bin/ccache:/users/share/software/clang/bin:/users/share/bin/ccache:/users/share/software/clang/bin:/users/share/bin/ccache:/users/share/software/clang/bin:/usr/lib64/qt-3.3/bin:/users/share/bin/ccache:/users/share/software/clang/bin:/usr/lib64/ccache:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:/users/share/bin:/users/share/bin/dev:$/BIN/perf:/users/share/bin/prod:/users/share/bin/admin:/users/share/bin:/users/share/bin/dev:$/BIN/perf:/users/share/bin/prod:/users/share/bin/admin:/users/share/bin:/users/share/bin/dev:$/BIN/perf:/users/share/bin/prod:/users/share/bin/admin:/users/share/bin:/users/share/bin/dev:$/BIN/perf:/users/share/bin/prod:/users/share/bin/admin:/home/kaisers/bin/:/home/kaisers/tmp/dcos/bin:/home/kaisers/.local/bin:/home/kaisers/bin:/home/kaisers/bin/', 'XDG_VTNR': '1', 'QTDIR': '/usr/lib64/qt-3.3', 'LD_LIBRARY_PATH': '/home/kaisers/experimental/lib/', 'MAKEFLAGS': '-j8 -l8', 'XDG_SESSION_DESKTOP': 'gnome', 'BIN': '/users/share/bin', 'QTLIB': '/usr/lib64/qt-3.3/lib', 'TERM': 'xterm-256color', 'SHELL': '/bin/bash', 'JDK_HOME': '/usr/java/jdk1.8.0', 'LANGUAGE': 'en_US', 'SESSION_MANAGER': 'local/unix:@/tmp/.ICE-unix/4150,unix/unix:/tmp/.ICE-unix/4150', 'QTINC': '/usr/lib64/qt-3.3/include', 'VIRTUAL_ENV': '/home/kaisers/tmp/nova-test/.tox/py34', 'HISTSIZE': '1000', 'JAVA_HOME': '/usr/java/jdk1.8.0', 'WINDOWPATH': '1', 'DISTRO_NAME': 'unknown-distro', 'IMSETTINGS_INTEGRATE_DESKTOP': 'yes', 'PYTHONHASHSEED': '515883090', 'GPG_AGENT_INFO': '/run/user/1010/keyring/gpg:0:1', 'HOME': '/home/kaisers', 'USERNAME': 'kaisers', 'LANG': 'de_DE.utf8', 'LC_ALL': 'en_US.utf-8', 'XDG_RUNTIME_DIR': '/run/user/1010', 'CCACHE_HASHDIR': '', 'SSH_AUTH_SOCK': '/run/user/1010/keyring/ssh', 'VTE_VERSION': '3803', 'DISTRO_VERSION': 'unknown-version', 'GDMSESSION': 'gnome', 'XMODIFIERS': '@im=ibus', 'XDG_MENU_PREFIX': 'gnome-', 'QT_GRAPHICSSYSTEM_CHECKED': '1', 'XDG_CURRENT_DESKTOP': 'GNOME', 'XDG_SESSION_ID': '1', 'DBUS_SESSION_BUS_ADDRESS': 'unix:abstract=/tmp/dbus-mlI2CLdpPm,guid=341cd6959bff15f46d0bec4056a73df7', '_': '/usr/bin/tox', 'XAUTHORITY': '/run/gdm/auth-for-kaisers-2FwdSk/database', 'DESKTOP_SESSION': 'gnome', 'WINDOWID': '33554439', 'DISPLAY': ':0', 'KRB5CCNAME': 'KEYRING:persistent:1010', 'OLDPWD': '/home/kaisers/tmp', 'HOSTNAME': 'kaisers.corp.quobyte.com', 'GDM_LANG': 'de_DE.utf8', 'HISTCONTROL': 'ignoredups', 'SHLVL': '2', 'PWD': '/home/kaisers/tmp/nova-test', 'OS_TEST_PATH': './nova/tests/unit', 'MAIL': '/var/spool/mail/kaisers', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'XDG_SEAT': 'seat0'}\n\n\nUsage:   \n  pip install [options] <requirement specifier> [package-index-options] ...\n  pip install [options] -r <requirements file> [package-index-options] ...\n  pip install [options] [-e] <vcs project url> ...\n  pip install [options] [-e] <local project path> ...\n  pip install [options] <archive url/path> ...\n\nno such option: -c\n\nERROR: could not install deps [-r/home/kaisers/tmp/nova-test/test-requirements.txt, oslo.versionedobjects[fixtures]]; v = InvocationError('/home/kaisers/tmp/nova-test/.tox/py34/bin/pip install -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt -r/home/kaisers/tmp/nova-test/test-requirements.txt oslo.versionedobjects[fixtures] (see /home/kaisers/tmp/nova-test/.tox/py34/log/py34-1.log)', 2)\n\n\n\n\nThe same error comes up for py27 and other tox environments.\nFrom what i saw i think the current tox config uses the -c (--constraint) option which seemingly is available in pip v8.0.2 but the env seems to run pip v7.0.3 where the -c option is not known.\n\n[kaisers@kaisers nova-test (master)>./.tox/py34/bin/pip --version\npip 7.0.3 from /home/kaisers/tmp/nova-test/.tox/py34/lib/python3.4/site-packages (python 3.4)\n\nIn order to reproduce simply clone current Nova master and run tox. I did not test this on other Linux distributions.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1548712", 
    "owner": "None", 
    "id": 1548712, 
    "index": 7320, 
    "openned": "2016-02-23 09:38:02.400321+00:00", 
    "created": "2016-02-23 09:38:02.400321+00:00", 
    "title": "pip: no such option: -c in current Nova master testing setup", 
    "comments": [
        {
            "content": "Running on CentOS 7 i'm currently unable to run Nova tests on the master branch.\nI tested this on a fresh clone:\n\n[kaisers@kaisers nova-test (master)>tox\npy34 create: /home/kaisers/tmp/nova-test/.tox/py34\npy34 installdeps: -r/home/kaisers/tmp/nova-test/test-requirements.txt, oslo.versionedobjects[fixtures]\nERROR: invocation failed (exit code 2), logfile: /home/kaisers/tmp/nova-test/.tox/py34/log/py34-1.log\nERROR: actionid: py34\nmsg: getenv\ncmdargs: [local('/home/kaisers/tmp/nova-test/.tox/py34/bin/pip'), 'install', '-chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt', '-r/home/kaisers/tmp/nova-test/test-requirements.txt', 'oslo.versionedobjects[fixtures]']\nenv: {'SSH_ASKPASS': '/usr/libexec/openssh/gnome-ssh-askpass', 'INSTALL_DIR': '/home/kaisers/experimental/quobyte', 'HADOOP_CLASSPATH': '/home/kaisers/development/xtreemstorage/java/hadoop/dist/quobyte-hadoop-full.jar', 'IMSETTINGS_MODULE': 'none', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'GJS_DEBUG_OUTPUT': 'stderr', 'LESSOPEN': '||/usr/bin/lesspipe.sh %s', 'QT_IM_MODULE': 'ibus', 'LOGNAME': 'kaisers', 'USER': 'kaisers', 'PATH': '/home/kaisers/tmp/nova-test/.tox/py34/bin:/users/share/bin/ccache:/users/share/software/clang/bin:/users/share/bin/ccache:/users/share/software/clang/bin:/users/share/bin/ccache:/users/share/software/clang/bin:/usr/lib64/qt-3.3/bin:/users/share/bin/ccache:/users/share/software/clang/bin:/usr/lib64/ccache:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:/users/share/bin:/users/share/bin/dev:$/BIN/perf:/users/share/bin/prod:/users/share/bin/admin:/users/share/bin:/users/share/bin/dev:$/BIN/perf:/users/share/bin/prod:/users/share/bin/admin:/users/share/bin:/users/share/bin/dev:$/BIN/perf:/users/share/bin/prod:/users/share/bin/admin:/users/share/bin:/users/share/bin/dev:$/BIN/perf:/users/share/bin/prod:/users/share/bin/admin:/home/kaisers/bin/:/home/kaisers/tmp/dcos/bin:/home/kaisers/.local/bin:/home/kaisers/bin:/home/kaisers/bin/', 'XDG_VTNR': '1', 'QTDIR': '/usr/lib64/qt-3.3', 'LD_LIBRARY_PATH': '/home/kaisers/experimental/lib/', 'MAKEFLAGS': '-j8 -l8', 'XDG_SESSION_DESKTOP': 'gnome', 'BIN': '/users/share/bin', 'QTLIB': '/usr/lib64/qt-3.3/lib', 'TERM': 'xterm-256color', 'SHELL': '/bin/bash', 'JDK_HOME': '/usr/java/jdk1.8.0', 'LANGUAGE': 'en_US', 'SESSION_MANAGER': 'local/unix:@/tmp/.ICE-unix/4150,unix/unix:/tmp/.ICE-unix/4150', 'QTINC': '/usr/lib64/qt-3.3/include', 'VIRTUAL_ENV': '/home/kaisers/tmp/nova-test/.tox/py34', 'HISTSIZE': '1000', 'JAVA_HOME': '/usr/java/jdk1.8.0', 'WINDOWPATH': '1', 'DISTRO_NAME': 'unknown-distro', 'IMSETTINGS_INTEGRATE_DESKTOP': 'yes', 'PYTHONHASHSEED': '515883090', 'GPG_AGENT_INFO': '/run/user/1010/keyring/gpg:0:1', 'HOME': '/home/kaisers', 'USERNAME': 'kaisers', 'LANG': 'de_DE.utf8', 'LC_ALL': 'en_US.utf-8', 'XDG_RUNTIME_DIR': '/run/user/1010', 'CCACHE_HASHDIR': '', 'SSH_AUTH_SOCK': '/run/user/1010/keyring/ssh', 'VTE_VERSION': '3803', 'DISTRO_VERSION': 'unknown-version', 'GDMSESSION': 'gnome', 'XMODIFIERS': '@im=ibus', 'XDG_MENU_PREFIX': 'gnome-', 'QT_GRAPHICSSYSTEM_CHECKED': '1', 'XDG_CURRENT_DESKTOP': 'GNOME', 'XDG_SESSION_ID': '1', 'DBUS_SESSION_BUS_ADDRESS': 'unix:abstract=/tmp/dbus-mlI2CLdpPm,guid=341cd6959bff15f46d0bec4056a73df7', '_': '/usr/bin/tox', 'XAUTHORITY': '/run/gdm/auth-for-kaisers-2FwdSk/database', 'DESKTOP_SESSION': 'gnome', 'WINDOWID': '33554439', 'DISPLAY': ':0', 'KRB5CCNAME': 'KEYRING:persistent:1010', 'OLDPWD': '/home/kaisers/tmp', 'HOSTNAME': 'kaisers.corp.quobyte.com', 'GDM_LANG': 'de_DE.utf8', 'HISTCONTROL': 'ignoredups', 'SHLVL': '2', 'PWD': '/home/kaisers/tmp/nova-test', 'OS_TEST_PATH': './nova/tests/unit', 'MAIL': '/var/spool/mail/kaisers', 'GJS_DEBUG_TOPICS': 'JS ERROR;JS LOG', 'XDG_SEAT': 'seat0'}\n\n\nUsage:   \n  pip install [options] <requirement specifier> [package-index-options] ...\n  pip install [options] -r <requirements file> [package-index-options] ...\n  pip install [options] [-e] <vcs project url> ...\n  pip install [options] [-e] <local project path> ...\n  pip install [options] <archive url/path> ...\n\nno such option: -c\n\nERROR: could not install deps [-r/home/kaisers/tmp/nova-test/test-requirements.txt, oslo.versionedobjects[fixtures]]; v = InvocationError('/home/kaisers/tmp/nova-test/.tox/py34/bin/pip install -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt -r/home/kaisers/tmp/nova-test/test-requirements.txt oslo.versionedobjects[fixtures] (see /home/kaisers/tmp/nova-test/.tox/py34/log/py34-1.log)', 2)\n\n\n\n\nThe same error comes up for py27 and other tox environments.\nFrom what i saw i think the current tox config uses the -c (--constraint) option which seemingly is available in pip v8.0.2 but the env seems to run pip v7.0.3 where the -c option is not known.\n\n[kaisers@kaisers nova-test (master)>./.tox/py34/bin/pip --version\npip 7.0.3 from /home/kaisers/tmp/nova-test/.tox/py34/lib/python3.4/site-packages (python 3.4)\n\nIn order to reproduce simply clone current Nova master and run tox. I did not test this on other Linux distributions.", 
            "date_created": "2016-02-23 09:38:02.400321+00:00", 
            "author": "https://api.launchpad.net/1.0/~2-silvan"
        }, 
        {
            "content": "Constraints file support was added in pip 7.1.\n", 
            "date_created": "2016-02-23 09:40:09.548321+00:00", 
            "author": "https://api.launchpad.net/1.0/~2-silvan"
        }, 
        {
            "content": "SOLUTION:\nvirtualenv version was 13.0.3 and that seemingly was too old. After upgrading to 14.0.6 via 'sudo pip install -U virtualenv' the testing setups wen smoothly.\n\nAll attempts to update pip in the virtualenvs of v13.0.3 failed as pip was downgraded to 7.0.3 each time tox was run with the old virtualenv version.\n\n", 
            "date_created": "2016-02-23 10:35:11.408093+00:00", 
            "author": "https://api.launchpad.net/1.0/~2-silvan"
        }
    ], 
    "closed": "2016-02-23 10:35:46.097910+00:00"
}