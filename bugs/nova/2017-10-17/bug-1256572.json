{
    "status": "Invalid", 
    "last_updated": "2013-12-01 18:26:25.231624+00:00", 
    "description": "Since NOva commit 1c1371c78b990447aeaa4377b512f8887e6ff3ce  (Users with admin role in Nova should not re-auth with Neutron) I'm now seeing the following nova-api errors:\n\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/api/metadata/handler.py\", line 136, in _handle_remote_ip_request\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     meta_data = self.get_metadata_by_remote_address(remote_address)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/api/metadata/handler.py\", line 78, in get_metadata_by_remote_address\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     data = base.get_metadata_by_address(self.conductor_api, address)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/api/metadata/base.py\", line 466, in get_metadata_by_address\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     fixed_ip = network.API().get_fixed_ip_by_address(ctxt, address)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 680, in get_fixed_ip_by_address\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     uuid_maps = self._get_instance_uuids_by_ip(context, address)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 582, in _get_instance_uuids_by_ip\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     data = neutronv2.get_client(context).list_ports(**search_opts)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/network/neutronv2/__init__.py\", line 69, in get_client\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     raise exceptions.Unauthorized()", 
    "tags": [], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1256572", 
    "owner": "https://api.launchpad.net/1.0/~philip-day", 
    "id": 1256572, 
    "index": 1338, 
    "openned": "2013-11-30 21:05:18.900775+00:00", 
    "created": "2013-11-30 21:05:18.900775+00:00", 
    "title": "metadata API neutron V2 requests are Unauthorized", 
    "comments": [
        {
            "content": "Since NOva commit 1c1371c78b990447aeaa4377b512f8887e6ff3ce  (Users with admin role in Nova should not re-auth with Neutron) I'm now seeing the following nova-api errors:\n\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/api/metadata/handler.py\", line 136, in _handle_remote_ip_request\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     meta_data = self.get_metadata_by_remote_address(remote_address)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/api/metadata/handler.py\", line 78, in get_metadata_by_remote_address\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     data = base.get_metadata_by_address(self.conductor_api, address)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/api/metadata/base.py\", line 466, in get_metadata_by_address\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     fixed_ip = network.API().get_fixed_ip_by_address(ctxt, address)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 680, in get_fixed_ip_by_address\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     uuid_maps = self._get_instance_uuids_by_ip(context, address)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 582, in _get_instance_uuids_by_ip\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     data = neutronv2.get_client(context).list_ports(**search_opts)\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler   File \"/opt/stack/venvs/nova/lib/python2.7/site-packages/nova/network/neutronv2/__init__.py\", line 69, in get_client\nNov 30 19:38:09 localhost nova-api[2103]: 2013-11-30 19:38:09,852.852 2193 TRACE nova.api.metadata.handler     raise exceptions.Unauthorized()", 
            "date_created": "2013-11-30 21:05:18.900775+00:00", 
            "author": "https://api.launchpad.net/1.0/~dan-prince"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/59290", 
            "date_created": "2013-12-01 14:31:39.303888+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This is a dup of #1255577.", 
            "date_created": "2013-12-01 18:25:54.045141+00:00", 
            "author": "https://api.launchpad.net/1.0/~dan-prince"
        }
    ], 
    "closed": "2013-12-01 18:26:22.464367+00:00"
}