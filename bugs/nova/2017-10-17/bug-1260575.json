{
    "status": "Fix Released", 
    "last_updated": "2014-04-17 09:16:17.077241+00:00", 
    "description": "The quota usage for security group do not decrease when the security group is deleted by admin.\n\nUse the attachment script to reproduce, here is what i got:\n\n+ new_user\n+ ATTEMPT_ID=27449\n+ TENANT_NAME=tanant-27449\n++ awk '/id/{print $4}'\n++ keystone tenant-create --name tanant-27449\n+ TENANT_ID=8e37a593f3234b6582f9e436a1b044c4\n+ USER_NAME=user-27449\n++ awk '/id/{print $4}'\n++ keystone user-create --name user-27449 --tenant-id 8e37a593f3234b6582f9e436a1b044c4 --pass secret\n+ USER_ID=373d946636324d53ba6161e065f68572\n+ as_user nova quota-show\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova quota-show\n+-----------------------------+-------+\n| Quota                       | Limit |\n+-----------------------------+-------+\n| instances                   | 10    |\n| cores                       | 20    |\n| ram                         | 51200 |\n| floating_ips                | 10    |\n| fixed_ips                   | -1    |\n| metadata_items              | 128   |\n| injected_files              | 5     |\n| injected_file_content_bytes | 10240 |\n| injected_file_path_bytes    | 255   |\n| key_pairs                   | 100   |\n| security_groups             | 10    |\n| security_group_rules        | 20    |\n+-----------------------------+-------+\n+ (( i=0 ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-0 by user-27449 **'\n** Creating security group sec-27449-0 by user-27449 **\n+ as_user nova secgroup-create sec-27449-0 sec-27449-0\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-0 sec-27449-0\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 39 | sec-27449-0 | sec-27449-0 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-1 by user-27449 **'\n** Creating security group sec-27449-1 by user-27449 **\n+ as_user nova secgroup-create sec-27449-1 sec-27449-1\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-1 sec-27449-1\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 40 | sec-27449-1 | sec-27449-1 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-2 by user-27449 **'\n** Creating security group sec-27449-2 by user-27449 **\n+ as_user nova secgroup-create sec-27449-2 sec-27449-2\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-2 sec-27449-2\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 41 | sec-27449-2 | sec-27449-2 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-3 by user-27449 **'\n** Creating security group sec-27449-3 by user-27449 **\n+ as_user nova secgroup-create sec-27449-3 sec-27449-3\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-3 sec-27449-3\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 42 | sec-27449-3 | sec-27449-3 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-4 by user-27449 **'\n** Creating security group sec-27449-4 by user-27449 **\n+ as_user nova secgroup-create sec-27449-4 sec-27449-4\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-4 sec-27449-4\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 43 | sec-27449-4 | sec-27449-4 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-5 by user-27449 **'\n** Creating security group sec-27449-5 by user-27449 **\n+ as_user nova secgroup-create sec-27449-5 sec-27449-5\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-5 sec-27449-5\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 44 | sec-27449-5 | sec-27449-5 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-6 by user-27449 **'\n** Creating security group sec-27449-6 by user-27449 **\n+ as_user nova secgroup-create sec-27449-6 sec-27449-6\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-6 sec-27449-6\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 45 | sec-27449-6 | sec-27449-6 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-7 by user-27449 **'\n** Creating security group sec-27449-7 by user-27449 **\n+ as_user nova secgroup-create sec-27449-7 sec-27449-7\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-7 sec-27449-7\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 46 | sec-27449-7 | sec-27449-7 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-8 by user-27449 **'\n** Creating security group sec-27449-8 by user-27449 **\n+ as_user nova secgroup-create sec-27449-8 sec-27449-8\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-8 sec-27449-8\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 47 | sec-27449-8 | sec-27449-8 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-9 by user-27449 **'\n** Creating security group sec-27449-9 by user-27449 **\n+ as_user nova secgroup-create sec-27449-9 sec-27449-9\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-9 sec-27449-9\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 48 | sec-27449-9 | sec-27449-9 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n++ as_admin nova secgroup-list --all-tenants\n++ OS_USERNAME=admin\n++ OS_TENANT_NAME=admin\n++ OS_PASSWORD=123123\n++ nova secgroup-list --all-tenants\n++ awk '-F|' '{print $2}'\n++ grep 8e37a593f3234b6582f9e436a1b044c4\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 38 by admin. **'\n** Deleting security group 38 by admin. **\n+ as_admin nova secgroup-delete 38\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 38\nERROR: Unable to delete system group 'default' (HTTP 400) (Request-ID: req-7859a690-629d-4c5b-9da9-776132adf2e8)\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 39 by admin. **'\n** Deleting security group 39 by admin. **\n+ as_admin nova secgroup-delete 39\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 39\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 39 | sec-27449-0 | sec-27449-0 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 40 by admin. **'\n** Deleting security group 40 by admin. **\n+ as_admin nova secgroup-delete 40\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 40\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 40 | sec-27449-1 | sec-27449-1 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 41 by admin. **'\n** Deleting security group 41 by admin. **\n+ as_admin nova secgroup-delete 41\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 41\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 41 | sec-27449-2 | sec-27449-2 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 42 by admin. **'\n** Deleting security group 42 by admin. **\n+ as_admin nova secgroup-delete 42\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 42\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 42 | sec-27449-3 | sec-27449-3 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 43 by admin. **'\n** Deleting security group 43 by admin. **\n+ as_admin nova secgroup-delete 43\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 43\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 43 | sec-27449-4 | sec-27449-4 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 44 by admin. **'\n** Deleting security group 44 by admin. **\n+ as_admin nova secgroup-delete 44\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 44\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 44 | sec-27449-5 | sec-27449-5 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 45 by admin. **'\n** Deleting security group 45 by admin. **\n+ as_admin nova secgroup-delete 45\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 45\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 45 | sec-27449-6 | sec-27449-6 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 46 by admin. **'\n** Deleting security group 46 by admin. **\n+ as_admin nova secgroup-delete 46\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 46\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 46 | sec-27449-7 | sec-27449-7 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 47 by admin. **'\n** Deleting security group 47 by admin. **\n+ as_admin nova secgroup-delete 47\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 47\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 47 | sec-27449-8 | sec-27449-8 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 48 by admin. **'\n** Deleting security group 48 by admin. **\n+ as_admin nova secgroup-delete 48\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 48\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 48 | sec-27449-9 | sec-27449-9 |\n+----+-------------+-------------+\n+ echo '** Creating security group sec-27449-10 by user-27449 **'\n** Creating security group sec-27449-10 by user-27449 **\n+ as_user nova secgroup-create sec-27449-10 sec-27449-10\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-10 sec-27449-10\nERROR: Quota exceeded, too many security groups. (HTTP 413) (Request-ID: req-00ee6c83-232d-4fdf-94d1-cc950aacaba5)\n+ set +x", 
    "tags": [
        "icehouse-rc-potential"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1260575", 
    "owner": "https://api.launchpad.net/1.0/~liyingjun", 
    "id": 1260575, 
    "index": 1103, 
    "openned": "2013-12-13 02:54:20.530811+00:00", 
    "created": "2013-12-13 02:54:20.530811+00:00", 
    "title": "security group quota usage is wrong when the security group is deleted by admin", 
    "comments": [
        {
            "content": "The quota usage for security group do not decrease when the security group is deleted by admin.\n\nUse the attachment script to reproduce, here is what i got:\n\n+ new_user\n+ ATTEMPT_ID=27449\n+ TENANT_NAME=tanant-27449\n++ awk '/id/{print $4}'\n++ keystone tenant-create --name tanant-27449\n+ TENANT_ID=8e37a593f3234b6582f9e436a1b044c4\n+ USER_NAME=user-27449\n++ awk '/id/{print $4}'\n++ keystone user-create --name user-27449 --tenant-id 8e37a593f3234b6582f9e436a1b044c4 --pass secret\n+ USER_ID=373d946636324d53ba6161e065f68572\n+ as_user nova quota-show\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova quota-show\n+-----------------------------+-------+\n| Quota                       | Limit |\n+-----------------------------+-------+\n| instances                   | 10    |\n| cores                       | 20    |\n| ram                         | 51200 |\n| floating_ips                | 10    |\n| fixed_ips                   | -1    |\n| metadata_items              | 128   |\n| injected_files              | 5     |\n| injected_file_content_bytes | 10240 |\n| injected_file_path_bytes    | 255   |\n| key_pairs                   | 100   |\n| security_groups             | 10    |\n| security_group_rules        | 20    |\n+-----------------------------+-------+\n+ (( i=0 ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-0 by user-27449 **'\n** Creating security group sec-27449-0 by user-27449 **\n+ as_user nova secgroup-create sec-27449-0 sec-27449-0\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-0 sec-27449-0\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 39 | sec-27449-0 | sec-27449-0 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-1 by user-27449 **'\n** Creating security group sec-27449-1 by user-27449 **\n+ as_user nova secgroup-create sec-27449-1 sec-27449-1\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-1 sec-27449-1\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 40 | sec-27449-1 | sec-27449-1 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-2 by user-27449 **'\n** Creating security group sec-27449-2 by user-27449 **\n+ as_user nova secgroup-create sec-27449-2 sec-27449-2\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-2 sec-27449-2\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 41 | sec-27449-2 | sec-27449-2 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-3 by user-27449 **'\n** Creating security group sec-27449-3 by user-27449 **\n+ as_user nova secgroup-create sec-27449-3 sec-27449-3\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-3 sec-27449-3\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 42 | sec-27449-3 | sec-27449-3 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-4 by user-27449 **'\n** Creating security group sec-27449-4 by user-27449 **\n+ as_user nova secgroup-create sec-27449-4 sec-27449-4\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-4 sec-27449-4\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 43 | sec-27449-4 | sec-27449-4 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-5 by user-27449 **'\n** Creating security group sec-27449-5 by user-27449 **\n+ as_user nova secgroup-create sec-27449-5 sec-27449-5\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-5 sec-27449-5\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 44 | sec-27449-5 | sec-27449-5 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-6 by user-27449 **'\n** Creating security group sec-27449-6 by user-27449 **\n+ as_user nova secgroup-create sec-27449-6 sec-27449-6\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-6 sec-27449-6\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 45 | sec-27449-6 | sec-27449-6 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-7 by user-27449 **'\n** Creating security group sec-27449-7 by user-27449 **\n+ as_user nova secgroup-create sec-27449-7 sec-27449-7\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-7 sec-27449-7\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 46 | sec-27449-7 | sec-27449-7 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-8 by user-27449 **'\n** Creating security group sec-27449-8 by user-27449 **\n+ as_user nova secgroup-create sec-27449-8 sec-27449-8\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-8 sec-27449-8\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 47 | sec-27449-8 | sec-27449-8 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n+ echo '** Creating security group sec-27449-9 by user-27449 **'\n** Creating security group sec-27449-9 by user-27449 **\n+ as_user nova secgroup-create sec-27449-9 sec-27449-9\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-9 sec-27449-9\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 48 | sec-27449-9 | sec-27449-9 |\n+----+-------------+-------------+\n+ (( i++ ))\n+ (( i<10 ))\n++ as_admin nova secgroup-list --all-tenants\n++ OS_USERNAME=admin\n++ OS_TENANT_NAME=admin\n++ OS_PASSWORD=123123\n++ nova secgroup-list --all-tenants\n++ awk '-F|' '{print $2}'\n++ grep 8e37a593f3234b6582f9e436a1b044c4\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 38 by admin. **'\n** Deleting security group 38 by admin. **\n+ as_admin nova secgroup-delete 38\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 38\nERROR: Unable to delete system group 'default' (HTTP 400) (Request-ID: req-7859a690-629d-4c5b-9da9-776132adf2e8)\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 39 by admin. **'\n** Deleting security group 39 by admin. **\n+ as_admin nova secgroup-delete 39\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 39\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 39 | sec-27449-0 | sec-27449-0 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 40 by admin. **'\n** Deleting security group 40 by admin. **\n+ as_admin nova secgroup-delete 40\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 40\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 40 | sec-27449-1 | sec-27449-1 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 41 by admin. **'\n** Deleting security group 41 by admin. **\n+ as_admin nova secgroup-delete 41\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 41\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 41 | sec-27449-2 | sec-27449-2 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 42 by admin. **'\n** Deleting security group 42 by admin. **\n+ as_admin nova secgroup-delete 42\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 42\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 42 | sec-27449-3 | sec-27449-3 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 43 by admin. **'\n** Deleting security group 43 by admin. **\n+ as_admin nova secgroup-delete 43\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 43\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 43 | sec-27449-4 | sec-27449-4 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 44 by admin. **'\n** Deleting security group 44 by admin. **\n+ as_admin nova secgroup-delete 44\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 44\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 44 | sec-27449-5 | sec-27449-5 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 45 by admin. **'\n** Deleting security group 45 by admin. **\n+ as_admin nova secgroup-delete 45\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 45\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 45 | sec-27449-6 | sec-27449-6 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 46 by admin. **'\n** Deleting security group 46 by admin. **\n+ as_admin nova secgroup-delete 46\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 46\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 46 | sec-27449-7 | sec-27449-7 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 47 by admin. **'\n** Deleting security group 47 by admin. **\n+ as_admin nova secgroup-delete 47\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 47\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 47 | sec-27449-8 | sec-27449-8 |\n+----+-------------+-------------+\n+ for id in '`as_admin nova secgroup-list --all-tenants|grep $TENANT_ID |awk -F'\\''|'\\'' '\\''{print $2}'\\''`'\n+ echo '** Deleting security group 48 by admin. **'\n** Deleting security group 48 by admin. **\n+ as_admin nova secgroup-delete 48\n+ OS_USERNAME=admin\n+ OS_TENANT_NAME=admin\n+ OS_PASSWORD=123123\n+ nova secgroup-delete 48\n+----+-------------+-------------+\n| Id | Name        | Description |\n+----+-------------+-------------+\n| 48 | sec-27449-9 | sec-27449-9 |\n+----+-------------+-------------+\n+ echo '** Creating security group sec-27449-10 by user-27449 **'\n** Creating security group sec-27449-10 by user-27449 **\n+ as_user nova secgroup-create sec-27449-10 sec-27449-10\n+ OS_USERNAME=user-27449\n+ OS_TENANT_NAME=tanant-27449\n+ OS_PASSWORD=secret\n+ nova secgroup-create sec-27449-10 sec-27449-10\nERROR: Quota exceeded, too many security groups. (HTTP 413) (Request-ID: req-00ee6c83-232d-4fdf-94d1-cc950aacaba5)\n+ set +x", 
            "date_created": "2013-12-13 02:54:20.530811+00:00", 
            "author": "https://api.launchpad.net/1.0/~liyingjun"
        }, 
        {
            "content": "", 
            "date_created": "2013-12-13 02:54:20.530811+00:00", 
            "author": "https://api.launchpad.net/1.0/~liyingjun"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/61915", 
            "date_created": "2013-12-13 03:15:28.659093+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/61915\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=186e24850a1ddbc0c41499bd1bb26a41a963c806\nSubmitter: Jenkins\nBranch:    master\n\ncommit 186e24850a1ddbc0c41499bd1bb26a41a963c806\nAuthor: liyingjun <email address hidden>\nDate:   Sun Mar 23 01:31:20 2014 +0800\n\n    Fix inconsistent quota usage for security group\n    \n    The quota usage for security group do not decrease when the security\n    group is deleted by admin. Fixes the issue by using the new quotas\n    object.\n    \n    Change-Id: If82ee4edeca934c7be360e4129baa12b1c9a4da1\n    Closes-bug: 1260575\n", 
            "date_created": "2014-03-27 05:47:16.483262+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2014-03-31 19:10:05.319636+00:00"
}