{
    "status": "Invalid", 
    "last_updated": "2014-09-16 10:14:21.507220+00:00", 
    "description": "How to reproduce the bug:\n\n1. devstack with neutron enabled (nova-network disabled)\nNum Name                                                                                                                                                                                                 Flags\n\n  0 shell                                                                                                                                                                                                    $\n  1 key                                                                                                                                                                                                      $\n  2 horizon                                                                                                                                                                                                  $\n  3 s-proxy                                                                                                                                                                                                  $\n  4 s-object                                                                                                                                                                                                 $\n  5 s-container                                                                                                                                                                                              $\n  6 s-account                                                                                                                                                                                                $\n  7 g-reg                                                                                                                                                                                                    $\n  8 g-api                                                                                                                                                                                                    $\n  9 n-api                                                                                                                                                                                                    $\n 10 q-svc                                                                                                                                                                                                    $\n 11 q-agt                                                                                                                                                                                                    $\n 12 q-dhcp                                                                                                                                                                                                   $\n 13 q-l3                                                                                                                                                                                                     $\n 14 q-meta                                                                                                                                                                                                   $\n 15 n-cpu                                                                                                                                                                                                    $\n 16 n-cond                                                                                                                                                                                                   $\n 17 n-crt                                                                                                                                                                                                    $\n 18 n-sch                                                                                                                                                                                                    $\n 19 n-cauth                                                                                                                                                                                                  $\n 20 n-obj                                                                                                                                                                                                    $\n 21 c-api                                                                                                                                                                                                    $\n 22 c-sch                                                                                                                                                                                                    $\n 23 c-vol                                                                                                                                                                                                    $\n 24 h-eng                                                                                                                                                                                                    $\n 25 h-api                                                                                                                                                                                                    $\n 26 h-api-cfn                                                                                                                                                                                                $\n 27 h-api-cw                                                                                                                                                                                                 $\n 28 tr-api                                                                                                                                                                                                   $\n 29 tr-tmgr                                                                                                                                                                                                  $\n 30 tr-cond   \n\n2. have two private networks \nubuntu@devstack-neutron11:~$ neutron net-list\n+--------------------------------------+----------+--------------------------------------------------+\n| id                                   | name     | subnets                                          |\n+--------------------------------------+----------+--------------------------------------------------+\n| 0d4f955d-8147-4b2f-9978-c7ea4f4bba43 | public   | ab9ee771-99c1-469a-8f6e-62852a9f0c5e             |\n| 20971b31-6045-457e-ac27-81db78422b61 | private  | 5c621409-706b-482f-bde5-76a13ccc22bd 10.0.0.0/24 |\n| b6df334b-b833-41a4-816f-0745b7e5462c | customer | e2cd7649-e5ea-4c4b-834c-32b573921fde 10.0.1.0/24 |\n+--------------------------------------+----------+--------------------------------------------------+\n\n\n3. \"nova boot\" with two nics\nubuntu@devstack-neutron11:~$ nova boot --image... --nic net-id=b6df334b-b833-41a4-816f-0745b7e5462c net-id=20971b31-6045-457e-ac27-81db78422b61 test-nic\n\n\n4. wait until vm turns ACTIVE\nubuntu@devstack-neutron11:~$ nova list\n+--------------------------------------+---------------+--------+------------+-------------+--------------------------------------+\n| ID                                   | Name          | Status | Task State | Power State | Networks                             |\n+--------------------------------------+---------------+--------+------------+-------------+--------------------------------------+\n| c255127b-07e5-49d6-8d0a-913736a6fa0d | test-nic      | ACTIVE | -          | Running     | customer=10.0.1.6; private=10.0.0.53 |\n+--------------------------------------+---------------+--------+------------+-------------+--------------------------------------+\n\n5. nova show \nubuntu@devstack-neutron11:~$ nova show c255127b-07e5-49d6-8d0a-913736a6fa0d\n+--------------------------------------+----------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                        |\n+--------------------------------------+----------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                       |\n| OS-EXT-AZ:availability_zone          | nova                                                                                         |\n| OS-EXT-STS:power_state               | 1                                                                                            |\n| OS-EXT-STS:task_state                | -                                                                                            |\n| OS-EXT-STS:vm_state                  | active                                                                                       |\n| OS-SRV-USG:launched_at               | 2014-06-17T23:57:58.000000                                                                   |\n| OS-SRV-USG:terminated_at             | -                                                                                            |\n| accessIPv4                           |                                                                                              |\n| accessIPv6                           |                                                                                              |\n| config_drive                         |                                                                                              |\n| created                              | 2014-06-17T23:57:40Z                                                                         |\n| customer network                     | 10.0.1.6                                                                                     |\n| flavor                               | m1.small (2)                                                                                 |\n| hostId                               | f4d3488a1d1eb9d74876ac506062a9c2daf2d62b468c205b8a9e1e3e                                     |\n| id                                   | c255127b-07e5-49d6-8d0a-913736a6fa0d                                                         |\n| image                                | ubuntu_mysql (7c3333fa-08bc-45c3-afef-4497c48602cc)                                          |\n| key_name                             | -                                                                                            |\n| metadata                             | {}                                                                                           |\n| name                                 | test-nic                                                                                     |\n| os-extended-volumes:volumes_attached | [{\"id\": \"aed807d0-e1cc-4e7e-9653-0655bcbfd0a6\"}]                                             |\n| private network                      | 10.0.0.53                                                                                    |\n| progress                             | 0                                                                                            |\n| security_groups                      | SecGroup_af383114-4a31-4adf-bbd4-0463b8ed20b8, SecGroup_af383114-4a31-4adf-bbd4-0463b8ed20b8 |\n| status                               | ACTIVE                                                                                       |\n| tenant_id                            | aca81527ffe04e0da75a0bad84060bae                                                             |\n| updated                              | 2014-06-17T23:57:58Z                                                                         |\n| user_id                              | 026664788f664d84bc210fb3c6eb2649                                                             |\n+--------------------------------------+----------------------------------------------------------------------------------------------+", 
    "tags": [
        "api", 
        "network", 
        "neutron"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1331307", 
    "owner": "https://api.launchpad.net/1.0/~lizheming-li", 
    "id": 1331307, 
    "index": 6197, 
    "openned": "2014-06-18 04:26:43.578855+00:00", 
    "created": "2014-06-18 04:26:43.578855+00:00", 
    "title": "'nova show instance_id' gives duplicate security group info (neutron enabled, nova-network disabled)", 
    "comments": [
        {
            "content": "How to reproduce the bug:\n\n1. devstack with neutron enabled (nova-network disabled)\nNum Name                                                                                                                                                                                                 Flags\n\n  0 shell                                                                                                                                                                                                    $\n  1 key                                                                                                                                                                                                      $\n  2 horizon                                                                                                                                                                                                  $\n  3 s-proxy                                                                                                                                                                                                  $\n  4 s-object                                                                                                                                                                                                 $\n  5 s-container                                                                                                                                                                                              $\n  6 s-account                                                                                                                                                                                                $\n  7 g-reg                                                                                                                                                                                                    $\n  8 g-api                                                                                                                                                                                                    $\n  9 n-api                                                                                                                                                                                                    $\n 10 q-svc                                                                                                                                                                                                    $\n 11 q-agt                                                                                                                                                                                                    $\n 12 q-dhcp                                                                                                                                                                                                   $\n 13 q-l3                                                                                                                                                                                                     $\n 14 q-meta                                                                                                                                                                                                   $\n 15 n-cpu                                                                                                                                                                                                    $\n 16 n-cond                                                                                                                                                                                                   $\n 17 n-crt                                                                                                                                                                                                    $\n 18 n-sch                                                                                                                                                                                                    $\n 19 n-cauth                                                                                                                                                                                                  $\n 20 n-obj                                                                                                                                                                                                    $\n 21 c-api                                                                                                                                                                                                    $\n 22 c-sch                                                                                                                                                                                                    $\n 23 c-vol                                                                                                                                                                                                    $\n 24 h-eng                                                                                                                                                                                                    $\n 25 h-api                                                                                                                                                                                                    $\n 26 h-api-cfn                                                                                                                                                                                                $\n 27 h-api-cw                                                                                                                                                                                                 $\n 28 tr-api                                                                                                                                                                                                   $\n 29 tr-tmgr                                                                                                                                                                                                  $\n 30 tr-cond   \n\n2. have two private networks \nubuntu@devstack-neutron11:~$ neutron net-list\n+--------------------------------------+----------+--------------------------------------------------+\n| id                                   | name     | subnets                                          |\n+--------------------------------------+----------+--------------------------------------------------+\n| 0d4f955d-8147-4b2f-9978-c7ea4f4bba43 | public   | ab9ee771-99c1-469a-8f6e-62852a9f0c5e             |\n| 20971b31-6045-457e-ac27-81db78422b61 | private  | 5c621409-706b-482f-bde5-76a13ccc22bd 10.0.0.0/24 |\n| b6df334b-b833-41a4-816f-0745b7e5462c | customer | e2cd7649-e5ea-4c4b-834c-32b573921fde 10.0.1.0/24 |\n+--------------------------------------+----------+--------------------------------------------------+\n\n\n3. \"nova boot\" with two nics\nubuntu@devstack-neutron11:~$ nova boot --image... --nic net-id=b6df334b-b833-41a4-816f-0745b7e5462c net-id=20971b31-6045-457e-ac27-81db78422b61 test-nic\n\n\n4. wait until vm turns ACTIVE\nubuntu@devstack-neutron11:~$ nova list\n+--------------------------------------+---------------+--------+------------+-------------+--------------------------------------+\n| ID                                   | Name          | Status | Task State | Power State | Networks                             |\n+--------------------------------------+---------------+--------+------------+-------------+--------------------------------------+\n| c255127b-07e5-49d6-8d0a-913736a6fa0d | test-nic      | ACTIVE | -          | Running     | customer=10.0.1.6; private=10.0.0.53 |\n+--------------------------------------+---------------+--------+------------+-------------+--------------------------------------+\n\n5. nova show \nubuntu@devstack-neutron11:~$ nova show c255127b-07e5-49d6-8d0a-913736a6fa0d\n+--------------------------------------+----------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                        |\n+--------------------------------------+----------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                       |\n| OS-EXT-AZ:availability_zone          | nova                                                                                         |\n| OS-EXT-STS:power_state               | 1                                                                                            |\n| OS-EXT-STS:task_state                | -                                                                                            |\n| OS-EXT-STS:vm_state                  | active                                                                                       |\n| OS-SRV-USG:launched_at               | 2014-06-17T23:57:58.000000                                                                   |\n| OS-SRV-USG:terminated_at             | -                                                                                            |\n| accessIPv4                           |                                                                                              |\n| accessIPv6                           |                                                                                              |\n| config_drive                         |                                                                                              |\n| created                              | 2014-06-17T23:57:40Z                                                                         |\n| customer network                     | 10.0.1.6                                                                                     |\n| flavor                               | m1.small (2)                                                                                 |\n| hostId                               | f4d3488a1d1eb9d74876ac506062a9c2daf2d62b468c205b8a9e1e3e                                     |\n| id                                   | c255127b-07e5-49d6-8d0a-913736a6fa0d                                                         |\n| image                                | ubuntu_mysql (7c3333fa-08bc-45c3-afef-4497c48602cc)                                          |\n| key_name                             | -                                                                                            |\n| metadata                             | {}                                                                                           |\n| name                                 | test-nic                                                                                     |\n| os-extended-volumes:volumes_attached | [{\"id\": \"aed807d0-e1cc-4e7e-9653-0655bcbfd0a6\"}]                                             |\n| private network                      | 10.0.0.53                                                                                    |\n| progress                             | 0                                                                                            |\n| security_groups                      | SecGroup_af383114-4a31-4adf-bbd4-0463b8ed20b8, SecGroup_af383114-4a31-4adf-bbd4-0463b8ed20b8 |\n| status                               | ACTIVE                                                                                       |\n| tenant_id                            | aca81527ffe04e0da75a0bad84060bae                                                             |\n| updated                              | 2014-06-17T23:57:58Z                                                                         |\n| user_id                              | 026664788f664d84bc210fb3c6eb2649                                                             |\n+--------------------------------------+----------------------------------------------------------------------------------------------+", 
            "date_created": "2014-06-18 04:26:43.578855+00:00", 
            "author": "https://api.launchpad.net/1.0/~ruiyuan-shen"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/120950", 
            "date_created": "2014-09-12 00:46:03.982063+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/120950\nCommitted: https://git.openstack.org/cgit/openstack/python-novaclient/commit/?id=3d68063809547e37f862dba448dcf669b7a4445c\nSubmitter: Jenkins\nBranch:    master\n\ncommit 3d68063809547e37f862dba448dcf669b7a4445c\nAuthor: Sean Dague <email address hidden>\nDate:   Thu Sep 11 20:44:44 2014 -0400\n\n    Don't display duplicated security groups\n    \n    As reported by users, we end up displaying duplicate security groups\n    on multi nic vms using neutron. Let's not do that.\n    \n    Also add security group listing to the v3 client to make it\n    consistent.\n    \n    Change-Id: I0a983aac08aaeacf3c2aef5aae49f64265fe78c5\n    Closes-Bug: #1331307\n", 
            "date_created": "2014-09-16 03:44:29.404924+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2014-09-12 00:37:10.061990+00:00"
}