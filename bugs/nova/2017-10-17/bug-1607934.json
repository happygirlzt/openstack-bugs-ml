{
    "status": "Invalid", 
    "last_updated": "2017-09-16 19:43:38.638872+00:00", 
    "description": "I am unable to launch an instance.\n\n\n\n[root@controller keystone]# nova boot --flavor m1.tiny --image cirros --nic net-id=544bcd85-b051-4e42-a462-d7dab712de5a   --security-group default --key-name mykey public-instance\n\n# ERRORs I am seeing:\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-5830ff32-d3e1-43a1-a3f9-7c6f96fb360b)\n\n==> keystone/keystone.log <==\n2016-07-29 22:03:07.865 2175 INFO keystone.common.wsgi [req-7e612649-5070-49f7-87da-71afe5f1c51c - - - - -] GET http://controller:5000/v3/\n2016-07-29 22:03:07.980 2177 INFO keystone.common.wsgi [req-a6eda653-c25a-4453-b2e5-9736450f7568 - - - - -] POST http://controller:5000/v3/auth/tokens\n2016-07-29 22:03:08.034 2198 INFO keystone.common.wsgi [req-4f9430cd-7579-489e-9bc7-c5cb3f477d5a - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:37.773 2186 INFO keystone.common.wsgi [req-8964cb8d-ea9c-4e7e-b153-4146c4e5b031 - - - - -] GET http://controller:5000/v3/\n2016-07-29 22:03:37.778 2176 INFO keystone.common.wsgi [req-31e52a1e-ac13-42d9-92c5-9deea759e9e9 - - - - -] POST http://controller:5000/v3/auth/tokens\n2016-07-29 22:03:37.828 2194 INFO keystone.common.wsgi [req-336a2901-5827-4508-829f-9de92ebd28da - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:37.961 2203 INFO keystone.common.wsgi [req-eb3d31c9-0aa3-4572-b78a-e087ae509de9 - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:37.985 2200 INFO keystone.common.wsgi [req-ef7ab927-e5b3-45c0-89f9-d7191dc4cea4 - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:38.120 2197 INFO keystone.common.wsgi [req-1ceee11a-cc13-490a-96ba-47081c1fe154 - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:38.174 2178 INFO keystone.common.wsgi [req-ebe3d994-18c2-4304-91a8-04143ba6a627 - - - - -] POST http://localhost:5000/v2.0/tokens\n2016-07-29 22:03:38.174 2178 WARNING keystone.common.wsgi [req-ebe3d994-18c2-4304-91a8-04143ba6a627 - - - - -] Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error.\n\n==> nova/nova-scheduler.log <==\n[root@controller nova]# tail -1 nova-scheduler.log \n2016-07-29 22:06:01.868 1409 INFO nova.scheduler.host_manager [req-1360cc28-fd91-42cb-918b-37db9432cc77 - - - - -] Successfully synced instances from host 'compute.example.com'.\n\n==> nova/nova-api.log <==\n2016-07-29 22:05:12.728 8504 INFO nova.osapi_compute.wsgi.server [req-54a6644f-96fe-4663-9825-ebc0e1ac920b 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 time: 0.0156450\n2016-07-29 22:05:12.898 8504 INFO nova.osapi_compute.wsgi.server [req-d1ad4413-4c34-4a58-8b30-8dd258a8c9b1 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/images HTTP/1.1\" status: 200 len: 692 time: 0.0624750\n2016-07-29 22:05:12.964 8504 INFO nova.osapi_compute.wsgi.server [req-d62a91fe-c059-46e9-9084-e6294c714d5c 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/images/ffc86274-9a08-4b13-a23d-37c49bedb818 HTTP/1.1\" status: 200 len: 873 time: 0.0643079\n2016-07-29 22:05:12.979 8504 INFO nova.api.openstack.wsgi [req-e6f20077-6da7-4423-bb04-791b8eb1db2c 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] HTTP exception thrown: Flavor m1.tiny could not be found.\n2016-07-29 22:05:12.980 8504 INFO nova.osapi_compute.wsgi.server [req-e6f20077-6da7-4423-bb04-791b8eb1db2c 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/flavors/m1.tiny HTTP/1.1\" status: 404 len: 298 time: 0.0130160\n2016-07-29 22:05:12.997 8504 INFO nova.osapi_compute.wsgi.server [req-c7db45cc-4338-4903-b97b-4672b96ac337 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/flavors?is_public=None HTTP/1.1\" status: 200 len: 1407 time: 0.0142021\n2016-07-29 22:05:13.012 8504 INFO nova.osapi_compute.wsgi.server [req-d82760c1-a126-4bbc-b599-5fa2a7d06bea 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/flavors/1 HTTP/1.1\" status: 200 len: 615 time: 0.0121601\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions [req-5830ff32-d3e1-43a1-a3f9-7c6f96fb360b 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] Unexpected exception in API method\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 611, in create\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     **create_kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 149, in inner\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1587, in create\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1187, in _create_instance\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 961, in _validate_and_build_base_options\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     pci_request_info, requested_networks)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 1092, in create_pci_requests_for_sriov_ports\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     neutron = get_client(context, admin=True)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 237, in get_client\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 200, in get_token\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return self.get_access(session).auth_token\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 240, in get_access\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     self.auth_ref = self.get_auth_ref(session)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/v2.py\", line 88, in get_auth_ref\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     authenticated=False, log=False)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 501, in post\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return self.request(url, 'POST', **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 337, in inner\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 401, in request\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     raise exceptions.from_response(resp, method, url)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-1891a2c5-7edb-4a0f-a154-094803910893)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions \n2016-07-29 22:05:13.123 8504 INFO nova.api.openstack.wsgi [req-5830ff32-d3e1-43a1-a3f9-7c6f96fb360b 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n2016-07-29 22:05:13.124 8504 INFO nova.osapi_compute.wsgi.server [req-5830ff32-d3e1-43a1-a3f9-7c6f96fb360b 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"POST /v2/7f659e1816d24cb2b2fdacfef970cfc6/servers HTTP/1.1\" status: 500 len: 441 time: 0.1101460\n\nOS Version - Liberty, Centos7\n[root@controller nova]# rpm -qa | grep nova\nopenstack-nova-console-12.0.4-1.el7.noarch\nopenstack-nova-scheduler-12.0.4-1.el7.noarch\npython-nova-12.0.4-1.el7.noarch\nopenstack-nova-novncproxy-12.0.4-1.el7.noarch\nopenstack-nova-conductor-12.0.4-1.el7.noarch\nopenstack-nova-common-12.0.4-1.el7.noarch\nopenstack-nova-cert-12.0.4-1.el7.noarch\nopenstack-nova-api-12.0.4-1.el7.noarch\npython-novaclient-2.30.1-1.el7.noarch\n\nHypervisor: KVM.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 12, 
    "link": "https://bugs.launchpad.net/nova/+bug/1607934", 
    "owner": "None", 
    "id": 1607934, 
    "index": 7620, 
    "openned": "2016-07-29 20:15:27.659707+00:00", 
    "created": "2016-07-29 20:15:27.659707+00:00", 
    "title": "Unable to launch an instance Bug 1219890", 
    "comments": [
        {
            "content": "I am unable to launch an instance.\n\n\n\n[root@controller keystone]# nova boot --flavor m1.tiny --image cirros --nic net-id=544bcd85-b051-4e42-a462-d7dab712de5a   --security-group default --key-name mykey public-instance\n\n# ERRORs I am seeing:\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.BadRequest'> (HTTP 500) (Request-ID: req-5830ff32-d3e1-43a1-a3f9-7c6f96fb360b)\n\n==> keystone/keystone.log <==\n2016-07-29 22:03:07.865 2175 INFO keystone.common.wsgi [req-7e612649-5070-49f7-87da-71afe5f1c51c - - - - -] GET http://controller:5000/v3/\n2016-07-29 22:03:07.980 2177 INFO keystone.common.wsgi [req-a6eda653-c25a-4453-b2e5-9736450f7568 - - - - -] POST http://controller:5000/v3/auth/tokens\n2016-07-29 22:03:08.034 2198 INFO keystone.common.wsgi [req-4f9430cd-7579-489e-9bc7-c5cb3f477d5a - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:37.773 2186 INFO keystone.common.wsgi [req-8964cb8d-ea9c-4e7e-b153-4146c4e5b031 - - - - -] GET http://controller:5000/v3/\n2016-07-29 22:03:37.778 2176 INFO keystone.common.wsgi [req-31e52a1e-ac13-42d9-92c5-9deea759e9e9 - - - - -] POST http://controller:5000/v3/auth/tokens\n2016-07-29 22:03:37.828 2194 INFO keystone.common.wsgi [req-336a2901-5827-4508-829f-9de92ebd28da - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:37.961 2203 INFO keystone.common.wsgi [req-eb3d31c9-0aa3-4572-b78a-e087ae509de9 - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:37.985 2200 INFO keystone.common.wsgi [req-ef7ab927-e5b3-45c0-89f9-d7191dc4cea4 - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:38.120 2197 INFO keystone.common.wsgi [req-1ceee11a-cc13-490a-96ba-47081c1fe154 - - - - -] GET http://controller:35357/v3/auth/tokens\n2016-07-29 22:03:38.174 2178 INFO keystone.common.wsgi [req-ebe3d994-18c2-4304-91a8-04143ba6a627 - - - - -] POST http://localhost:5000/v2.0/tokens\n2016-07-29 22:03:38.174 2178 WARNING keystone.common.wsgi [req-ebe3d994-18c2-4304-91a8-04143ba6a627 - - - - -] Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error.\n\n==> nova/nova-scheduler.log <==\n[root@controller nova]# tail -1 nova-scheduler.log \n2016-07-29 22:06:01.868 1409 INFO nova.scheduler.host_manager [req-1360cc28-fd91-42cb-918b-37db9432cc77 - - - - -] Successfully synced instances from host 'compute.example.com'.\n\n==> nova/nova-api.log <==\n2016-07-29 22:05:12.728 8504 INFO nova.osapi_compute.wsgi.server [req-54a6644f-96fe-4663-9825-ebc0e1ac920b 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 time: 0.0156450\n2016-07-29 22:05:12.898 8504 INFO nova.osapi_compute.wsgi.server [req-d1ad4413-4c34-4a58-8b30-8dd258a8c9b1 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/images HTTP/1.1\" status: 200 len: 692 time: 0.0624750\n2016-07-29 22:05:12.964 8504 INFO nova.osapi_compute.wsgi.server [req-d62a91fe-c059-46e9-9084-e6294c714d5c 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/images/ffc86274-9a08-4b13-a23d-37c49bedb818 HTTP/1.1\" status: 200 len: 873 time: 0.0643079\n2016-07-29 22:05:12.979 8504 INFO nova.api.openstack.wsgi [req-e6f20077-6da7-4423-bb04-791b8eb1db2c 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] HTTP exception thrown: Flavor m1.tiny could not be found.\n2016-07-29 22:05:12.980 8504 INFO nova.osapi_compute.wsgi.server [req-e6f20077-6da7-4423-bb04-791b8eb1db2c 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/flavors/m1.tiny HTTP/1.1\" status: 404 len: 298 time: 0.0130160\n2016-07-29 22:05:12.997 8504 INFO nova.osapi_compute.wsgi.server [req-c7db45cc-4338-4903-b97b-4672b96ac337 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/flavors?is_public=None HTTP/1.1\" status: 200 len: 1407 time: 0.0142021\n2016-07-29 22:05:13.012 8504 INFO nova.osapi_compute.wsgi.server [req-d82760c1-a126-4bbc-b599-5fa2a7d06bea 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"GET /v2/7f659e1816d24cb2b2fdacfef970cfc6/flavors/1 HTTP/1.1\" status: 200 len: 615 time: 0.0121601\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions [req-5830ff32-d3e1-43a1-a3f9-7c6f96fb360b 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] Unexpected exception in API method\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 611, in create\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     **create_kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 149, in inner\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1587, in create\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1187, in _create_instance\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 961, in _validate_and_build_base_options\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     pci_request_info, requested_networks)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 1092, in create_pci_requests_for_sriov_ports\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     neutron = get_client(context, admin=True)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 237, in get_client\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 200, in get_token\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return self.get_access(session).auth_token\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 240, in get_access\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     self.auth_ref = self.get_auth_ref(session)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/v2.py\", line 88, in get_auth_ref\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     authenticated=False, log=False)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 501, in post\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return self.request(url, 'POST', **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 337, in inner\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 401, in request\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions     raise exceptions.from_response(resp, method, url)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions BadRequest: Expecting to find username or userId in passwordCredentials - the server could not comply with the request since it is either malformed or otherwise incorrect. The client is assumed to be in error. (HTTP 400) (Request-ID: req-1891a2c5-7edb-4a0f-a154-094803910893)\n2016-07-29 22:05:13.123 8504 ERROR nova.api.openstack.extensions \n2016-07-29 22:05:13.123 8504 INFO nova.api.openstack.wsgi [req-5830ff32-d3e1-43a1-a3f9-7c6f96fb360b 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n2016-07-29 22:05:13.124 8504 INFO nova.osapi_compute.wsgi.server [req-5830ff32-d3e1-43a1-a3f9-7c6f96fb360b 5d7190fb0b224c3484be7854426c88b1 7f659e1816d24cb2b2fdacfef970cfc6 - - -] 10.0.0.11 \"POST /v2/7f659e1816d24cb2b2fdacfef970cfc6/servers HTTP/1.1\" status: 500 len: 441 time: 0.1101460\n\nOS Version - Liberty, Centos7\n[root@controller nova]# rpm -qa | grep nova\nopenstack-nova-console-12.0.4-1.el7.noarch\nopenstack-nova-scheduler-12.0.4-1.el7.noarch\npython-nova-12.0.4-1.el7.noarch\nopenstack-nova-novncproxy-12.0.4-1.el7.noarch\nopenstack-nova-conductor-12.0.4-1.el7.noarch\nopenstack-nova-common-12.0.4-1.el7.noarch\nopenstack-nova-cert-12.0.4-1.el7.noarch\nopenstack-nova-api-12.0.4-1.el7.noarch\npython-novaclient-2.30.1-1.el7.noarch\n\nHypervisor: KVM.", 
            "date_created": "2016-07-29 20:15:27.659707+00:00", 
            "author": "https://api.launchpad.net/1.0/~mike84open"
        }, 
        {
            "content": "Hi mike_84OpenS \nthank you for information.\n\nYour case looks very close to https://bugs.launchpad.net/nova/+bug/1535079 for me.\nLooks like documentation http://docs.openstack.org/liberty/install-guide-rdo/nova-controller-install.html was updated. Have you configured section [keystone_authtoken] ? \n\nAnd you have mentioned  https://bugzilla.redhat.com/show_bug.cgi?id=1219890. This bug was created for kilo.\n\nCan you please provide  configs for neutron and nova services ?", 
            "date_created": "2016-07-29 23:07:47.017180+00:00", 
            "author": "https://api.launchpad.net/1.0/~anton-haldin"
        }, 
        {
            "content": "Hi,\n\nI have checked given bug and still not works. Here is my config:\n<controller>\n%%nova%%\n[root@controller nova]# grep -v -e ^# -e ^$ /etc/nova/nova.conf\n[DEFAULT]\nurl = http://controller:9696\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nusername = neutron\npassword = password\nservice_metadata_proxy = True\nmetadata_proxy_shared_secret = password\nenabled_apis=osapi_compute,metadata\nnetwork_api_class = nova.network.neutronv2.api.API\nsecurity_group_api = neutron\nlinuxnet_interface_driver = nova.network.linux_net.NeutronLinuxBridgeInterfaceDriver\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\nmy_ip=10.0.0.11\nauth_strategy=keystone\nrpc_backend=rabbit\n[api_database]\n[barbican]\n[cells]\n[cinder]\n[conductor]\n[cors]\n[cors.subdomain]\n[database]\nconnection = mysql://nova:password@controller/nova\n[ephemeral_storage_encryption]\n[glance]\nhost=controller\n[guestfs]\n[hyperv]\n[image_file_url]\n[ironic]\n[keymgr]\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = password\n[libvirt]\n[matchmaker_redis]\n[matchmaker_ring]\n[metrics]\n[neutron]\n[osapi_v21]\n[oslo_concurrency]\nlock_path=/var/lib/nova/tmp\n[oslo_messaging_amqp]\n[oslo_messaging_qpid]\n[oslo_messaging_rabbit]\nrabbit_host=controller\nrabbit_userid=openstack\nrabbit_password=password\n[oslo_middleware]\n[rdp]\n[serial_console]\n[spice]\n[ssl]\n[trusted_computing]\n[upgrade_levels]\n[vmware]\n[vnc]\nvncserver_listen = $my_ip\nvncserver_proxyclient_address = $my_ip\n[workarounds]\n[xenserver]\n[zookeeper]\n\n%%neutron%%\n[root@controller nova]# grep -v -e ^# -e ^$ /etc/neutron/neutron.conf\n[DEFAULT]\nnotify_nova_on_port_status_changes = True\nnotify_nova_on_port_data_changes = True\nnova_url = http://controller:8774/v2\ncore_plugin = ml2\nservice_plugins = router\nallow_overlapping_ips = True\nrpc_backend = rabbit\nauth_strategy = keystone\n[matchmaker_redis]\n[matchmaker_ring]\n[quotas]\n[agent]\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = neutron\npassword = password\n[database]\nconnection = mysql://neutron:password@controller/neutron\n[nova]\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nusername = nova\npassword = password\n[oslo_concurrency]\nlock_path = /var/lib/neutron/tmp\n[oslo_policy]\n[oslo_messaging_amqp]\n[oslo_messaging_qpid]\n[oslo_messaging_rabbit]\nrabbit_host = controller\nrabbit_userid = openstack\nrabbit_password = password\n[qos]\n\n####################################################################################\n<compute>\n%%nova%%\n[root@controller nova]# ssh compute 'grep -v -e ^# -e ^$ /etc/nova/nova.conf'\n[DEFAULT]\nnetwork_api_class = nova.network.neutronv2.api.API\nsecurity_group_api = neutron\nlinuxnet_interface_driver = nova.network.linux_net.NeutronLinuxBridgeInterfaceDriver\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\nmy_ip=10.0.0.31\nauth_strategy=keystone\nrpc_backend=rabbit\n[api_database]\n[barbican]\n[cells]\n[cinder]\n[conductor]\n[cors]\n[cors.subdomain]\n[database]\n[ephemeral_storage_encryption]\n[glance]\nhost=controller\n[guestfs]\n[hyperv]\n[image_file_url]\n[ironic]\n[keymgr]\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = nova\npassword = password\n[libvirt]\nvirt_type=kvm\n[matchmaker_redis]\n[matchmaker_ring]\n[metrics]\n[neutron]\nurl = http://controller:9696\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nregion_name = RegionOne\nproject_name = service\nusername = neutron\npassword = password\n[osapi_v21]\n[oslo_concurrency]\nlock_path=/var/lib/nova/tmp\n[oslo_messaging_amqp]\n[oslo_messaging_qpid]\n[oslo_messaging_rabbit]\nrabbit_host=controller\nrabbit_userid=openstack\nrabbit_password=password\n[oslo_middleware]\n[rdp]\n[serial_console]\n[spice]\n[ssl]\n[trusted_computing]\n[upgrade_levels]\n[vmware]\n[vnc]\nenabled = True\nvncserver_listen = 0.0.0.0\nvncserver_proxyclient_address = $my_ip\nnovncproxy_base_url = http://controller:6080/vnc_auto.html\n[workarounds]\n[xenserver]\n[zookeeper]\n\n%%neutron%%\n[root@controller nova]# ssh compute 'grep -v -e ^# -e ^$ /etc/neutron/neutron.conf'\n[DEFAULT]\nrpc_backend = rabbit\nauth_strategy = keystone\n[matchmaker_redis]\n[matchmaker_ring]\n[quotas]\n[agent]\n[keystone_authtoken]\nauth_uri = http://controller:5000\nauth_url = http://controller:35357\nauth_plugin = password\nproject_domain_id = default\nuser_domain_id = default\nproject_name = service\nusername = neutron\npassword = password\n[database]\n[nova]\n[oslo_concurrency]\nlock_path = /var/lib/neutron/tmp\n[oslo_policy]\n[oslo_messaging_amqp]\n[oslo_messaging_qpid]\n[oslo_messaging_rabbit]\nrabbit_host = controller\nrabbit_userid = openstack\nrabbit_password = password\n[qos]\n\n\n[root@controller ~]# nova service-list\n+----+------------------+------------------------+----------+---------+-------+----------------------------+-----------------+\n| Id | Binary           | Host                   | Zone     | Status  | State | Updated_at                 | Disabled Reason |\n+----+------------------+------------------------+----------+---------+-------+----------------------------+-----------------+\n| 1  | nova-consoleauth | controller.example.com | internal | enabled | up    | 2016-07-30T07:45:09.000000 | -               |\n| 2  | nova-conductor   | controller.example.com | internal | enabled | up    | 2016-07-30T07:45:08.000000 | -               |\n| 3  | nova-scheduler   | controller.example.com | internal | enabled | up    | 2016-07-30T07:45:09.000000 | -               |\n| 4  | nova-cert        | controller.example.com | internal | enabled | up    | 2016-07-30T07:45:09.000000 | -               |\n| 5  | nova-compute     | compute.example.com    | nova     | enabled | up    | 2016-07-30T07:45:11.000000 | -               |\n+----+------------------+------------------------+----------+---------+-------+----------------------------+-----------------+\n\n[root@controller ~]# nova endpoints\nWARNING: keystone has no endpoint in ! Available endpoints for this service:\n+-----------+----------------------------------+\n| keystone  | Value                            |\n+-----------+----------------------------------+\n| id        | 0b4d56c3be71430ebee643d95d7c3dd6 |\n| interface | admin                            |\n| region    | RegionOne                        |\n| region_id | RegionOne                        |\n| url       | http://controller:35357/v2.0     |\n+-----------+----------------------------------+\n+-----------+----------------------------------+\n| keystone  | Value                            |\n+-----------+----------------------------------+\n| id        | 44276e42ea04439ca66d424d59822c61 |\n| interface | public                           |\n| region    | RegionOne                        |\n| region_id | RegionOne                        |\n| url       | http://controller:5000/v2.0      |\n+-----------+----------------------------------+\n+-----------+----------------------------------+\n| keystone  | Value                            |\n+-----------+----------------------------------+\n| id        | 9530d38e0e35428997eb011cda97935b |\n| interface | internal                         |\n| region    | RegionOne                        |\n| region_id | RegionOne                        |\n| url       | http://controller:5000/v2.0      |\n+-----------+----------------------------------+\nWARNING: nova has no endpoint in ! Available endpoints for this service:\n+-----------+------------------------------------------------------------+\n| nova      | Value                                                      |\n+-----------+------------------------------------------------------------+\n| id        | 0e846c6115224d5d8cfafb76d8efe437                           |\n| interface | admin                                                      |\n| region    | RegionOne                                                  |\n| region_id | RegionOne                                                  |\n| url       | http://controller:8774/v2/54507524643a48c98428e8d8d73861f1 |\n+-----------+------------------------------------------------------------+\n+-----------+------------------------------------------------------------+\n| nova      | Value                                                      |\n+-----------+------------------------------------------------------------+\n| id        | 678aa9a700df411180c790dcc136888e                           |\n| interface | public                                                     |\n| region    | RegionOne                                                  |\n| region_id | RegionOne                                                  |\n| url       | http://controller:8774/v2/54507524643a48c98428e8d8d73861f1 |\n+-----------+------------------------------------------------------------+\n+-----------+------------------------------------------------------------+\n| nova      | Value                                                      |\n+-----------+------------------------------------------------------------+\n| id        | d8f7aaedef814223850f82a708e3e920                           |\n| interface | internal                                                   |\n| region    | RegionOne                                                  |\n| region_id | RegionOne                                                  |\n| url       | http://controller:8774/v2/54507524643a48c98428e8d8d73861f1 |\n+-----------+------------------------------------------------------------+\nWARNING: glance has no endpoint in ! Available endpoints for this service:\n+-----------+----------------------------------+\n| glance    | Value                            |\n+-----------+----------------------------------+\n| id        | 1ef2fe80841f410a8c2238e7106d5bc5 |\n| interface | admin                            |\n| region    | RegionOne                        |\n| region_id | RegionOne                        |\n| url       | http://controller:9292           |\n+-----------+----------------------------------+\n+-----------+----------------------------------+\n| glance    | Value                            |\n+-----------+----------------------------------+\n| id        | 2a8bf75d13cf410495f79cf6a79e592d |\n| interface | public                           |\n| region    | RegionOne                        |\n| region_id | RegionOne                        |\n| url       | http://controller:9292           |\n+-----------+----------------------------------+\n+-----------+----------------------------------+\n| glance    | Value                            |\n+-----------+----------------------------------+\n| id        | e93dc390b6e34ea28ed8c914fc7d8d5d |\n| interface | internal                         |\n| region    | RegionOne                        |\n| region_id | RegionOne                        |\n| url       | http://controller:9292           |\n+-----------+----------------------------------+\nWARNING: neutron has no endpoint in ! Available endpoints for this service:\n+-----------+----------------------------------+\n| neutron   | Value                            |\n+-----------+----------------------------------+\n| id        | 5cde5bbeb45b4f6ab3aaadaa9d3e46d8 |\n| interface | admin                            |\n| region    | RegionOne                        |\n| region_id | RegionOne                        |\n| url       | http://controller:9696           |\n+-----------+----------------------------------+\n+-----------+----------------------------------+\n| neutron   | Value                            |\n+-----------+----------------------------------+\n| id        | 78a0dc1d8ed54aaca9a240d4ee6ffca9 |\n| interface | internal                         |\n| region    | RegionOne                        |\n| region_id | RegionOne                        |\n| url       | http://controller:9696           |\n+-----------+----------------------------------+\n+-----------+----------------------------------+\n| neutron   | Value                            |\n+-----------+----------------------------------+\n| id        | b1166d244fee45e58ab9420d272c2c51 |\n| interface | public                           |\n| region    | RegionOne                        |\n| region_id | RegionOne                        |\n| url       | http://controller:9696           |\n+-----------+----------------------------------+\n\n[root@controller ~]# neutron agent-list\n+--------------------------------------+--------------------+------------------------+-------+----------------+---------------------------+\n| id                                   | agent_type         | host                   | alive | admin_state_up | binary                    |\n+--------------------------------------+--------------------+------------------------+-------+----------------+---------------------------+\n| 052c8a54-1521-40a1-b3e9-3a99b28c3443 | Linux bridge agent | controller.example.com | :-)   | True           | neutron-linuxbridge-agent |\n| 41373641-c03b-45e5-8400-7db0458435e0 | DHCP agent         | controller.example.com | :-)   | True           | neutron-dhcp-agent        |\n| 78ec9089-181f-4442-8545-be71bae9446c | Metadata agent     | controller.example.com | :-)   | True           | neutron-metadata-agent    |\n| 98c911e3-61a0-4cc5-9cfc-0baad2759450 | Linux bridge agent | compute.example.com    | :-)   | True           | neutron-linuxbridge-agent |\n| e15ef169-cf49-4b01-95f9-73b2dbb23dd5 | L3 agent           | controller.example.com | :-)   | True           | neutron-l3-agent          |\n+--------------------------------------+--------------------+------------------------+-------+----------------+---------------------------+\n\n\n\nLet me know if config is fine. I am looking forward how to make the service to work.", 
            "date_created": "2016-07-30 07:48:23.170423+00:00", 
            "author": "https://api.launchpad.net/1.0/~mike84open"
        }, 
        {
            "content": "Any suggestions, how to fix this ?", 
            "date_created": "2016-07-31 13:52:19.202174+00:00", 
            "author": "https://api.launchpad.net/1.0/~mike84open"
        }, 
        {
            "content": "That's a configuration issue and not a bug in the nova code base. You can give this a try: https://bugs.launchpad.net/nova/+bug/1534273/comments/8 ", 
            "date_created": "2016-08-01 12:54:20.849141+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "90% liberty users have same issue, it is not getting away after applying change in nova.conf and other file as suggestion.", 
            "date_created": "2017-09-16 19:43:37.676517+00:00", 
            "author": "https://api.launchpad.net/1.0/~vipinwipl"
        }
    ], 
    "closed": "2016-08-01 12:53:29.039549+00:00"
}