{
    "status": "Fix Released", 
    "last_updated": "2015-12-03 21:36:58.138150+00:00", 
    "description": "Getting the following error in nova-api logs when neutron doesn't support floating IPs\n\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/__init__.py\", line 125, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return req.get_response(self.application)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     application, catch_exc_info=False)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 634, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return self._call_app(env, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 554, in _call_app\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return self._app(env, _fake_start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 756, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     content_type, body, accept)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 821, in _process_stack\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 911, in dispatch\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return method(req=request, **action_args)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/contrib/floating_ips.py\", line 108, in index\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     floating_ips = self.network_api.get_floating_ips_by_project(context)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\", line 1262, in get_floating_ips_by_project\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     fips = client.list_floatingips(tenant_id=project_id)['floatingips']\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 102, in with_params\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     ret = self.function(instance, *args, **kwargs)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 691, in list_floatingips\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     **_params)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 307, in list\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     for r in self._pagination(collection, path, **params):\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 320, in _pagination\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     res = self.get(path, params=params)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 293, in get\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     headers=headers, params=params)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 270, in retry_request\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     headers=headers, params=params)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 211, in do_request\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     self._handle_fault_response(status_code, replybody)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 185, in _handle_fault_response\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     exception_handler_v20(status_code, des_error_body)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 83, in exception_handler_v20\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     message=message)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack NeutronClientException: 404 Not Found", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1500658", 
    "owner": "https://api.launchpad.net/1.0/~sorrison", 
    "id": 1500658, 
    "index": 7059, 
    "openned": "2015-09-29 00:10:39.223364+00:00", 
    "created": "2015-09-29 00:10:39.223364+00:00", 
    "title": "Unhandled 404 when neutron doesn't support floating IPs", 
    "comments": [
        {
            "content": "Getting the following error in nova-api logs when neutron doesn't support floating IPs\n\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/__init__.py\", line 125, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return req.get_response(self.application)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/request.py\", line 1320, in send\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     application, catch_exc_info=False)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/request.py\", line 1284, in call_application\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 634, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return self._call_app(env, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 554, in _call_app\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return self._app(env, _fake_start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 756, in __call__\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     content_type, body, accept)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 821, in _process_stack\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 911, in dispatch\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     return method(req=request, **action_args)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/contrib/floating_ips.py\", line 108, in index\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     floating_ips = self.network_api.get_floating_ips_by_project(context)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/nova/network/neutronv2/api.py\", line 1262, in get_floating_ips_by_project\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     fips = client.list_floatingips(tenant_id=project_id)['floatingips']\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 102, in with_params\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     ret = self.function(instance, *args, **kwargs)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 691, in list_floatingips\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     **_params)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 307, in list\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     for r in self._pagination(collection, path, **params):\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 320, in _pagination\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     res = self.get(path, params=params)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 293, in get\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     headers=headers, params=params)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 270, in retry_request\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     headers=headers, params=params)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 211, in do_request\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     self._handle_fault_response(status_code, replybody)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 185, in _handle_fault_response\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     exception_handler_v20(status_code, des_error_body)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/neutronclient/v2_0/client.py\", line 83, in exception_handler_v20\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack     message=message)\n2015-09-29 10:04:50.551 6376 TRACE nova.api.openstack NeutronClientException: 404 Not Found", 
            "date_created": "2015-09-29 00:10:39.223364+00:00", 
            "author": "https://api.launchpad.net/1.0/~sorrison"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/228676", 
            "date_created": "2015-09-29 00:32:38.726950+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Sam Morrison (<email address hidden>) on branch: master\nReview: https://review.openstack.org/228676\nReason: This has been implemented in another patch", 
            "date_created": "2015-10-27 02:42:10.140058+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fixed in e5c9b7ecc62e1b9400d20540c7d5c10982506d3a", 
            "date_created": "2015-10-27 05:20:55.423215+00:00", 
            "author": "https://api.launchpad.net/1.0/~sorrison"
        }
    ], 
    "closed": "2015-12-03 21:36:56.482848+00:00"
}