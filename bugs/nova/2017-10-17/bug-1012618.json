{
    "status": "Invalid", 
    "last_updated": "2014-02-11 22:18:37.770125+00:00", 
    "description": "GET console output of server in Rebuild status is throwing 500 error.\n\nActual Result:\nIs throwing 500 error code.\n\nExpected Result:\nShould return the console output else should shown an appropriate error message.\n\nLOG:\n--------\n\n[muralik@openstack27 ~]$nova list\n+--------------------------------------+--------+--------+---------------------+\n|                  ID                  |  Name  | Status |       Networks      |\n+--------------------------------------+--------+--------+---------------------+\n| 942296a6-74a1-496b-818d-491cb5084b3b | test-1 | ACTIVE | private_1=10.0.0.36 |\n+--------------------------------------+--------+--------+---------------------+\n[muralik@openstack27 ~]$nova rebuild 942296a6-74a1-496b-818d-491cb5084b3b bc1b9cb1-81e1-4b5c-8307-59bc1969c260\n+-------------------+----------------------------------------------------------+\n|      Property     |                          Value                           |\n+-------------------+----------------------------------------------------------+\n| OS-DCF:diskConfig | MANUAL                                                   |\n| accessIPv4        |                                                          |\n| accessIPv6        |                                                          |\n| adminPass         | FUFQxs4tQLce                                             |\n| config_drive      |                                                          |\n| created           | 2012-06-13T11:57:51Z                                     |\n| flavor            | m1.tiny                                                  |\n| hostId            | 3bfc2f6b4e561b4edffb8502d1a3c97c4c836963344a770520006e22 |\n| id                | 942296a6-74a1-496b-818d-491cb5084b3b                     |\n| image             | cirros-0.3-x86_64                                        |\n| key_name          |                                                          |\n| metadata          | {}                                                       |\n| name              | test-1                                                   |\n| private_1 network | 10.0.0.36                                                |\n| progress          | 0                                                        |\n| status            | REBUILD                                                  |\n| tenant_id         | admin                                                    |\n| updated           | 2012-06-13T12:03:33Z                                     |\n| user_id           | admin                                                    |\n+-------------------+----------------------------------------------------------+\n[muralik@openstack27 ~]$nova --debug console-log 942296a6-74a1-496b-818d-491cb5084b3b --length 10\nconnect: (10.233.52.236, 8774)\nsend: 'GET /v1.1 HTTP/1.1\\r\\nHost: 10.233.52.236:8774\\r\\nx-auth-project-id: admin\\r\\naccept-encoding: gzip, deflate\\r\\nx-auth-user: admin\\r\\nuser-agent: python-novaclient\\r\\nx-auth-key: testuser\\r\\naccept: application/json\\r\\n\\r\\n'\nreply: 'HTTP/1.1 204 No Content\\r\\n'\nheader: Content-Length: 0\nheader: X-Auth-Token: admin:admin\nheader: X-Server-Management-Url: http://10.233.52.236:8774/v1.1/admin\nheader: Content-Type: text/plain; charset=UTF-8\nheader: Date: Wed, 13 Jun 2012 12:03:37 GMT\nsend: 'GET /v1.1/admin/servers/942296a6-74a1-496b-818d-491cb5084b3b HTTP/1.1\\r\\nHost: 10.233.52.236:8774\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: admin:admin\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-8eaa7fad-668c-471e-afd2-6e6294c1e168\nheader: Content-Type: application/json\nheader: Content-Length: 1230\nheader: Date: Wed, 13 Jun 2012 12:03:37 GMT\nsend: u'GET /v1.1/admin/servers/942296a6-74a1-496b-818d-491cb5084b3b HTTP/1.1\\r\\nHost: 10.233.52.236:8774\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: admin:admin\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-b6e527d3-c20c-4e18-aa9b-79f62e88199c\nheader: Content-Type: application/json\nheader: Content-Length: 1230\nheader: Date: Wed, 13 Jun 2012 12:03:38 GMT\nsend: u'POST /v1.1/admin/servers/942296a6-74a1-496b-818d-491cb5084b3b/action HTTP/1.1\\r\\nHost: 10.233.52.236:8774\\r\\nContent-Length: 41\\r\\nx-auth-project-id: admin\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nx-auth-token: admin:admin\\r\\nuser-agent: python-novaclient\\r\\ncontent-type: application/json\\r\\n\\r\\n{\"os-getConsoleOutput\": {\"length\": \"10\"}}'\nreply: 'HTTP/1.1 500 Internal Server Error\\r\\n'\nheader: Content-Length: 128\nheader: Content-Type: application/json; charset=UTF-8\nheader: X-Compute-Request-Id: req-0a600e32-7d83-42ce-a475-835e234c0f02\nheader: Date: Wed, 13 Jun 2012 12:03:38 GMT\nDEBUG (shell:416) The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nTraceback (most recent call last):\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 413, in main\n    OpenStackComputeShell().main(sys.argv[1:])\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 364, in main\n    args.func(self.cs, args)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/shell.py\", line 1039, in do_console_log\n    data = server.get_console_output(length=args.length)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 58, in get_console_output\n    return self.manager.get_console_output(self, length)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 584, in get_console_output\n    {'length': length})[1]['output']\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 617, in _action\n    return self.api.client.post(url, body=body)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 139, in post\n    return self._cs_request(url, 'POST', **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 124, in _cs_request\n    **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 107, in request\n    raise exceptions.from_response(resp, body)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500)", 
    "tags": [], 
    "importance": "Low", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/1012618", 
    "owner": "None", 
    "id": 1012618, 
    "index": 590, 
    "openned": "2012-06-13 11:15:27.326971+00:00", 
    "created": "2012-06-13 11:15:27.326971+00:00", 
    "title": "GET console output of server in Rebuild status is throwing 500 error", 
    "comments": [
        {
            "content": "GET console output of server in Rebuild status is throwing 500 error.\n\nActual Result:\nIs throwing 500 error code.\n\nExpected Result:\nShould return the console output else should shown an appropriate error message.\n\nLOG:\n--------\n\n[muralik@openstack27 ~]$nova list\n+--------------------------------------+--------+--------+---------------------+\n|                  ID                  |  Name  | Status |       Networks      |\n+--------------------------------------+--------+--------+---------------------+\n| 942296a6-74a1-496b-818d-491cb5084b3b | test-1 | ACTIVE | private_1=10.0.0.36 |\n+--------------------------------------+--------+--------+---------------------+\n[muralik@openstack27 ~]$nova rebuild 942296a6-74a1-496b-818d-491cb5084b3b bc1b9cb1-81e1-4b5c-8307-59bc1969c260\n+-------------------+----------------------------------------------------------+\n|      Property     |                          Value                           |\n+-------------------+----------------------------------------------------------+\n| OS-DCF:diskConfig | MANUAL                                                   |\n| accessIPv4        |                                                          |\n| accessIPv6        |                                                          |\n| adminPass         | FUFQxs4tQLce                                             |\n| config_drive      |                                                          |\n| created           | 2012-06-13T11:57:51Z                                     |\n| flavor            | m1.tiny                                                  |\n| hostId            | 3bfc2f6b4e561b4edffb8502d1a3c97c4c836963344a770520006e22 |\n| id                | 942296a6-74a1-496b-818d-491cb5084b3b                     |\n| image             | cirros-0.3-x86_64                                        |\n| key_name          |                                                          |\n| metadata          | {}                                                       |\n| name              | test-1                                                   |\n| private_1 network | 10.0.0.36                                                |\n| progress          | 0                                                        |\n| status            | REBUILD                                                  |\n| tenant_id         | admin                                                    |\n| updated           | 2012-06-13T12:03:33Z                                     |\n| user_id           | admin                                                    |\n+-------------------+----------------------------------------------------------+\n[muralik@openstack27 ~]$nova --debug console-log 942296a6-74a1-496b-818d-491cb5084b3b --length 10\nconnect: (10.233.52.236, 8774)\nsend: 'GET /v1.1 HTTP/1.1\\r\\nHost: 10.233.52.236:8774\\r\\nx-auth-project-id: admin\\r\\naccept-encoding: gzip, deflate\\r\\nx-auth-user: admin\\r\\nuser-agent: python-novaclient\\r\\nx-auth-key: testuser\\r\\naccept: application/json\\r\\n\\r\\n'\nreply: 'HTTP/1.1 204 No Content\\r\\n'\nheader: Content-Length: 0\nheader: X-Auth-Token: admin:admin\nheader: X-Server-Management-Url: http://10.233.52.236:8774/v1.1/admin\nheader: Content-Type: text/plain; charset=UTF-8\nheader: Date: Wed, 13 Jun 2012 12:03:37 GMT\nsend: 'GET /v1.1/admin/servers/942296a6-74a1-496b-818d-491cb5084b3b HTTP/1.1\\r\\nHost: 10.233.52.236:8774\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: admin:admin\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-8eaa7fad-668c-471e-afd2-6e6294c1e168\nheader: Content-Type: application/json\nheader: Content-Length: 1230\nheader: Date: Wed, 13 Jun 2012 12:03:37 GMT\nsend: u'GET /v1.1/admin/servers/942296a6-74a1-496b-818d-491cb5084b3b HTTP/1.1\\r\\nHost: 10.233.52.236:8774\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: admin:admin\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-b6e527d3-c20c-4e18-aa9b-79f62e88199c\nheader: Content-Type: application/json\nheader: Content-Length: 1230\nheader: Date: Wed, 13 Jun 2012 12:03:38 GMT\nsend: u'POST /v1.1/admin/servers/942296a6-74a1-496b-818d-491cb5084b3b/action HTTP/1.1\\r\\nHost: 10.233.52.236:8774\\r\\nContent-Length: 41\\r\\nx-auth-project-id: admin\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nx-auth-token: admin:admin\\r\\nuser-agent: python-novaclient\\r\\ncontent-type: application/json\\r\\n\\r\\n{\"os-getConsoleOutput\": {\"length\": \"10\"}}'\nreply: 'HTTP/1.1 500 Internal Server Error\\r\\n'\nheader: Content-Length: 128\nheader: Content-Type: application/json; charset=UTF-8\nheader: X-Compute-Request-Id: req-0a600e32-7d83-42ce-a475-835e234c0f02\nheader: Date: Wed, 13 Jun 2012 12:03:38 GMT\nDEBUG (shell:416) The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nTraceback (most recent call last):\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 413, in main\n    OpenStackComputeShell().main(sys.argv[1:])\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 364, in main\n    args.func(self.cs, args)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/shell.py\", line 1039, in do_console_log\n    data = server.get_console_output(length=args.length)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 58, in get_console_output\n    return self.manager.get_console_output(self, length)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 584, in get_console_output\n    {'length': length})[1]['output']\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 617, in _action\n    return self.api.client.post(url, body=body)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 139, in post\n    return self._cs_request(url, 'POST', **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 124, in _cs_request\n    **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 107, in request\n    raise exceptions.from_response(resp, body)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500)", 
            "date_created": "2012-06-13 11:15:27.326971+00:00", 
            "author": "https://api.launchpad.net/1.0/~rajalakshmi-ganesan"
        }, 
        {
            "content": "Note sure if it's strictly related, but I also get this error (hundreds of them if you pool periodically in fact) when the compute node is under heavy IO load, like a 20/30 parallel instance deploy in one compute node with only one SATA III disk (consumer grade). Also, I'm not using the nova CLI, but the OS API via ruby-fog. \n\nHaven't been able to find a good trace in nova-compute.log with --verbose flag enabled.\n\nWould be nice to get some hints to better debug this issue.", 
            "date_created": "2012-06-15 11:08:54.426757+00:00", 
            "author": "https://api.launchpad.net/1.0/~rubiojr"
        }, 
        {
            "content": "I think this bug is not valid yes. I did some tests and all work well now.", 
            "date_created": "2013-11-07 10:33:46.784111+00:00", 
            "author": "https://api.launchpad.net/1.0/~sahid-ferdjaoui"
        }
    ], 
    "closed": "2014-02-11 22:18:34.977805+00:00"
}