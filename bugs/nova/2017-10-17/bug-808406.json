{
    "status": "Fix Released", 
    "last_updated": "2011-09-22 13:12:23.947324+00:00", 
    "description": "2011-07-10 17:09:22,291 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/home/ubuntu/nova/nova/db/sqlalchemy/api.pyc'> from (pid=22371) __get_backend /home/ubuntu/nova/nova/utils.py:417\n2011-07-10 17:09:22,394 ERROR nova.exception [-] DB exception wrapped.\n(nova.exception): TRACE: Traceback (most recent call last):\n(nova.exception): TRACE:   File \"/home/ubuntu/nova/nova/exception.py\", line 76, in _wrap\n(nova.exception): TRACE:     return f(*args, **kwargs)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1359, in flush\n(nova.exception): TRACE:     self._flush(objects)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1440, in _flush\n(nova.exception): TRACE:     flush_context.execute()\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 299, in execute\n(nova.exception): TRACE:     rec.execute(self)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 443, in execute\n(nova.exception): TRACE:     uow\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/mapper.py\", line 1863, in _save_obj\n(nova.exception): TRACE:     execute(statement, params)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1194, in execute\n(nova.exception): TRACE:     params)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1274, in _execute_clauseelement\n(nova.exception): TRACE:     return self.__execute_context(context)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1305, in __execute_context\n(nova.exception): TRACE:     context.parameters[0], context=context)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1404, in _cursor_execute\n(nova.exception): TRACE:     context)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1397, in _cursor_execute\n(nova.exception): TRACE:     context)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 299, in do_execute\n(nova.exception): TRACE:     cursor.execute(statement, parameters)\n(nova.exception): TRACE: IntegrityError: (IntegrityError) column id is not unique u'INSERT INTO projects (created_at, updated_at, deleted_at, deleted, id, name, description, project_manager) VALUES (?, ?, ?, ?, ?, ?, ?, ?)' ('2011-07-10 16:09:22.392009', None, None, False, 'test', 'test', 'test', u'ubuntu')\n(nova.exception): TRACE: \n2011-07-10 17:09:22,401 CRITICAL nova [-] (IntegrityError) column id is not unique u'INSERT INTO projects (created_at, updated_at, deleted_at, deleted, id, name, description, project_manager) VALUES (?, ?, ?, ?, ?, ?, ?, ?)' ('2011-07-10 16:09:22.392009', None, None, False, 'test', 'test', 'test', u'ubuntu')\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/home/ubuntu/nova/bin/nova-manage\", line 1276, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/home/ubuntu/nova/bin/nova-manage\", line 1265, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/home/ubuntu/nova/bin/nova-manage\", line 386, in create\n(nova): TRACE:     self.manager.create_project(name, project_manager, description)\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/auth/manager.py\", line 564, in create_project\n(nova): TRACE:     member_users)\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/auth/dbdriver.py\", line 129, in create_project\n(nova): TRACE:     project = db.project_create(context.get_admin_context(), values)\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/db/api.py\", line 1188, in project_create\n(nova): TRACE:     return IMPL.project_create(context, values)\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/db/sqlalchemy/api.py\", line 2632, in project_create\n(nova): TRACE:     project_ref.save()\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/db/sqlalchemy/models.py\", line 57, in save\n(nova): TRACE:     session.flush()\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/exception.py\", line 79, in _wrap\n(nova): TRACE:     raise DBError(e)\n(nova): TRACE: DBError: (IntegrityError) column id is not unique u'INSERT INTO projects (created_at, updated_at, deleted_at, deleted, id, name, description, project_manager) VALUES (?, ?, ?, ?, ?, ?, ?, ?)' ('2011-07-10 16:09:22.392009', None, None, False, 'test', 'test', 'test', u'ubuntu')\n(nova): TRACE: \nCommand failed, please check log for more info", 
    "tags": [], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/808406", 
    "owner": "https://api.launchpad.net/1.0/~jk0", 
    "id": 808406, 
    "index": 220, 
    "openned": "2011-07-10 16:10:04.457166+00:00", 
    "created": "2011-07-10 16:10:04.457166+00:00", 
    "title": "creating duplicate project causes unhandled error ", 
    "comments": [
        {
            "content": "2011-07-10 17:09:22,291 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/home/ubuntu/nova/nova/db/sqlalchemy/api.pyc'> from (pid=22371) __get_backend /home/ubuntu/nova/nova/utils.py:417\n2011-07-10 17:09:22,394 ERROR nova.exception [-] DB exception wrapped.\n(nova.exception): TRACE: Traceback (most recent call last):\n(nova.exception): TRACE:   File \"/home/ubuntu/nova/nova/exception.py\", line 76, in _wrap\n(nova.exception): TRACE:     return f(*args, **kwargs)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1359, in flush\n(nova.exception): TRACE:     self._flush(objects)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1440, in _flush\n(nova.exception): TRACE:     flush_context.execute()\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 299, in execute\n(nova.exception): TRACE:     rec.execute(self)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 443, in execute\n(nova.exception): TRACE:     uow\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/mapper.py\", line 1863, in _save_obj\n(nova.exception): TRACE:     execute(statement, params)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1194, in execute\n(nova.exception): TRACE:     params)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1274, in _execute_clauseelement\n(nova.exception): TRACE:     return self.__execute_context(context)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1305, in __execute_context\n(nova.exception): TRACE:     context.parameters[0], context=context)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1404, in _cursor_execute\n(nova.exception): TRACE:     context)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1397, in _cursor_execute\n(nova.exception): TRACE:     context)\n(nova.exception): TRACE:   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 299, in do_execute\n(nova.exception): TRACE:     cursor.execute(statement, parameters)\n(nova.exception): TRACE: IntegrityError: (IntegrityError) column id is not unique u'INSERT INTO projects (created_at, updated_at, deleted_at, deleted, id, name, description, project_manager) VALUES (?, ?, ?, ?, ?, ?, ?, ?)' ('2011-07-10 16:09:22.392009', None, None, False, 'test', 'test', 'test', u'ubuntu')\n(nova.exception): TRACE: \n2011-07-10 17:09:22,401 CRITICAL nova [-] (IntegrityError) column id is not unique u'INSERT INTO projects (created_at, updated_at, deleted_at, deleted, id, name, description, project_manager) VALUES (?, ?, ?, ?, ?, ?, ?, ?)' ('2011-07-10 16:09:22.392009', None, None, False, 'test', 'test', 'test', u'ubuntu')\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/home/ubuntu/nova/bin/nova-manage\", line 1276, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/home/ubuntu/nova/bin/nova-manage\", line 1265, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/home/ubuntu/nova/bin/nova-manage\", line 386, in create\n(nova): TRACE:     self.manager.create_project(name, project_manager, description)\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/auth/manager.py\", line 564, in create_project\n(nova): TRACE:     member_users)\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/auth/dbdriver.py\", line 129, in create_project\n(nova): TRACE:     project = db.project_create(context.get_admin_context(), values)\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/db/api.py\", line 1188, in project_create\n(nova): TRACE:     return IMPL.project_create(context, values)\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/db/sqlalchemy/api.py\", line 2632, in project_create\n(nova): TRACE:     project_ref.save()\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/db/sqlalchemy/models.py\", line 57, in save\n(nova): TRACE:     session.flush()\n(nova): TRACE:   File \"/home/ubuntu/nova/nova/exception.py\", line 79, in _wrap\n(nova): TRACE:     raise DBError(e)\n(nova): TRACE: DBError: (IntegrityError) column id is not unique u'INSERT INTO projects (created_at, updated_at, deleted_at, deleted, id, name, description, project_manager) VALUES (?, ?, ?, ?, ?, ?, ?, ?)' ('2011-07-10 16:09:22.392009', None, None, False, 'test', 'test', 'test', u'ubuntu')\n(nova): TRACE: \nCommand failed, please check log for more info", 
            "date_created": "2011-07-10 16:10:04.457166+00:00", 
            "author": "https://api.launchpad.net/1.0/~davewalker"
        }
    ], 
    "closed": "2011-09-22 13:12:22.798699+00:00"
}