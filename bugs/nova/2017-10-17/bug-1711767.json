{
    "status": "Invalid", 
    "last_updated": "2017-08-20 04:10:21.070815+00:00", 
    "description": "I have Nova (15.0.4-1e17)\n\nWhen i try to bring up my nova-api on my controller, i am getting this error:\n\n2017-08-18 16:35:40.236 15107 CRITICAL nova [req-28985cc3-c33b-4538-aa55-cedd9ab05c70 - - - - -] TypeError: __call__() takes exactly 3 arguments (2 given); got (<paste.d...cd0>, {'__file...va'}, keystone=..., noauth2=...), wanted (loader, global_conf, **local_conf)\n\n\nI wanted to paste my api-paste.ini here but wanted to keep my initial post concise so decided not to. if you need a specific section of that file let me know. \n \n\nThis is what I have done so far:\n1. Installed nova per instructions on openstack website.\nyum install -y openstack-nova-api openstack-nova-conductor openstack-nova-console openstack-nova-novncproxy openstack-nova-scheduler\n\n2. Edited /etc/nova/nova.conf file per my local environment.\nOne line that i added under [keystone_authtoken] section while troubleshooting was:\nservice_token_roles_required = true\n\n3. In my api-paste.ini file my request_log was set as follows. \n[filter:request_log]\npaste.filter_factory = nova.api.openstack.requestlog:RequestLog.factory\n\nBut i got errors while trying to load the requestlog module. First it was not able to locate the module and when i tried to give it the path, it was complaing about factory attribute, so my final settings look like this\n[filter:request_log]\npaste.filter_factory = nova.api.openstack.placement.requestlog:RequestLog\n\n4. Start openstack-nova-api (by setting the log level to debug), the /var/log/nova/nova-api.log gives me the following error before it exits:\n\n\n2017-08-18 16:35:40.236 15107 CRITICAL nova [req-28985cc3-c33b-4538-aa55-cedd9ab05c70 - - - - -] TypeError: __call__() takes exactly 3 arguments (2 given); got (<paste.d...cd0>, {'__file...va'}, keystone=..., noauth2=...), wanted (loader, global_conf, **local_conf)\n2017-08-18 16:35:40.236 15107 ERROR nova Traceback (most recent call last):\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/bin/nova-api\", line 10, in <module>\n2017-08-18 16:35:40.236 15107 ERROR nova     sys.exit(main())\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/cmd/api.py\", line 59, in main\n2017-08-18 16:35:40.236 15107 ERROR nova     server = service.WSGIService(api, use_ssl=should_use_ssl)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/service.py\", line 311, in __init__\n2017-08-18 16:35:40.236 15107 ERROR nova     self.app = self.loader.load_app(name)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/wsgi.py\", line 497, in load_app\n2017-08-18 16:35:40.236 15107 ERROR nova     return deploy.loadapp(\"config:%s\" % self.config_path, name=name)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 247, in loadapp\n2017-08-18 16:35:40.236 15107 ERROR nova     return loadobj(APP, uri, name=name, **kw)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 272, in loadobj\n2017-08-18 16:35:40.236 15107 ERROR nova     return context.create()\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 710, in create\n2017-08-18 16:35:40.236 15107 ERROR nova     return self.object_type.invoke(self)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 144, in invoke\n2017-08-18 16:35:40.236 15107 ERROR nova     **context.local_conf)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/util.py\", line 58, in fix_call\n2017-08-18 16:35:40.236 15107 ERROR nova     reraise(*exc_info)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/compat.py\", line 23, in reraise\n2017-08-18 16:35:40.236 15107 ERROR nova     exec('raise t, e, tb', dict(t=t, e=e, tb=tb))\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/util.py\", line 55, in fix_call\n2017-08-18 16:35:40.236 15107 ERROR nova     val = callable(*args, **kw)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/urlmap.py\", line 160, in urlmap_factory\n2017-08-18 16:35:40.236 15107 ERROR nova     app = loader.get_app(app_name, global_conf=global_conf)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 350, in get_app\n2017-08-18 16:35:40.236 15107 ERROR nova     name=name, global_conf=global_conf).create()\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 710, in create\n2017-08-18 16:35:40.236 15107 ERROR nova     return self.object_type.invoke(self)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 144, in invoke\n2017-08-18 16:35:40.236 15107 ERROR nova     **context.local_conf)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/util.py\", line 58, in fix_call\n2017-08-18 16:35:40.236 15107 ERROR nova     reraise(*exc_info)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/compat.py\", line 23, in reraise\n2017-08-18 16:35:40.236 15107 ERROR nova     exec('raise t, e, tb', dict(t=t, e=e, tb=tb))\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/util.py\", line 55, in fix_call\n2017-08-18 16:35:40.236 15107 ERROR nova     val = callable(*args, **kw)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/api/auth.py\", line 57, in pipeline_factory_v21\n2017-08-18 16:35:40.236 15107 ERROR nova     return _load_pipeline(loader, local_conf[CONF.api.auth_strategy].split())\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/api/auth.py\", line 41, in _load_pipeline\n2017-08-18 16:35:40.236 15107 ERROR nova     app = filter(app)\n2017-08-18 16:35:40.236 15107 ERROR nova TypeError: __call__() takes exactly 3 arguments (2 given); got (<paste.d...cd0>, {'__file...va'}, keystone=..., noauth2=...), wanted (loader, global_conf, **local_conf)", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1711767", 
    "owner": "None", 
    "id": 1711767, 
    "index": 8259, 
    "openned": "2017-08-18 23:52:13.417467+00:00", 
    "created": "2017-08-18 23:52:13.417467+00:00", 
    "title": "TypeError in _call_() function while trying to bring NOVA-API", 
    "comments": [
        {
            "content": "I have Nova (15.0.4-1e17)\n\nWhen i try to bring up my nova-api on my controller, i am getting this error:\n\n2017-08-18 16:35:40.236 15107 CRITICAL nova [req-28985cc3-c33b-4538-aa55-cedd9ab05c70 - - - - -] TypeError: __call__() takes exactly 3 arguments (2 given); got (<paste.d...cd0>, {'__file...va'}, keystone=..., noauth2=...), wanted (loader, global_conf, **local_conf)\n\n\nI wanted to paste my api-paste.ini here but wanted to keep my initial post concise so decided not to. if you need a specific section of that file let me know. \n \n\nThis is what I have done so far:\n1. Installed nova per instructions on openstack website.\nyum install -y openstack-nova-api openstack-nova-conductor openstack-nova-console openstack-nova-novncproxy openstack-nova-scheduler\n\n2. Edited /etc/nova/nova.conf file per my local environment.\nOne line that i added under [keystone_authtoken] section while troubleshooting was:\nservice_token_roles_required = true\n\n3. In my api-paste.ini file my request_log was set as follows. \n[filter:request_log]\npaste.filter_factory = nova.api.openstack.requestlog:RequestLog.factory\n\nBut i got errors while trying to load the requestlog module. First it was not able to locate the module and when i tried to give it the path, it was complaing about factory attribute, so my final settings look like this\n[filter:request_log]\npaste.filter_factory = nova.api.openstack.placement.requestlog:RequestLog\n\n4. Start openstack-nova-api (by setting the log level to debug), the /var/log/nova/nova-api.log gives me the following error before it exits:\n\n\n2017-08-18 16:35:40.236 15107 CRITICAL nova [req-28985cc3-c33b-4538-aa55-cedd9ab05c70 - - - - -] TypeError: __call__() takes exactly 3 arguments (2 given); got (<paste.d...cd0>, {'__file...va'}, keystone=..., noauth2=...), wanted (loader, global_conf, **local_conf)\n2017-08-18 16:35:40.236 15107 ERROR nova Traceback (most recent call last):\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/bin/nova-api\", line 10, in <module>\n2017-08-18 16:35:40.236 15107 ERROR nova     sys.exit(main())\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/cmd/api.py\", line 59, in main\n2017-08-18 16:35:40.236 15107 ERROR nova     server = service.WSGIService(api, use_ssl=should_use_ssl)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/service.py\", line 311, in __init__\n2017-08-18 16:35:40.236 15107 ERROR nova     self.app = self.loader.load_app(name)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/wsgi.py\", line 497, in load_app\n2017-08-18 16:35:40.236 15107 ERROR nova     return deploy.loadapp(\"config:%s\" % self.config_path, name=name)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 247, in loadapp\n2017-08-18 16:35:40.236 15107 ERROR nova     return loadobj(APP, uri, name=name, **kw)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 272, in loadobj\n2017-08-18 16:35:40.236 15107 ERROR nova     return context.create()\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 710, in create\n2017-08-18 16:35:40.236 15107 ERROR nova     return self.object_type.invoke(self)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 144, in invoke\n2017-08-18 16:35:40.236 15107 ERROR nova     **context.local_conf)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/util.py\", line 58, in fix_call\n2017-08-18 16:35:40.236 15107 ERROR nova     reraise(*exc_info)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/compat.py\", line 23, in reraise\n2017-08-18 16:35:40.236 15107 ERROR nova     exec('raise t, e, tb', dict(t=t, e=e, tb=tb))\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/util.py\", line 55, in fix_call\n2017-08-18 16:35:40.236 15107 ERROR nova     val = callable(*args, **kw)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/urlmap.py\", line 160, in urlmap_factory\n2017-08-18 16:35:40.236 15107 ERROR nova     app = loader.get_app(app_name, global_conf=global_conf)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 350, in get_app\n2017-08-18 16:35:40.236 15107 ERROR nova     name=name, global_conf=global_conf).create()\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 710, in create\n2017-08-18 16:35:40.236 15107 ERROR nova     return self.object_type.invoke(self)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/loadwsgi.py\", line 144, in invoke\n2017-08-18 16:35:40.236 15107 ERROR nova     **context.local_conf)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/util.py\", line 58, in fix_call\n2017-08-18 16:35:40.236 15107 ERROR nova     reraise(*exc_info)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/compat.py\", line 23, in reraise\n2017-08-18 16:35:40.236 15107 ERROR nova     exec('raise t, e, tb', dict(t=t, e=e, tb=tb))\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/paste/deploy/util.py\", line 55, in fix_call\n2017-08-18 16:35:40.236 15107 ERROR nova     val = callable(*args, **kw)\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/api/auth.py\", line 57, in pipeline_factory_v21\n2017-08-18 16:35:40.236 15107 ERROR nova     return _load_pipeline(loader, local_conf[CONF.api.auth_strategy].split())\n2017-08-18 16:35:40.236 15107 ERROR nova   File \"/usr/lib/python2.7/site-packages/nova/api/auth.py\", line 41, in _load_pipeline\n2017-08-18 16:35:40.236 15107 ERROR nova     app = filter(app)\n2017-08-18 16:35:40.236 15107 ERROR nova TypeError: __call__() takes exactly 3 arguments (2 given); got (<paste.d...cd0>, {'__file...va'}, keystone=..., noauth2=...), wanted (loader, global_conf, **local_conf)", 
            "date_created": "2017-08-18 23:52:13.417467+00:00", 
            "author": "https://api.launchpad.net/1.0/~rsingh27"
        }
    ], 
    "closed": "2017-08-20 04:10:18.567129+00:00"
}