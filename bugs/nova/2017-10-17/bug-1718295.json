{
    "status": "Fix Released", 
    "last_updated": "2017-10-12 12:56:21.419985+00:00", 
    "description": "Looks like this is pretty new:\n\nhttp://logs.openstack.org/01/503601/7/check/gate-tempest-dsvm-multinode-live-migration-ubuntu-xenial/b19b77c/logs/screen-n-api.txt.gz?level=TRACE#_Sep_19_17_47_11_508623\n\nSep 19 17:47:11.508623 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: ERROR nova.api.openstack.extensions [None req-e31fde7b-317f-4db9-b225-10b6e11b2dff tempest-LiveMigrationTest-1678596498 tempest-LiveMigrationTest-1678596498] Unexpected exception in API method: MigrationError_Remote: Migration error: Disk info file is invalid: qemu-img failed to execute on /opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk : Unexpected error while running command.\nSep 19 17:47:11.508805 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Command: /usr/bin/python2 -m oslo_concurrency.prlimit --as=1073741824 --cpu=30 -- env LC_ALL=C LANG=C qemu-img info /opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk\nSep 19 17:47:11.508946 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Exit code: 1\nSep 19 17:47:11.509079 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Stdout: u''\nSep 19 17:47:11.509233 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Stderr: u'qemu-img: Could not open \\'/opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk\\': Failed to get shared \"write\" lock\\nIs another process using the image?\\n'\nSep 19 17:47:11.509487 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Traceback (most recent call last):\nSep 19 17:47:11.509649 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/server.py\", line 160, in _process_incoming\nSep 19 17:47:11.509789 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     res = self.dispatcher.dispatch(message)\nSep 19 17:47:11.510231 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 222, in dispatch\nSep 19 17:47:11.510418 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     return self._do_dispatch(endpoint, method, ctxt, args)\nSep 19 17:47:11.510555 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 192, in _do_dispatch\nSep 19 17:47:11.510687 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     result = func(ctxt, **new_args)\nSep 19 17:47:11.510829 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/exception_wrapper.py\", line 76, in wrapped\nSep 19 17:47:11.510959 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     function_name, call_dict, binary)\nSep 19 17:47:11.511194 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 220, in __exit__\nSep 19 17:47:11.511713 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     self.force_reraise()\nSep 19 17:47:11.511852 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 196, in force_reraise\nSep 19 17:47:11.512037 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     six.reraise(self.type_, self.value, self.tb)\nSep 19 17:47:11.512687 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/exception_wrapper.py\", line 67, in wrapped\nSep 19 17:47:11.516811 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     return f(self, context, *args, **kw)\nSep 19 17:47:11.516966 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/compute/utils.py\", line 876, in decorated_function\nSep 19 17:47:11.517110 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     return function(self, context, *args, **kwargs)\nSep 19 17:47:11.525392 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 217, in decorated_function\nSep 19 17:47:11.525526 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     kwargs['instance'], e, sys.exc_info())\nSep 19 17:47:11.525654 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 220, in __exit__\nSep 19 17:47:11.525783 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     self.force_reraise()\nSep 19 17:47:11.525909 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 196, in force_reraise\nSep 19 17:47:11.526057 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     six.reraise(self.type_, self.value, self.tb)\nSep 19 17:47:11.526186 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 205, in decorated_function\nSep 19 17:47:11.526314 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     return function(self, context, *args, **kwargs)\nSep 19 17:47:11.529795 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 5378, in check_can_live_migrate_source\nSep 19 17:47:11.529952 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     block_device_info)\nSep 19 17:47:11.530083 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 5960, in check_can_live_migrate_source\nSep 19 17:47:11.530446 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     block_device_info)\nSep 19 17:47:11.530587 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 6060, in _assert_dest_node_has_enough_disk\nSep 19 17:47:11.530720 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     disk_infos = self._get_instance_disk_info(instance, block_device_info)\nSep 19 17:47:11.531945 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 7254, in _get_instance_disk_info\nSep 19 17:47:11.532099 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     block_device_info)\nSep 19 17:47:11.532234 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 7222, in _get_instance_disk_info_from_config\nSep 19 17:47:11.532366 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     backing_file = libvirt_utils.get_disk_backing_file(path)\nSep 19 17:47:11.532496 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/utils.py\", line 197, in get_disk_backing_file\nSep 19 17:47:11.532627 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     backing_file = images.qemu_img_info(path, format).backing_file\nSep 19 17:47:11.532755 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/images.py\", line 72, in qemu_img_info\nSep 19 17:47:11.532896 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     raise exception.InvalidDiskInfo(reason=msg)\nSep 19 17:47:11.533373 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: InvalidDiskInfo: Disk info file is invalid: qemu-img failed to execute on /opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk : Unexpected error while running command.\nSep 19 17:47:11.534451 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Command: /usr/bin/python2 -m oslo_concurrency.prlimit --as=1073741824 --cpu=30 -- env LC_ALL=C LANG=C qemu-img info /opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk\nSep 19 17:47:11.534670 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Exit code: 1\nSep 19 17:47:11.534902 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Stdout: u''\nSep 19 17:47:11.541303 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Stderr: u'qemu-img: Could not open \\'/opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk\\': Failed to get shared \"write\" lock\\nIs another process using the image?\\n'\n\nhttp://logstash.openstack.org/#dashboard/file/logstash.json?query=message%3A%5C%22Unexpected%20exception%20in%20API%20method%3A%20MigrationError_Remote%3A%20Migration%20error%3A%20Disk%20info%20file%20is%20invalid%3A%20qemu-img%20failed%20to%20execute%20on%5C%22%20AND%20tags%3A%5C%22screen-n-api.txt%5C%22&from=7d\n\n252 hits starting on 9/19, check and gate, all failures.", 
    "tags": [
        "in-stable-pike", 
        "live-migration"
    ], 
    "importance": "High", 
    "heat": 24, 
    "link": "https://bugs.launchpad.net/nova/+bug/1718295", 
    "owner": "https://api.launchpad.net/1.0/~sdague", 
    "id": 1718295, 
    "index": 2150, 
    "openned": "2017-09-19 21:11:40.996516+00:00", 
    "created": "2017-09-19 21:11:40.996516+00:00", 
    "title": "Live migration fails with qemu-img >= 2.10: 'Failed to get shared 'write' lock\\nIs another process using the image?'", 
    "comments": [
        {
            "content": "Looks like this is pretty new:\n\nhttp://logs.openstack.org/01/503601/7/check/gate-tempest-dsvm-multinode-live-migration-ubuntu-xenial/b19b77c/logs/screen-n-api.txt.gz?level=TRACE#_Sep_19_17_47_11_508623\n\nSep 19 17:47:11.508623 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: ERROR nova.api.openstack.extensions [None req-e31fde7b-317f-4db9-b225-10b6e11b2dff tempest-LiveMigrationTest-1678596498 tempest-LiveMigrationTest-1678596498] Unexpected exception in API method: MigrationError_Remote: Migration error: Disk info file is invalid: qemu-img failed to execute on /opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk : Unexpected error while running command.\nSep 19 17:47:11.508805 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Command: /usr/bin/python2 -m oslo_concurrency.prlimit --as=1073741824 --cpu=30 -- env LC_ALL=C LANG=C qemu-img info /opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk\nSep 19 17:47:11.508946 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Exit code: 1\nSep 19 17:47:11.509079 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Stdout: u''\nSep 19 17:47:11.509233 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Stderr: u'qemu-img: Could not open \\'/opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk\\': Failed to get shared \"write\" lock\\nIs another process using the image?\\n'\nSep 19 17:47:11.509487 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Traceback (most recent call last):\nSep 19 17:47:11.509649 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/server.py\", line 160, in _process_incoming\nSep 19 17:47:11.509789 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     res = self.dispatcher.dispatch(message)\nSep 19 17:47:11.510231 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 222, in dispatch\nSep 19 17:47:11.510418 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     return self._do_dispatch(endpoint, method, ctxt, args)\nSep 19 17:47:11.510555 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 192, in _do_dispatch\nSep 19 17:47:11.510687 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     result = func(ctxt, **new_args)\nSep 19 17:47:11.510829 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/exception_wrapper.py\", line 76, in wrapped\nSep 19 17:47:11.510959 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     function_name, call_dict, binary)\nSep 19 17:47:11.511194 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 220, in __exit__\nSep 19 17:47:11.511713 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     self.force_reraise()\nSep 19 17:47:11.511852 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 196, in force_reraise\nSep 19 17:47:11.512037 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     six.reraise(self.type_, self.value, self.tb)\nSep 19 17:47:11.512687 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/exception_wrapper.py\", line 67, in wrapped\nSep 19 17:47:11.516811 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     return f(self, context, *args, **kw)\nSep 19 17:47:11.516966 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/compute/utils.py\", line 876, in decorated_function\nSep 19 17:47:11.517110 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     return function(self, context, *args, **kwargs)\nSep 19 17:47:11.525392 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 217, in decorated_function\nSep 19 17:47:11.525526 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     kwargs['instance'], e, sys.exc_info())\nSep 19 17:47:11.525654 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 220, in __exit__\nSep 19 17:47:11.525783 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     self.force_reraise()\nSep 19 17:47:11.525909 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 196, in force_reraise\nSep 19 17:47:11.526057 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     six.reraise(self.type_, self.value, self.tb)\nSep 19 17:47:11.526186 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 205, in decorated_function\nSep 19 17:47:11.526314 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     return function(self, context, *args, **kwargs)\nSep 19 17:47:11.529795 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 5378, in check_can_live_migrate_source\nSep 19 17:47:11.529952 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     block_device_info)\nSep 19 17:47:11.530083 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 5960, in check_can_live_migrate_source\nSep 19 17:47:11.530446 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     block_device_info)\nSep 19 17:47:11.530587 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 6060, in _assert_dest_node_has_enough_disk\nSep 19 17:47:11.530720 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     disk_infos = self._get_instance_disk_info(instance, block_device_info)\nSep 19 17:47:11.531945 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 7254, in _get_instance_disk_info\nSep 19 17:47:11.532099 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     block_device_info)\nSep 19 17:47:11.532234 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/driver.py\", line 7222, in _get_instance_disk_info_from_config\nSep 19 17:47:11.532366 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     backing_file = libvirt_utils.get_disk_backing_file(path)\nSep 19 17:47:11.532496 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/libvirt/utils.py\", line 197, in get_disk_backing_file\nSep 19 17:47:11.532627 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     backing_file = images.qemu_img_info(path, format).backing_file\nSep 19 17:47:11.532755 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:   File \"/opt/stack/new/nova/nova/virt/images.py\", line 72, in qemu_img_info\nSep 19 17:47:11.532896 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]:     raise exception.InvalidDiskInfo(reason=msg)\nSep 19 17:47:11.533373 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: InvalidDiskInfo: Disk info file is invalid: qemu-img failed to execute on /opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk : Unexpected error while running command.\nSep 19 17:47:11.534451 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Command: /usr/bin/python2 -m oslo_concurrency.prlimit --as=1073741824 --cpu=30 -- env LC_ALL=C LANG=C qemu-img info /opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk\nSep 19 17:47:11.534670 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Exit code: 1\nSep 19 17:47:11.534902 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Stdout: u''\nSep 19 17:47:11.541303 ubuntu-xenial-2-node-rax-ord-10997038 <email address hidden>[28339]: Stderr: u'qemu-img: Could not open \\'/opt/stack/data/nova/instances/806812af-bf9e-4dc1-8e0c-11603ccd9f62/disk\\': Failed to get shared \"write\" lock\\nIs another process using the image?\\n'\n\nhttp://logstash.openstack.org/#dashboard/file/logstash.json?query=message%3A%5C%22Unexpected%20exception%20in%20API%20method%3A%20MigrationError_Remote%3A%20Migration%20error%3A%20Disk%20info%20file%20is%20invalid%3A%20qemu-img%20failed%20to%20execute%20on%5C%22%20AND%20tags%3A%5C%22screen-n-api.txt%5C%22&from=7d\n\n252 hits starting on 9/19, check and gate, all failures.", 
            "date_created": "2017-09-19 21:11:40.996516+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "http://tinyurl.com/lgnq48d\n", 
            "date_created": "2017-09-19 21:11:55.708694+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "I don't see any related nova changes in the last 48 hours that look like they could cause this. I wonder if there is a new qemu package or something.\n\nqemu-system                        1:2.10+dfsg-0ubuntu1~cloud0", 
            "date_created": "2017-09-19 21:16:41.027875+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "qemu-system 1:2.10+dfsg-0ubuntu1~cloud0 was released on 9/5 so we've already been using it for a couple of weeks.", 
            "date_created": "2017-09-19 21:18:23.221416+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "It's probably this change to devstack to use the pike cloud archive:\n\nhttps://review.openstack.org/#/c/501224/", 
            "date_created": "2017-09-20 00:28:05.210196+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/505446", 
            "date_created": "2017-09-20 00:31:52.650261+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "See bug 1718133", 
            "date_created": "2017-09-20 08:12:47.220731+00:00", 
            "author": "https://api.launchpad.net/1.0/~james-page"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/505446\nCommitted: https://git.openstack.org/cgit/openstack-dev/devstack/commit/?id=ee22ca8373abd3b5a4c44a9c5c4da39c511195c8\nSubmitter: Jenkins\nBranch:    master\n\ncommit ee22ca8373abd3b5a4c44a9c5c4da39c511195c8\nAuthor: Matt Riedemann <email address hidden>\nDate:   Wed Sep 20 00:29:36 2017 +0000\n\n    Revert \"Update to using pike cloud-archive\"\n    \n    This reverts commit a7e9a5d447b3eeacfb52d7ddc94445058a8d6fd1.\n    \n    The jobs that run live migration tests are failing at about\n    a rate of 50% since this merged. There are no recent changes\n    to nova in the last 24 hours that are related to live\n    migration, and this is failing on the master branch only,\n    so I suspect the failures are due to new qemu packages\n    getting pulled in from this change.\n    \n    Change-Id: Ic8481539c6a0cc7af08a736a625b672979435908\n    Closes-Bug: #1718295\n", 
            "date_created": "2017-09-20 08:37:50.992540+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This is a behavioural change in qemu for 2.10 - looks like 'qemu-img info' needs to be passed a '--force-share' option to allow it to read a disk file for a running instance.", 
            "date_created": "2017-09-20 10:30:39.895403+00:00", 
            "author": "https://api.launchpad.net/1.0/~james-page"
        }, 
        {
            "content": "This appears like it might be an issue with the ppa in pike", 
            "date_created": "2017-09-20 12:56:18.409283+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Since it is a wanted behavioral change in upstream qemu setting that task to \"Won't Fix\" unless we come up with a reason to convince qemu to do so.\nOnce might argue that info should imply force-share or such, but unless we do so make clear that no qemu change is expected.\nJames already mentioned bug 1718133.\n\n@James and Matt - should we dup one of those onto the other?", 
            "date_created": "2017-09-20 13:10:50.463086+00:00", 
            "author": "https://api.launchpad.net/1.0/~paelzer"
        }, 
        {
            "content": "Distro patch to unblock Ubuntu Pike UCA and Artful (needs conditional check for general consumption).", 
            "date_created": "2017-09-20 14:18:01.873594+00:00", 
            "author": "https://api.launchpad.net/1.0/~james-page"
        }, 
        {
            "content": "Setting Nova bug task back to 'New' as I think we do need to accommodate this behavioural change in qemu.", 
            "date_created": "2017-09-20 14:18:43.920687+00:00", 
            "author": "https://api.launchpad.net/1.0/~james-page"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/505673", 
            "date_created": "2017-09-20 14:56:48.272023+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Related fix proposed to branch: master\nReview: https://review.openstack.org/505674", 
            "date_created": "2017-09-20 15:01:21.885026+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/505748", 
            "date_created": "2017-09-20 17:12:33.643182+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by James Page (<email address hidden>) on branch: master\nReview: https://review.openstack.org/505748\nReason: Abandoning in preference of alternative fix.", 
            "date_created": "2017-09-21 13:24:37.579177+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/505673\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=807579755c4a116309eca5b2bcdbab9d1f393bab\nSubmitter: Zuul\nBranch:    master\n\ncommit 807579755c4a116309eca5b2bcdbab9d1f393bab\nAuthor: Matt Riedemann <email address hidden>\nDate:   Wed Sep 20 10:44:11 2017 -0400\n\n    Support qemu >= 2.10\n    \n    Qemu 2.10 added the requirement of a --force-share flag to qemu-img\n    info when reading information about a disk that is in use by a\n    guest. We do this a lot in Nova for operations like gathering\n    information before live migration.\n    \n    Up until this point all qemu/libvirt version matching has been solely\n    inside the libvirt driver, however all the image manip code was moved\n    out to nova.virt.images. We need the version of QEMU available there.\n    \n    This does it by initializing that version on driver init host. The net\n    effect is also that broken libvirt connections are figured out\n    earlier, as there is an active probe for this value.\n    \n    Co-Authored-By: Sean Dague <email address hidden>\n    \n    Change-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\n    Closes-Bug: #1718295\n", 
            "date_created": "2017-10-02 09:18:33.512190+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/505674\nCommitted: https://git.openstack.org/cgit/openstack-dev/devstack/commit/?id=917ad0998be8c48bfcc0e3031bc1b75cd9ed1927\nSubmitter: Zuul\nBranch:    master\n\ncommit 917ad0998be8c48bfcc0e3031bc1b75cd9ed1927\nAuthor: Matt Riedemann <email address hidden>\nDate:   Wed Sep 20 14:46:48 2017 +0000\n\n    Update to using pike cloud-archive\n    \n    This reverts commit ee22ca8373abd3b5a4c44a9c5c4da39c511195c8\n    \n    Depends-On: Iae2962bb86100f03fd3ad9aac3767da876291e74\n    \n    Change-Id: I4d5fa052bdc5eef1795f6507589e2eaf4e093e23\n    Related-Bug: #1718295\n", 
            "date_created": "2017-10-02 09:41:51.934184+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Is this going to be backported to Pike, I ran into the same issue with openstack-ansible in Pike", 
            "date_created": "2017-10-05 13:19:51.197094+00:00", 
            "author": "https://api.launchpad.net/1.0/~archifleks"
        }, 
        {
            "content": "Fix proposed to branch: stable/pike\nReview: https://review.openstack.org/509774", 
            "date_created": "2017-10-05 13:27:21.357572+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Kevin Lefevre (<email address hidden>) on branch: stable/pike\nReview: https://review.openstack.org/509774\nReason: sorry", 
            "date_created": "2017-10-05 13:27:51.698440+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/509774\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=5e9508b77f86f1fadb173a071e2519aad24534f9\nSubmitter: Jenkins\nBranch:    stable/pike\n\ncommit 5e9508b77f86f1fadb173a071e2519aad24534f9\nAuthor: Matt Riedemann <email address hidden>\nDate:   Wed Sep 20 10:44:11 2017 -0400\n\n    Support qemu >= 2.10\n    \n    Qemu 2.10 added the requirement of a --force-share flag to qemu-img\n    info when reading information about a disk that is in use by a\n    guest. We do this a lot in Nova for operations like gathering\n    information before live migration.\n    \n    Up until this point all qemu/libvirt version matching has been solely\n    inside the libvirt driver, however all the image manip code was moved\n    out to nova.virt.images. We need the version of QEMU available there.\n    \n    This does it by initializing that version on driver init host. The net\n    effect is also that broken libvirt connections are figured out\n    earlier, as there is an active probe for this value.\n    \n    Co-Authored-By: Sean Dague <email address hidden>\n    \n    Change-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\n    Closes-Bug: #1718295\n    (cherry picked from commit 807579755c4a116309eca5b2bcdbab9d1f393bab)\n", 
            "date_created": "2017-10-12 12:56:19.924507+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2017-10-02 09:18:31.157716+00:00"
}