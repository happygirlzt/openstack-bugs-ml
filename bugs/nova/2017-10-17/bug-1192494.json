{
    "status": "Invalid", 
    "last_updated": "2013-07-10 12:01:50.423848+00:00", 
    "description": "Hello,\n\nI am new to OpenStack and am having a little trouble getting it to work with ESXi 4.1.\n\nI'm running nova 2011.2 on RHEL 5 (which I realize isn't supported).  However, I have everything (more or less up and working) with qemu.  This RHEL image is running all of the nova apps (api, scheduler, objectstore, volume, network, compute) glance, and rabbitmq.  \n\nI'm now switching over to a VMware ESXi 4.1.0 build-260247 machine (IP address 172.20.11.11) and having trouble getting nova-compute to create a connection to the ESXi host.  I have followed the instructions at http://nova.openstack.org/vmwareapi_readme.html.  I can say for sure that my ESXi host does not have the vmware-webAccess service on it at all (I thought I just needed to enable it).  From what I gather web access is not supported on ESXi 4.1 (http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=1023990).  I looked at the url being used in vim.py and it returns \"https://172.20.11.11/sdk\".  This url is not accessible on the ESXi host.  I can only access https://172.20.11.11 and then that url + /mob and /folder?dcPath=ha-datacenter.  I am hosting the wsdl on a separate machine as can be seen from the nova-compute.log output.  I'm sure I'm just missing something.  Any help identifying said missing config is much appreciated!  Thanks in advance!\n\nnova.conf file:\n--daemonize=1\n--dhcpbridge_flagfile=/etc/nova/nova.conf\n--dhcpbridge=/opt/openStack/bin/nova-dhcpbridge\n--lock_path=/tmp\n--logdir=/var/log/nova\n--state_path=/var/lib/nova\n--verbose\n--network_manager=nova.network.manager.FlatManager\n--sql_connection=mysql://root:password@127.0.0.1/nova\n--rabbit_host=127.0.0.1\n--ec2_host=127.0.0.1\n--image_service=nova.image.glance.GlanceImageService\n--glance_api_servers=127.0.0.1:9292\n--glance_host=127.0.0.1\n--glance_port=9292\n--use_s3=false\n--connection_type=vmwareapi\n--vmwareapi_host_ip=172.20.11.11\n--vmwareapi_host_username=root\n--vmwareapi_host_password=password\n--vmwareapi_wsdl_loc=http://172.20.3.71:8080/vimService.wsdl\n--console_manager=nova.console.vmrc_manager.ConsoleVMRCManager\n\n\nnova-compute.log:\n\n2011-09-22 12:35:45,074 DEBUG suds.wsdl [-] reading wsdl at: http://172.20.3.71:8080/vimService.wsdl ... from (pid=30281) __init__ build/bdist.linux-x86_64/egg/suds/wsdl.py:134\n2011-09-22 12:35:45,074 DEBUG suds.transport.http [-] opening (http://172.20.3.71:8080/vimService.wsdl) from (pid=30281) open build/bdist.linux-x86_64/egg/suds/transport/http.py:59\n2011-09-22 12:35:45,077 CRITICAL nova.virt.vmwareapi_conn [-] In vmwareapi:_create_session, got this exception: <urlopen error [Errno 111] ECONNREFUSED>\n2011-09-22 12:35:45,078 ERROR nova [-] in Service.create()\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 270, in serve\n(nova): TRACE:     services = [Service.create()]\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 173, in create\n(nova): TRACE:     report_interval, periodic_interval)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 73, in __init__\n(nova): TRACE:     self.manager = manager_class(host=self.host, *args, **kwargs)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/compute/manager.py\", line 127, in __init__\n(nova): TRACE:     utils.import_object(compute_driver),\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/utils.py\", line 76, in import_object\n(nova): TRACE:     return cls()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/connection.py\", line 73, in get_connection\n(nova): TRACE:     conn = vmwareapi_conn.get_connection(read_only)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 105, in get_connection\n(nova): TRACE:     api_retry_count)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 115, in __init__\n(nova): TRACE:     api_retry_count, scheme=scheme)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 209, in __init__\n(nova): TRACE:     self._create_session()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 246, in _create_session\n(nova): TRACE:     raise exception.Error(excep)\n(nova): TRACE: Error: <urlopen error [Errno 111] ECONNREFUSED>\n(nova): TRACE: \n2011-09-22 12:35:45,085 CRITICAL nova [-] <urlopen error [Errno 111] ECONNREFUSED>\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/opt/openStack/bin/nova-compute\", line 48, in <module>\n(nova): TRACE:     service.serve()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 270, in serve\n(nova): TRACE:     services = [Service.create()]\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 173, in create\n(nova): TRACE:     report_interval, periodic_interval)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 73, in __init__\n(nova): TRACE:     self.manager = manager_class(host=self.host, *args, **kwargs)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/compute/manager.py\", line 127, in __init__\n(nova): TRACE:     utils.import_object(compute_driver),\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/utils.py\", line 76, in import_object\n(nova): TRACE:     return cls()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/connection.py\", line 73, in get_connection\n(nova): TRACE:     conn = vmwareapi_conn.get_connection(read_only)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 105, in get_connection\n(nova): TRACE:     api_retry_count)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 115, in __init__\n(nova): TRACE:     api_retry_count, scheme=scheme)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 209, in __init__\n(nova): TRACE:     self._create_session()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 246, in _create_session\n(nova): TRACE:     raise exception.Error(excep)\n(nova): TRACE: Error: <urlopen error [Errno 111] ECONNREFUSED>\n(nova): TRACE: \n2011-09-22 12:35:45,110 DEBUG nova.virt.vmwareapi_conn [-] 'NoneType' object has no attribute 'Logout' from (pid=30281) __del__ /opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py:257\n", 
    "tags": [
        "vmware"
    ], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1192494", 
    "owner": "None", 
    "id": 1192494, 
    "index": 5035, 
    "openned": "2013-06-19 08:54:04.935357+00:00", 
    "created": "2013-06-19 08:54:04.935357+00:00", 
    "title": "vmware http  version not  supported", 
    "comments": [
        {
            "content": "Hello,\n\nI am new to OpenStack and am having a little trouble getting it to work with ESXi 4.1.\n\nI'm running nova 2011.2 on RHEL 5 (which I realize isn't supported).  However, I have everything (more or less up and working) with qemu.  This RHEL image is running all of the nova apps (api, scheduler, objectstore, volume, network, compute) glance, and rabbitmq.  \n\nI'm now switching over to a VMware ESXi 4.1.0 build-260247 machine (IP address 172.20.11.11) and having trouble getting nova-compute to create a connection to the ESXi host.  I have followed the instructions at http://nova.openstack.org/vmwareapi_readme.html.  I can say for sure that my ESXi host does not have the vmware-webAccess service on it at all (I thought I just needed to enable it).  From what I gather web access is not supported on ESXi 4.1 (http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=1023990).  I looked at the url being used in vim.py and it returns \"https://172.20.11.11/sdk\".  This url is not accessible on the ESXi host.  I can only access https://172.20.11.11 and then that url + /mob and /folder?dcPath=ha-datacenter.  I am hosting the wsdl on a separate machine as can be seen from the nova-compute.log output.  I'm sure I'm just missing something.  Any help identifying said missing config is much appreciated!  Thanks in advance!\n\nnova.conf file:\n--daemonize=1\n--dhcpbridge_flagfile=/etc/nova/nova.conf\n--dhcpbridge=/opt/openStack/bin/nova-dhcpbridge\n--lock_path=/tmp\n--logdir=/var/log/nova\n--state_path=/var/lib/nova\n--verbose\n--network_manager=nova.network.manager.FlatManager\n--sql_connection=mysql://root:password@127.0.0.1/nova\n--rabbit_host=127.0.0.1\n--ec2_host=127.0.0.1\n--image_service=nova.image.glance.GlanceImageService\n--glance_api_servers=127.0.0.1:9292\n--glance_host=127.0.0.1\n--glance_port=9292\n--use_s3=false\n--connection_type=vmwareapi\n--vmwareapi_host_ip=172.20.11.11\n--vmwareapi_host_username=root\n--vmwareapi_host_password=password\n--vmwareapi_wsdl_loc=http://172.20.3.71:8080/vimService.wsdl\n--console_manager=nova.console.vmrc_manager.ConsoleVMRCManager\n\n\nnova-compute.log:\n\n2011-09-22 12:35:45,074 DEBUG suds.wsdl [-] reading wsdl at: http://172.20.3.71:8080/vimService.wsdl ... from (pid=30281) __init__ build/bdist.linux-x86_64/egg/suds/wsdl.py:134\n2011-09-22 12:35:45,074 DEBUG suds.transport.http [-] opening (http://172.20.3.71:8080/vimService.wsdl) from (pid=30281) open build/bdist.linux-x86_64/egg/suds/transport/http.py:59\n2011-09-22 12:35:45,077 CRITICAL nova.virt.vmwareapi_conn [-] In vmwareapi:_create_session, got this exception: <urlopen error [Errno 111] ECONNREFUSED>\n2011-09-22 12:35:45,078 ERROR nova [-] in Service.create()\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 270, in serve\n(nova): TRACE:     services = [Service.create()]\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 173, in create\n(nova): TRACE:     report_interval, periodic_interval)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 73, in __init__\n(nova): TRACE:     self.manager = manager_class(host=self.host, *args, **kwargs)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/compute/manager.py\", line 127, in __init__\n(nova): TRACE:     utils.import_object(compute_driver),\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/utils.py\", line 76, in import_object\n(nova): TRACE:     return cls()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/connection.py\", line 73, in get_connection\n(nova): TRACE:     conn = vmwareapi_conn.get_connection(read_only)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 105, in get_connection\n(nova): TRACE:     api_retry_count)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 115, in __init__\n(nova): TRACE:     api_retry_count, scheme=scheme)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 209, in __init__\n(nova): TRACE:     self._create_session()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 246, in _create_session\n(nova): TRACE:     raise exception.Error(excep)\n(nova): TRACE: Error: <urlopen error [Errno 111] ECONNREFUSED>\n(nova): TRACE: \n2011-09-22 12:35:45,085 CRITICAL nova [-] <urlopen error [Errno 111] ECONNREFUSED>\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/opt/openStack/bin/nova-compute\", line 48, in <module>\n(nova): TRACE:     service.serve()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 270, in serve\n(nova): TRACE:     services = [Service.create()]\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 173, in create\n(nova): TRACE:     report_interval, periodic_interval)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/service.py\", line 73, in __init__\n(nova): TRACE:     self.manager = manager_class(host=self.host, *args, **kwargs)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/compute/manager.py\", line 127, in __init__\n(nova): TRACE:     utils.import_object(compute_driver),\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/utils.py\", line 76, in import_object\n(nova): TRACE:     return cls()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/connection.py\", line 73, in get_connection\n(nova): TRACE:     conn = vmwareapi_conn.get_connection(read_only)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 105, in get_connection\n(nova): TRACE:     api_retry_count)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 115, in __init__\n(nova): TRACE:     api_retry_count, scheme=scheme)\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 209, in __init__\n(nova): TRACE:     self._create_session()\n(nova): TRACE:   File \"/opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py\", line 246, in _create_session\n(nova): TRACE:     raise exception.Error(excep)\n(nova): TRACE: Error: <urlopen error [Errno 111] ECONNREFUSED>\n(nova): TRACE: \n2011-09-22 12:35:45,110 DEBUG nova.virt.vmwareapi_conn [-] 'NoneType' object has no attribute 'Logout' from (pid=30281) __del__ /opt/openStack/lib/python2.6/site-packages/nova/virt/vmwareapi_conn.py:257\n", 
            "date_created": "2013-06-19 08:54:04.935357+00:00", 
            "author": "https://api.launchpad.net/1.0/~bijujosephkprl"
        }, 
        {
            "content": "nova 2011.2 is really old and no longer supported.  Please give grizzly (2013.1) a try.  Thanks.", 
            "date_created": "2013-06-19 20:36:08.552824+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "Hi,\nPlease look at https://wiki.openstack.org/wiki/NovaVMware/DeveloperGuide. This provides instructions on how to work with devstack.\nThanks\nGary", 
            "date_created": "2013-07-10 12:01:49.479414+00:00", 
            "author": "https://api.launchpad.net/1.0/~garyk"
        }
    ], 
    "closed": "2013-06-19 20:36:21.410025+00:00"
}