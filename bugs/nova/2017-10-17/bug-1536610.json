{
    "status": "Opinion", 
    "last_updated": "2016-02-17 15:39:35.231598+00:00", 
    "description": "Nova instance actions periodically have no start and finish time, I get empty events[]:\n\nroot@controller1:/var/log# nova instance-action-list 5f844d05-405f-4997-b542-0c85d1b6c8ed\n+--------+------------------------------------------+---------+----------------------------+\n| Action | Request_ID                               | Message | Start_Time                 |\n+--------+------------------------------------------+---------+----------------------------+\n| create | req-58d31051-ca3b-4a1c-ab75-0335ff3b28ae | -       | 2016-01-21T11:24:07.000000 |\n| reboot | req-eba0435f-610a-47cd-841f-f3500c7b66b7 | -       | 2016-01-21T11:25:47.000000 |\n| reboot | req-71688344-840e-4cb4-ba3e-21e4c0a85db7 | -       | 2016-01-21T11:26:17.000000 |\n+--------+------------------------------------------+---------+----------------------------+\n\nroot@controller1:/var/log# nova instance-action 5f844d05-405f-4997-b542-0c85d1b6c8ed req-eba0435f-610a-47cd-841f-f3500c7b66b7\n+---------------+--------------------------------------------------+\n| Property      | Value                                            |\n+---------------+--------------------------------------------------+\n| action        | reboot                                           |\n| events        | [{u'event': u'compute_reboot_instance',          |\n|               |   u'finish_time': u'2016-01-21T11:25:50.000000', |\n|               |   u'result': u'Success',                         |\n|               |   u'start_time': u'2016-01-21T11:25:48.000000',  |\n|               |   u'traceback': None}]                           |\n| instance_uuid | 5f844d05-405f-4997-b542-0c85d1b6c8ed             |\n| message       | -                                                |\n| project_id    | 73eb606e175249049987ec6a5774f282                 |\n| request_id    | req-eba0435f-610a-47cd-841f-f3500c7b66b7         |\n| start_time    | 2016-01-21T11:25:47.000000                       |\n| user_id       | 8855a4b15321469c8b44bbc1e0ea5320                 |\n+---------------+--------------------------------------------------+\n\nroot@controller1:/var/log# nova instance-action 5f844d05-405f-4997-b542-0c85d1b6c8ed req-71688344-840e-4cb4-ba3e-21e4c0a85db7\n+---------------+------------------------------------------+\n| Property      | Value                                    |\n+---------------+------------------------------------------+\n| action        | reboot                                   |\n| events        | []                                       |\n| instance_uuid | 5f844d05-405f-4997-b542-0c85d1b6c8ed     |\n| message       | -                                        |\n| project_id    | 73eb606e175249049987ec6a5774f282         |\n| request_id    | req-71688344-840e-4cb4-ba3e-21e4c0a85db7 |\n| start_time    | 2016-01-21T11:26:17.000000               |\n| user_id       | 8855a4b15321469c8b44bbc1e0ea5320         |\n+---------------+------------------------------------------+\n\nroot@controller1:/var/log# nova show 5f844d05-405f-4997-b542-0c85d1b6c8ed\n+--------------------------------------+------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                    |\n+--------------------------------------+------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                   |\n| OS-EXT-AZ:availability_zone          | nova                                                                                     |\n| OS-EXT-SRV-ATTR:host                 | compute3                                                                                 |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | compute3.serverel.net                                                                    |\n| OS-EXT-SRV-ATTR:instance_name        | instance-0000010e                                                                        |\n| OS-EXT-STS:power_state               | 1                                                                                        |\n| OS-EXT-STS:task_state                | -                                                                                        |\n| OS-EXT-STS:vm_state                  | active                                                                                   |\n| OS-SRV-USG:launched_at               | 2016-01-21T11:24:14.000000                                                               |\n| OS-SRV-USG:terminated_at             | -                                                                                        |\n| accessIPv4                           |                                                                                          |\n| accessIPv6                           |                                                                                          |\n| config_drive                         |                                                                                          |\n| created                              | 2016-01-21T11:24:08Z                                                                     |\n| flavor                               | CL-1_PR-69_vCPUs-1_RAM-512_Disk-5_RxTx_Factor-1.0 (f807d233-1aec-44d5-828f-785137b0b687) |\n| hostId                               | 4b5575c8d545b442b101a6c6f9fd1f5224974e465b7bfcc43d90730a                                 |\n| id                                   | 5f844d05-405f-4997-b542-0c85d1b6c8ed                                                     |\n| image                                | cirros (ea3dfccd-3099-4584-8cb8-6017bc3faa2a)                                            |\n| key_name                             | -                                                                                        |\n| metadata                             | {}                                                                                       |\n| name                                 | test12                                                                                   |\n| os-extended-volumes:volumes_attached | []                                                                                       |\n| progress                             | 0                                                                                        |\n| pubnet1-591 network                  | 199.182.165.231                                                                          |\n| security_groups                      | default                                                                                  |\n| status                               | ACTIVE                                                                                   |\n| tenant_id                            | 73eb606e175249049987ec6a5774f282                                                         |\n| updated                              | 2016-01-21T11:26:17Z                                                                     |\n| user_id                              | 8855a4b15321469c8b44bbc1e0ea5320                                                         |\n+--------------------------------------+------------------------------------------------------------------------------------------+\n\nIn nova-compute.log at compute node for request req-71688344-840e-4cb4-ba3e-21e4c0a85db7 I get:\n\n2016-01-21 11:26:17.046 36019 DEBUG oslo_concurrency.lockutils [req-71688344-840e-4cb4-ba3e-21e4c0a85db7 8855a4b15321469c8b44bbc1e0ea5320 73eb606e175249049987ec6a5774f282 - - -] Lock \"compute_resources\" acquired by \"nova.compute.resource_tracker.update_usage\" :: waited 0.000s inner /usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:253\n2016-01-21 11:26:17.093 36019 DEBUG oslo_concurrency.lockutils [req-71688344-840e-4cb4-ba3e-21e4c0a85db7 8855a4b15321469c8b44bbc1e0ea5320 73eb606e175249049987ec6a5774f282 - - -] Lock \"compute_resources\" released by \"nova.compute.resource_tracker.update_usage\" :: held 0.047s inner /usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:265\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher [req-71688344-840e-4cb4-ba3e-21e4c0a85db7 8855a4b15321469c8b44bbc1e0ea5320 73eb606e175249049987ec6a5774f282 - - -] Exception during message handling: Action for request_id req-71688344-840e-4cb4-ba3e-21e4c0a85db7 on instance 5f844d05-405f-4997-b542-0c85d1b6c8ed not found\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 142, in _dispatch_and_reply\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     executor_callback))\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 186, in _dispatch\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     executor_callback)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 129, in _do_dispatch\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     result = func(ctxt, **new_args)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 89, in wrapped\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     payload)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 72, in wrapped\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 350, in decorated_function\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     LOG.warning(msg, e, instance=instance)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 323, in decorated_function\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 399, in decorated_function\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     with compute_utils.EventReporter(context, event_name, instance_uuid):\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/utils.py\", line 537, in __enter__\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     self.context, uuid, self.event_name, want_result=False)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 169, in wrapper\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     args, kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/conductor/rpcapi.py\", line 229, in object_class_action\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     args, kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/conductor/rpcapi.py\", line 237, in object_class_action_versions\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     args=args, kwargs=kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\", line 158, in call\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     retry=self.retry)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/transport.py\", line 90, in _send\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     timeout=timeout, retry=retry)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 431, in send\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     retry=retry)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 422, in _send\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     raise result\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher InstanceActionNotFound_Remote: Action for request_id req-71688344-840e-4cb4-ba3e-21e4c0a85db7 on instance 5f844d05-405f-4997-b542-0c85d1b6c8ed not found\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/conductor/manager.py\", line 447, in _object_dispatch\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     return getattr(target, method)(*args, **kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 171, in wrapper\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     result = fn(cls, context, *args, **kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance_action.py\", line 173, in event_start\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     db_event = db.action_event_start(context, values)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 1806, in action_event_start\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     return IMPL.action_event_start(context, values)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 5768, in action_event_start\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     instance_uuid=values['instance_uuid'])\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher InstanceActionNotFound: Action for request_id req-71688344-840e-4cb4-ba3e-21e4c0a85db7 on instance 5f844d05-405f-4997-b542-0c85d1b6c8ed not found\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher\n\nFor request req-eba0435f-610a-47cd-841f-f3500c7b66b7 instance rebooted successfully.\n\nThe same problems with \"InstanceActionNotFound\" in nova-compute.log periodically happens with other actions (stop/start instances), but actions always finish successfully\n\nroot@controller1:/var/log# dpkg -l | grep nova\nii  nova-api                                 2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - API frontend\nii  nova-cert                                2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - certificate management\nii  nova-common                              2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - common files\nii  nova-conductor                           2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                         2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                           2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                              2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                        2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API\n\nroot@compute3:/etc# dpkg -l | grep nova\nii  nova-common                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - common files\nii  nova-compute                         2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node base\nii  nova-compute-kvm                     2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node (KVM)\nii  nova-compute-libvirt                 2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node libvirt support\nii  python-nova                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                    2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API", 
    "tags": [], 
    "importance": "Wishlist", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1536610", 
    "owner": "None", 
    "id": 1536610, 
    "index": 3047, 
    "openned": "2016-01-21 12:32:56.308716+00:00", 
    "created": "2016-01-21 12:32:56.308716+00:00", 
    "title": "nova instance actions periodically have no start and finish time (empty events[])", 
    "comments": [
        {
            "content": "Nova instance actions periodically have no start and finish time, I get empty events[]:\n\nroot@controller1:/var/log# nova instance-action-list 5f844d05-405f-4997-b542-0c85d1b6c8ed\n+--------+------------------------------------------+---------+----------------------------+\n| Action | Request_ID                               | Message | Start_Time                 |\n+--------+------------------------------------------+---------+----------------------------+\n| create | req-58d31051-ca3b-4a1c-ab75-0335ff3b28ae | -       | 2016-01-21T11:24:07.000000 |\n| reboot | req-eba0435f-610a-47cd-841f-f3500c7b66b7 | -       | 2016-01-21T11:25:47.000000 |\n| reboot | req-71688344-840e-4cb4-ba3e-21e4c0a85db7 | -       | 2016-01-21T11:26:17.000000 |\n+--------+------------------------------------------+---------+----------------------------+\n\nroot@controller1:/var/log# nova instance-action 5f844d05-405f-4997-b542-0c85d1b6c8ed req-eba0435f-610a-47cd-841f-f3500c7b66b7\n+---------------+--------------------------------------------------+\n| Property      | Value                                            |\n+---------------+--------------------------------------------------+\n| action        | reboot                                           |\n| events        | [{u'event': u'compute_reboot_instance',          |\n|               |   u'finish_time': u'2016-01-21T11:25:50.000000', |\n|               |   u'result': u'Success',                         |\n|               |   u'start_time': u'2016-01-21T11:25:48.000000',  |\n|               |   u'traceback': None}]                           |\n| instance_uuid | 5f844d05-405f-4997-b542-0c85d1b6c8ed             |\n| message       | -                                                |\n| project_id    | 73eb606e175249049987ec6a5774f282                 |\n| request_id    | req-eba0435f-610a-47cd-841f-f3500c7b66b7         |\n| start_time    | 2016-01-21T11:25:47.000000                       |\n| user_id       | 8855a4b15321469c8b44bbc1e0ea5320                 |\n+---------------+--------------------------------------------------+\n\nroot@controller1:/var/log# nova instance-action 5f844d05-405f-4997-b542-0c85d1b6c8ed req-71688344-840e-4cb4-ba3e-21e4c0a85db7\n+---------------+------------------------------------------+\n| Property      | Value                                    |\n+---------------+------------------------------------------+\n| action        | reboot                                   |\n| events        | []                                       |\n| instance_uuid | 5f844d05-405f-4997-b542-0c85d1b6c8ed     |\n| message       | -                                        |\n| project_id    | 73eb606e175249049987ec6a5774f282         |\n| request_id    | req-71688344-840e-4cb4-ba3e-21e4c0a85db7 |\n| start_time    | 2016-01-21T11:26:17.000000               |\n| user_id       | 8855a4b15321469c8b44bbc1e0ea5320         |\n+---------------+------------------------------------------+\n\nroot@controller1:/var/log# nova show 5f844d05-405f-4997-b542-0c85d1b6c8ed\n+--------------------------------------+------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                    |\n+--------------------------------------+------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                   |\n| OS-EXT-AZ:availability_zone          | nova                                                                                     |\n| OS-EXT-SRV-ATTR:host                 | compute3                                                                                 |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | compute3.serverel.net                                                                    |\n| OS-EXT-SRV-ATTR:instance_name        | instance-0000010e                                                                        |\n| OS-EXT-STS:power_state               | 1                                                                                        |\n| OS-EXT-STS:task_state                | -                                                                                        |\n| OS-EXT-STS:vm_state                  | active                                                                                   |\n| OS-SRV-USG:launched_at               | 2016-01-21T11:24:14.000000                                                               |\n| OS-SRV-USG:terminated_at             | -                                                                                        |\n| accessIPv4                           |                                                                                          |\n| accessIPv6                           |                                                                                          |\n| config_drive                         |                                                                                          |\n| created                              | 2016-01-21T11:24:08Z                                                                     |\n| flavor                               | CL-1_PR-69_vCPUs-1_RAM-512_Disk-5_RxTx_Factor-1.0 (f807d233-1aec-44d5-828f-785137b0b687) |\n| hostId                               | 4b5575c8d545b442b101a6c6f9fd1f5224974e465b7bfcc43d90730a                                 |\n| id                                   | 5f844d05-405f-4997-b542-0c85d1b6c8ed                                                     |\n| image                                | cirros (ea3dfccd-3099-4584-8cb8-6017bc3faa2a)                                            |\n| key_name                             | -                                                                                        |\n| metadata                             | {}                                                                                       |\n| name                                 | test12                                                                                   |\n| os-extended-volumes:volumes_attached | []                                                                                       |\n| progress                             | 0                                                                                        |\n| pubnet1-591 network                  | 199.182.165.231                                                                          |\n| security_groups                      | default                                                                                  |\n| status                               | ACTIVE                                                                                   |\n| tenant_id                            | 73eb606e175249049987ec6a5774f282                                                         |\n| updated                              | 2016-01-21T11:26:17Z                                                                     |\n| user_id                              | 8855a4b15321469c8b44bbc1e0ea5320                                                         |\n+--------------------------------------+------------------------------------------------------------------------------------------+\n\nIn nova-compute.log at compute node for request req-71688344-840e-4cb4-ba3e-21e4c0a85db7 I get:\n\n2016-01-21 11:26:17.046 36019 DEBUG oslo_concurrency.lockutils [req-71688344-840e-4cb4-ba3e-21e4c0a85db7 8855a4b15321469c8b44bbc1e0ea5320 73eb606e175249049987ec6a5774f282 - - -] Lock \"compute_resources\" acquired by \"nova.compute.resource_tracker.update_usage\" :: waited 0.000s inner /usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:253\n2016-01-21 11:26:17.093 36019 DEBUG oslo_concurrency.lockutils [req-71688344-840e-4cb4-ba3e-21e4c0a85db7 8855a4b15321469c8b44bbc1e0ea5320 73eb606e175249049987ec6a5774f282 - - -] Lock \"compute_resources\" released by \"nova.compute.resource_tracker.update_usage\" :: held 0.047s inner /usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:265\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher [req-71688344-840e-4cb4-ba3e-21e4c0a85db7 8855a4b15321469c8b44bbc1e0ea5320 73eb606e175249049987ec6a5774f282 - - -] Exception during message handling: Action for request_id req-71688344-840e-4cb4-ba3e-21e4c0a85db7 on instance 5f844d05-405f-4997-b542-0c85d1b6c8ed not found\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 142, in _dispatch_and_reply\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     executor_callback))\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 186, in _dispatch\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     executor_callback)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 129, in _do_dispatch\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     result = func(ctxt, **new_args)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 89, in wrapped\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     payload)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 72, in wrapped\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 350, in decorated_function\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     LOG.warning(msg, e, instance=instance)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 323, in decorated_function\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 399, in decorated_function\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     with compute_utils.EventReporter(context, event_name, instance_uuid):\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/utils.py\", line 537, in __enter__\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     self.context, uuid, self.event_name, want_result=False)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 169, in wrapper\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     args, kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/conductor/rpcapi.py\", line 229, in object_class_action\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     args, kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/conductor/rpcapi.py\", line 237, in object_class_action_versions\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     args=args, kwargs=kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\", line 158, in call\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     retry=self.retry)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/transport.py\", line 90, in _send\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     timeout=timeout, retry=retry)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 431, in send\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     retry=retry)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 422, in _send\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     raise result\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher InstanceActionNotFound_Remote: Action for request_id req-71688344-840e-4cb4-ba3e-21e4c0a85db7 on instance 5f844d05-405f-4997-b542-0c85d1b6c8ed not found\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/conductor/manager.py\", line 447, in _object_dispatch\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     return getattr(target, method)(*args, **kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 171, in wrapper\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     result = fn(cls, context, *args, **kwargs)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance_action.py\", line 173, in event_start\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     db_event = db.action_event_start(context, values)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 1806, in action_event_start\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     return IMPL.action_event_start(context, values)\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 5768, in action_event_start\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher     instance_uuid=values['instance_uuid'])\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher InstanceActionNotFound: Action for request_id req-71688344-840e-4cb4-ba3e-21e4c0a85db7 on instance 5f844d05-405f-4997-b542-0c85d1b6c8ed not found\n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher \n2016-01-21 11:26:17.102 36019 ERROR oslo_messaging.rpc.dispatcher\n\nFor request req-eba0435f-610a-47cd-841f-f3500c7b66b7 instance rebooted successfully.\n\nThe same problems with \"InstanceActionNotFound\" in nova-compute.log periodically happens with other actions (stop/start instances), but actions always finish successfully\n\nroot@controller1:/var/log# dpkg -l | grep nova\nii  nova-api                                 2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - API frontend\nii  nova-cert                                2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - certificate management\nii  nova-common                              2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - common files\nii  nova-conductor                           2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                         2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                           2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                              2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                        2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API\n\nroot@compute3:/etc# dpkg -l | grep nova\nii  nova-common                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - common files\nii  nova-compute                         2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node base\nii  nova-compute-kvm                     2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node (KVM)\nii  nova-compute-libvirt                 2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node libvirt support\nii  python-nova                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                    2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API", 
            "date_created": "2016-01-21 12:32:56.308716+00:00", 
            "author": "https://api.launchpad.net/1.0/~p-djakonov"
        }, 
        {
            "content": "hi:\n\nyes, I think you are right, some of the action has no action finish time due to the design.\n\nI don't think there will be supported for this feature since we have ceilometer and nova use notifier to send actions to message queue to log all event actions.\n\nEli.", 
            "date_created": "2016-01-26 03:43:32.054783+00:00", 
            "author": "https://api.launchpad.net/1.0/~taget-9"
        }
    ], 
    "closed": "2016-02-17 15:39:32.012786+00:00"
}