{
    "status": "Fix Released", 
    "last_updated": "2015-04-30 09:20:24.011441+00:00", 
    "description": "Now os-tenant-networks API of v2.1 fails like the following:\n\n$ curl -i 'http://192.168.11.62:8774/v2.1/0d012e420eab4947a8adcaa37f5073e9/os-tenant-networks' -X GET ..\n\nHTTP/1.1 500 Internal Server Error\nX-Openstack-Compute-Api-Version: 2.1\nVary: X-OpenStack-Compute-API-Version\nContent-Length: 203\nContent-Type: application/json; charset=UTF-8\nX-Compute-Request-Id: req-3530c2f5-d8b7-4eac-9d08-cca54c48681c\nDate: Tue, 06 Jan 2015 05:40:58 GMT\n\n{\"computeFault\": {\"message\": \"Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<type 'exceptions.NotImplementedError'>\", \"code\": 500}\n$\n\nThe log of nova-api is the following:\n\n2015-01-06 05:40:58.784 ERROR nova.api.openstack.extensions [req-3530c2f5-d8b7-4eac-9d08-cca54c48681c admin demo] Unexpected exception in API method\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions Traceback (most recent call last):\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/api/openstack/extensions.py\", line 484, in wrapped\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/api/openstack/compute/plugins/v3/tenant_networks.py\", line 88, in index\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     return {'networks': [network_dict(n) for n in networks]}\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/api/openstack/compute/plugins/v3/tenant_networks.py\", line 54, in network_dict\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     \"cidr\": str(network.get(\"cidr\")),\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/objects/base.py\", line 621, in get\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     return getattr(self, key)\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/objects/base.py\", line 71, in getter\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     self.obj_load_attr(name)\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/objects/base.py\", line 506, in obj_load_attr\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     _(\"Cannot load '%s' in the base class\") % attrname)\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions NotImplementedError: Cannot load 'cidr' in the base class", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1407885", 
    "owner": "https://api.launchpad.net/1.0/~oomichi", 
    "id": 1407885, 
    "index": 6627, 
    "openned": "2015-01-06 08:36:23.363956+00:00", 
    "created": "2015-01-06 08:36:23.363956+00:00", 
    "title": "os-tenant-networks API of v2.1 fails", 
    "comments": [
        {
            "content": "Now os-tenant-networks API of v2.1 fails like the following:\n\n$ curl -i 'http://192.168.11.62:8774/v2.1/0d012e420eab4947a8adcaa37f5073e9/os-tenant-networks' -X GET ..\n\nHTTP/1.1 500 Internal Server Error\nX-Openstack-Compute-Api-Version: 2.1\nVary: X-OpenStack-Compute-API-Version\nContent-Length: 203\nContent-Type: application/json; charset=UTF-8\nX-Compute-Request-Id: req-3530c2f5-d8b7-4eac-9d08-cca54c48681c\nDate: Tue, 06 Jan 2015 05:40:58 GMT\n\n{\"computeFault\": {\"message\": \"Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<type 'exceptions.NotImplementedError'>\", \"code\": 500}\n$\n\nThe log of nova-api is the following:\n\n2015-01-06 05:40:58.784 ERROR nova.api.openstack.extensions [req-3530c2f5-d8b7-4eac-9d08-cca54c48681c admin demo] Unexpected exception in API method\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions Traceback (most recent call last):\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/api/openstack/extensions.py\", line 484, in wrapped\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/api/openstack/compute/plugins/v3/tenant_networks.py\", line 88, in index\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     return {'networks': [network_dict(n) for n in networks]}\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/api/openstack/compute/plugins/v3/tenant_networks.py\", line 54, in network_dict\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     \"cidr\": str(network.get(\"cidr\")),\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/objects/base.py\", line 621, in get\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     return getattr(self, key)\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/objects/base.py\", line 71, in getter\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     self.obj_load_attr(name)\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions   File \"/opt/stack/nova/nova/objects/base.py\", line 506, in obj_load_attr\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions     _(\"Cannot load '%s' in the base class\") % attrname)\n2015-01-06 05:40:58.784 TRACE nova.api.openstack.extensions NotImplementedError: Cannot load 'cidr' in the base class", 
            "date_created": "2015-01-06 08:36:23.363956+00:00", 
            "author": "https://api.launchpad.net/1.0/~oomichi"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/145165", 
            "date_created": "2015-01-06 08:37:47.616018+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/145165\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=d260bcdec99a2b49396e1132e48fb505e163581e\nSubmitter: Jenkins\nBranch:    master\n\ncommit d260bcdec99a2b49396e1132e48fb505e163581e\nAuthor: Ken'ichi Ohmichi <email address hidden>\nDate:   Tue Jan 6 05:56:25 2015 +0000\n\n    Fix v2.1 os-tenant-networks/networks API\n    \n    Ied70ab493982896cd974bb5a98ca92d95352e80f has changed neutronapi\n    values to objects from bare dicts, and has changed v2.0 API code\n    to handle objects. However it didn't change v2.1 API code and\n    v2.1 API is broken now.\n    This patch applies the above commit to v2.1 API.\n    \n    Closes-Bug: #1407885\n    Change-Id: Ieedbd2cc394a3d0ae99be115987377509f6841c9\n", 
            "date_created": "2015-01-23 04:28:45.957040+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2015-02-05 20:24:31.566301+00:00"
}