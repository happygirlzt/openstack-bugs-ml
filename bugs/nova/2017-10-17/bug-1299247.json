{
    "status": "Fix Released", 
    "last_updated": "2015-12-04 18:20:31.988380+00:00", 
    "description": "When executing a pagination query a \"next\" link is included in the API reply when there are more items then the specified limit.\n\nSee pagination documentation for more information:  http://docs.openstack.org/api/openstack-compute/2/content/Paginated_Collections-d1e664.html\n\nThe caller should be able to invoke the \"next\" link (without having to re-format it) in order to get the next page of data.  The documentation states \"Subsequent links will honor the initial page size. Thus, a client may follow links to traverse a paginated collection without having to input the marker parameter.\"\n\nThe problem is that the \"next\" link is always scoped to the non-detailed query.  For example, if you execute \"/v2/<tenant>/servers/detail?limit=1\", the \"next\" link does not have the URL for a detailed query and is formatted as \"/v2/<tenant>/servers?limit=1&marker=<marker>\".  In this case the \"next\" link needs to be scoped to \"/v2/<tenant>/servers/detail\".\n\nThis bug is caused because the \"next\" link is always generated by the _collection_name value in the ViewBuilder -- this name is always \"servers\".", 
    "tags": [
        "in-stable-icehouse"
    ], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1299247", 
    "owner": "https://api.launchpad.net/1.0/~kaufer", 
    "id": 1299247, 
    "index": 1456, 
    "openned": "2014-03-28 21:51:25.313550+00:00", 
    "created": "2014-03-28 21:51:25.313550+00:00", 
    "title": "GET details REST API next link missing 'details'", 
    "comments": [
        {
            "content": "When executing a pagination query a \"next\" link is included in the API reply when there are more items then the specified limit.\n\nSee pagination documentation for more information:  http://docs.openstack.org/api/openstack-compute/2/content/Paginated_Collections-d1e664.html\n\nThe caller should be able to invoke the \"next\" link (without having to re-format it) in order to get the next page of data.  The documentation states \"Subsequent links will honor the initial page size. Thus, a client may follow links to traverse a paginated collection without having to input the marker parameter.\"\n\nThe problem is that the \"next\" link is always scoped to the non-detailed query.  For example, if you execute \"/v2/<tenant>/servers/detail?limit=1\", the \"next\" link does not have the URL for a detailed query and is formatted as \"/v2/<tenant>/servers?limit=1&marker=<marker>\".  In this case the \"next\" link needs to be scoped to \"/v2/<tenant>/servers/detail\".\n\nThis bug is caused because the \"next\" link is always generated by the _collection_name value in the ViewBuilder -- this name is always \"servers\".", 
            "date_created": "2014-03-28 21:51:25.313550+00:00", 
            "author": "https://api.launchpad.net/1.0/~kaufer"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/84237", 
            "date_created": "2014-03-31 20:34:49.353917+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/84308", 
            "date_created": "2014-04-01 01:38:14.475684+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "For Cinder, it seems this bug at least also affects detail view of volume transfer and volume backup. ", 
            "date_created": "2014-04-08 05:57:59.809764+00:00", 
            "author": "https://api.launchpad.net/1.0/~zhiteng-huang"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/84237\nCommitted: https://git.openstack.org/cgit/openstack/cinder/commit/?id=2981cdbb03c6f1239a58fedb260796667b8154ab\nSubmitter: Jenkins\nBranch:    master\n\ncommit 2981cdbb03c6f1239a58fedb260796667b8154ab\nAuthor: Steven Kaufer <email address hidden>\nDate:   Mon Mar 31 20:32:39 2014 +0000\n\n    GET details REST API next link missing 'details'\n    \n    When executing a pagination query a \"next\" link is included in the\n    API reply when there are more items then the specified limit.\n    \n    See pagination documentation for more information:\n    http://docs.openstack.org/api/openstack-compute/2/content/\n    Paginated_Collections-d1e664.html\n    \n    The caller should be able to invoke the \"next\" link (without\n    having to re-format it) in order to get the next page of data.\n    The documentation states \"Subsequent links will honor the\n    initial page size. Thus, a client may follow links to traverse\n    a paginated collection without having to input the marker parameter.\"\n    \n    The problem is that the \"next\" link is always scoped to the non-\n    detailed query.\n    \n    For example, if you execute \"/v2/<tenant>/volumes/detail?limit=1\",\n    the \"next\" link does not have the URL for a detailed query and is\n    formatted as \"/v2/<tenant>/volumes?limit=1&marker=<marker>\". In this\n    case the \"next\" link needs to be scoped to \"/v2/<tenant>/volumes/detail\".\n    \n    The user could work around this issue my manually inserting '/details'\n    into the \"next\" link URL.\n    \n    Test code is included to verify that the '/details' URL is correctly added\n    when the \"next\" link is included in a detailed pagination query. Also,\n    existing tests were changed to ensure that the correct controller function\n    (ie, 'index' vs. 'detail) are invoked for the appropriate query\n    (ie, non-detailed or detailed) -- 'index' was previously alwayed invoked\n    for detailed URL requests.\n    \n    Change-Id: Ib00d6deb25255fac1db0f7bf4ecd3c8d30e1c39d\n    Closes-bug: 1299247\n", 
            "date_created": "2014-04-10 07:18:05.952317+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/84308\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=65a2221a813ee5e295fbd0345361cf53d0914514\nSubmitter: Jenkins\nBranch:    master\n\ncommit 65a2221a813ee5e295fbd0345361cf53d0914514\nAuthor: Steven Kaufer <email address hidden>\nDate:   Tue Apr 1 01:34:27 2014 +0000\n\n    GET details REST API next link missing 'details'\n    \n    When executing a pagination query a \"next\" link is included in the\n    API reply when there are more items then the specified limit.\n    \n    See pagination documentation for more information:\n    http://docs.openstack.org/api/openstack-compute/2/content/\n    Paginated_Collections-d1e664.html\n    \n    The caller should be able to invoke the \"next\" link (without\n    having to re-format it) in order to get the next page of data.\n    The documentation states \"Subsequent links will honor the\n    initial page size. Thus, a client may follow links to traverse\n    a paginated collection without having to input the marker parameter.\"\n    \n    The problem is that the \"next\" link is always scoped to the\n    non-detailed query.\n    \n    For example, if you execute \"/v2/<tenant>/servers/detail?limit=1\",\n    the \"next\" link does not have the URL for a detailed query and is\n    formatted as \"/v2/<tenant>/servers?limit=1&marker=<marker>\". In this\n    case the \"next\" link needs to be scoped to \"/v2/<tenant>/servers/detail\".\n    Common code is used for both the v2 and v3 APIs.\n    \n    Existing test cases will be updated to verify that the next link is\n    correctly scoped for both the v2 and v3 APIs.\n    \n    The user could work around this issue my manually inserting '/details'\n    into the \"next\" link URL.\n    \n    Change-Id: Ib06a6cc6e2dd5e2c8c16986ee256a58752626eb9\n    Closes-bug: 1299247\n", 
            "date_created": "2014-04-22 18:20:34.297765+00:00", 
            "author": "https://api.launchpad.net/1.0/~openstack-gerrit"
        }, 
        {
            "content": "Fix proposed to branch: stable/icehouse\nReview: https://review.openstack.org/90646", 
            "date_created": "2014-04-28 05:32:14.396832+00:00", 
            "author": "https://api.launchpad.net/1.0/~openstack-gerrit"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/90646\nCommitted: https://git.openstack.org/cgit/openstack/cinder/commit/?id=00d456ba0c3c62db68dce778fa50837f5d7ebacb\nSubmitter: Jenkins\nBranch:    stable/icehouse\n\ncommit 00d456ba0c3c62db68dce778fa50837f5d7ebacb\nAuthor: Steven Kaufer <email address hidden>\nDate:   Mon Mar 31 20:32:39 2014 +0000\n\n    GET details REST API next link missing 'details'\n    \n    When executing a pagination query a \"next\" link is included in the\n    API reply when there are more items then the specified limit.\n    \n    See pagination documentation for more information:\n    http://docs.openstack.org/api/openstack-compute/2/content/\n    Paginated_Collections-d1e664.html\n    \n    The caller should be able to invoke the \"next\" link (without\n    having to re-format it) in order to get the next page of data.\n    The documentation states \"Subsequent links will honor the\n    initial page size. Thus, a client may follow links to traverse\n    a paginated collection without having to input the marker parameter.\"\n    \n    The problem is that the \"next\" link is always scoped to the non-\n    detailed query.\n    \n    For example, if you execute \"/v2/<tenant>/volumes/detail?limit=1\",\n    the \"next\" link does not have the URL for a detailed query and is\n    formatted as \"/v2/<tenant>/volumes?limit=1&marker=<marker>\". In this\n    case the \"next\" link needs to be scoped to \"/v2/<tenant>/volumes/detail\".\n    \n    The user could work around this issue my manually inserting '/details'\n    into the \"next\" link URL.\n    \n    Test code is included to verify that the '/details' URL is correctly added\n    when the \"next\" link is included in a detailed pagination query. Also,\n    existing tests were changed to ensure that the correct controller function\n    (ie, 'index' vs. 'detail) are invoked for the appropriate query\n    (ie, non-detailed or detailed) -- 'index' was previously alwayed invoked\n    for detailed URL requests.\n    \n    Change-Id: Ib00d6deb25255fac1db0f7bf4ecd3c8d30e1c39d\n    Closes-bug: 1299247\n    (cherry picked from commit 2981cdbb03c6f1239a58fedb260796667b8154ab)\n", 
            "date_created": "2014-07-30 08:59:40.337905+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2014-06-11 13:41:52.952744+00:00"
}