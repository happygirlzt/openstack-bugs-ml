{
    "status": "Invalid", 
    "last_updated": "2012-10-14 05:21:37.960998+00:00", 
    "description": "I'm trying to attach a nova-volume to a instance and I'm getting the following error:\n\nnova-volume log:\n\n2012-10-12 18:40:14 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 117, in wrapped\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 92, in wrapped\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 178, in decorated_function\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     pass\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 164, in decorated_function\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 199, in decorated_function\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     kwargs['instance']['uuid'], e, sys.exc_info())\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 193, in decorated_function\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp TypeError: reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp \n2012-10-12 18:40:14 ERROR nova.openstack.common.rpc.common [-] Returning exception reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given) to caller\n2012-10-12 18:40:14 ERROR nova.openstack.common.rpc.common [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n    rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n    return getattr(proxyobj, method)(ctxt, **kwargs)\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 117, in wrapped\\n    temp_level, payload)\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 92, in wrapped\\n    return f(*args, **kw)\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 178, in decorated_function\\n    pass\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 164, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 199, in decorated_function\\n    kwargs[\\'instance\\'][\\'uuid\\'], e, sys.exc_info())\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 193, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', 'TypeError: reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\\n']\n\nnova-api log:\n\n2012-10-12 18:40:14 ERROR nova.api.openstack [req-c80b9e53-f2d3-4797-927d-cfd620ccb007 1b66a47a6dc54c0494434588d3ff4616 98c0d32a61d543ce9ab2533ff1c94057] Caught error: Remote error: TypeError reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\n[u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n    rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n    return getattr(proxyobj, method)(ctxt, **kwargs)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 117, in wrapped\\n    temp_level, payload)\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 92, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 178, in decorated_function\\n    pass\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 164, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 199, in decorated_function\\n    kwargs[\\'instance\\'][\\'uuid\\'], e, sys.exc_info())\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 193, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'TypeError: reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\\n'].\n2012-10-12 18:40:14 TRACE nova.api.openstack Traceback (most recent call last):\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/__init__.py\", line 81, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return req.get_response(self.application)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/request.py\", line 1053, in get_response\n2012-10-12 18:40:14 TRACE nova.api.openstack     application, catch_exc_info=False)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/request.py\", line 1022, in call_application\n2012-10-12 18:40:14 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/keystone-2013.1-py2.6.egg/keystone/middleware/auth_token.py\", line 278, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return self.app(env, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py\", line 131, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 147, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 208, in call_func\n2012-10-12 18:40:14 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/wsgi.py\", line 885, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     content_type, body, accept)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/wsgi.py\", line 933, in _process_stack\n2012-10-12 18:40:14 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/wsgi.py\", line 1021, in dispatch\n2012-10-12 18:40:14 TRACE nova.api.openstack     return method(req=request, **action_args)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/compute/contrib/volumes.py\", line 397, in create\n2012-10-12 18:40:14 TRACE nova.api.openstack     volume_id, device)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/api.py\", line 114, in wrapped\n2012-10-12 18:40:14 TRACE nova.api.openstack     return func(self, context, target, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/api.py\", line 104, in inner\n2012-10-12 18:40:14 TRACE nova.api.openstack     return function(self, context, instance, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/api.py\", line 1835, in attach_volume\n2012-10-12 18:40:14 TRACE nova.api.openstack     context, device=device, instance=instance)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/rpcapi.py\", line 465, in reserve_block_device_name\n2012-10-12 18:40:14 TRACE nova.api.openstack     topic=_compute_topic(self.topic, ctxt, None, instance))\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/proxy.py\", line 80, in call\n2012-10-12 18:40:14 TRACE nova.api.openstack     return rpc.call(context, self._get_topic(topic), msg, timeout)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/__init__.py\", line 102, in call\n2012-10-12 18:40:14 TRACE nova.api.openstack     return _get_impl().call(cfg.CONF, context, topic, msg, timeout)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/impl_kombu.py\", line 746, in call\n2012-10-12 18:40:14 TRACE nova.api.openstack     rpc_amqp.get_connection_pool(conf, Connection))\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 368, in call\n2012-10-12 18:40:14 TRACE nova.api.openstack     rv = list(rv)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 336, in __iter__\n2012-10-12 18:40:14 TRACE nova.api.openstack     raise result\n2012-10-12 18:40:14 TRACE nova.api.openstack RemoteError: Remote error: TypeError reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\n2012-10-12 18:40:14 TRACE nova.api.openstack [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n    rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n    return getattr(proxyobj, method)(ctxt, **kwargs)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 117, in wrapped\\n    temp_level, payload)\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 92, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 178, in decorated_function\\n    pass\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 164, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 199, in decorated_function\\n    kwargs[\\'instance\\'][\\'uuid\\'], e, sys.exc_info())\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 193, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'TypeError: reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\\n'].\n2012-10-12 18:40:14 TRACE nova.api.openstack \n\n\nI'm using nova-volume code from github, creating the volume from horizon so I'm just picking the instance from the drop down and putting /dev/vdc in as the Device Name.\n\nI see the same error when I try the command from the command line:\n\nnova volume-attach app01 a9901096-ab94-4b7a-8409-6f2286fd1b4c /dev/vdc\nERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-bfb0a487-0efd-43e0-9c03-42902186247d)", 
    "tags": [
        "volume"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1066201", 
    "owner": "None", 
    "id": 1066201, 
    "index": 4417, 
    "openned": "2012-10-13 01:57:38.920949+00:00", 
    "created": "2012-10-13 01:57:38.920949+00:00", 
    "title": "TypeError: reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)", 
    "comments": [
        {
            "content": "I'm trying to attach a nova-volume to a instance and I'm getting the following error:\n\nnova-volume log:\n\n2012-10-12 18:40:14 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 117, in wrapped\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 92, in wrapped\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 178, in decorated_function\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     pass\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 164, in decorated_function\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 199, in decorated_function\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     kwargs['instance']['uuid'], e, sys.exc_info())\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 193, in decorated_function\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp TypeError: reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\n2012-10-12 18:40:14 TRACE nova.openstack.common.rpc.amqp \n2012-10-12 18:40:14 ERROR nova.openstack.common.rpc.common [-] Returning exception reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given) to caller\n2012-10-12 18:40:14 ERROR nova.openstack.common.rpc.common [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n    rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n    return getattr(proxyobj, method)(ctxt, **kwargs)\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 117, in wrapped\\n    temp_level, payload)\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 92, in wrapped\\n    return f(*args, **kw)\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 178, in decorated_function\\n    pass\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 164, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 199, in decorated_function\\n    kwargs[\\'instance\\'][\\'uuid\\'], e, sys.exc_info())\\n', '  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', '  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 193, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', 'TypeError: reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\\n']\n\nnova-api log:\n\n2012-10-12 18:40:14 ERROR nova.api.openstack [req-c80b9e53-f2d3-4797-927d-cfd620ccb007 1b66a47a6dc54c0494434588d3ff4616 98c0d32a61d543ce9ab2533ff1c94057] Caught error: Remote error: TypeError reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\n[u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n    rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n    return getattr(proxyobj, method)(ctxt, **kwargs)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 117, in wrapped\\n    temp_level, payload)\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 92, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 178, in decorated_function\\n    pass\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 164, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 199, in decorated_function\\n    kwargs[\\'instance\\'][\\'uuid\\'], e, sys.exc_info())\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 193, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'TypeError: reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\\n'].\n2012-10-12 18:40:14 TRACE nova.api.openstack Traceback (most recent call last):\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/__init__.py\", line 81, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return req.get_response(self.application)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/request.py\", line 1053, in get_response\n2012-10-12 18:40:14 TRACE nova.api.openstack     application, catch_exc_info=False)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/request.py\", line 1022, in call_application\n2012-10-12 18:40:14 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/keystone-2013.1-py2.6.egg/keystone/middleware/auth_token.py\", line 278, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return self.app(env, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/Routes-1.12.3-py2.6.egg/routes/middleware.py\", line 131, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 159, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     return resp(environ, start_response)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 147, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/WebOb-1.0.8-py2.6.egg/webob/dec.py\", line 208, in call_func\n2012-10-12 18:40:14 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/wsgi.py\", line 885, in __call__\n2012-10-12 18:40:14 TRACE nova.api.openstack     content_type, body, accept)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/wsgi.py\", line 933, in _process_stack\n2012-10-12 18:40:14 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/wsgi.py\", line 1021, in dispatch\n2012-10-12 18:40:14 TRACE nova.api.openstack     return method(req=request, **action_args)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/api/openstack/compute/contrib/volumes.py\", line 397, in create\n2012-10-12 18:40:14 TRACE nova.api.openstack     volume_id, device)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/api.py\", line 114, in wrapped\n2012-10-12 18:40:14 TRACE nova.api.openstack     return func(self, context, target, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/api.py\", line 104, in inner\n2012-10-12 18:40:14 TRACE nova.api.openstack     return function(self, context, instance, *args, **kwargs)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/api.py\", line 1835, in attach_volume\n2012-10-12 18:40:14 TRACE nova.api.openstack     context, device=device, instance=instance)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/rpcapi.py\", line 465, in reserve_block_device_name\n2012-10-12 18:40:14 TRACE nova.api.openstack     topic=_compute_topic(self.topic, ctxt, None, instance))\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/proxy.py\", line 80, in call\n2012-10-12 18:40:14 TRACE nova.api.openstack     return rpc.call(context, self._get_topic(topic), msg, timeout)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/__init__.py\", line 102, in call\n2012-10-12 18:40:14 TRACE nova.api.openstack     return _get_impl().call(cfg.CONF, context, topic, msg, timeout)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/impl_kombu.py\", line 746, in call\n2012-10-12 18:40:14 TRACE nova.api.openstack     rpc_amqp.get_connection_pool(conf, Connection))\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 368, in call\n2012-10-12 18:40:14 TRACE nova.api.openstack     rv = list(rv)\n2012-10-12 18:40:14 TRACE nova.api.openstack   File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 336, in __iter__\n2012-10-12 18:40:14 TRACE nova.api.openstack     raise result\n2012-10-12 18:40:14 TRACE nova.api.openstack RemoteError: Remote error: TypeError reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\n2012-10-12 18:40:14 TRACE nova.api.openstack [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\\n    rval = self.proxy.dispatch(ctxt, version, method, **args)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\\n    return getattr(proxyobj, method)(ctxt, **kwargs)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 117, in wrapped\\n    temp_level, payload)\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/exception.py\", line 92, in wrapped\\n    return f(*args, **kw)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 178, in decorated_function\\n    pass\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 164, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 199, in decorated_function\\n    kwargs[\\'instance\\'][\\'uuid\\'], e, sys.exc_info())\\n', u'  File \"/usr/lib64/python2.6/contextlib.py\", line 23, in __exit__\\n    self.gen.next()\\n', u'  File \"/usr/lib/python2.6/site-packages/nova-2013.1-py2.6.egg/nova/compute/manager.py\", line 193, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'TypeError: reserve_block_device_name() takes exactly 5 non-keyword arguments (4 given)\\n'].\n2012-10-12 18:40:14 TRACE nova.api.openstack \n\n\nI'm using nova-volume code from github, creating the volume from horizon so I'm just picking the instance from the drop down and putting /dev/vdc in as the Device Name.\n\nI see the same error when I try the command from the command line:\n\nnova volume-attach app01 a9901096-ab94-4b7a-8409-6f2286fd1b4c /dev/vdc\nERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-bfb0a487-0efd-43e0-9c03-42902186247d)", 
            "date_created": "2012-10-13 01:57:38.920949+00:00", 
            "author": "https://api.launchpad.net/1.0/~koaps"
        }, 
        {
            "content": "Figured out the issue.\n\nMy controller running nova-api was running older git code than the compute node.\n\nI noticed this when I went to put some debugging code in.\n\nI updated the code for my controller and after installing and restarting services it was able to attach the volume.\n", 
            "date_created": "2012-10-14 05:19:34.209011+00:00", 
            "author": "https://api.launchpad.net/1.0/~koaps"
        }
    ], 
    "closed": "2012-10-14 05:21:36.368971+00:00"
}