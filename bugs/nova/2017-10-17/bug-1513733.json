{
    "status": "Won't Fix", 
    "last_updated": "2015-11-23 15:20:32.304854+00:00", 
    "description": "1. Exact version of Nova/OpenStack you are running:\nicehouse\n\n2. Relevant log files:\nthe log in /var/log/messages\n\nOct 28 17:30:32 controller1 nova-api[4206]: Traceback (most recent call last):\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/greenpool.py\", line 80, in _spawn_n_impl\nOct 28 17:30:32 controller1 nova-api[4206]: func(*args, **kwargs)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/wsgi.py\", line 594, in process_request\nOct 28 17:30:32 controller1 nova-api[4206]: proto.__init__(sock, address, self)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/SocketServer.py\", line 649, in __init__\nOct 28 17:30:32 controller1 nova-api[4206]: self.handle()\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/BaseHTTPServer.py\", line 340, in handle\nOct 28 17:30:32 controller1 nova-api[4206]: self.handle_one_request()\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/wsgi.py\", line 285, in handle_one_request\nOct 28 17:30:32 controller1 nova-api[4206]: self.handle_one_response()\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/wsgi.py\", line 453, in handle_one_response\nOct 28 17:30:32 controller1 nova-api[4206]: 'wall_seconds': finish - start,\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/wsgi.py\", line 603, in log_message\nOct 28 17:30:32 controller1 nova-api[4206]: self.log.write(message + '\\n')\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/nova/openstack/common/log.py\", line 575, in write\nOct 28 17:30:32 controller1 nova-api[4206]: self.logger.log(self.level, msg.rstrip())\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1471, in log\nOct 28 17:30:32 controller1 nova-api[4206]: self.logger.log(level, msg, *args, **kwargs)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1213, in log\nOct 28 17:30:32 controller1 nova-api[4206]: self._log(level, msg, args, **kwargs)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1268, in _log\nOct 28 17:30:32 controller1 nova-api[4206]: self.handle(record)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1278, in handle\nOct 28 17:30:32 controller1 nova-api[4206]: self.callHandlers(record)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1318, in callHandlers\nOct 28 17:30:32 controller1 nova-api[4206]: hdlr.handle(record)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 749, in handle\nOct 28 17:30:32 controller1 nova-api[4206]: self.emit(record)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/handlers.py\", line 425, in emit\nOct 28 17:30:32 controller1 nova-api[4206]: self.stream.flush()\nOct 28 17:30:32 controller1 nova-api[4206]: ValueError: I/O operation on closed file\n\n\n3. Reproduce steps:\nbuild many instances.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1513733", 
    "owner": "None", 
    "id": 1513733, 
    "index": 7097, 
    "openned": "2015-11-06 07:35:02.754944+00:00", 
    "created": "2015-11-06 07:35:02.754944+00:00", 
    "title": "nova api wsgi request lost, system messages show 'ValueError: I/O operation on closed file'", 
    "comments": [
        {
            "content": "1. Exact version of Nova/OpenStack you are running:\nicehouse\n\n2. Relevant log files:\nthe log in /var/log/messages\n\nOct 28 17:30:32 controller1 nova-api[4206]: Traceback (most recent call last):\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/greenpool.py\", line 80, in _spawn_n_impl\nOct 28 17:30:32 controller1 nova-api[4206]: func(*args, **kwargs)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/wsgi.py\", line 594, in process_request\nOct 28 17:30:32 controller1 nova-api[4206]: proto.__init__(sock, address, self)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/SocketServer.py\", line 649, in __init__\nOct 28 17:30:32 controller1 nova-api[4206]: self.handle()\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/BaseHTTPServer.py\", line 340, in handle\nOct 28 17:30:32 controller1 nova-api[4206]: self.handle_one_request()\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/wsgi.py\", line 285, in handle_one_request\nOct 28 17:30:32 controller1 nova-api[4206]: self.handle_one_response()\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/wsgi.py\", line 453, in handle_one_response\nOct 28 17:30:32 controller1 nova-api[4206]: 'wall_seconds': finish - start,\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/eventlet/wsgi.py\", line 603, in log_message\nOct 28 17:30:32 controller1 nova-api[4206]: self.log.write(message + '\\n')\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib/python2.7/site-packages/nova/openstack/common/log.py\", line 575, in write\nOct 28 17:30:32 controller1 nova-api[4206]: self.logger.log(self.level, msg.rstrip())\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1471, in log\nOct 28 17:30:32 controller1 nova-api[4206]: self.logger.log(level, msg, *args, **kwargs)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1213, in log\nOct 28 17:30:32 controller1 nova-api[4206]: self._log(level, msg, args, **kwargs)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1268, in _log\nOct 28 17:30:32 controller1 nova-api[4206]: self.handle(record)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1278, in handle\nOct 28 17:30:32 controller1 nova-api[4206]: self.callHandlers(record)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 1318, in callHandlers\nOct 28 17:30:32 controller1 nova-api[4206]: hdlr.handle(record)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/__init__.py\", line 749, in handle\nOct 28 17:30:32 controller1 nova-api[4206]: self.emit(record)\nOct 28 17:30:32 controller1 nova-api[4206]: File \"/usr/lib64/python2.7/logging/handlers.py\", line 425, in emit\nOct 28 17:30:32 controller1 nova-api[4206]: self.stream.flush()\nOct 28 17:30:32 controller1 nova-api[4206]: ValueError: I/O operation on closed file\n\n\n3. Reproduce steps:\nbuild many instances.", 
            "date_created": "2015-11-06 07:35:02.754944+00:00", 
            "author": "https://api.launchpad.net/1.0/~hanrong"
        }, 
        {
            "content": "@Rong Han:\nThe Icehouse release has reached its end of life [1], which means there will be no upstream fixes for that anymore. That's why I switch the bug status to \"won't fix\". If you've seen this behavior in Juno and newer releases, please open a new bug report. \n\n[1] https://wiki.openstack.org/wiki/Releases", 
            "date_created": "2015-11-23 15:20:31.002965+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ], 
    "closed": "2015-11-23 15:20:21.966444+00:00"
}