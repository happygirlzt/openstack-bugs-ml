{
    "status": "Invalid", 
    "last_updated": "2016-05-13 15:15:45.999673+00:00", 
    "description": "http://logs.openstack.org/44/245344/4/gate/gate-grenade-dsvm-multinode/1840523/logs/subnode-2/old/screen-n-cpu.txt.gz?level=TRACE#_2015-12-01_23_58_04_999\n\n2015-12-01 23:58:04.999 ERROR nova.compute.manager [req-8e76a5ba-f89f-4bfe-8218-aeaa580a6e13 tempest-ServerActionsTestJSON-475123373 tempest-ServerActionsTestJSON-884217194] [instance: e50d2ceb-2be4-4c1a-a190-4aa9ab160af9] Cannot reboot instance: [Errno 2] No such file or directory: '/opt/stack/data/nova/instances/e50d2ceb-2be4-4c1a-a190-4aa9ab160af9/disk'\n2015-12-01 23:58:05.513 ERROR oslo_messaging.rpc.dispatcher [req-8e76a5ba-f89f-4bfe-8218-aeaa580a6e13 tempest-ServerActionsTestJSON-475123373 tempest-ServerActionsTestJSON-884217194] Exception during message handling: [Errno 2] No such file or directory: '/opt/stack/data/nova/instances/e50d2ceb-2be4-4c1a-a190-4aa9ab160af9/disk'\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 142, in _dispatch_and_reply\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     executor_callback))\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 186, in _dispatch\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     executor_callback)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 129, in _do_dispatch\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     result = func(ctxt, **new_args)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/exception.py\", line 89, in wrapped\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     payload)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/exception.py\", line 72, in wrapped\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 350, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     LOG.warning(msg, e, instance=instance)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 323, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 400, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 378, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     kwargs['instance'], e, sys.exc_info())\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 366, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 2954, in reboot_instance\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     self._set_instance_obj_error_state(context, instance)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 2935, in reboot_instance\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     bad_volumes_callback=bad_volumes_callback)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 2055, in reboot\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     block_device_info)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 2152, in _hard_reboot\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     block_device_info)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 6484, in _get_instance_disk_info\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     dk_size = int(os.path.getsize(path))\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/genericpath.py\", line 49, in getsize\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return os.stat(filename).st_size\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher OSError: [Errno 2] No such file or directory: '/opt/stack/data/nova/instances/e50d2ceb-2be4-4c1a-a190-4aa9ab160af9/disk'\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher \n\nhttp://logstash.openstack.org/#dashboard/file/logstash.json?query=message:%5C%22Cannot%20reboot%20instance:%20%5BErrno%202%5D%20No%20such%20file%20or%20directory%5C%22%20AND%20tags:%5C%22screen-n-cpu.txt%5C%22\n\n122 hits in 7 days, check and gate, master and stable/liberty, all failures.", 
    "tags": [
        "libvirt", 
        "multinode", 
        "reboot"
    ], 
    "importance": "High", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1521823", 
    "owner": "None", 
    "id": 1521823, 
    "index": 1844, 
    "openned": "2015-12-02 02:01:15.484281+00:00", 
    "created": "2015-12-02 02:01:15.484281+00:00", 
    "title": "reboot test fails in gate-grenade-dsvm-multinode with missing disk path", 
    "comments": [
        {
            "content": "http://logs.openstack.org/44/245344/4/gate/gate-grenade-dsvm-multinode/1840523/logs/subnode-2/old/screen-n-cpu.txt.gz?level=TRACE#_2015-12-01_23_58_04_999\n\n2015-12-01 23:58:04.999 ERROR nova.compute.manager [req-8e76a5ba-f89f-4bfe-8218-aeaa580a6e13 tempest-ServerActionsTestJSON-475123373 tempest-ServerActionsTestJSON-884217194] [instance: e50d2ceb-2be4-4c1a-a190-4aa9ab160af9] Cannot reboot instance: [Errno 2] No such file or directory: '/opt/stack/data/nova/instances/e50d2ceb-2be4-4c1a-a190-4aa9ab160af9/disk'\n2015-12-01 23:58:05.513 ERROR oslo_messaging.rpc.dispatcher [req-8e76a5ba-f89f-4bfe-8218-aeaa580a6e13 tempest-ServerActionsTestJSON-475123373 tempest-ServerActionsTestJSON-884217194] Exception during message handling: [Errno 2] No such file or directory: '/opt/stack/data/nova/instances/e50d2ceb-2be4-4c1a-a190-4aa9ab160af9/disk'\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 142, in _dispatch_and_reply\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     executor_callback))\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 186, in _dispatch\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     executor_callback)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/dispatcher.py\", line 129, in _do_dispatch\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     result = func(ctxt, **new_args)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/exception.py\", line 89, in wrapped\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     payload)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/exception.py\", line 72, in wrapped\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 350, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     LOG.warning(msg, e, instance=instance)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 323, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 400, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 378, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     kwargs['instance'], e, sys.exc_info())\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 366, in decorated_function\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 2954, in reboot_instance\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     self._set_instance_obj_error_state(context, instance)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 197, in __exit__\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 2935, in reboot_instance\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     bad_volumes_callback=bad_volumes_callback)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 2055, in reboot\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     block_device_info)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 2152, in _hard_reboot\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     block_device_info)\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 6484, in _get_instance_disk_info\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     dk_size = int(os.path.getsize(path))\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/genericpath.py\", line 49, in getsize\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher     return os.stat(filename).st_size\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher OSError: [Errno 2] No such file or directory: '/opt/stack/data/nova/instances/e50d2ceb-2be4-4c1a-a190-4aa9ab160af9/disk'\n2015-12-01 23:58:05.513 31663 ERROR oslo_messaging.rpc.dispatcher \n\nhttp://logstash.openstack.org/#dashboard/file/logstash.json?query=message:%5C%22Cannot%20reboot%20instance:%20%5BErrno%202%5D%20No%20such%20file%20or%20directory%5C%22%20AND%20tags:%5C%22screen-n-cpu.txt%5C%22\n\n122 hits in 7 days, check and gate, master and stable/liberty, all failures.", 
            "date_created": "2015-12-02 02:01:15.484281+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Looks like the problem, at least in this case:\n\nhttp://logs.openstack.org/32/253732/4/check/gate-grenade-dsvm-multinode/9f726ed/logs/\n\nIs that the two nodes have the same hostname (ubuntu in this case), which is confusing things.", 
            "date_created": "2015-12-08 16:39:27.203662+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "BTW, credit to dansmith for noticing the hostname problem in comment 1.", 
            "date_created": "2015-12-08 16:40:05.290725+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "This infra patch should help set the hostname: https://review.openstack.org/#/c/254858/", 
            "date_created": "2015-12-08 16:46:51.509118+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Fixed by infra.", 
            "date_created": "2016-05-13 15:15:40.389031+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ], 
    "closed": "2016-05-13 15:15:44.433624+00:00"
}