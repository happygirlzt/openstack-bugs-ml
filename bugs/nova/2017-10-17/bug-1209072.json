{
    "status": "Fix Released", 
    "last_updated": "2013-10-17 11:57:03.811967+00:00", 
    "description": "When I test reboot in xml format, nova has been broken.\n\nthe tempest log is the following:\ntempest.common.rest_client: INFO: Request: GET http://192.168.1.101:8774/v3/servers/41a88f5d-68b5-4093-8325-c179b7b02ae7\ntempest.common.rest_client: DEBUG: Request Headers: {'Content-Type': 'application/xml', 'Accept': 'application/xml', 'X-Auth-Token': '<Token omitted>'}\ntempest.common.rest_client: INFO: Response Status: 404\ntempest.common.rest_client: DEBUG: Response Headers: {'date': 'Wed, 07 Aug 2013 03:55:02 GMT', 'content-length': '137', 'content-type': 'application/xml; charset=UTF-8', 'x-compute-request-id': 'req-d1dfb79d-15ba-4d16-a7c3-1e56a6b05b33'}\ntempest.common.rest_client: DEBUG: Response Body: <itemNotFound code=\"404\" xmlns=\"http://docs.openstack.org/compute/api/v1.1\"><message>Instance could not be found</message></itemNotFound>\ntempest.common.rest_client: INFO: Request: POST http://192.168.1.101:8774/v3/servers/41a88f5d-68b5-4093-8325-c179b7b02ae7/action\ntempest.common.rest_client: DEBUG: Request Headers: {'Content-Type': 'application/xml', 'Accept': 'application/xml', 'X-Auth-Token': '<Token omitted>'}\ntempest.common.rest_client: DEBUG: Request Body: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<reboot xmlns=\"http://docs.openstack.org/compute/api/v1.1\" type=\"SOFT\"/>\ntempest.common.rest_client: INFO: Response Status: 500\ntempest.common.rest_client: DEBUG: Response Headers: {'date': 'Wed, 07 Aug 2013 03:55:02 GMT', 'content-length': '192', 'content-type': 'application/xml; charset=UTF-8', 'x-compute-request-id': 'req-e7aaf72b-636c-4bd7-b7da-4129d5f0c596'}\ntempest.common.rest_client: DEBUG: Response Body: <computeFault code=\"500\" xmlns=\"http://docs.openstack.org/compute/api/v1.1\"><message>The server has either erred or is incapable of performing the requested operation.</message></computeFault>\n\n\n\n\n\nthe nova trace is:\n\n\n2013-08-07 11:43:03.274 DEBUG nova.api.openstack.wsgi [req-0dec83be-e22e-4de6-a16d-612df92acfce ServersNegativeV3TestXML1959565404-user ServersNegativeV3TestXML1797780207-tenant] Action: 'action', body: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<reboot xmlns=\"http://docs.openstack.org/compute/api/v1.1\" type=\"SOFT\"/> from (pid=11467) _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:927\n2013-08-07 11:43:03.274 DEBUG nova.api.openstack.wsgi [req-0dec83be-e22e-4de6-a16d-612df92acfce ServersNegativeV3TestXML1959565404-user ServersNegativeV3TestXML1797780207-tenant] Calling method <bound method ConfigDriveController._action_reboot of <nova.api.openstack.compute.plugins.v3.config_drive.ConfigDriveController object at 0x391a8d0>> from (pid=11467) _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:928\n2013-08-07 11:43:03.274 ERROR nova.api.openstack [req-0dec83be-e22e-4de6-a16d-612df92acfce ServersNegativeV3TestXML1959565404-user ServersNegativeV3TestXML1797780207-tenant] Caught error: 'ActionDeserializer' object has no attribute '_action_change_password'\n2013-08-07 11:43:03.274 TRACE nova.api.openstack Traceback (most recent call last):\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 111, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1296, in send\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1260, in call_application\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/python-keystoneclient/keystoneclient/middleware/auth_token.py\", line 461, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 904, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     content_type, body, accept)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 933, in _process_stack\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     contents = self.deserialize(meth, content_type, body)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 823, in deserialize\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return deserializer(self.controller).deserialize(body)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 197, in deserialize\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return self.dispatch(datastring, action=action)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 187, in dispatch\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return action_method(*args, **kwargs)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/plugins/v3/servers.py\", line 312, in default\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     'changePassword': self._action_change_password,\n2013-08-07 11:43:03.274 TRACE nova.api.openstack AttributeError: 'ActionDeserializer' object has no attribute '_action_change_password'\n2013-08-07 11:43:03.274 TRACE nova.api.openstack \n2013-08-07 11:43:03.376 INFO nova.api.openstack [req-0dec83be-e22e-4de6-a16d-612df92acfce ServersNegativeV3TestXML1959565404-user ServersNegativeV3TestXML1797780207-tenant] http://192.168.1.101:8774/v3/servers/16ec50cf-8e38-487b-b58f-9ad9eade63f4/action returned with HTTP 500", 
    "tags": [
        "api"
    ], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1209072", 
    "owner": "https://api.launchpad.net/1.0/~ivan-zhu", 
    "id": 1209072, 
    "index": 1175, 
    "openned": "2013-08-07 04:05:59.924956+00:00", 
    "created": "2013-08-07 04:05:59.924956+00:00", 
    "title": "'ActionDeserializer' object has no attribute '_action_change_password'", 
    "comments": [
        {
            "content": "When I test reboot in xml format, nova has been broken.\n\nthe tempest log is the following:\ntempest.common.rest_client: INFO: Request: GET http://192.168.1.101:8774/v3/servers/41a88f5d-68b5-4093-8325-c179b7b02ae7\ntempest.common.rest_client: DEBUG: Request Headers: {'Content-Type': 'application/xml', 'Accept': 'application/xml', 'X-Auth-Token': '<Token omitted>'}\ntempest.common.rest_client: INFO: Response Status: 404\ntempest.common.rest_client: DEBUG: Response Headers: {'date': 'Wed, 07 Aug 2013 03:55:02 GMT', 'content-length': '137', 'content-type': 'application/xml; charset=UTF-8', 'x-compute-request-id': 'req-d1dfb79d-15ba-4d16-a7c3-1e56a6b05b33'}\ntempest.common.rest_client: DEBUG: Response Body: <itemNotFound code=\"404\" xmlns=\"http://docs.openstack.org/compute/api/v1.1\"><message>Instance could not be found</message></itemNotFound>\ntempest.common.rest_client: INFO: Request: POST http://192.168.1.101:8774/v3/servers/41a88f5d-68b5-4093-8325-c179b7b02ae7/action\ntempest.common.rest_client: DEBUG: Request Headers: {'Content-Type': 'application/xml', 'Accept': 'application/xml', 'X-Auth-Token': '<Token omitted>'}\ntempest.common.rest_client: DEBUG: Request Body: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<reboot xmlns=\"http://docs.openstack.org/compute/api/v1.1\" type=\"SOFT\"/>\ntempest.common.rest_client: INFO: Response Status: 500\ntempest.common.rest_client: DEBUG: Response Headers: {'date': 'Wed, 07 Aug 2013 03:55:02 GMT', 'content-length': '192', 'content-type': 'application/xml; charset=UTF-8', 'x-compute-request-id': 'req-e7aaf72b-636c-4bd7-b7da-4129d5f0c596'}\ntempest.common.rest_client: DEBUG: Response Body: <computeFault code=\"500\" xmlns=\"http://docs.openstack.org/compute/api/v1.1\"><message>The server has either erred or is incapable of performing the requested operation.</message></computeFault>\n\n\n\n\n\nthe nova trace is:\n\n\n2013-08-07 11:43:03.274 DEBUG nova.api.openstack.wsgi [req-0dec83be-e22e-4de6-a16d-612df92acfce ServersNegativeV3TestXML1959565404-user ServersNegativeV3TestXML1797780207-tenant] Action: 'action', body: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<reboot xmlns=\"http://docs.openstack.org/compute/api/v1.1\" type=\"SOFT\"/> from (pid=11467) _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:927\n2013-08-07 11:43:03.274 DEBUG nova.api.openstack.wsgi [req-0dec83be-e22e-4de6-a16d-612df92acfce ServersNegativeV3TestXML1959565404-user ServersNegativeV3TestXML1797780207-tenant] Calling method <bound method ConfigDriveController._action_reboot of <nova.api.openstack.compute.plugins.v3.config_drive.ConfigDriveController object at 0x391a8d0>> from (pid=11467) _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:928\n2013-08-07 11:43:03.274 ERROR nova.api.openstack [req-0dec83be-e22e-4de6-a16d-612df92acfce ServersNegativeV3TestXML1959565404-user ServersNegativeV3TestXML1797780207-tenant] Caught error: 'ActionDeserializer' object has no attribute '_action_change_password'\n2013-08-07 11:43:03.274 TRACE nova.api.openstack Traceback (most recent call last):\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 111, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1296, in send\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1260, in call_application\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/python-keystoneclient/keystoneclient/middleware/auth_token.py\", line 461, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 904, in __call__\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     content_type, body, accept)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 933, in _process_stack\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     contents = self.deserialize(meth, content_type, body)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 823, in deserialize\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return deserializer(self.controller).deserialize(body)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 197, in deserialize\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return self.dispatch(datastring, action=action)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 187, in dispatch\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     return action_method(*args, **kwargs)\n2013-08-07 11:43:03.274 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/plugins/v3/servers.py\", line 312, in default\n2013-08-07 11:43:03.274 TRACE nova.api.openstack     'changePassword': self._action_change_password,\n2013-08-07 11:43:03.274 TRACE nova.api.openstack AttributeError: 'ActionDeserializer' object has no attribute '_action_change_password'\n2013-08-07 11:43:03.274 TRACE nova.api.openstack \n2013-08-07 11:43:03.376 INFO nova.api.openstack [req-0dec83be-e22e-4de6-a16d-612df92acfce ServersNegativeV3TestXML1959565404-user ServersNegativeV3TestXML1797780207-tenant] http://192.168.1.101:8774/v3/servers/16ec50cf-8e38-487b-b58f-9ad9eade63f4/action returned with HTTP 500", 
            "date_created": "2013-08-07 04:05:59.924956+00:00", 
            "author": "https://api.launchpad.net/1.0/~ivan-zhu"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/40541", 
            "date_created": "2013-08-07 04:16:04.633214+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/40541\nCommitted: http://github.com/openstack/nova/commit/f953e2062207c0b39e48d8d297eebc48f8d1b13d\nSubmitter: Jenkins\nBranch:    master\n\ncommit f953e2062207c0b39e48d8d297eebc48f8d1b13d\nAuthor: ivan-zhu <email address hidden>\nDate:   Wed Aug 7 12:12:37 2013 +0800\n\n    remove _action_change_password the attribute in V3 server API\n    \n    There is no implementation of _action_change_password for the\n    attribute of ActionDeserializer in V3 server API. Get rid of it\n    \n    fix bug 1209072\n    \n    Change-Id: I37019811caa71c491c228b99babfcfb34bbaa685\n", 
            "date_created": "2013-08-14 16:07:42.636022+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2013-09-05 15:39:57.214821+00:00"
}