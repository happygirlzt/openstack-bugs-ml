{
    "status": "Fix Released", 
    "last_updated": "2013-05-30 03:08:27.070199+00:00", 
    "description": "i installed openstack folsom via ubuntu cloud source,below is the source address\n\ncat /etc/apt/source.list\n......\ndeb http://ubuntu-cloud.archive.canonical.com/ubuntu precise-proposed/folsom main\ndeb http://ubuntu-cloud.archive.canonical.com/ubuntu precise-updates/folsom main\n......\n\nnow  i boot 3 instances(i01, i 02, i03),the i01 use the /dev/nbd15, and when i delete i01,the log file \"nova-compute.log\" and syslog will report error:\n\nnova-compute.log\n#######################################################################################\n2013-01-11 15:05:40 INFO nova.virt.libvirt.driver [-] [instance: cade906c-dc8c-4a7b-870d-a0b224fd802a] Instance destroyed successfully.\n2013-01-11 15:05:40 DEBUG nova.virt.libvirt.driver [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] [instance: cade906c-dc8c-4a7b-870d-a0b224fd802a] Error from libvirt during undefineFlags. Retrying with undefine from (pid=2721) _cleanup /usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py:510\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Got semaphore \"iptables\" for method \"_apply\"... from (pid=2721) inner /usr/lib/python2.7/dist-packages/nova/utils.py:713\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Attempting to grab file lock \"iptables\" for method \"_apply\"... from (pid=2721) inner /usr/lib/python2.7/dist-packages/nova/utils.py:717\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Got file lock \"iptables\" for method \"_apply\"... from (pid=2721) inner /usr/lib/python2.7/dist-packages/nova/utils.py:743\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf iptables-save -c -t filter from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf iptables-restore -c from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf iptables-save -c -t nat from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf iptables-restore -c from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:40 DEBUG nova.network.linux_net [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] IPTablesManager.apply completed with success from (pid=2721) _apply /usr/lib/python2.7/dist-packages/nova/network/linux_net.py:372\n2013-01-11 15:05:41 INFO nova.virt.libvirt.driver [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] [instance: cade906c-dc8c-4a7b-870d-a0b224fd802a] Deleting instance files /var/lib/nova/instances/instance-000003dc\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf umount /dev/nbd15 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf qemu-nbd -d /dev/nbd15 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:41 ERROR nova.virt.libvirt.driver [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Failed to cleanup directory /var/lib/nova/instances/instance-000003dc: [Errno 16] Device or resource busy: '/var/lib/nova/instances/instance-000003dc/rootfs'\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Got semaphore \"compute_resources\" for method \"update_usage\"... from (pid=2721) inner /usr/lib/python2.7/dist-packages/nova/utils.py:713\n#######################################################################################\n\nsyslog\n#######################################################################################\nJan 11 16:19:49 superstack kernel: [ 2645.636002] end_request: I/O error, dev nbd14, sector 1314448\nJan 11 16:19:49 superstack kernel: [ 2645.638289] Buffer I/O error on device nbd14, logical block 164306\nJan 11 16:19:49 superstack kernel: [ 2645.640835] EXT4-fs warning (device nbd14): ext4_end_bio:251: I/O error writing to inode 30906 (offset 81920 size 4096 starting block 164307)\nJan 11 16:19:49 superstack kernel: [ 2645.644283] end_request: I/O error, dev nbd14, sector 1053904\nJan 11 16:19:49 superstack kernel: [ 2645.647358] Aborting journal on device nbd14-8.\nJan 11 16:19:49 superstack kernel: [ 2645.661814] JBD2: I/O error detected when updating journal superblock for nbd14-8.\nJan 11 16:19:49 superstack kernel: [ 2645.670324] journal commit I/O error\nJan 11 16:19:49 superstack kernel: 065643]junlcmi / ro\nJan 11 16:19:49 superstack kernel: [ 2645.704395] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.727581] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.731948] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.736537] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.749808] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.766891] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.786215] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.793269] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.799673] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.800918] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.802294] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.808959] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.810195] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.815396] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.819412] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.820643] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.821941] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.843460] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.852605] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.853936] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.863322] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.864574] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.865813] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.875391] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.876637] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.877880] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.887446] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.888878] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.890178] journal commit I/O error\n#######################################################################################\n\nas we can see the error \"ERROR nova.virt.libvirt.driver [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Failed to cleanup directory /var/lib/nova/instances/instance-000003dc: [Errno 16] Device or resource busy: '/var/lib/nova/instances/instance-000003dc/rootfs'\" in the nova-compute.log and \" journal commit I/O error\" in the syslog\n\nOK, now we boot another instance(i04), the booting process will pause at \"readlink -nm /tmp/openstack-disk-mount-tmpwdoX2V/root/.ssh\"(you can see it from nova-compute.log) and now the readlink will cause cpu 100% usage.the i04 will be always be BUILDING stat and i have to hard reboot the host\n\nit will be OK, if i delete i03 firstly, then i02, i04 lastly\n\nyou can test this bug by the belowing scripts\n######################################################################################\ni01=`nova boot --flavor 1 --image  e7e31cbd-14d3-4ac9-a9fe-fc6f49e33655 --key_name key01 i01`\nsleep 20\ni02=`nova boot --flavor 1 --image  e7e31cbd-14d3-4ac9-a9fe-fc6f49e33655 --key_name key01 i02`\nsleep 20\ni03=`nova boot --flavor 1 --image  e7e31cbd-14d3-4ac9-a9fe-fc6f49e33655 --key_name key01 i03`\nsleep 20\nnova delete i01\nsleep 20\ni04=`nova boot --flavor 1 --image  e7e31cbd-14d3-4ac9-a9fe-fc6f49e33655 --key_name key01 i04`\nsleep 20\nnova list\n\n#####################################################################################", 
    "tags": [
        "lxc", 
        "nova"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1098458", 
    "owner": "https://api.launchpad.net/1.0/~jing", 
    "id": 1098458, 
    "index": 4577, 
    "openned": "2013-01-11 08:43:53.266268+00:00", 
    "created": "2013-01-11 08:43:53.266268+00:00", 
    "title": "lxc instance deletion error", 
    "comments": [
        {
            "content": "i installed openstack folsom via ubuntu cloud source,below is the source address\n\ncat /etc/apt/source.list\n......\ndeb http://ubuntu-cloud.archive.canonical.com/ubuntu precise-proposed/folsom main\ndeb http://ubuntu-cloud.archive.canonical.com/ubuntu precise-updates/folsom main\n......\n\n\nnow  i boot 3 instances(i01, i 02, i03), and when i delete i01,the i01 use the /dev/nbd15,the log file \"nova-compute.log\" and syslog is below:\n\nnova-compute.log\n#######################################################################################\n2013-01-11 15:05:40 INFO nova.virt.libvirt.driver [-] [instance: cade906c-dc8c-4a7b-870d-a0b224fd802a] Instance destroyed successfully.\n2013-01-11 15:05:40 DEBUG nova.virt.libvirt.driver [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] [instance: cade906c-dc8c-4a7b-870d-a0b224fd802a] Error from libvirt during undefineFlags. Retrying with undefine from (pid=2721) _cleanup /usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py:510\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Got semaphore \"iptables\" for method \"_apply\"... from (pid=2721) inner /usr/lib/python2.7/dist-packages/nova/utils.py:713\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Attempting to grab file lock \"iptables\" for method \"_apply\"... from (pid=2721) inner /usr/lib/python2.7/dist-packages/nova/utils.py:717\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Got file lock \"iptables\" for method \"_apply\"... from (pid=2721) inner /usr/lib/python2.7/dist-packages/nova/utils.py:743\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf iptables-save -c -t filter from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf iptables-restore -c from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf iptables-save -c -t nat from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf iptables-restore -c from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:40 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:40 DEBUG nova.network.linux_net [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] IPTablesManager.apply completed with success from (pid=2721) _apply /usr/lib/python2.7/dist-packages/nova/network/linux_net.py:372\n2013-01-11 15:05:41 INFO nova.virt.libvirt.driver [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] [instance: cade906c-dc8c-4a7b-870d-a0b224fd802a] Deleting instance files /var/lib/nova/instances/instance-000003dc\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf umount /dev/nbd15 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Running cmd (subprocess): sudo nova-rootwrap /etc/nova/rootwrap.conf qemu-nbd -d /dev/nbd15 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:176\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Result was 0 from (pid=2721) execute /usr/lib/python2.7/dist-packages/nova/utils.py:191\n2013-01-11 15:05:41 ERROR nova.virt.libvirt.driver [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Failed to cleanup directory /var/lib/nova/instances/instance-000003dc: [Errno 16] Device or resource busy: '/var/lib/nova/instances/instance-000003dc/rootfs'\n2013-01-11 15:05:41 DEBUG nova.utils [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Got semaphore \"compute_resources\" for method \"update_usage\"... from (pid=2721) inner /usr/lib/python2.7/dist-packages/nova/utils.py:713\n#######################################################################################\n\n\nsyslog\n#######################################################################################\nJan 11 16:19:49 superstack kernel: [ 2645.636002] end_request: I/O error, dev nbd14, sector 1314448\nJan 11 16:19:49 superstack kernel: [ 2645.638289] Buffer I/O error on device nbd14, logical block 164306\nJan 11 16:19:49 superstack kernel: [ 2645.640835] EXT4-fs warning (device nbd14): ext4_end_bio:251: I/O error writing to inode 30906 (offset 81920 size 4096 starting block 164307)\nJan 11 16:19:49 superstack kernel: [ 2645.644283] end_request: I/O error, dev nbd14, sector 1053904\nJan 11 16:19:49 superstack kernel: [ 2645.647358] Aborting journal on device nbd14-8.\nJan 11 16:19:49 superstack kernel: [ 2645.661814] JBD2: I/O error detected when updating journal superblock for nbd14-8.\nJan 11 16:19:49 superstack kernel: [ 2645.670324] journal commit I/O error\nJan 11 16:19:49 superstack kernel: 065643]junlcmi / ro\nJan 11 16:19:49 superstack kernel: [ 2645.704395] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.727581] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.731948] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.736537] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.749808] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.766891] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.786215] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.793269] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.799673] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.800918] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.802294] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.808959] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.810195] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.815396] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.819412] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.820643] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.821941] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.843460] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.852605] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.853936] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.863322] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.864574] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.865813] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.875391] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.876637] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.877880] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.887446] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.888878] journal commit I/O error\nJan 11 16:19:49 superstack kernel: [ 2645.890178] journal commit I/O error\n#######################################################################################\n\nas we can see the error \"ERROR nova.virt.libvirt.driver [req-365bfafb-2758-4f63-a714-4aa1af37d828 d19e6e6f9f7d4d13883870afbb6cbb67 8281ba5ad0a0458d9bf0bf93505267b3] Failed to cleanup directory /var/lib/nova/instances/instance-000003dc: [Errno 16] Device or resource busy: '/var/lib/nova/instances/instance-000003dc/rootfs'\" in the nova-compute.log and \" journal commit I/O error\" in the syslog\n\n\nOK, now we boot another instance(i04), the booting process will pause at \"readlink -nm /tmp/openstack-disk-mount-tmpwdoX2V/root/.ssh\"(you can see it from nova-compute.log) and now the readlink will cause cpu 100% usage.the i04 will be always be BUILDING stat and i have to hard reboot the host\n\nit will be OK, if i delete i03 firstly, then i02, i04 lastly\n\nyou can test this bug by the belowing scripts\n######################################################################################\ni01=`nova boot --flavor 1 --image  e7e31cbd-14d3-4ac9-a9fe-fc6f49e33655 --key_name key01 i01`\nsleep 20\ni02=`nova boot --flavor 1 --image  e7e31cbd-14d3-4ac9-a9fe-fc6f49e33655 --key_name key01 i02`\nsleep 20\ni03=`nova boot --flavor 1 --image  e7e31cbd-14d3-4ac9-a9fe-fc6f49e33655 --key_name key01 i03`\nsleep 20\nnova delete i01\nsleep 20\ni04=`nova boot --flavor 1 --image  e7e31cbd-14d3-4ac9-a9fe-fc6f49e33655 --key_name key01 i04`\nsleep 20\nnova list\n\n#####################################################################################", 
            "date_created": "2013-01-11 08:43:53.266268+00:00", 
            "author": "https://api.launchpad.net/1.0/~jing"
        }, 
        {
            "content": "just now\uff0ci tested openstack Grizzly with LXC and it fixed me", 
            "date_created": "2013-04-26 08:00:24.783322+00:00", 
            "author": "https://api.launchpad.net/1.0/~jing"
        }
    ], 
    "closed": "2013-05-30 03:08:24.881872+00:00"
}