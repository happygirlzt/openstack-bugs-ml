{
    "status": "Invalid", 
    "last_updated": "2016-06-15 21:53:55.505445+00:00", 
    "description": "[root@controller2 ~]# nova flavor-list\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1  | m1.tiny   | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n[root@controller2 ~]#  neutron net-list\n+--------------------------------------+---------+-----------------------------------------------------+\n| id                                   | name    | subnets                                             |\n+--------------------------------------+---------+-----------------------------------------------------+\n| dd38c21b-3ef0-4b67-8ccf-9d7f2d07c65b | public  | 5680ce7d-f796-45f4-9eba-b2f3679412bb 10.0.20.0/24   |\n| 8858fa32-6c48-4bad-9c46-f435b1dee400 | private | 7383ebeb-eb50-4e5d-8ae5-82ebfdb2ba03 192.168.8.0/24 |\n+--------------------------------------+---------+-----------------------------------------------------+\n[root@controller2 ~]# nova boot --flavor m1.small --image cirros --nic net-id=8858fa32-6c48-4bad-9c46-f435b1dee400 --security-group default --key-name mykey private-instance\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.DiscoveryFailure'> (HTTP 500) (Request-ID: req-42bcb9bc-44db-4442-894e-79f6a5b98412)\n\n\n\nHere is some log in my nova-api.log:\n\n2016-04-19 17:38:19.998 2269 INFO nova.osapi_compute.wsgi.server [req-cc721bde-5e15-4b46-9ad1-37d15c9facc1 c647066b9fb248af85f3af547a1e4f9c d37e5a0f63564641b\ne9ffe65e3aed887 - - -] 10.0.20.12 \"GET /v2/d37e5a0f63564641be9ffe65e3aed887/flavors?is_public=None HTTP/1.1\" status: 200 len: 1407 time: 0.0291429\n2016-04-19 17:38:20.028 2269 INFO nova.osapi_compute.wsgi.server [req-d8005687-7a32-42da-806c-6eb026f3a8d9 c647066b9fb248af85f3af547a1e4f9c d37e5a0f63564641b\ne9ffe65e3aed887 - - -] 10.0.20.12 \"GET /v2/d37e5a0f63564641be9ffe65e3aed887/flavors/2 HTTP/1.1\" status: 200 len: 618 time: 0.0244541\n2016-04-19 17:38:27.751 2269 WARNING keystoneclient.auth.identity.generic.base [req-a1b416be-398e-4e13-8fd2-3308c4fa2826 c647066b9fb248af85f3af547a1e4f9c d37\ne5a0f63564641be9ffe65e3aed887 - - -] Discovering versions from the identity service failed when creating the password plugin. Attempting to determine version\n from URL.\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions [req-a1b416be-398e-4e13-8fd2-3308c4fa2826 c647066b9fb248af85f3af547a1e4f9c d37e5a0f63564641b\ne9ffe65e3aed887 - - -] Unexpected exception in API method\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wra\npped\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapp\ner\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapp\ner\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 611, i\nn create\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     **create_kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 149, in inner\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1581, in create\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1181, in _create_instance\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 955, in _validate_and_build_base_options\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     pci_request_info, requested_networks)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 1059, in create_pci_requests_for_sriov_ports\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     neutron = get_client(context, admin=True)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 237, in get_client\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 200, in get_token\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     return self.get_access(session).auth_token\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 240, in get_access\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     self.auth_ref = self.get_auth_ref(session)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 184, in get_auth_ref\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     self._plugin = self._do_create_plugin(session)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 180, in _do_create_plugin\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     raise exceptions.DiscoveryFailure(msg)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions DiscoveryFailure: Could not determine a suitable URL for the plugin\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions\n2016-04-19 17:38:27.754 2269 INFO nova.api.openstack.wsgi [req-a1b416be-398e-4e13-8fd2-3308c4fa2826 c647066b9fb248af85f3af547a1e4f9c d37e5a0f63564641be9ffe65e3aed887 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.DiscoveryFailure'>\n\nIt's run on Centos 7.1 , liberty Openstack , any body can help me ? Thanks.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 12, 
    "link": "https://bugs.launchpad.net/nova/+bug/1572055", 
    "owner": "None", 
    "id": 1572055, 
    "index": 7430, 
    "openned": "2016-04-19 10:09:47.423705+00:00", 
    "created": "2016-04-19 10:09:47.423705+00:00", 
    "title": "Run command 'nova boot ...' raise 'keystoneclient.exceptions.DiscoveryFailure' ", 
    "comments": [
        {
            "content": "[root@controller2 ~]# nova flavor-list\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n| 1  | m1.tiny   | 512       | 1    | 0         |      | 1     | 1.0         | True      |\n| 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      |\n| 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      |\n| 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      |\n| 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      |\n+----+-----------+-----------+------+-----------+------+-------+-------------+-----------+\n[root@controller2 ~]#  neutron net-list\n+--------------------------------------+---------+-----------------------------------------------------+\n| id                                   | name    | subnets                                             |\n+--------------------------------------+---------+-----------------------------------------------------+\n| dd38c21b-3ef0-4b67-8ccf-9d7f2d07c65b | public  | 5680ce7d-f796-45f4-9eba-b2f3679412bb 10.0.20.0/24   |\n| 8858fa32-6c48-4bad-9c46-f435b1dee400 | private | 7383ebeb-eb50-4e5d-8ae5-82ebfdb2ba03 192.168.8.0/24 |\n+--------------------------------------+---------+-----------------------------------------------------+\n[root@controller2 ~]# nova boot --flavor m1.small --image cirros --nic net-id=8858fa32-6c48-4bad-9c46-f435b1dee400 --security-group default --key-name mykey private-instance\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.DiscoveryFailure'> (HTTP 500) (Request-ID: req-42bcb9bc-44db-4442-894e-79f6a5b98412)\n\n\n\nHere is some log in my nova-api.log:\n\n2016-04-19 17:38:19.998 2269 INFO nova.osapi_compute.wsgi.server [req-cc721bde-5e15-4b46-9ad1-37d15c9facc1 c647066b9fb248af85f3af547a1e4f9c d37e5a0f63564641b\ne9ffe65e3aed887 - - -] 10.0.20.12 \"GET /v2/d37e5a0f63564641be9ffe65e3aed887/flavors?is_public=None HTTP/1.1\" status: 200 len: 1407 time: 0.0291429\n2016-04-19 17:38:20.028 2269 INFO nova.osapi_compute.wsgi.server [req-d8005687-7a32-42da-806c-6eb026f3a8d9 c647066b9fb248af85f3af547a1e4f9c d37e5a0f63564641b\ne9ffe65e3aed887 - - -] 10.0.20.12 \"GET /v2/d37e5a0f63564641be9ffe65e3aed887/flavors/2 HTTP/1.1\" status: 200 len: 618 time: 0.0244541\n2016-04-19 17:38:27.751 2269 WARNING keystoneclient.auth.identity.generic.base [req-a1b416be-398e-4e13-8fd2-3308c4fa2826 c647066b9fb248af85f3af547a1e4f9c d37\ne5a0f63564641be9ffe65e3aed887 - - -] Discovering versions from the identity service failed when creating the password plugin. Attempting to determine version\n from URL.\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions [req-a1b416be-398e-4e13-8fd2-3308c4fa2826 c647066b9fb248af85f3af547a1e4f9c d37e5a0f63564641b\ne9ffe65e3aed887 - - -] Unexpected exception in API method\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wra\npped\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapp\ner\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 73, in wrapp\ner\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 611, i\nn create\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     **create_kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 149, in inner\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1581, in create\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1181, in _create_instance\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 955, in _validate_and_build_base_options\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     pci_request_info, requested_networks)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 1059, in create_pci_requests_for_sriov_ports\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     neutron = get_client(context, admin=True)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 237, in get_client\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     auth_token = _ADMIN_AUTH.get_token(_SESSION)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 200, in get_token\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     return self.get_access(session).auth_token\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 240, in get_access\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     self.auth_ref = self.get_auth_ref(session)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 184, in get_auth_ref\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     self._plugin = self._do_create_plugin(session)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 180, in _do_create_plugin\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions     raise exceptions.DiscoveryFailure(msg)\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions DiscoveryFailure: Could not determine a suitable URL for the plugin\n2016-04-19 17:38:27.752 2269 ERROR nova.api.openstack.extensions\n2016-04-19 17:38:27.754 2269 INFO nova.api.openstack.wsgi [req-a1b416be-398e-4e13-8fd2-3308c4fa2826 c647066b9fb248af85f3af547a1e4f9c d37e5a0f63564641be9ffe65e3aed887 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'keystoneclient.exceptions.DiscoveryFailure'>\n\nIt's run on Centos 7.1 , liberty Openstack , any body can help me ? Thanks.", 
            "date_created": "2016-04-19 10:09:47.423705+00:00", 
            "author": "https://api.launchpad.net/1.0/~daiyongtao0211"
        }, 
        {
            "content": "Could be related? https://bugs.launchpad.net/python-openstackclient/+bug/1447704", 
            "date_created": "2016-04-19 12:06:21.511092+00:00", 
            "author": "https://api.launchpad.net/1.0/~luis-ramirez"
        }, 
        {
            "content": "Could be related? https://bugs.launchpad.net/python-openstackclient/+bug/1447704", 
            "date_created": "2016-04-19 12:06:25.166967+00:00", 
            "author": "https://api.launchpad.net/1.0/~luis-ramirez"
        }, 
        {
            "content": "@Luis  Thanks,I have tried the method, but it didn't work for me. Is there any other solutions?", 
            "date_created": "2016-04-19 14:48:14.918848+00:00", 
            "author": "https://api.launchpad.net/1.0/~daiyongtao0211"
        }, 
        {
            "content": "Based on the limited information you've provided, this looks like a configuration issue. If you need help configuring Keystone correctly, please reach out to the OpenStack mailing list for support.\n\nIf this install worked previously and suddenly started displaying this behavior, please feel free to reopen this bug. If you do reopen this bug, please provide detailed information on what changed from when your install worked to when it stopped working, including detailed steps to reproduce if possible.", 
            "date_created": "2016-06-15 21:53:41.325463+00:00", 
            "author": "https://api.launchpad.net/1.0/~auggy"
        }
    ], 
    "closed": "2016-06-15 21:53:53.266919+00:00"
}