{
    "status": "Expired", 
    "last_updated": "2015-09-20 04:17:29.058653+00:00", 
    "description": "1. Exact version of Nova:\npython-novaclient-2.23.0\nopenstack-nova-common-2015.1.0\npython-nova-2015.1.0\nopenstack-nova-api-2015.1.0\nopenstack-nova-scheduler-2015.1.0\nopenstack-nova-conductor-2015.1.0\nopenstack-nova-compute-2015.1.0\nopenstack-nova-2015.1.0\n\n2. Relevant log files:\n2015-07-14 11:15:07.559 19984 ERROR nova.compute.manager [req-8b567c49-850a-4f00-a73b-c2879528ef39 - - - - -] [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] Instance failed to spawn\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] Traceback (most recent call last):\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2565, in _build_resources\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     yield resources\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2437, in _build_and_run_instance\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     block_device_info=block_device_info)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2385, in spawn\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     write_to_disk=True)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 4232, in _get_guest_xml\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     context)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 4103, in _get_guest_config\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     flavor, virt_type)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/vif.py\", line 374, in get_config\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     _(\"Unexpected vif_type=%s\") % vif_type)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] NovaException: Unexpected vif_type=binding_failed\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] \n2015-07-14 11:15:07.565 19984 INFO nova.compute.manager [req-a32fae7b-2a26-4d44-ab89-e16db804a9f0 58e88aff70dd4959ba5293dab8f6ceac c45dae15962c4797b70f6c278a232f3c - - -] [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] Terminating instance\n2015-07-14 11:15:07.572 19984 INFO nova.virt.libvirt.driver [-] [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] During wait destroy, instance disappeared.\n\n3. Reproduce steps:\n* Stop neutron-openvswitch-agent on compute node;\n* Boot one instance\n\nExpected result:\nTask state of instance should be None\n\nActual result:\nTask state of instance was always spawning\n# nova list\n+--------------------------------------+--------------------------------+--------+------------+-------------+----------------------+\n| ID                                   | Name                           | Status | Task State | Power State | Networks             |\n+--------------------------------------+--------------------------------+--------+------------+-------------+----------------------+\n| f0a16736-078a-4476-a56a-abee46fdc5f5 | instance_test_vif_binding_fail | ERROR  | spawning   | NOSTATE     |                      |\n+--------------------------------------+--------------------------------+--------+------------+-------------+----------------------+", 
    "tags": [
        "in-stable-kilo"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1474198", 
    "owner": "None", 
    "id": 1474198, 
    "index": 6914, 
    "openned": "2015-07-14 03:21:50.333166+00:00", 
    "created": "2015-07-14 03:21:50.333166+00:00", 
    "title": "task_state not NONE after instance boot failed", 
    "comments": [
        {
            "content": "1. Exact version of Nova:\npython-novaclient-2.23.0\nopenstack-nova-common-2015.1.0\npython-nova-2015.1.0\nopenstack-nova-api-2015.1.0\nopenstack-nova-scheduler-2015.1.0\nopenstack-nova-conductor-2015.1.0\nopenstack-nova-compute-2015.1.0\nopenstack-nova-2015.1.0\n\n2. Relevant log files:\n2015-07-14 11:15:07.559 19984 ERROR nova.compute.manager [req-8b567c49-850a-4f00-a73b-c2879528ef39 - - - - -] [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] Instance failed to spawn\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] Traceback (most recent call last):\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2565, in _build_resources\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     yield resources\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2437, in _build_and_run_instance\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     block_device_info=block_device_info)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2385, in spawn\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     write_to_disk=True)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 4232, in _get_guest_xml\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     context)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 4103, in _get_guest_config\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     flavor, virt_type)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/vif.py\", line 374, in get_config\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5]     _(\"Unexpected vif_type=%s\") % vif_type)\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] NovaException: Unexpected vif_type=binding_failed\n2015-07-14 11:15:07.559 19984 TRACE nova.compute.manager [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] \n2015-07-14 11:15:07.565 19984 INFO nova.compute.manager [req-a32fae7b-2a26-4d44-ab89-e16db804a9f0 58e88aff70dd4959ba5293dab8f6ceac c45dae15962c4797b70f6c278a232f3c - - -] [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] Terminating instance\n2015-07-14 11:15:07.572 19984 INFO nova.virt.libvirt.driver [-] [instance: f0a16736-078a-4476-a56a-abee46fdc5f5] During wait destroy, instance disappeared.\n\n3. Reproduce steps:\n* Stop neutron-openvswitch-agent on compute node;\n* Boot one instance\n\nExpected result:\nTask state of instance should be None\n\nActual result:\nTask state of instance was always spawning\n# nova list\n+--------------------------------------+--------------------------------+--------+------------+-------------+----------------------+\n| ID                                   | Name                           | Status | Task State | Power State | Networks             |\n+--------------------------------------+--------------------------------+--------+------------+-------------+----------------------+\n| f0a16736-078a-4476-a56a-abee46fdc5f5 | instance_test_vif_binding_fail | ERROR  | spawning   | NOSTATE     |                      |\n+--------------------------------------+--------------------------------+--------+------------+-------------+----------------------+", 
            "date_created": "2015-07-14 03:21:50.333166+00:00", 
            "author": "https://api.launchpad.net/1.0/~mark-xiett"
        }, 
        {
            "content": "hi Eric\nI am not sure why you expect Task State  should be None?", 
            "date_created": "2015-07-21 06:16:32.102698+00:00", 
            "author": "https://api.launchpad.net/1.0/~taget-9"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2015-09-20 04:17:26.259320+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ], 
    "closed": "2015-09-20 04:17:26.828993+00:00"
}