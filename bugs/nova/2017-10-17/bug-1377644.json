{
    "status": "Fix Released", 
    "last_updated": "2015-04-30 09:13:02.541434+00:00", 
    "description": "When live migrate instance between icehouse node to juno node, the nova client is stuck at call:\nREQ: curl -i 'http://cloudcontroller:8774/v2/e4c500071fe448989c86563b7c685a47/servers/be356982-71d3-46db-9964-a72f90cfed2d/action' -X POST -H \"Accept: application/json\" -H \"Content-Type: application/json\" -H \"User-Agent: python-novaclient\" -H \"X-Auth-Project-Id: demo\" -H \"X-Auth-Token: {SHA1}3ad85671637090f616bd6b4fb78d0847b5491ce8\" -d '{\"os-migrateLive\": {\"disk_over_commit\": false, \"block_migration\": true, \"host\": \"os3\"}}'\n\n\nAnd the instance status stuck at migrating.\n\n\nAnd get error message from nova-conductor:\n2014-10-05 22:20:20.461 ERROR nova.conductor.manager [req-b80cccfc-be96-471a-90dc-ade51e09a86f admin demo] Migration of instance be356982-71d3-46db-9964-a72f90\ncfed2d to host os3 unexpectedly failed.\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager Traceback (most recent call last):\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/manager.py\", line 562, in _live_migrate\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     block_migration, disk_over_commit)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/tasks/live_migrate.py\", line 191, in execute\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     return task.execute()\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/tasks/live_migrate.py\", line 61, in execute\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     self._check_requested_destination()\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/tasks/live_migrate.py\", line 99, in _check_requested_destination\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     self._call_livem_checks_on_host(self.destination)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/tasks/live_migrate.py\", line 141, in _call_livem_checks_on_host\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     destination, self.block_migration, self.disk_over_commit)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/compute/rpcapi.py\", line 349, in check_can_live_migrate_destination\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     self._check_live_migration_api_version(destination)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/compute/rpcapi.py\", line 296, in _check_live_migration_api_version\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     raise exception.LiveMigrationWithOldNovaNotSafe(server=server)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager LiveMigrationWithOldNovaNotSafe: Host os3 is running an old version of Nova, live migrations involving tha\nt version may cause data loss. Upgrade Nova on os3 and try again.\n\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager \n2014-10-05 22:20:20.462 ERROR oslo.messaging.rpc.dispatcher [req-b80cccfc-be96-471a-90dc-ade51e09a86f admin demo] Exception during message handling: Migration error: Host os3 is running an old version of Nova, live migrations involving that version may cause data loss. Upgrade Nova on os3 and try again.\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 177, in _dispatch\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 123, in _do_dispatch\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/server.py\", line 139, in inner\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     return func(*args, **kwargs)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/conductor/manager.py\", line 482, in migrate_server\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     block_migration, disk_over_commit)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/conductor/manager.py\", line 590, in _live_migrate\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     raise exception.MigrationError(reason=ex)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher MigrationError: Migration error: Host os3 is running an old version of Nova, live migrations involving that version may cause data loss. Upgrade Nova on os3 and try again.\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher \n2014-10-05 22:20:20.463 ERROR oslo.messaging._drivers.common [req-b80cccfc-be96-471a-90dc-ade51e09a86f admin demo] Returning exception Migration error: Host os3 is running an old version of Nova, live migrations involving that version may cause data loss. Upgrade Nova on os3 and try again. to caller\n2014-10-05 22:20:20.463 ERROR oslo.messaging._drivers.common [req-b80cccfc-be96-471a-90dc-ade51e09a86f admin demo] ['Traceback (most recent call last):\\n', '  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\\n    incoming.message))\\n', '  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 177, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt, args)\\n', '  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 123, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt, **new_args)\\n', '  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/server.py\", line 139, in inner\\n    return func(*args, **kwargs)\\n', '  File \"/opt/stack/nova/nova/conductor/manager.py\", line 482, in migrate_server\\n    block_migration, disk_over_commit)\\n', '  File \"/opt/stack/nova/nova/conductor/manager.py\", line 590, in _live_migrate\\n    raise exception.MigrationError(reason=ex)\\n', 'MigrationError: Migration error: Host os3 is running an old version of Nova, live migrations involving that version may cause data loss. Upgrade Nova on os3 and try again.\\n']\n\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/poll.py\", line 115, in wait\n    listener.cb(fileno)\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 215, in main\n    self._resolve_links()\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 230, in _resolve_links\n    f(self, *ca, **ckw)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_executors/impl_eventlet.py\", line 46, in complete\n    thread.wait()\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 173, in wait\n    return self._exit_event.wait()\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/event.py\", line 125, in wait\n    current.throw(*self._exc)\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n    result = function(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 129, in <lambda>\n    yield lambda: self._dispatch_and_reply(incoming)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 144, in _dispatch_and_reply\n    incoming.reply(failure=exc_info)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 72, in reply\n    self._send_reply(conn, reply, failure, log_failure=log_failure)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 49, in _send_reply\n    log_failure)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/common.py\", line 217, in serialize_remote_exception\n    json_data = jsonutils.dumps(data)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/serialization/jsonutils.py\", line 186, in dumps\n    return json.dumps(obj, default=default, **kwargs)\n  File \"/usr/lib/python2.7/json/__init__.py\", line 250, in dumps\n    sort_keys=sort_keys, **kw).encode(obj)\n  File \"/usr/lib/python2.7/json/encoder.py\", line 207, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/usr/lib/python2.7/json/encoder.py\", line 270, in iterencode\n    return _iterencode(o, 0)\nValueError: Circular reference detected", 
    "tags": [
        "in-stable-juno", 
        "juno-backport-potential"
    ], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1377644", 
    "owner": "https://api.launchpad.net/1.0/~xuhj", 
    "id": 1377644, 
    "index": 4071, 
    "openned": "2014-10-05 14:30:15.066172+00:00", 
    "created": "2014-10-05 14:30:15.066172+00:00", 
    "title": "Instance stuck at migrating status when live migrate between icehouse node and juno node", 
    "comments": [
        {
            "content": "When live migrate instance between icehouse node to juno node, the nova client is stuck at call:\nREQ: curl -i 'http://cloudcontroller:8774/v2/e4c500071fe448989c86563b7c685a47/servers/be356982-71d3-46db-9964-a72f90cfed2d/action' -X POST -H \"Accept: application/json\" -H \"Content-Type: application/json\" -H \"User-Agent: python-novaclient\" -H \"X-Auth-Project-Id: demo\" -H \"X-Auth-Token: {SHA1}3ad85671637090f616bd6b4fb78d0847b5491ce8\" -d '{\"os-migrateLive\": {\"disk_over_commit\": false, \"block_migration\": true, \"host\": \"os3\"}}'\n\n\nAnd the instance status stuck at migrating.\n\n\nAnd get error message from nova-conductor:\n2014-10-05 22:20:20.461 ERROR nova.conductor.manager [req-b80cccfc-be96-471a-90dc-ade51e09a86f admin demo] Migration of instance be356982-71d3-46db-9964-a72f90\ncfed2d to host os3 unexpectedly failed.\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager Traceback (most recent call last):\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/manager.py\", line 562, in _live_migrate\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     block_migration, disk_over_commit)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/tasks/live_migrate.py\", line 191, in execute\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     return task.execute()\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/tasks/live_migrate.py\", line 61, in execute\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     self._check_requested_destination()\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/tasks/live_migrate.py\", line 99, in _check_requested_destination\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     self._call_livem_checks_on_host(self.destination)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/conductor/tasks/live_migrate.py\", line 141, in _call_livem_checks_on_host\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     destination, self.block_migration, self.disk_over_commit)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/compute/rpcapi.py\", line 349, in check_can_live_migrate_destination\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     self._check_live_migration_api_version(destination)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager   File \"/opt/stack/nova/nova/compute/rpcapi.py\", line 296, in _check_live_migration_api_version\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager     raise exception.LiveMigrationWithOldNovaNotSafe(server=server)\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager LiveMigrationWithOldNovaNotSafe: Host os3 is running an old version of Nova, live migrations involving tha\nt version may cause data loss. Upgrade Nova on os3 and try again.\n\n2014-10-05 22:20:20.461 TRACE nova.conductor.manager \n2014-10-05 22:20:20.462 ERROR oslo.messaging.rpc.dispatcher [req-b80cccfc-be96-471a-90dc-ade51e09a86f admin demo] Exception during message handling: Migration error: Host os3 is running an old version of Nova, live migrations involving that version may cause data loss. Upgrade Nova on os3 and try again.\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 177, in _dispatch\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 123, in _do_dispatch\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/server.py\", line 139, in inner\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     return func(*args, **kwargs)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/conductor/manager.py\", line 482, in migrate_server\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     block_migration, disk_over_commit)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/conductor/manager.py\", line 590, in _live_migrate\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher     raise exception.MigrationError(reason=ex)\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher MigrationError: Migration error: Host os3 is running an old version of Nova, live migrations involving that version may cause data loss. Upgrade Nova on os3 and try again.\n2014-10-05 22:20:20.462 TRACE oslo.messaging.rpc.dispatcher \n2014-10-05 22:20:20.463 ERROR oslo.messaging._drivers.common [req-b80cccfc-be96-471a-90dc-ade51e09a86f admin demo] Returning exception Migration error: Host os3 is running an old version of Nova, live migrations involving that version may cause data loss. Upgrade Nova on os3 and try again. to caller\n2014-10-05 22:20:20.463 ERROR oslo.messaging._drivers.common [req-b80cccfc-be96-471a-90dc-ade51e09a86f admin demo] ['Traceback (most recent call last):\\n', '  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\\n    incoming.message))\\n', '  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 177, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt, args)\\n', '  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 123, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt, **new_args)\\n', '  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/server.py\", line 139, in inner\\n    return func(*args, **kwargs)\\n', '  File \"/opt/stack/nova/nova/conductor/manager.py\", line 482, in migrate_server\\n    block_migration, disk_over_commit)\\n', '  File \"/opt/stack/nova/nova/conductor/manager.py\", line 590, in _live_migrate\\n    raise exception.MigrationError(reason=ex)\\n', 'MigrationError: Migration error: Host os3 is running an old version of Nova, live migrations involving that version may cause data loss. Upgrade Nova on os3 and try again.\\n']\n\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/poll.py\", line 115, in wait\n    listener.cb(fileno)\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 215, in main\n    self._resolve_links()\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 230, in _resolve_links\n    f(self, *ca, **ckw)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_executors/impl_eventlet.py\", line 46, in complete\n    thread.wait()\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 173, in wait\n    return self._exit_event.wait()\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/event.py\", line 125, in wait\n    current.throw(*self._exc)\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n    result = function(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 129, in <lambda>\n    yield lambda: self._dispatch_and_reply(incoming)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 144, in _dispatch_and_reply\n    incoming.reply(failure=exc_info)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 72, in reply\n    self._send_reply(conn, reply, failure, log_failure=log_failure)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 49, in _send_reply\n    log_failure)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/common.py\", line 217, in serialize_remote_exception\n    json_data = jsonutils.dumps(data)\n  File \"/usr/local/lib/python2.7/dist-packages/oslo/serialization/jsonutils.py\", line 186, in dumps\n    return json.dumps(obj, default=default, **kwargs)\n  File \"/usr/lib/python2.7/json/__init__.py\", line 250, in dumps\n    sort_keys=sort_keys, **kw).encode(obj)\n  File \"/usr/lib/python2.7/json/encoder.py\", line 207, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/usr/lib/python2.7/json/encoder.py\", line 270, in iterencode\n    return _iterencode(o, 0)\nValueError: Circular reference detected", 
            "date_created": "2014-10-05 14:30:15.066172+00:00", 
            "author": "https://api.launchpad.net/1.0/~xuhj"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/126184", 
            "date_created": "2014-10-05 14:39:57.304823+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Commit bc45c56f102cdef58840e02b609a89f5278e8cce add exception LiveMigrationWithOldNovaNotSafe, and as commit message said the live migration is disabled between deferent version compute node. But LiveMigrationWithOldNovaNotSafe didn't catch as expected exception, then the instance status at migrating, and stuck the live migration rest api call(This should be another fix for stuck rest api call when unexpected exception).", 
            "date_created": "2014-10-05 14:49:08.469552+00:00", 
            "author": "https://api.launchpad.net/1.0/~xuhj"
        }, 
        {
            "content": "Related fix proposed to branch: master\nReview: https://review.openstack.org/133267", 
            "date_created": "2014-11-07 15:36:54.031196+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/126184\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=af43e17f03cfa7accacf17eb2b1c46bc3b914f11\nSubmitter: Jenkins\nBranch:    master\n\ncommit af43e17f03cfa7accacf17eb2b1c46bc3b914f11\nAuthor: He Jie Xu <email address hidden>\nDate:   Sun Oct 5 22:34:39 2014 +0800\n\n    Fix live migration api stuck when migrate to old nova node\n    \n    Commit bc45c56f102cdef58840e02b609a89f5278e8cce disable instance\n    live migration between different verison node. If the two nodes\n    with different rpc version, will raise exception\n    LiveMigrationWithOldNovaNotSafe. But this exception didn't catch\n    as expected exception, that make the instance status stuck at\n    migrating. This patch add LiveMigrationWithOldNovaNotSafe as\n    expected exception.\n    \n    Change-Id: I1dcee9181fd0ef293628b30766112f00792796ab\n    Closes-Bug: #1377644\n", 
            "date_created": "2014-11-17 12:03:44.945786+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/133267\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=64882d39d9fea9d6001ccc61973624949825c52f\nSubmitter: Jenkins\nBranch:    master\n\ncommit 64882d39d9fea9d6001ccc61973624949825c52f\nAuthor: He Jie Xu <email address hidden>\nDate:   Fri Nov 7 23:24:12 2014 +0800\n\n    Fix circular reference error when live migration failed\n    \n    When unexpected exception raised in live migration, the MigrationError\n    carry another original exception in it. But when oslo.message\n    serialize the exception, the circular reference error happended. This\n    patch just pass the exception as unicode string into MigrationError.\n    \n    Change-Id: I4e449baae74bd9a15490ae7accbd2103bae90d57\n    Related-Bug: #1377644\n", 
            "date_created": "2014-11-17 13:05:55.093107+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/juno\nReview: https://review.openstack.org/138685", 
            "date_created": "2014-12-03 11:23:59.145210+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/138685\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=46fa995212399d906d3f8dcc0b44ffffe87c49a1\nSubmitter: Jenkins\nBranch:    stable/juno\n\ncommit 46fa995212399d906d3f8dcc0b44ffffe87c49a1\nAuthor: He Jie Xu <email address hidden>\nDate:   Sun Oct 5 22:34:39 2014 +0800\n\n    Fix live migration api stuck when migrate to old nova node\n    \n    Commit bc45c56f102cdef58840e02b609a89f5278e8cce disable instance\n    live migration between different verison node. If the two nodes\n    with different rpc version, will raise exception\n    LiveMigrationWithOldNovaNotSafe. But this exception didn't catch\n    as expected exception, that make the instance status stuck at\n    migrating. This patch add LiveMigrationWithOldNovaNotSafe as\n    expected exception.\n    \n    Conflicts:\n            nova/tests/unit/api/openstack/compute/contrib/test_admin_actions.py\n            nova/tests/unit/api/openstack/compute/contrib/test_migrate_server.py\n            nova/tests/unit/conductor/test_conductor.py\n    \n    Change-Id: I1dcee9181fd0ef293628b30766112f00792796ab\n    Closes-Bug: #1377644\n", 
            "date_created": "2014-12-11 01:57:40.584545+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2014-12-18 20:03:05.001286+00:00"
}