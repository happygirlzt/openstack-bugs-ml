{
    "status": "Fix Released", 
    "last_updated": "2011-09-22 13:37:17.194455+00:00", 
    "description": "There's plenty of hosts available, yet the API returns 'Unable to find host for Instance #' sometimes.\nHere's the stack trace from nova-api:\n\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/__init__.py\", line 59, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 919, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 887, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/wsgi.py\", line 361, in __call__\n(nova.api.openstack): TRACE:     result = method(**arg_dict)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/servers.py\", line 179, in create\n(nova.api.openstack): TRACE:     password)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/api.py\", line 649, in set_admin_password\n(nova.api.openstack): TRACE:     host = self._find_host(context, instance_id)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/api.py\", line 494, in _find_host\n(nova.api.openstack): TRACE:     % instance_id)\n(nova.api.openstack): TRACE: Error: Unable to find host for Instance 1431\n(nova.api.openstack): TRACE: \n\nI need to dig into the scheduler log to see what I can find there.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/781435", 
    "owner": "https://api.launchpad.net/1.0/~jk0", 
    "id": 781435, 
    "index": 3415, 
    "openned": "2011-05-11 23:49:39.213825+00:00", 
    "created": "2011-05-11 23:49:39.213825+00:00", 
    "title": "50 builds at once sometimes results in 'Unable to find host for Instance #'", 
    "comments": [
        {
            "content": "There's plenty of hosts available, yet the API returns 'Unable to find host for Instance #' sometimes.\nHere's the stack trace from nova-api:\n\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/__init__.py\", line 59, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 919, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 887, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/wsgi.py\", line 361, in __call__\n(nova.api.openstack): TRACE:     result = method(**arg_dict)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/servers.py\", line 179, in create\n(nova.api.openstack): TRACE:     password)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/api.py\", line 649, in set_admin_password\n(nova.api.openstack): TRACE:     host = self._find_host(context, instance_id)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/api.py\", line 494, in _find_host\n(nova.api.openstack): TRACE:     % instance_id)\n(nova.api.openstack): TRACE: Error: Unable to find host for Instance 1431\n(nova.api.openstack): TRACE: \n\nI need to dig into the scheduler log to see what I can find there.", 
            "date_created": "2011-05-11 23:49:39.213825+00:00", 
            "author": "https://api.launchpad.net/1.0/~cbehrens"
        }, 
        {
            "content": "May be able to get around this by upping the xrange() to something higher than 10 in nova.compute.api.", 
            "date_created": "2011-05-12 21:26:30.264090+00:00", 
            "author": "https://api.launchpad.net/1.0/~jk0"
        }, 
        {
            "content": "10 is just an arbitrary number -- it should probably be bumped up anyway.", 
            "date_created": "2011-05-12 21:27:40.912891+00:00", 
            "author": "https://api.launchpad.net/1.0/~jk0"
        }
    ], 
    "closed": "2011-09-22 13:37:15.490030+00:00"
}