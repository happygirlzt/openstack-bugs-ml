{
    "status": "Invalid", 
    "last_updated": "2012-06-07 13:49:12.306758+00:00", 
    "description": "I create a number of instances rapidly as follows:\n\nmkent@m0005047: for x in $(seq 1 10); do nova boot --flavor=1 --image=4 \"testimage-$x\"; done\n\nAfter a while, some, but not all of the instances are active:\n\nmkent@m0005047:~/creds$ nova list\n+----+---------------+--------+--------------------+\n| ID |      Name     | Status |      Networks      |\n+----+---------------+--------+--------------------+\n| 15 | testimage-1   | ACTIVE | public=10.21.41.12 |\n| 16 | testimage-2   | ACTIVE | public=10.21.41.13 |\n| 17 | testimage-3   | BUILD  |                    |\n| 18 | testimage-4   | BUILD  |                    |\n| 19 | testimage-5   | ACTIVE | public=10.21.41.16 |\n| 20 | testimage-6   | BUILD  |                    |\n| 21 | testimage-7   | BUILD  |                    |\n| 22 | testimage-8   | ACTIVE | public=10.21.41.15 |\n| 23 | testimage-9   | ACTIVE | public=10.21.41.17 |\n| 24 | testimage-10  | ACTIVE | public=10.21.41.14 |\n\nI see the following exceptions in nova-network.log, and similar remote errors in nova-compute.log\n\n2011-12-16 13:30:02,581 ERROR nova.rpc [-] Exception during message handling\n(nova.rpc): TRACE: Traceback (most recent call last):\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/rpc/impl_kombu.py\", line 620, in _process_data\n(nova.rpc): TRACE:     rval = node_func(context=ctxt, **node_args)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 218, in allocate_for_instance\n(nova.rpc): TRACE:     ips = super(FloatingIP, self).allocate_for_instance(context, **kwargs)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 441, in allocate_for_instance\n(nova.rpc): TRACE:     requested_networks=requested_networks)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 168, in _allocate_fixed_ips\n(nova.rpc): TRACE:     vpn=vpn, address=address)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 612, in allocate_fixed_ip\n(nova.rpc): TRACE:     instance_id)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 347, in fixed_ip_associate_pool\n(nova.rpc): TRACE:     instance_id, host)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 101, in wrapper\n(nova.rpc): TRACE:     return f(*args, **kwargs)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 729, in fixed_ip_associate_pool\n(nova.rpc): TRACE:     raise exception.NoMoreFixedIps()\n(nova.rpc): TRACE: NoMoreFixedIps: Zero fixed ips available.\n(nova.rpc): TRACE:\n2011-12-16 13:30:02,582 ERROR nova.rpc [-] Returning exception Zero fixed ips available. to caller\n2011-12-16 13:30:02,582 ERROR nova.rpc [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 218, in allocate_for_instance\\n    ips = super(FloatingIP, self).allocate_for_instance(context, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 441, in allocate_for_instance\\n    requested_networks=requested_networks)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 168, in _allocate_fixed_ips\\n    vpn=vpn, address=address)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 612, in allocate_fixed_ip\\n    instance_id)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 347, in fixed_ip_associate_pool\\n    instance_id, host)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 101, in wrapper\\n    return f(*args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 729, in fixed_ip_associate_pool\\n    raise exception.NoMoreFixedIps()\\n', 'NoMoreFixedIps: Zero fixed ips available.\\n']\n\nmkent@m0005047:~/creds$ dpkg -l | grep nova\nii  nova-api                        2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - API frontend\nii  nova-common                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - common files\nii  nova-compute                    2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - compute node\nii  nova-compute-kvm                2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - compute node (KVM)\nii  nova-network                    2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - Network manager\nii  nova-objectstore                2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - object store\nii  nova-scheduler                  2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - virtual machine scheduler\nii  nova-volume                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - storage\nii  python-nova                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute Python libraries\nii  python-novaclient               2.6.4~bzr113-0ubuntu0ppa1~natty1             client library for OpenStack Compute API", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/905536", 
    "owner": "None", 
    "id": 905536, 
    "index": 3710, 
    "openned": "2011-12-16 21:48:32.931962+00:00", 
    "created": "2011-12-16 21:48:32.931962+00:00", 
    "title": "Rapidly created instances don't get fixed IPs", 
    "comments": [
        {
            "content": "I create a number of instances rapidly as follows:\n\nmkent@m0005047: for x in $(seq 1 10); do nova boot --flavor=1 --image=4 \"testimage-$x\"; done\n\nAfter a while, some, but not all of the instances are active:\n\nmkent@m0005047:~/creds$ nova list\n+----+---------------+--------+--------------------+\n| ID |      Name     | Status |      Networks      |\n+----+---------------+--------+--------------------+\n| 15 | testimage-1   | ACTIVE | public=10.21.41.12 |\n| 16 | testimage-2   | ACTIVE | public=10.21.41.13 |\n| 17 | testimage-3   | BUILD  |                    |\n| 18 | testimage-4   | BUILD  |                    |\n| 19 | testimage-5   | ACTIVE | public=10.21.41.16 |\n| 20 | testimage-6   | BUILD  |                    |\n| 21 | testimage-7   | BUILD  |                    |\n| 22 | testimage-8   | ACTIVE | public=10.21.41.15 |\n| 23 | testimage-9   | ACTIVE | public=10.21.41.17 |\n| 24 | testimage-10  | ACTIVE | public=10.21.41.14 |\n\nI see the following exceptions in nova-network.log, and similar remote errors in nova-compute.log\n\n2011-12-16 13:30:02,581 ERROR nova.rpc [-] Exception during message handling\n(nova.rpc): TRACE: Traceback (most recent call last):\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/rpc/impl_kombu.py\", line 620, in _process_data\n(nova.rpc): TRACE:     rval = node_func(context=ctxt, **node_args)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 218, in allocate_for_instance\n(nova.rpc): TRACE:     ips = super(FloatingIP, self).allocate_for_instance(context, **kwargs)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 441, in allocate_for_instance\n(nova.rpc): TRACE:     requested_networks=requested_networks)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 168, in _allocate_fixed_ips\n(nova.rpc): TRACE:     vpn=vpn, address=address)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 612, in allocate_fixed_ip\n(nova.rpc): TRACE:     instance_id)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 347, in fixed_ip_associate_pool\n(nova.rpc): TRACE:     instance_id, host)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 101, in wrapper\n(nova.rpc): TRACE:     return f(*args, **kwargs)\n(nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 729, in fixed_ip_associate_pool\n(nova.rpc): TRACE:     raise exception.NoMoreFixedIps()\n(nova.rpc): TRACE: NoMoreFixedIps: Zero fixed ips available.\n(nova.rpc): TRACE:\n2011-12-16 13:30:02,582 ERROR nova.rpc [-] Returning exception Zero fixed ips available. to caller\n2011-12-16 13:30:02,582 ERROR nova.rpc [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 218, in allocate_for_instance\\n    ips = super(FloatingIP, self).allocate_for_instance(context, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 441, in allocate_for_instance\\n    requested_networks=requested_networks)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 168, in _allocate_fixed_ips\\n    vpn=vpn, address=address)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 612, in allocate_fixed_ip\\n    instance_id)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 347, in fixed_ip_associate_pool\\n    instance_id, host)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 101, in wrapper\\n    return f(*args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 729, in fixed_ip_associate_pool\\n    raise exception.NoMoreFixedIps()\\n', 'NoMoreFixedIps: Zero fixed ips available.\\n']\n\nmkent@m0005047:~/creds$ dpkg -l | grep nova\nii  nova-api                        2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - API frontend\nii  nova-common                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - common files\nii  nova-compute                    2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - compute node\nii  nova-compute-kvm                2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - compute node (KVM)\nii  nova-network                    2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - Network manager\nii  nova-objectstore                2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - object store\nii  nova-scheduler                  2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - virtual machine scheduler\nii  nova-volume                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - storage\nii  python-nova                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute Python libraries\nii  python-novaclient               2.6.4~bzr113-0ubuntu0ppa1~natty1             client library for OpenStack Compute API", 
            "date_created": "2011-12-16 21:48:32.931962+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkent0"
        }, 
        {
            "content": "This isn't really a bug.  You can create a larger network to handle your ips.\n\nYou can also use the flag:\n--force_dhcp_release\nto make sure ips get reused more quickly.  Without the flag there is a timeout before leases expire\nThere is a current bug about leases not being timed out properly in some situations here:\n\nhttps://bugs.launchpad.net/nova/+bug/898485\n\nI'm working on that one, but meanwhile the flag above or creating a larger network should help.", 
            "date_created": "2011-12-16 22:51:53.717057+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "Can't agree. There are 255 available addresses in the network, the majority of which have *never* been used by any instance. \n\nIf I create instances in batches of 10 without deleting any, without fail some of the instances in each batch suffer from exactly this problem. I don't understand the explanation in term of expired leases in this case - there are no address which are available which have previously been leased.\n\n", 
            "date_created": "2011-12-16 23:56:23.273209+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkent0"
        }, 
        {
            "content": "Are you using sqlite or mysql without InnoDB?  The associate_pool code relies on row locking to prevent race conditions, which is not supported in sqlite or using myisam tables.\n\n\nOn Dec 16, 2011, at 3:56 PM, Mark Kent wrote:\n\n> Can't agree. There are 255 available addresses in the network, the\n> majority of which have *never* been used by any instance.\n> \n> If I create instances in batches of 10 without deleting any, without\n> fail some of the instances in each batch suffer from exactly this\n> problem. I don't understand the explanation in term of expired leases in\n> this case - there are no address which are available which have\n> previously been leased.\n> \n> \n> ** Changed in: nova\n>       Status: Invalid => New\n> \n> -- \n> You received this bug notification because you are subscribed to\n> OpenStack Compute (nova).\n> https://bugs.launchpad.net/bugs/905536\n> \n> Title:\n>  Rapidly created instances don't get fixed IPs\n> \n> Status in OpenStack Compute (Nova):\n>  New\n> \n> Bug description:\n>  I create a number of instances rapidly as follows:\n> \n>  mkent@m0005047: for x in $(seq 1 10); do nova boot --flavor=1\n>  --image=4 \"testimage-$x\"; done\n> \n>  After a while, some, but not all of the instances are active:\n> \n>  mkent@m0005047:~/creds$ nova list\n>  +----+---------------+--------+--------------------+\n>  | ID |      Name     | Status |      Networks      |\n>  +----+---------------+--------+--------------------+\n>  | 15 | testimage-1   | ACTIVE | public=10.21.41.12 |\n>  | 16 | testimage-2   | ACTIVE | public=10.21.41.13 |\n>  | 17 | testimage-3   | BUILD  |                    |\n>  | 18 | testimage-4   | BUILD  |                    |\n>  | 19 | testimage-5   | ACTIVE | public=10.21.41.16 |\n>  | 20 | testimage-6   | BUILD  |                    |\n>  | 21 | testimage-7   | BUILD  |                    |\n>  | 22 | testimage-8   | ACTIVE | public=10.21.41.15 |\n>  | 23 | testimage-9   | ACTIVE | public=10.21.41.17 |\n>  | 24 | testimage-10  | ACTIVE | public=10.21.41.14 |\n> \n>  I see the following exceptions in nova-network.log, and similar remote\n>  errors in nova-compute.log\n> \n>  2011-12-16 13:30:02,581 ERROR nova.rpc [-] Exception during message handling\n>  (nova.rpc): TRACE: Traceback (most recent call last):\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/rpc/impl_kombu.py\", line 620, in _process_data\n>  (nova.rpc): TRACE:     rval = node_func(context=ctxt, **node_args)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 218, in allocate_for_instance\n>  (nova.rpc): TRACE:     ips = super(FloatingIP, self).allocate_for_instance(context, **kwargs)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 441, in allocate_for_instance\n>  (nova.rpc): TRACE:     requested_networks=requested_networks)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 168, in _allocate_fixed_ips\n>  (nova.rpc): TRACE:     vpn=vpn, address=address)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 612, in allocate_fixed_ip\n>  (nova.rpc): TRACE:     instance_id)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 347, in fixed_ip_associate_pool\n>  (nova.rpc): TRACE:     instance_id, host)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 101, in wrapper\n>  (nova.rpc): TRACE:     return f(*args, **kwargs)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 729, in fixed_ip_associate_pool\n>  (nova.rpc): TRACE:     raise exception.NoMoreFixedIps()\n>  (nova.rpc): TRACE: NoMoreFixedIps: Zero fixed ips available.\n>  (nova.rpc): TRACE:\n>  2011-12-16 13:30:02,582 ERROR nova.rpc [-] Returning exception Zero fixed ips available. to caller\n>  2011-12-16 13:30:02,582 ERROR nova.rpc [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 218, in allocate_for_instance\\n    ips = super(FloatingIP, self).allocate_for_instance(context, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 441, in allocate_for_instance\\n    requested_networks=requested_networks)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 168, in _allocate_fixed_ips\\n    vpn=vpn, address=address)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 612, in allocate_fixed_ip\\n    instance_id)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 347, in fixed_ip_associate_pool\\n    instance_id, host)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 101, in wrapper\\n    return f(*args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 729, in fixed_ip_associate_pool\\n    raise exception.NoMoreFixedIps()\\n', 'NoMoreFixedIps: Zero fixed ips available.\\n']\n> \n>  mkent@m0005047:~/creds$ dpkg -l | grep nova\n>  ii  nova-api                        2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - API frontend\n>  ii  nova-common                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - common files\n>  ii  nova-compute                    2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - compute node\n>  ii  nova-compute-kvm                2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - compute node (KVM)\n>  ii  nova-network                    2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - Network manager\n>  ii  nova-objectstore                2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - object store\n>  ii  nova-scheduler                  2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - virtual machine scheduler\n>  ii  nova-volume                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - storage\n>  ii  python-nova                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute Python libraries\n>  ii  python-novaclient               2.6.4~bzr113-0ubuntu0ppa1~natty1             client library for OpenStack Compute API\n> \n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/905536/+subscriptions\n\n", 
            "date_created": "2011-12-17 00:36:03+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "No, I'm using Postgres as a DB\n", 
            "date_created": "2011-12-17 09:13:32.681458+00:00", 
            "author": "https://api.launchpad.net/1.0/~mkent0"
        }, 
        {
            "content": "Interesting\n\nMaybe there are issues using with_lockmode in postgres? I definitely haven't seen this occur with mysql.  Can you double check your db and make sure that you don't have some weird overlapping networks defined.  It seems odd to me that the query would return an empty result.  The only way I could see this happening is if the with_lockmode option is actually locking the entire table somehow.\n\nVish\n\nOn Dec 17, 2011, at 1:13 AM, Mark Kent wrote:\n\n> No, I'm using Postgres as a DB\n> \n> -- \n> You received this bug notification because you are subscribed to\n> OpenStack Compute (nova).\n> https://bugs.launchpad.net/bugs/905536\n> \n> Title:\n>  Rapidly created instances don't get fixed IPs\n> \n> Status in OpenStack Compute (Nova):\n>  New\n> \n> Bug description:\n>  I create a number of instances rapidly as follows:\n> \n>  mkent@m0005047: for x in $(seq 1 10); do nova boot --flavor=1\n>  --image=4 \"testimage-$x\"; done\n> \n>  After a while, some, but not all of the instances are active:\n> \n>  mkent@m0005047:~/creds$ nova list\n>  +----+---------------+--------+--------------------+\n>  | ID |      Name     | Status |      Networks      |\n>  +----+---------------+--------+--------------------+\n>  | 15 | testimage-1   | ACTIVE | public=10.21.41.12 |\n>  | 16 | testimage-2   | ACTIVE | public=10.21.41.13 |\n>  | 17 | testimage-3   | BUILD  |                    |\n>  | 18 | testimage-4   | BUILD  |                    |\n>  | 19 | testimage-5   | ACTIVE | public=10.21.41.16 |\n>  | 20 | testimage-6   | BUILD  |                    |\n>  | 21 | testimage-7   | BUILD  |                    |\n>  | 22 | testimage-8   | ACTIVE | public=10.21.41.15 |\n>  | 23 | testimage-9   | ACTIVE | public=10.21.41.17 |\n>  | 24 | testimage-10  | ACTIVE | public=10.21.41.14 |\n> \n>  I see the following exceptions in nova-network.log, and similar remote\n>  errors in nova-compute.log\n> \n>  2011-12-16 13:30:02,581 ERROR nova.rpc [-] Exception during message handling\n>  (nova.rpc): TRACE: Traceback (most recent call last):\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/rpc/impl_kombu.py\", line 620, in _process_data\n>  (nova.rpc): TRACE:     rval = node_func(context=ctxt, **node_args)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 218, in allocate_for_instance\n>  (nova.rpc): TRACE:     ips = super(FloatingIP, self).allocate_for_instance(context, **kwargs)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 441, in allocate_for_instance\n>  (nova.rpc): TRACE:     requested_networks=requested_networks)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 168, in _allocate_fixed_ips\n>  (nova.rpc): TRACE:     vpn=vpn, address=address)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 612, in allocate_fixed_ip\n>  (nova.rpc): TRACE:     instance_id)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 347, in fixed_ip_associate_pool\n>  (nova.rpc): TRACE:     instance_id, host)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 101, in wrapper\n>  (nova.rpc): TRACE:     return f(*args, **kwargs)\n>  (nova.rpc): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 729, in fixed_ip_associate_pool\n>  (nova.rpc): TRACE:     raise exception.NoMoreFixedIps()\n>  (nova.rpc): TRACE: NoMoreFixedIps: Zero fixed ips available.\n>  (nova.rpc): TRACE:\n>  2011-12-16 13:30:02,582 ERROR nova.rpc [-] Returning exception Zero fixed ips available. to caller\n>  2011-12-16 13:30:02,582 ERROR nova.rpc [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 218, in allocate_for_instance\\n    ips = super(FloatingIP, self).allocate_for_instance(context, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 441, in allocate_for_instance\\n    requested_networks=requested_networks)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 168, in _allocate_fixed_ips\\n    vpn=vpn, address=address)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 612, in allocate_fixed_ip\\n    instance_id)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 347, in fixed_ip_associate_pool\\n    instance_id, host)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 101, in wrapper\\n    return f(*args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 729, in fixed_ip_associate_pool\\n    raise exception.NoMoreFixedIps()\\n', 'NoMoreFixedIps: Zero fixed ips available.\\n']\n> \n>  mkent@m0005047:~/creds$ dpkg -l | grep nova\n>  ii  nova-api                        2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - API frontend\n>  ii  nova-common                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - common files\n>  ii  nova-compute                    2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - compute node\n>  ii  nova-compute-kvm                2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - compute node (KVM)\n>  ii  nova-network                    2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - Network manager\n>  ii  nova-objectstore                2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - object store\n>  ii  nova-scheduler                  2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - virtual machine scheduler\n>  ii  nova-volume                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute - storage\n>  ii  python-nova                     2011.3-0ubuntu2~ppa1~natty1                  OpenStack Compute Python libraries\n>  ii  python-novaclient               2.6.4~bzr113-0ubuntu0ppa1~natty1             client library for OpenStack Compute API\n> \n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/905536/+subscriptions\n\n", 
            "date_created": "2011-12-17 22:08:48+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "We cannot solve the issue you reported without more information. Could you please provide the requested information ?", 
            "date_created": "2012-02-02 11:23:27.502099+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "This bug lacks the necessary information to effectively reproduce and fix it, therefore it has been closed. Feel free to reopen the bug by providing the requested information and set the bug status back to ''New''.", 
            "date_created": "2012-06-07 13:49:08.843841+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }
    ], 
    "closed": "2012-06-07 13:49:10.741027+00:00"
}