{
    "status": "Invalid", 
    "last_updated": "2011-09-08 18:58:34.100930+00:00", 
    "description": "Running rev 1514, ran into this on instance boot in XenServer:\n\n2011-09-01 02:38:03,309 DEBUG nova.rpc [-] Making asynchronous cast on notifications.error... from (pid=24801) cast /usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py:747\n2011-09-01 02:38:03,317 ERROR nova.rpc [-] Exception during message handling\n(nova.rpc): TRACE: Traceback (most recent call last):\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 620, in _process_data\n(nova.rpc): TRACE:     rval = node_func(context=ctxt, **node_args)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\n(nova.rpc): TRACE:     return f(*args, **kw)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 453, in run_instance\n(nova.rpc): TRACE:     self._run_instance(context, instance_id, **kwargs)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 392, in _run_instance\n(nova.rpc): TRACE:     requested_networks=requested_networks)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/network/api.py\", line 162, in allocate_for_instance\n(nova.rpc): TRACE:     'args': args})\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/__init__.py\", line 45, in call\n(nova.rpc): TRACE:     return get_impl().call(context, topic, msg)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 739, in call\n(nova.rpc): TRACE:     rv = list(rv)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 703, in __iter__\n(nova.rpc): TRACE:     raise result\n(nova.rpc): TRACE: RemoteError: DBError exceptions must be old-style classes or derived from BaseException, not NoneType\n(nova.rpc): TRACE: [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 462, in allocate_for_instance\\n    networks, vpn=vpn)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 971, in _allocate_fixed_ips_hack\\n    self.allocate_fixed_ip(context, instance_id, nw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 672, in allocate_fixed_ip\\n    self.db.fixed_ip_update(context, address, values)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/db/api.py\", line 398, in fixed_ip_update\\n    return IMPL.fixed_ip_update(context, address, values)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 118, in wrapper\\n    return f(*args, **kwargs)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 875, in fixed_ip_update\\n    fixed_ip_ref.save(session=session)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/models.py\", line 59, in save\\n    session.flush()\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 81, in _wrap\\n    raise DBError(e)\\n', u'DBError: exceptions must be old-style classes or derived from BaseException, not NoneType\\n']\n(nova.rpc): TRACE: \n2011-09-01 02:38:30,719 DEBUG nova.manager [-] Notifying Schedulers of capabilities ... from (pid=24801) periodic_tasks /usr/lib/pymodules/python2.6/nova/manager.py:111\n2011-09-01 02:38:30,720 DEBUG nova.rpc [-] Making asynchronous fanout cast... from (pid=24801) fanout_cast /usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py:755", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/838584", 
    "owner": "None", 
    "id": 838584, 
    "index": 2539, 
    "openned": "2011-09-01 04:37:28.456610+00:00", 
    "created": "2011-09-01 04:37:28.456610+00:00", 
    "title": "DBError exceptions must be old-style classes or derived from BaseException, not NoneType", 
    "comments": [
        {
            "content": "Running rev 1514, ran into this on instance boot in XenServer:\n\n2011-09-01 02:38:03,309 DEBUG nova.rpc [-] Making asynchronous cast on notifications.error... from (pid=24801) cast /usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py:747\n2011-09-01 02:38:03,317 ERROR nova.rpc [-] Exception during message handling\n(nova.rpc): TRACE: Traceback (most recent call last):\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 620, in _process_data\n(nova.rpc): TRACE:     rval = node_func(context=ctxt, **node_args)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 98, in wrapped\n(nova.rpc): TRACE:     return f(*args, **kw)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 453, in run_instance\n(nova.rpc): TRACE:     self._run_instance(context, instance_id, **kwargs)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 392, in _run_instance\n(nova.rpc): TRACE:     requested_networks=requested_networks)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/network/api.py\", line 162, in allocate_for_instance\n(nova.rpc): TRACE:     'args': args})\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/__init__.py\", line 45, in call\n(nova.rpc): TRACE:     return get_impl().call(context, topic, msg)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 739, in call\n(nova.rpc): TRACE:     rv = list(rv)\n(nova.rpc): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 703, in __iter__\n(nova.rpc): TRACE:     raise result\n(nova.rpc): TRACE: RemoteError: DBError exceptions must be old-style classes or derived from BaseException, not NoneType\n(nova.rpc): TRACE: [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py\", line 620, in _process_data\\n    rval = node_func(context=ctxt, **node_args)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 462, in allocate_for_instance\\n    networks, vpn=vpn)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 971, in _allocate_fixed_ips_hack\\n    self.allocate_fixed_ip(context, instance_id, nw)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 672, in allocate_fixed_ip\\n    self.db.fixed_ip_update(context, address, values)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/db/api.py\", line 398, in fixed_ip_update\\n    return IMPL.fixed_ip_update(context, address, values)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 118, in wrapper\\n    return f(*args, **kwargs)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 875, in fixed_ip_update\\n    fixed_ip_ref.save(session=session)\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/models.py\", line 59, in save\\n    session.flush()\\n', u'  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 81, in _wrap\\n    raise DBError(e)\\n', u'DBError: exceptions must be old-style classes or derived from BaseException, not NoneType\\n']\n(nova.rpc): TRACE: \n2011-09-01 02:38:30,719 DEBUG nova.manager [-] Notifying Schedulers of capabilities ... from (pid=24801) periodic_tasks /usr/lib/pymodules/python2.6/nova/manager.py:111\n2011-09-01 02:38:30,720 DEBUG nova.rpc [-] Making asynchronous fanout cast... from (pid=24801) fanout_cast /usr/lib/pymodules/python2.6/nova/rpc/impl_kombu.py:755", 
            "date_created": "2011-09-01 04:37:28.456610+00:00", 
            "author": "https://api.launchpad.net/1.0/~antonym"
        }, 
        {
            "content": "I get the same error\nversion milestone D4", 
            "date_created": "2011-09-01 17:33:12.840909+00:00", 
            "author": "https://api.launchpad.net/1.0/~fhb1992"
        }, 
        {
            "content": "Bug 822748 was supposed to address that, though.", 
            "date_created": "2011-09-02 08:50:17.951602+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "See this bug here: Bug #835242.  I'll close this one out.  Seems to be related to the NoMoreFixedIP exception. ", 
            "date_created": "2011-09-02 21:38:11.947420+00:00", 
            "author": "https://api.launchpad.net/1.0/~antonym"
        }, 
        {
            "content": "Easier to read version of the remote exception:\n\nhttp://paste.openstack.org/show/2356/", 
            "date_created": "2011-09-02 22:07:11.849643+00:00", 
            "author": "https://api.launchpad.net/1.0/~johannes.erdfelt"
        }
    ], 
    "closed": "2011-09-08 18:58:33.214102+00:00"
}