{
    "status": "Expired", 
    "last_updated": "2016-07-05 09:52:18.677104+00:00", 
    "description": "trying to create a Port when the network has no more addresses, Neutron returns this error:\nNo more IP addresses available on network a4e997dc-ba2e-4444-9394-cfd89f670886.\n\nHowever, when trying to create a VM in a network that has no more addresses, the VM is created with Error details:\n\"No valid host was found\"\n\nThat's because the the compute agent is seeing the PortLimitExceeded error from neutron and reports the the scheduler.\nThe scheduler mistakes that for Hypervisor limit and tries another compute (which fails for the same reason) and finally reports the error as \"No host found\", while the error has to be \"No more IP addresses available on network a4e997dc-ba2e-4444-9394-cfd89f670886\"\n\n\nNeutron however, doesn't register any errors for this flow.\n\nRecreate:\n1. create a subnet with 31 mask bits (which means no ports available for VMs)\n2. Boot a VM. errors will be seen in nova-compute, and nova-scheduler\n\nnova compute:\n2014-09-09 14:30:11.517 123433 AUDIT nova.compute.manager [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Starting instance...\n2014-09-09 14:30:11.608 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Attempting claim: memory 64 MB, disk 0 GB, VCPUs 1\n2014-09-09 14:30:11.608 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Total memory: 31952 MB, used: 1152.00 MB\n2014-09-09 14:30:11.609 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] memory limit: 47928.00 MB, free: 46776.00 MB\n2014-09-09 14:30:11.609 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Total disk: 442 GB, used: 0.00 GB\n2014-09-09 14:30:11.609 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] disk limit not specified, defaulting to unlimited\n2014-09-09 14:30:11.609 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Total CPUs: 24 VCPUs, used: 10.00 VCPUs\n2014-09-09 14:30:11.610 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] CPUs limit: 384.00 VCPUs, free: 374.00 VCPUs\n2014-09-09 14:30:11.610 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Claim successful\n2014-09-09 14:30:12.141 123433 WARNING nova.network.neutronv2.api [-] Neutron error: quota exceeded\n2014-09-09 14:30:12.142 123433 ERROR nova.compute.manager [-] Instance failed network setup after 1 attempt(s)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager Traceback (most recent call last):\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1528, in _allocate_network_async\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     dhcp_options=dhcp_options)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 360, in allocate_for_instance\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     LOG.exception(msg, port_id)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     six.reraise(self.type_, self.value, self.tb)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 335, in allocate_for_instance\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     security_group_ids, available_macs, dhcp_opts)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 191, in _create_port\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     raise exception.PortLimitExceeded()\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager PortLimitExceeded: Maximum number of ports exceeded\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager\n2014-09-09 14:30:12.158 123433 INFO nova.virt.libvirt.driver [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Creating image\n2014-09-09 14:30:12.261 123433 ERROR nova.compute.manager [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Instance failed to spawn\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Traceback (most recent call last):\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1738, in _spawn\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     block_device_info)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2282, in spawn\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     admin_pass=admin_password)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2733, in _create_image\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     instance, network_info, admin_pass, files, suffix)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2551, in _inject_data\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     net = netutils.get_injected_network_template(network_info)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/netutils.py\", line 71, in get_injected_network_template\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     if not (network_info and template):\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 420, in __len__\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return self._sync_wrapper(fn, *args, **kwargs)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 407, in _sync_wrapper\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     self.wait()\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 439, in wait\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     self[:] = self._gt.wait()\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 168, in wait\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return self._exit_event.wait()\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 120, in wait\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     current.throw(*self._exc)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 194, in main\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     result = function(*args, **kwargs)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1528, in _allocate_network_async\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     dhcp_options=dhcp_options)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 360, in allocate_for_instance\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     LOG.exception(msg, port_id)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     six.reraise(self.type_, self.value, self.tb)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 335, in allocate_for_instance\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     security_group_ids, available_macs, dhcp_opts)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 191, in _create_port\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     raise exception.PortLimitExceeded()\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] PortLimitExceeded: Maximum number of ports exceeded\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]\n2014-09-09 14:30:12.326 123433 AUDIT nova.compute.manager [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Terminating instance\n2014-09-09 14:30:12.334 123433 ERROR nova.virt.libvirt.driver [-] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] During wait destroy, instance disappeared.\n2014-09-09 14:30:12.425 123433 INFO nova.virt.libvirt.driver [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Deleting instance files /var/lib/nova/instances/8f50312c-f47e-4793-aff7-a890f20ee2bb\n2014-09-09 14:30:12.425 123433 INFO nova.virt.libvirt.driver [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Deletion of /var/lib/nova/instances/8f50312c-f47e-4793-aff7-a890f20ee2bb complete\n2014-09-09 14:30:12.558 123433 INFO nova.network.neutronv2.api [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Unable to reset device ID for port None\n2014-09-09 14:30:12.644 123433 ERROR nova.compute.manager [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Error: Maximum number of ports exceeded\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Traceback (most recent call last):\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1329, in _build_instance\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     set_access_ip=set_access_ip)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 393, in decorated_function\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return function(self, context, *args, **kwargs)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1741, in _spawn\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     LOG.exception(_('Instance failed to spawn'), instance=instance)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     six.reraise(self.type_, self.value, self.tb)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1738, in _spawn\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     block_device_info)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2282, in spawn\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     admin_pass=admin_password)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2733, in _create_image\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     instance, network_info, admin_pass, files, suffix)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2551, in _inject_data\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     net = netutils.get_injected_network_template(network_info)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/netutils.py\", line 71, in get_injected_network_template\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     if not (network_info and template):\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 420, in __len__\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return self._sync_wrapper(fn, *args, **kwargs)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 407, in _sync_wrapper\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     self.wait()\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 439, in wait\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     self[:] = self._gt.wait()\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 168, in wait\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return self._exit_event.wait()\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 120, in wait\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     current.throw(*self._exc)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 194, in main\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     result = function(*args, **kwargs)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1528, in _allocate_network_async\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     dhcp_options=dhcp_options)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 360, in allocate_for_instance\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     LOG.exception(msg, port_id)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     six.reraise(self.type_, self.value, self.tb)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 335, in allocate_for_instance\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     security_group_ids, available_macs, dhcp_opts)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 191, in _create_port\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     raise exception.PortLimitExceeded()\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] PortLimitExceeded: Maximum number of ports exceeded\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]\n2014-09-09 14:30:33.435 123433 AUDIT nova.compute.resource_tracker [-] Auditing locally available compute resources\n2014-09-09 14:30:34.112 123433 AUDIT nova.compute.resource_tracker [-] Free ram (MB): 30736\n2014-09-09 14:30:34.112 123433 AUDIT nova.compute.resource_tracker [-] Free disk (GB): 442\n2014-09-09 14:30:34.112 123433 AUDIT nova.compute.resource_tracker [-] Free VCPUS: 13\n2014-09-09 14:30:34.137 123433 INFO nova.compute.resource_tracker [-] Compute_service record updated for puma48.scl.lab.tlv.redhat.com:puma48.scl.lab.tlv.redhat.com\n2014-09-09 14:30:51.734 123433 AUDIT nova.compute.resource_tracker [-] Auditing locally available compute resources\n2014-09-09 14:30:52.405 123433 AUDIT nova.compute.resource_tracker [-] Free ram (MB): 30736\n2014-09-09 14:30:52.405 123433 AUDIT nova.compute.resource_tracker [-] Free disk (GB): 442\n2014-09-09 14:30:52.406 123433 AUDIT nova.compute.resource_tracker [-] Free VCPUS: 13\n2014-09-09 14:30:52.429 123433 INFO nova.compute.resource_tracker [-] Compute_service record updated for puma48.scl.lab.tlv.redhat.com:puma48.scl.lab.tlv.redhat.com\n\nnova-scheduler\n2014-09-09 14:30:11.382 123181 INFO nova.scheduler.filter_scheduler [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] Attempting to build 1 instance(s) uuids: [u'8f50312c-f47e-4793-aff7-a890f20ee2bb']\n2014-09-09 14:30:11.387 123181 INFO nova.scheduler.filter_scheduler [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] Choosing host WeighedHost [host: puma48.scl.lab.tlv.redhat.com, weight: 1.0] for instance 8f50312c-f47e-4793-aff7-a890f20ee2bb\n2014-09-09 14:30:12.665 123181 INFO nova.scheduler.filter_scheduler [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] Attempting to build 1 instance(s) uuids: [u'8f50312c-f47e-4793-aff7-a890f20ee2bb']\n2014-09-09 14:30:12.665 123181 ERROR nova.scheduler.filter_scheduler [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Error from last host: puma48.scl.lab.tlv.redhat.com (node puma48.scl.lab.tlv.redhat.com): [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1329, in _build_instance\\n    set_access_ip=set_access_ip)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 393, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1741, in _spawn\\n    LOG.exception(_(\\'Instance failed to spawn\\'), instance=instance)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1738, in _spawn\\n    block_device_info)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2282, in spawn\\n    admin_pass=admin_password)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2733, in _create_image\\n    instance, network_info, admin_pass, files, suffix)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2551, in _inject_data\\n    net = netutils.get_injected_network_template(network_info)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/virt/netutils.py\", line 71, in get_injected_network_template\\n    if not (network_info and template):\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 420, in __len__\\n    return self._sync_wrapper(fn, *args, **kwargs)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 407, in _sync_wrapper\\n    self.wait()\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 439, in wait\\n    self[:] = self._gt.wait()\\n', u'  File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 168, in wait\\n    return self._exit_event.wait()\\n', u'  File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 120, in wait\\n    current.throw(*self._exc)\\n', u'  File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 194, in main\\n    result = function(*args, **kwargs)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1528, in _allocate_network_async\\n    dhcp_options=dhcp_options)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 360, in allocate_for_instance\\n    LOG.exception(msg, port_id)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 335, in allocate_for_instance\\n    security_group_ids, available_macs, dhcp_opts)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 191, in _create_port\\n    raise exception.PortLimitExceeded()\\n', u'PortLimitExceeded: Maximum number of ports exceeded\\n']\n2014-09-09 14:30:12.669 123181 INFO nova.filters [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] Filter RetryFilter returned 0 hosts\n2014-09-09 14:30:12.669 123181 WARNING nova.scheduler.driver [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Setting instance to ERROR state.\n\n[root@puma48 ~(keystone_admin)]# nova show 8f50312c-f47e-4793-aff7-a890f20ee2bb\n+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                                                                                                                |\n+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                                                                                                               |\n| OS-EXT-AZ:availability_zone          | nova                                                                                                                                                                                 |\n| OS-EXT-SRV-ATTR:host                 | puma48.scl.lab.tlv.redhat.com                                                                                                                                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | puma48.scl.lab.tlv.redhat.com                                                                                                                                                        |\n| OS-EXT-SRV-ATTR:instance_name        | instance-000003d7                                                                                                                                                                    |\n| OS-EXT-STS:power_state               | 0                                                                                                                                                                                    |\n| OS-EXT-STS:task_state                | -                                                                                                                                                                                    |\n| OS-EXT-STS:vm_state                  | error                                                                                                                                                                                |\n| OS-SRV-USG:launched_at               | -                                                                                                                                                                                    |\n| OS-SRV-USG:terminated_at             | -                                                                                                                                                                                    |\n| accessIPv4                           |                                                                                                                                                                                      |\n| accessIPv6                           |                                                                                                                                                                                      |\n| config_drive                         |                                                                                                                                                                                      |\n| created                              | 2014-09-09T11:30:11Z                                                                                                                                                                 |\n| fault                                | {\"message\": \"No valid host was found. \", \"code\": 500, \"details\": \"  File \\\"/usr/lib/python2.7/site-packages/nova/scheduler/filter_scheduler.py\\\", line 108, in schedule_run_instance |\n|                                      |     raise exception.NoValidHost(reason=\\\"\\\")                                                                                                                                         |\n|                                      | \", \"created\": \"2014-09-09T11:30:12Z\"}                                                                                                                                                |\n| flavor                               | m1.nano (42)                                                                                                                                                                         |\n| hostId                               | 624ae58ea64f1cfb0ea62f3b0eced7799b21a3e55414343a6352ca67                                                                                                                             |\n| id                                   | 8f50312c-f47e-4793-aff7-a890f20ee2bb                                                                                                                                                 |\n| image                                | cirros (49948054-e169-4e1b-a5b4-6441959ef75c)                                                                                                                                        |\n| key_name                             | -                                                                                                                                                                                    |\n| metadata                             | {}                                                                                                                                                                                   |\n| name                                 | test_VM                                                                                                                                                                              |\n| os-extended-volumes:volumes_attached | []                                                                                                                                                                                   |\n| status                               | ERROR                                                                                                                                                                                |\n| tenant_id                            | a0a2f1afe57d422887b48c204d536df0                                                                                                                                                     |\n| updated                              | 2014-09-09T11:30:12Z                                                                                                                                                                 |\n| user_id                              | e9bb9ce3fbe344e9b49182a13dcfb9c3                                                                                                                                                     |\n+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+", 
    "tags": [
        "network"
    ], 
    "importance": "Undecided", 
    "heat": 16, 
    "link": "https://bugs.launchpad.net/nova/+bug/1367243", 
    "owner": "None", 
    "id": 1367243, 
    "index": 6413, 
    "openned": "2014-09-09 11:36:53.719941+00:00", 
    "created": "2014-09-09 11:36:53.719941+00:00", 
    "title": "Bad error report when trying to connect VM to an overcrouded Network", 
    "comments": [
        {
            "content": "trying to create a Port when the network has no more addresses, Neutron returns this error:\nNo more IP addresses available on network a4e997dc-ba2e-4444-9394-cfd89f670886.\n\nHowever, when trying to create a VM in a network that has no more addresses, the VM is created with Error details:\n\"No valid host was found\"\n\nThat's because the the compute agent is seeing the PortLimitExceeded error from neutron and reports the the scheduler.\nThe scheduler mistakes that for Hypervisor limit and tries another compute (which fails for the same reason) and finally reports the error as \"No host found\", while the error has to be \"No more IP addresses available on network a4e997dc-ba2e-4444-9394-cfd89f670886\"\n\n\nnova compute:\n2014-09-09 14:30:11.517 123433 AUDIT nova.compute.manager [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Starting instance...\n2014-09-09 14:30:11.608 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Attempting claim: memory 64 MB, disk 0 GB, VCPUs 1\n2014-09-09 14:30:11.608 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Total memory: 31952 MB, used: 1152.00 MB\n2014-09-09 14:30:11.609 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] memory limit: 47928.00 MB, free: 46776.00 MB\n2014-09-09 14:30:11.609 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Total disk: 442 GB, used: 0.00 GB\n2014-09-09 14:30:11.609 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] disk limit not specified, defaulting to unlimited\n2014-09-09 14:30:11.609 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Total CPUs: 24 VCPUs, used: 10.00 VCPUs\n2014-09-09 14:30:11.610 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] CPUs limit: 384.00 VCPUs, free: 374.00 VCPUs\n2014-09-09 14:30:11.610 123433 AUDIT nova.compute.claims [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Claim successful\n2014-09-09 14:30:12.141 123433 WARNING nova.network.neutronv2.api [-] Neutron error: quota exceeded\n2014-09-09 14:30:12.142 123433 ERROR nova.compute.manager [-] Instance failed network setup after 1 attempt(s)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager Traceback (most recent call last):\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1528, in _allocate_network_async\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     dhcp_options=dhcp_options)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 360, in allocate_for_instance\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     LOG.exception(msg, port_id)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     six.reraise(self.type_, self.value, self.tb)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 335, in allocate_for_instance\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     security_group_ids, available_macs, dhcp_opts)\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 191, in _create_port\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager     raise exception.PortLimitExceeded()\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager PortLimitExceeded: Maximum number of ports exceeded\n2014-09-09 14:30:12.142 123433 TRACE nova.compute.manager \n2014-09-09 14:30:12.158 123433 INFO nova.virt.libvirt.driver [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Creating image\n2014-09-09 14:30:12.261 123433 ERROR nova.compute.manager [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Instance failed to spawn\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Traceback (most recent call last):\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1738, in _spawn\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     block_device_info)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2282, in spawn\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     admin_pass=admin_password)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2733, in _create_image\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     instance, network_info, admin_pass, files, suffix)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2551, in _inject_data\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     net = netutils.get_injected_network_template(network_info)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/netutils.py\", line 71, in get_injected_network_template\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     if not (network_info and template):\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 420, in __len__\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return self._sync_wrapper(fn, *args, **kwargs)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 407, in _sync_wrapper\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     self.wait()\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 439, in wait\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     self[:] = self._gt.wait()\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 168, in wait\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return self._exit_event.wait()\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 120, in wait\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     current.throw(*self._exc)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 194, in main\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     result = function(*args, **kwargs)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1528, in _allocate_network_async\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     dhcp_options=dhcp_options)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 360, in allocate_for_instance\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     LOG.exception(msg, port_id)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     six.reraise(self.type_, self.value, self.tb)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 335, in allocate_for_instance\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     security_group_ids, available_macs, dhcp_opts)\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 191, in _create_port\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     raise exception.PortLimitExceeded()\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] PortLimitExceeded: Maximum number of ports exceeded\n2014-09-09 14:30:12.261 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] \n2014-09-09 14:30:12.326 123433 AUDIT nova.compute.manager [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Terminating instance\n2014-09-09 14:30:12.334 123433 ERROR nova.virt.libvirt.driver [-] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] During wait destroy, instance disappeared.\n2014-09-09 14:30:12.425 123433 INFO nova.virt.libvirt.driver [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Deleting instance files /var/lib/nova/instances/8f50312c-f47e-4793-aff7-a890f20ee2bb\n2014-09-09 14:30:12.425 123433 INFO nova.virt.libvirt.driver [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Deletion of /var/lib/nova/instances/8f50312c-f47e-4793-aff7-a890f20ee2bb complete\n2014-09-09 14:30:12.558 123433 INFO nova.network.neutronv2.api [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Unable to reset device ID for port None\n2014-09-09 14:30:12.644 123433 ERROR nova.compute.manager [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Error: Maximum number of ports exceeded\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Traceback (most recent call last):\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1329, in _build_instance\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     set_access_ip=set_access_ip)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 393, in decorated_function\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return function(self, context, *args, **kwargs)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1741, in _spawn\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     LOG.exception(_('Instance failed to spawn'), instance=instance)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     six.reraise(self.type_, self.value, self.tb)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1738, in _spawn\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     block_device_info)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2282, in spawn\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     admin_pass=admin_password)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2733, in _create_image\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     instance, network_info, admin_pass, files, suffix)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2551, in _inject_data\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     net = netutils.get_injected_network_template(network_info)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/virt/netutils.py\", line 71, in get_injected_network_template\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     if not (network_info and template):\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 420, in __len__\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return self._sync_wrapper(fn, *args, **kwargs)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 407, in _sync_wrapper\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     self.wait()\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 439, in wait\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     self[:] = self._gt.wait()\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 168, in wait\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     return self._exit_event.wait()\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 120, in wait\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     current.throw(*self._exc)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 194, in main\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     result = function(*args, **kwargs)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1528, in _allocate_network_async\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     dhcp_options=dhcp_options)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 360, in allocate_for_instance\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     LOG.exception(msg, port_id)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     six.reraise(self.type_, self.value, self.tb)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 335, in allocate_for_instance\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     security_group_ids, available_macs, dhcp_opts)\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 191, in _create_port\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb]     raise exception.PortLimitExceeded()\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] PortLimitExceeded: Maximum number of ports exceeded\n2014-09-09 14:30:12.644 123433 TRACE nova.compute.manager [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] \n2014-09-09 14:30:33.435 123433 AUDIT nova.compute.resource_tracker [-] Auditing locally available compute resources\n2014-09-09 14:30:34.112 123433 AUDIT nova.compute.resource_tracker [-] Free ram (MB): 30736\n2014-09-09 14:30:34.112 123433 AUDIT nova.compute.resource_tracker [-] Free disk (GB): 442\n2014-09-09 14:30:34.112 123433 AUDIT nova.compute.resource_tracker [-] Free VCPUS: 13\n2014-09-09 14:30:34.137 123433 INFO nova.compute.resource_tracker [-] Compute_service record updated for puma48.scl.lab.tlv.redhat.com:puma48.scl.lab.tlv.redhat.com\n2014-09-09 14:30:51.734 123433 AUDIT nova.compute.resource_tracker [-] Auditing locally available compute resources\n2014-09-09 14:30:52.405 123433 AUDIT nova.compute.resource_tracker [-] Free ram (MB): 30736\n2014-09-09 14:30:52.405 123433 AUDIT nova.compute.resource_tracker [-] Free disk (GB): 442\n2014-09-09 14:30:52.406 123433 AUDIT nova.compute.resource_tracker [-] Free VCPUS: 13\n2014-09-09 14:30:52.429 123433 INFO nova.compute.resource_tracker [-] Compute_service record updated for puma48.scl.lab.tlv.redhat.com:puma48.scl.lab.tlv.redhat.com\n\n\n\n\n\nnova-scheduler\n2014-09-09 14:30:11.382 123181 INFO nova.scheduler.filter_scheduler [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] Attempting to build 1 instance(s) uuids: [u'8f50312c-f47e-4793-aff7-a890f20ee2bb']\n2014-09-09 14:30:11.387 123181 INFO nova.scheduler.filter_scheduler [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] Choosing host WeighedHost [host: puma48.scl.lab.tlv.redhat.com, weight: 1.0] for instance 8f50312c-f47e-4793-aff7-a890f20ee2bb\n2014-09-09 14:30:12.665 123181 INFO nova.scheduler.filter_scheduler [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] Attempting to build 1 instance(s) uuids: [u'8f50312c-f47e-4793-aff7-a890f20ee2bb']\n2014-09-09 14:30:12.665 123181 ERROR nova.scheduler.filter_scheduler [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Error from last host: puma48.scl.lab.tlv.redhat.com (node puma48.scl.lab.tlv.redhat.com): [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1329, in _build_instance\\n    set_access_ip=set_access_ip)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 393, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1741, in _spawn\\n    LOG.exception(_(\\'Instance failed to spawn\\'), instance=instance)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1738, in _spawn\\n    block_device_info)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2282, in spawn\\n    admin_pass=admin_password)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2733, in _create_image\\n    instance, network_info, admin_pass, files, suffix)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2551, in _inject_data\\n    net = netutils.get_injected_network_template(network_info)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/virt/netutils.py\", line 71, in get_injected_network_template\\n    if not (network_info and template):\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 420, in __len__\\n    return self._sync_wrapper(fn, *args, **kwargs)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 407, in _sync_wrapper\\n    self.wait()\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 439, in wait\\n    self[:] = self._gt.wait()\\n', u'  File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 168, in wait\\n    return self._exit_event.wait()\\n', u'  File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 120, in wait\\n    current.throw(*self._exc)\\n', u'  File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 194, in main\\n    result = function(*args, **kwargs)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1528, in _allocate_network_async\\n    dhcp_options=dhcp_options)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 360, in allocate_for_instance\\n    LOG.exception(msg, port_id)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 335, in allocate_for_instance\\n    security_group_ids, available_macs, dhcp_opts)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 191, in _create_port\\n    raise exception.PortLimitExceeded()\\n', u'PortLimitExceeded: Maximum number of ports exceeded\\n']\n2014-09-09 14:30:12.669 123181 INFO nova.filters [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] Filter RetryFilter returned 0 hosts\n2014-09-09 14:30:12.669 123181 WARNING nova.scheduler.driver [req-19bf0ebe-4f8d-47bb-9506-617ae54cd6b4 e9bb9ce3fbe344e9b49182a13dcfb9c3 a0a2f1afe57d422887b48c204d536df0] [instance: 8f50312c-f47e-4793-aff7-a890f20ee2bb] Setting instance to ERROR state.\n\n\n[root@puma48 ~(keystone_admin)]# nova show 8f50312c-f47e-4793-aff7-a890f20ee2bb\n+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                                                                                                                |\n+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                                                                                                               |\n| OS-EXT-AZ:availability_zone          | nova                                                                                                                                                                                 |\n| OS-EXT-SRV-ATTR:host                 | puma48.scl.lab.tlv.redhat.com                                                                                                                                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | puma48.scl.lab.tlv.redhat.com                                                                                                                                                        |\n| OS-EXT-SRV-ATTR:instance_name        | instance-000003d7                                                                                                                                                                    |\n| OS-EXT-STS:power_state               | 0                                                                                                                                                                                    |\n| OS-EXT-STS:task_state                | -                                                                                                                                                                                    |\n| OS-EXT-STS:vm_state                  | error                                                                                                                                                                                |\n| OS-SRV-USG:launched_at               | -                                                                                                                                                                                    |\n| OS-SRV-USG:terminated_at             | -                                                                                                                                                                                    |\n| accessIPv4                           |                                                                                                                                                                                      |\n| accessIPv6                           |                                                                                                                                                                                      |\n| config_drive                         |                                                                                                                                                                                      |\n| created                              | 2014-09-09T11:30:11Z                                                                                                                                                                 |\n| fault                                | {\"message\": \"No valid host was found. \", \"code\": 500, \"details\": \"  File \\\"/usr/lib/python2.7/site-packages/nova/scheduler/filter_scheduler.py\\\", line 108, in schedule_run_instance |\n|                                      |     raise exception.NoValidHost(reason=\\\"\\\")                                                                                                                                         |\n|                                      | \", \"created\": \"2014-09-09T11:30:12Z\"}                                                                                                                                                |\n| flavor                               | m1.nano (42)                                                                                                                                                                         |\n| hostId                               | 624ae58ea64f1cfb0ea62f3b0eced7799b21a3e55414343a6352ca67                                                                                                                             |\n| id                                   | 8f50312c-f47e-4793-aff7-a890f20ee2bb                                                                                                                                                 |\n| image                                | cirros (49948054-e169-4e1b-a5b4-6441959ef75c)                                                                                                                                        |\n| key_name                             | -                                                                                                                                                                                    |\n| metadata                             | {}                                                                                                                                                                                   |\n| name                                 | test_VM                                                                                                                                                                              |\n| os-extended-volumes:volumes_attached | []                                                                                                                                                                                   |\n| status                               | ERROR                                                                                                                                                                                |\n| tenant_id                            | a0a2f1afe57d422887b48c204d536df0                                                                                                                                                     |\n| updated                              | 2014-09-09T11:30:12Z                                                                                                                                                                 |\n| user_id                              | e9bb9ce3fbe344e9b49182a13dcfb9c3                                                                                                                                                     |\n+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+", 
            "date_created": "2014-09-09 11:36:53.719941+00:00", 
            "author": "https://api.launchpad.net/1.0/~yfried"
        }, 
        {
            "content": "seems like mostly a neutron issue", 
            "date_created": "2014-09-09 15:32:13.772333+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "That doesn't seem as neutron issue as neutron provides expected and well-understood outcome for the operation.\nMarking as Incomplete for neutron, waiting submitter clarification.", 
            "date_created": "2014-09-15 20:58:49.862545+00:00", 
            "author": "https://api.launchpad.net/1.0/~enikanorov"
        }, 
        {
            "content": "I agree with @enikanorov, This a problem with Nova interpreting the Neutron error.\nIf you had 100 Compute nodes, scheduler would try to boot the VM in all of them, even though Neutron reports there's no way to boot a VM in that network", 
            "date_created": "2014-09-16 05:57:23.455796+00:00", 
            "author": "https://api.launchpad.net/1.0/~yfried"
        }, 
        {
            "content": "Same thing happens when passing invalid ip_address.  Neutron responds with InvalidInput error and Nova reschedules instance to next hypervisor.", 
            "date_created": "2014-10-31 14:27:42.685431+00:00", 
            "author": "https://api.launchpad.net/1.0/~raorn"
        }, 
        {
            "content": "\nThis is an automated cleanup. This bug report has been closed because it\nis older than 18 months and there is no open code change to fix this.\nAfter this time it is unlikely that the circumstances which lead to\nthe observed issue can be reproduced.\n\nIf you can reproduce the bug, please:\n* reopen the bug report (set to status \"New\")\n* AND add the detailed steps to reproduce the issue (if applicable)\n* AND leave a comment \"CONFIRMED FOR: <RELEASE_NAME>\"\n  Only still supported release names are valid (LIBERTY, MITAKA, OCATA, NEWTON).\n  Valid example: CONFIRMED FOR: LIBERTY\n", 
            "date_created": "2016-07-05 09:52:17.744540+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ], 
    "closed": "2016-07-05 09:52:13.513053+00:00"
}