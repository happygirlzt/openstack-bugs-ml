{
    "status": "Fix Released", 
    "last_updated": "2013-04-04 11:12:54.834490+00:00", 
    "description": "2013-01-29 10:52:24 ERROR nova.api.openstack [req-a2a22ec6-4f62-4504-b6ba-c98ede5a85d3 f2665c1140c54a03a98110cb86262ec3 dc32392af0ae4a098fb7235760077fa6] Caught error: Image 1a784490-5ee0-420a-9122-2d196f8677a4 is not active.\n2013-01-29 10:52:24 TRACE nova.api.openstack Traceback (most recent call last):\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/__init__.py\", line 78, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1053, in get_response\n2013-01-29 10:52:24 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1022, in call_application\n2013-01-29 10:52:24 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystone/middleware/auth_token.py\", line 176, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 147, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 208, in call_func\n2013-01-29 10:52:24 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/wsgi.py\", line 885, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     content_type, body, accept)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/wsgi.py\", line 933, in _process_stack\n2013-01-29 10:52:24 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/wsgi.py\", line 1021, in dispatch\n2013-01-29 10:52:24 TRACE nova.api.openstack     return method(req=request, **action_args)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/compute/servers.py\", line 855, in create\n2013-01-29 10:52:24 TRACE nova.api.openstack     scheduler_hints=scheduler_hints)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/compute/api.py\", line 812, in create\n2013-01-29 10:52:24 TRACE nova.api.openstack     scheduler_hints=scheduler_hints)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/compute/api.py\", line 531, in _create_instance\n2013-01-29 10:52:24 TRACE nova.api.openstack     QUOTAS.rollback(context, quota_reservations)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-29 10:52:24 TRACE nova.api.openstack     self.gen.next()\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/compute/api.py\", line 421, in _create_instance\n2013-01-29 10:52:24 TRACE nova.api.openstack     raise exception.ImageNotActive(image_id=image_id)\n2013-01-29 10:52:24 TRACE nova.api.openstack ImageNotActive: Image 1a784490-5ee0-420a-9122-2d196f8677a4 is not active.\n2013-01-29 10:52:24 TRACE nova.api.openstack\n2013-01-29 10:52:24 INFO nova.api.openstack [req-a2a22ec6-4f62-4504-b6ba-c98ede5a85d3 f2665c1140c54a03a98110cb86262ec3 dc32392af0ae4a098fb7235760077fa6] http://localhost:8774/v2/dc32392af0ae4a098fb7235760077fa6/servers returned with HTTP 500\n2013-01-29 10:52:24 INFO nova.osapi_compute.wsgi.server [req-a2a22ec6-4f62-4504-b6ba-c98ede5a85d3 f2665c1140c54a03a98110cb86262ec3 dc32392af0ae4a098fb7235760077fa6] 127.0.0.1 - - [29/Jan/2013 10:52:24] \"POST /v2/dc32392af0ae4a098fb7235760077fa6/servers HTTP/1.1\" 500 335 1.446659", 
    "tags": [
        "folsom-backport-potential"
    ], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1108645", 
    "owner": "https://api.launchpad.net/1.0/~hzzhoushaoyu", 
    "id": 1108645, 
    "index": 3217, 
    "openned": "2013-01-29 07:58:31.217439+00:00", 
    "created": "2013-01-29 07:58:31.217439+00:00", 
    "title": "response 500 when boot with a image not active", 
    "comments": [
        {
            "content": "2013-01-29 10:52:24 ERROR nova.api.openstack [req-a2a22ec6-4f62-4504-b6ba-c98ede5a85d3 f2665c1140c54a03a98110cb86262ec3 dc32392af0ae4a098fb7235760077fa6] Caught error: Image 1a784490-5ee0-420a-9122-2d196f8677a4 is not active.\n2013-01-29 10:52:24 TRACE nova.api.openstack Traceback (most recent call last):\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/__init__.py\", line 78, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return req.get_response(self.application)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1053, in get_response\n2013-01-29 10:52:24 TRACE nova.api.openstack     application, catch_exc_info=False)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1022, in call_application\n2013-01-29 10:52:24 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystone/middleware/auth_token.py\", line 176, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return self.app(env, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 159, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     return resp(environ, start_response)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 147, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 208, in call_func\n2013-01-29 10:52:24 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/wsgi.py\", line 885, in __call__\n2013-01-29 10:52:24 TRACE nova.api.openstack     content_type, body, accept)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/wsgi.py\", line 933, in _process_stack\n2013-01-29 10:52:24 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/wsgi.py\", line 1021, in dispatch\n2013-01-29 10:52:24 TRACE nova.api.openstack     return method(req=request, **action_args)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/api/openstack/compute/servers.py\", line 855, in create\n2013-01-29 10:52:24 TRACE nova.api.openstack     scheduler_hints=scheduler_hints)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/compute/api.py\", line 812, in create\n2013-01-29 10:52:24 TRACE nova.api.openstack     scheduler_hints=scheduler_hints)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/compute/api.py\", line 531, in _create_instance\n2013-01-29 10:52:24 TRACE nova.api.openstack     QUOTAS.rollback(context, quota_reservations)\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-29 10:52:24 TRACE nova.api.openstack     self.gen.next()\n2013-01-29 10:52:24 TRACE nova.api.openstack   File \"path/nova/compute/api.py\", line 421, in _create_instance\n2013-01-29 10:52:24 TRACE nova.api.openstack     raise exception.ImageNotActive(image_id=image_id)\n2013-01-29 10:52:24 TRACE nova.api.openstack ImageNotActive: Image 1a784490-5ee0-420a-9122-2d196f8677a4 is not active.\n2013-01-29 10:52:24 TRACE nova.api.openstack\n2013-01-29 10:52:24 INFO nova.api.openstack [req-a2a22ec6-4f62-4504-b6ba-c98ede5a85d3 f2665c1140c54a03a98110cb86262ec3 dc32392af0ae4a098fb7235760077fa6] http://localhost:8774/v2/dc32392af0ae4a098fb7235760077fa6/servers returned with HTTP 500\n2013-01-29 10:52:24 INFO nova.osapi_compute.wsgi.server [req-a2a22ec6-4f62-4504-b6ba-c98ede5a85d3 f2665c1140c54a03a98110cb86262ec3 dc32392af0ae4a098fb7235760077fa6] 127.0.0.1 - - [29/Jan/2013 10:52:24] \"POST /v2/dc32392af0ae4a098fb7235760077fa6/servers HTTP/1.1\" 500 335 1.446659", 
            "date_created": "2013-01-29 07:58:31.217439+00:00", 
            "author": "https://api.launchpad.net/1.0/~hzzhoushaoyu"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/20675", 
            "date_created": "2013-01-29 08:02:36.507423+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/20675\nCommitted: http://github.com/openstack/nova/commit/84a83c67d81f41c00ca9259ebebec97e6e7788bb\nSubmitter: Jenkins\nBranch:    master\n\ncommit 84a83c67d81f41c00ca9259ebebec97e6e7788bb\nAuthor: Zhou ShaoYu <email address hidden>\nDate:   Tue Jan 29 15:33:46 2013 +0800\n\n    Fix boot with image not active\n    \n    When boot with image which is not active, nova API response\n    with http status code 500. We should catch the exception and\n    raise HTTPBadRequest with more precise information.\n    \n    Fix LP# 1108645\n    \n    Change-Id: Ibd78f4b96bfdb925b03d7809d4e28afcc7e1ddcf\n", 
            "date_created": "2013-01-30 20:27:43.874077+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2013-02-21 08:56:51.943273+00:00"
}