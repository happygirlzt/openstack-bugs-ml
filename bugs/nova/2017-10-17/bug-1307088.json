{
    "status": "Fix Released", 
    "last_updated": "2014-10-16 08:29:50.627935+00:00", 
    "description": "Description of problem:\n\nAn attachment of a read only volume to an instance failed. The openstack was installed as AIO, Cinder was configured with Netapp back end. The following error from the nova compute log: \n\n014-04-13 11:28:17.838 25176 ERROR oslo.messaging.rpc.dispatcher [-] Exception during message handling: Invalid input received: Invalid attaching mode 'rw' for volume 3f5828e1-77b2-4302-9cdf-486f7\n0834c31.\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 360, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 88, in wrapped\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     payload)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 71, in wrapped\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 244, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     pass\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 230, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 272, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     e, sys.exc_info())\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 259, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3876, in attach_volume\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     bdm.destroy(context)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3873, in attach_volume\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return self._attach_volume(context, instance, driver_bdm)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3894, in _attach_volume\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     self.volume_api.unreserve_volume(context, bdm.volume_id)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3886, in _attach_volume\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     do_check_attach=False, do_driver_attach=True)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/virt/block_device.py\", line 44, in wrapped\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     ret_val = method(obj, context, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/virt/block_device.py\", line 251, in attach\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     instance['uuid'], self['mount_device'])\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/volume/cinder.py\", line 174, in wrapper\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     res = method(self, ctx, volume_id, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/volume/cinder.py\", line 263, in attach\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     mountpoint)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/v1/volumes.py\", line 266, in attach\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     'mode': mode})\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/v1/volumes.py\", line 250, in _action\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return self.api.client.post(url, body=body)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/client.py\", line 210, in post\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return self._cs_request(url, 'POST', **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/client.py\", line 174, in _cs_request\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/client.py\", line 157, in request\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     raise exceptions.from_response(resp, body)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher InvalidInput: Invalid input received: Invalid attaching mode 'rw' for volume 3f5828e1-77b2-4302-9cdf-486f70834c31.\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher \n2014-04-13 11:28:17.858 25176 ERROR oslo.messaging._drivers.common [-] Returning exception Invalid input received: Invalid attaching mode 'rw' for volume 3f5828e1-77b2-4302-9cdf-486f70834c31. to caller\n\nVersion-Release number of selected component (if applicable):\nopenstack-nova-conductor-2014.1-0.13.b3.el7.noarch\nopenstack-swift-object-1.12.0-1.el7.noarch\nopenstack-glance-2014.1-0.4.b3.el7.noarch\nopenstack-packstack-puppet-2014.1.1-0.7.dev1018.el7.noarch\nopenstack-nova-cert-2014.1-0.13.b3.el7.noarch\npython-django-openstack-auth-1.1.4-1.el7.noarch\nopenstack-swift-1.12.0-1.el7.noarch\nopenstack-keystone-2014.1-0.4.b3.el7.noarch\nopenstack-utils-2013.2-3.p1.el7.noarch\nopenstack-nova-api-2014.1-0.13.b3.el7.noarch\nopenstack-nova-compute-2014.1-0.13.b3.el7.noarch\nopenstack-nova-novncproxy-2014.1-0.13.b3.el7.noarch\nopenstack-dashboard-2014.1-0.5.b3.el7.noarch\nopenstack-swift-account-1.12.0-1.el7.noarch\nopenstack-swift-proxy-1.12.0-1.el7.noarch\nopenstack-puppet-modules-2014.1-5.3.el7.noarch\nopenstack-cinder-2014.1-0.6.b3.el7.noarch\nopenstack-nova-common-2014.1-0.13.b3.el7.noarch\nopenstack-nova-console-2014.1-0.13.b3.el7.noarch\nopenstack-nova-network-2014.1-0.13.b3.el7.noarch\nopenstack-swift-container-1.12.0-1.el7.noarch\nopenstack-packstack-2014.1.1-0.7.dev1018.el7.noarch\nopenstack-nova-scheduler-2014.1-0.13.b3.el7.noarch\nopenstack-swift-plugin-swift3-1.7-3.el7.noarch\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. Create a volume from a qcow2 image.\n2. Attach the volume to an instance and make changes.\n3. Detach the volume from the instance.\n4. Set the volume as read only.\n5. Attach the volume to an instance.\n\nActual results:\nthe attachment fails.\n\nExpected results:\nthe attachment should succeed, but the volume cannot be changed.", 
    "tags": [
        "in-stable-icehouse", 
        "libvirt", 
        "volumes"
    ], 
    "importance": "Medium", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1307088", 
    "owner": "https://api.launchpad.net/1.0/~thang-pham", 
    "id": 1307088, 
    "index": 3881, 
    "openned": "2014-04-13 08:40:14.193653+00:00", 
    "created": "2014-04-13 08:40:14.193653+00:00", 
    "title": "can't attach a read only volume to an instance", 
    "comments": [
        {
            "content": "Description of problem:\n\nAn attachment of a read only volume to an instance failed. The openstack was installed as AIO, Cinder was configured with Netapp back end. The following error from the nova compute log: \n\n014-04-13 11:28:17.838 25176 ERROR oslo.messaging.rpc.dispatcher [-] Exception during message handling: Invalid input received: Invalid attaching mode 'rw' for volume 3f5828e1-77b2-4302-9cdf-486f7\n0834c31.\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 360, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 88, in wrapped\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     payload)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 71, in wrapped\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 244, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     pass\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 230, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 272, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     e, sys.exc_info())\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 259, in decorated_function\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3876, in attach_volume\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     bdm.destroy(context)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3873, in attach_volume\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return self._attach_volume(context, instance, driver_bdm)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3894, in _attach_volume\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     self.volume_api.unreserve_volume(context, bdm.volume_id)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 3886, in _attach_volume\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     do_check_attach=False, do_driver_attach=True)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/virt/block_device.py\", line 44, in wrapped\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     ret_val = method(obj, context, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/virt/block_device.py\", line 251, in attach\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     instance['uuid'], self['mount_device'])\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/volume/cinder.py\", line 174, in wrapper\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     res = method(self, ctx, volume_id, *args, **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/volume/cinder.py\", line 263, in attach\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     mountpoint)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/v1/volumes.py\", line 266, in attach\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     'mode': mode})\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/v1/volumes.py\", line 250, in _action\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return self.api.client.post(url, body=body)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/client.py\", line 210, in post\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     return self._cs_request(url, 'POST', **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/client.py\", line 174, in _cs_request\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     **kwargs)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/cinderclient/client.py\", line 157, in request\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher     raise exceptions.from_response(resp, body)\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher InvalidInput: Invalid input received: Invalid attaching mode 'rw' for volume 3f5828e1-77b2-4302-9cdf-486f70834c31.\n2014-04-13 11:28:17.838 25176 TRACE oslo.messaging.rpc.dispatcher \n2014-04-13 11:28:17.858 25176 ERROR oslo.messaging._drivers.common [-] Returning exception Invalid input received: Invalid attaching mode 'rw' for volume 3f5828e1-77b2-4302-9cdf-486f70834c31. to caller\n\nVersion-Release number of selected component (if applicable):\nopenstack-nova-conductor-2014.1-0.13.b3.el7.noarch\nopenstack-swift-object-1.12.0-1.el7.noarch\nopenstack-glance-2014.1-0.4.b3.el7.noarch\nopenstack-packstack-puppet-2014.1.1-0.7.dev1018.el7.noarch\nopenstack-nova-cert-2014.1-0.13.b3.el7.noarch\npython-django-openstack-auth-1.1.4-1.el7.noarch\nopenstack-swift-1.12.0-1.el7.noarch\nopenstack-keystone-2014.1-0.4.b3.el7.noarch\nopenstack-utils-2013.2-3.p1.el7.noarch\nopenstack-nova-api-2014.1-0.13.b3.el7.noarch\nopenstack-nova-compute-2014.1-0.13.b3.el7.noarch\nopenstack-nova-novncproxy-2014.1-0.13.b3.el7.noarch\nopenstack-dashboard-2014.1-0.5.b3.el7.noarch\nopenstack-swift-account-1.12.0-1.el7.noarch\nopenstack-swift-proxy-1.12.0-1.el7.noarch\nopenstack-puppet-modules-2014.1-5.3.el7.noarch\nopenstack-cinder-2014.1-0.6.b3.el7.noarch\nopenstack-nova-common-2014.1-0.13.b3.el7.noarch\nopenstack-nova-console-2014.1-0.13.b3.el7.noarch\nopenstack-nova-network-2014.1-0.13.b3.el7.noarch\nopenstack-swift-container-1.12.0-1.el7.noarch\nopenstack-packstack-2014.1.1-0.7.dev1018.el7.noarch\nopenstack-nova-scheduler-2014.1-0.13.b3.el7.noarch\nopenstack-swift-plugin-swift3-1.7-3.el7.noarch\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. Create a volume from a qcow2 image.\n2. Attach the volume to an instance and make changes.\n3. Detach the volume from the instance.\n4. Set the volume as read only.\n5. Attach the volume to an instance.\n\nActual results:\nthe attachment fails.\n\nExpected results:\nthe attachment should succeed, but the volume cannot be changed.", 
            "date_created": "2014-04-13 08:40:14.193653+00:00", 
            "author": "https://api.launchpad.net/1.0/~yrabl"
        }, 
        {
            "content": "The bug is generic across all volume backends.  I can also reproduce this with glusterfs.  The bug is caused by a missing option passed to cinderclient, i.e. mode.  By default, if mode is not passed to cinderclient.volumes.attach, the mode defaults to 'rw'.  The structure of this method found in the Volume class under python-cinderclient/cinderclient/v2/volumes.py is as follows:\n     def attach(self, instance_uuid, mountpoint, mode='rw'):\n\nWhen nova attaches a volume to an instance, the mode is ignored and not passed in, hence every time you attempt to attach a read-only volume, the mode gets set to 'rw' and fails with InvalidInput.", 
            "date_created": "2014-04-17 04:07:42.409331+00:00", 
            "author": "https://api.launchpad.net/1.0/~thang-pham"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/89684", 
            "date_created": "2014-04-22 19:42:33.924002+00:00", 
            "author": "https://api.launchpad.net/1.0/~openstack-gerrit"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/89684\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=de05c2994212e83eba3cedf2544cdc549d9f8184\nSubmitter: Jenkins\nBranch:    master\n\ncommit de05c2994212e83eba3cedf2544cdc549d9f8184\nAuthor: Thang Pham <email address hidden>\nDate:   Tue Apr 22 15:00:06 2014 -0400\n\n    Set the volume access mode during volume attach\n    \n    cinderclient supports an optional keyword argument named 'mode'\n    for volumes.attach(), which allows you to set the access mode of\n    a volume at attach time. The keyword argument is not passed in\n    by nova when it attaches a read-only volume, making the volume\n    access mode default to 'rw' instead of the desired 'ro'. This\n    patch finds the access mode of the volume and passes it to\n    cinderclient, so the correct access mode is used at attach\n    time.\n    \n    Change-Id: Ib62f454292e60114f96debbad96c4a356dc32a21\n    Closes-Bug: #1307088\n", 
            "date_created": "2014-05-21 06:28:25.026790+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/icehouse\nReview: https://review.openstack.org/98253", 
            "date_created": "2014-06-05 21:02:24.329512+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/98253\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=c104f2f0eb78a8ea7a58eebdbc510e1f1d1deb9e\nSubmitter: Jenkins\nBranch:    stable/icehouse\n\ncommit c104f2f0eb78a8ea7a58eebdbc510e1f1d1deb9e\nAuthor: Thang Pham <email address hidden>\nDate:   Tue Apr 22 15:00:06 2014 -0400\n\n    Set the volume access mode during volume attach\n    \n    cinderclient supports an optional keyword argument named 'mode'\n    for volumes.attach(), which allows you to set the access mode of\n    a volume at attach time. The keyword argument is not passed in\n    by nova when it attaches a read-only volume, making the volume\n    access mode default to 'rw' instead of the desired 'ro'. This\n    patch finds the access mode of the volume and passes it to\n    cinderclient, so the correct access mode is used at attach\n    time.\n    \n    Change-Id: Ib62f454292e60114f96debbad96c4a356dc32a21\n    Closes-Bug: #1307088\n    (cherry picked from commit de05c2994212e83eba3cedf2544cdc549d9f8184)\n", 
            "date_created": "2014-07-15 14:18:06.331944+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2014-06-11 13:44:54.185291+00:00"
}