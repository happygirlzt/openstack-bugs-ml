{
    "status": "Fix Released", 
    "last_updated": "2015-11-30 04:56:05.335057+00:00", 
    "description": "I'm upgrading from Icehouse to Kilo. I have a single instance that was created in Icehouse. After the upgrade, nova-compute crashes because it's looking for instance \"extra\" data that is not there.\n\nTo fix this, we need to check if there is any \"extra\" data for the instance before trying to read properties such as \"numa_topology\".\n\n# dpkg -l | grep nova\nii  nova-common                         1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute - common files\nii  nova-compute                        1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute - compute node base\nii  nova-compute-kvm                    1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute - compute node (KVM)\nii  nova-compute-libvirt                1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute - compute node libvirt support\nii  python-nova                         1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute Python libraries\nii  python-novaclient                   1:2.22.0-0ubuntu1~cloud0              all          client library for OpenStack Compute API\n\nnova-compute.log:\n2015-04-20 17:35:09.214 15508 DEBUG oslo_concurrency.lockutils [req-43d3110a-cac7-425e-842c-f725bda91c10 - - - - -] Lock \"compute_resources\" acquired by \"_update_available_resource\" :: waited 0.000s inner /usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:444\n2015-04-20 17:35:09.299 15508 DEBUG oslo_concurrency.lockutils [req-43d3110a-cac7-425e-842c-f725bda91c10 - - - - -] Lock \"compute_resources\" released by \"_update_available_resource\" :: held 0.085s inner /usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:456\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 457, in fire_timers\n    timer()\n  File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/timer.py\", line 58, in __call__\n    cb(*args, **kw)\n  File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 214, in main\n    result = function(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/service.py\", line 497, in run_service\n    service.start()\n  File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 183, in start\n    self.manager.pre_start_hook()\n  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1287, in pre_start_hook\n    self.update_available_resource(nova.context.get_admin_context())\n  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 6236, in update_available_resource\n    rt.update_available_resource(context)\n  File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 402, in update_available_resource\n    self._update_available_resource(context, resources)\n  File \"/usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py\", line 445, in inner\n    return f(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 436, in _update_available_resource\n    'numa_topology'])\n  File \"/usr/lib/python2.7/dist-packages/nova/objects/base.py\", line 163, in wrapper\n    result = fn(cls, context, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1152, in get_by_host_and_node\n    expected_attrs)\n  File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1068, in _make_instance_list\n    expected_attrs=expected_attrs)\n  File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 501, in _from_db_object\n    db_inst.get('extra').get('numa_topology'))\nAttributeError: 'NoneType' object has no attribute 'get'\n2015-04-20 17:35:09.301 15508 ERROR nova.openstack.common.threadgroup [req-12483464-12a6-4b74-a671-bc6bb943b265 - - - - -] 'NoneType' object has no attribute 'get'\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/threadgroup.py\", line 145, in wait\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     x.wait()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/threadgroup.py\", line 47, in wait\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 175, in wait\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/event.py\", line 121, in wait\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 294, in switch\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 214, in main\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/service.py\", line 497, in run_service\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     service.start()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 183, in start\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     self.manager.pre_start_hook()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1287, in pre_start_hook\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     self.update_available_resource(nova.context.get_admin_context())\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 6236, in update_available_resource\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     rt.update_available_resource(context)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 402, in update_available_resource\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     self._update_available_resource(context, resources)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py\", line 445, in inner\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return f(*args, **kwargs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 436, in _update_available_resource\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     'numa_topology'])\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/objects/base.py\", line 163, in wrapper\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     result = fn(cls, context, *args, **kwargs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1152, in get_by_host_and_node\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     expected_attrs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1068, in _make_instance_list\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     expected_attrs=expected_attrs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 501, in _from_db_object\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     db_inst.get('extra').get('numa_topology'))\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup AttributeError: 'NoneType' object has no attribute 'get'\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup", 
    "tags": [
        "ops"
    ], 
    "importance": "High", 
    "heat": 36, 
    "link": "https://bugs.launchpad.net/nova/+bug/1446082", 
    "owner": "https://api.launchpad.net/1.0/~danms", 
    "id": 1446082, 
    "index": 1733, 
    "openned": "2015-04-20 07:42:06.036503+00:00", 
    "created": "2015-04-20 07:42:06.036503+00:00", 
    "title": "Instance without 'extra' data crashes nova-compute", 
    "comments": [
        {
            "content": "I'm upgrading from Icehouse to Kilo. I have a single instance that was created in Icehouse. After the upgrade, nova-compute crashes because it's looking for instance \"extra\" data that is not there.\n\nTo fix this, we need to check if there is any \"extra\" data for the instance before trying to read properties such as \"numa_topology\".\n\n# dpkg -l | grep nova\nii  nova-common                         1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute - common files\nii  nova-compute                        1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute - compute node base\nii  nova-compute-kvm                    1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute - compute node (KVM)\nii  nova-compute-libvirt                1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute - compute node libvirt support\nii  python-nova                         1:2015.1~rc1-0ubuntu1~cloud0          all          OpenStack Compute Python libraries\nii  python-novaclient                   1:2.22.0-0ubuntu1~cloud0              all          client library for OpenStack Compute API\n\nnova-compute.log:\n2015-04-20 17:35:09.214 15508 DEBUG oslo_concurrency.lockutils [req-43d3110a-cac7-425e-842c-f725bda91c10 - - - - -] Lock \"compute_resources\" acquired by \"_update_available_resource\" :: waited 0.000s inner /usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:444\n2015-04-20 17:35:09.299 15508 DEBUG oslo_concurrency.lockutils [req-43d3110a-cac7-425e-842c-f725bda91c10 - - - - -] Lock \"compute_resources\" released by \"_update_available_resource\" :: held 0.085s inner /usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py:456\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 457, in fire_timers\n    timer()\n  File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/timer.py\", line 58, in __call__\n    cb(*args, **kw)\n  File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 214, in main\n    result = function(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/service.py\", line 497, in run_service\n    service.start()\n  File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 183, in start\n    self.manager.pre_start_hook()\n  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1287, in pre_start_hook\n    self.update_available_resource(nova.context.get_admin_context())\n  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 6236, in update_available_resource\n    rt.update_available_resource(context)\n  File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 402, in update_available_resource\n    self._update_available_resource(context, resources)\n  File \"/usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py\", line 445, in inner\n    return f(*args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 436, in _update_available_resource\n    'numa_topology'])\n  File \"/usr/lib/python2.7/dist-packages/nova/objects/base.py\", line 163, in wrapper\n    result = fn(cls, context, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1152, in get_by_host_and_node\n    expected_attrs)\n  File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1068, in _make_instance_list\n    expected_attrs=expected_attrs)\n  File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 501, in _from_db_object\n    db_inst.get('extra').get('numa_topology'))\nAttributeError: 'NoneType' object has no attribute 'get'\n2015-04-20 17:35:09.301 15508 ERROR nova.openstack.common.threadgroup [req-12483464-12a6-4b74-a671-bc6bb943b265 - - - - -] 'NoneType' object has no attribute 'get'\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/threadgroup.py\", line 145, in wait\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     x.wait()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/threadgroup.py\", line 47, in wait\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 175, in wait\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/event.py\", line 121, in wait\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 294, in switch\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 214, in main\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/service.py\", line 497, in run_service\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     service.start()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 183, in start\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     self.manager.pre_start_hook()\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 1287, in pre_start_hook\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     self.update_available_resource(nova.context.get_admin_context())\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 6236, in update_available_resource\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     rt.update_available_resource(context)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 402, in update_available_resource\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     self._update_available_resource(context, resources)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo_concurrency/lockutils.py\", line 445, in inner\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     return f(*args, **kwargs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/compute/resource_tracker.py\", line 436, in _update_available_resource\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     'numa_topology'])\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/objects/base.py\", line 163, in wrapper\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     result = fn(cls, context, *args, **kwargs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1152, in get_by_host_and_node\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     expected_attrs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1068, in _make_instance_list\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     expected_attrs=expected_attrs)\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 501, in _from_db_object\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup     db_inst.get('extra').get('numa_topology'))\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup AttributeError: 'NoneType' object has no attribute 'get'\n2015-04-20 17:35:09.301 15508 TRACE nova.openstack.common.threadgroup", 
            "date_created": "2015-04-20 07:42:06.036503+00:00", 
            "author": "https://api.launchpad.net/1.0/~cdwertmann"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/175298", 
            "date_created": "2015-04-20 08:17:52.293645+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Christoph Dwertmann (<email address hidden>) on branch: master\nReview: https://review.openstack.org/175288", 
            "date_created": "2015-04-21 00:31:37.765223+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "I had many problems during the nova DB migration from icehouse to kilo. Even though I ran the migration tool, instances were missing their \"extra\" data that contain the flavor information. Most of this could be fixed by running the the \"migrate_flavor_data\" migration, however for some instances I had to manually create the \"extra\" data in the DB.\n\nThe patch I submitted above seemed to work fine at first, but when deleting VMs later on I ran into this issue in nova-compute:\n\n2015-04-23 13:50:12.213 38580 TRACE oslo_messaging.rpc.dispatcher DetachedInstanceError: Parent instance <InstanceExtra at 0x7f3a4c05e290> is not bound to a Session; deferred load operation of attribute 'pci_requests' cannot proceed\n\nTherefore I'm withdrawing the patch.\n\nI also had a similar issue where instances were missing the \"info_cache\" and the code in nova/objects/instance.py just assumes that it's there and crashes if the key is not in the dict. I think nova/objects/instance.py needs to be more resilient when it comes to missing dictionary items.", 
            "date_created": "2015-04-23 04:56:54.192264+00:00", 
            "author": "https://api.launchpad.net/1.0/~cdwertmann"
        }, 
        {
            "content": "Currently hitting this upgrading from Juno->Kilo.\n\nIs there still a fix in progress?", 
            "date_created": "2015-05-13 17:53:50.407343+00:00", 
            "author": "https://api.launchpad.net/1.0/~craigshannonx"
        }, 
        {
            "content": "Did you run nova-manage migrate-flavor-data?\n\nhttps://wiki.openstack.org/wiki/ReleaseNotes/Kilo#Upgrade_Notes_2\n\n\"After fully upgrading to kilo (i.e. all nodes are running kilo code), you should start a background migration of flavor information from its old home to its new home. Kilo conductor nodes will do this on the fly when necessary, but the rest of the idle data needs to be migrated in the the background. This is critical to complete before the Liberty release, where support for the old location will be dropped. Use \"nova-manage migrate-flavor-data\" to perform this transition.\"", 
            "date_created": "2015-05-13 18:15:51.704536+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "nova-manage db migrate_flavor_data 50\nNo handlers could be found for logger \"oslo_config.cfg\"\n%(total)i instances matched query, %(done)i completed {'total': 1, 'done': 1}\n\nRestart nova-compute on compute node and same error:\n File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 501, in _from_db_object\n2015-05-13 11:24:27.109 14189 TRACE nova.openstack.common.threadgroup     db_inst.get('extra').get('numa_topology'))\n\n", 
            "date_created": "2015-05-13 18:30:43.045499+00:00", 
            "author": "https://api.launchpad.net/1.0/~craigshannonx"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/182787", 
            "date_created": "2015-05-13 18:51:04.271860+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/kilo\nReview: https://review.openstack.org/183127", 
            "date_created": "2015-05-14 17:41:25.969921+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/182787\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=1bfb65d5ac8f7180edf3c4ecea09c8e15982bf27\nSubmitter: Jenkins\nBranch:    master\n\ncommit 1bfb65d5ac8f7180edf3c4ecea09c8e15982bf27\nAuthor: Dan Smith <email address hidden>\nDate:   Wed May 13 11:52:10 2015 -0700\n\n    Fix loading things in instance_extra for old instances\n    \n    If we don't have db_inst['extra'] then we can't load those things. We\n    should just set them to None instead of exploding.\n    \n    Change-Id: I2ace62158faaa0b6a7df3c32f2cb9f235d178013\n    Closes-Bug: #1446082\n", 
            "date_created": "2015-05-15 06:52:57.782281+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/183127\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=8ba0159a0e29d84f8b02a9e037f8fc4585670252\nSubmitter: Jenkins\nBranch:    stable/kilo\n\ncommit 8ba0159a0e29d84f8b02a9e037f8fc4585670252\nAuthor: Dan Smith <email address hidden>\nDate:   Wed May 13 11:52:10 2015 -0700\n\n    Fix loading things in instance_extra for old instances\n    \n    If we don't have db_inst['extra'] then we can't load those things. We\n    should just set them to None instead of exploding.\n    \n    Conflicts:\n    \tnova/objects/instance.py\n    \n    Change-Id: I2ace62158faaa0b6a7df3c32f2cb9f235d178013\n    Closes-Bug: #1446082\n    (cherry picked from commit 1bfb65d5ac8f7180edf3c4ecea09c8e15982bf27)\n", 
            "date_created": "2015-05-15 15:18:48.311831+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Kevin L. Mitchell (<email address hidden>) on branch: master\nReview: https://review.openstack.org/175298\nReason: Uncorrected unit test failures, idle since end of April.  Please feel free to re-open if you get time to fix up the change.", 
            "date_created": "2015-06-12 19:41:28.793238+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2015-06-24 12:15:21.337253+00:00"
}