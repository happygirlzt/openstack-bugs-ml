{
    "status": "Fix Released", 
    "last_updated": "2013-10-17 11:50:37.325961+00:00", 
    "description": "ubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova hypervisor-list\n+----+-------------------------------------------------+\n| ID | Hypervisor hostname                             |\n+----+-------------------------------------------------+\n| 1  | server-1360172514-az-3-region-a-geo-1.novalocal |\n+----+-------------------------------------------------+\n\nubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova hypervisor-uptime 1\n+---------------------+---------------------------------------------------------------+\n| Property            | Value                                                         |\n+---------------------+---------------------------------------------------------------+\n| uptime              |  23:23:52 up 28 min,  1 user,  load average: 0.21, 0.35, 0.31 |\n|                     |                                                               |\n| id                  | 1                                                             |\n| hypervisor_hostname | server-1360172514-az-3-region-a-geo-1.novalocal               |\n+---------------------+---------------------------------------------------------------+\n\nubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova service-list\n+------------------+---------------------------------------+----------+---------+-------+----------------------------+\n| Binary           | Host                                  | Zone     | Status  | State | Updated_at                 |\n+------------------+---------------------------------------+----------+---------+-------+----------------------------+\n| nova-conductor   | server-1360172514-az-3-region-a-geo-1 | internal | enabled | up    | 2013-06-26T23:23:56.000000 |\n| nova-compute     | server-1360172514-az-3-region-a-geo-1 | nova     | enabled | up    | 2013-06-26T23:23:58.000000 |\n| nova-cert        | server-1360172514-az-3-region-a-geo-1 | internal | enabled | up    | 2013-06-26T23:23:59.000000 |\n| nova-scheduler   | server-1360172514-az-3-region-a-geo-1 | internal | enabled | up    | 2013-06-26T23:24:01.000000 |\n| nova-consoleauth | server-1360172514-az-3-region-a-geo-1 | internal | enabled | up    | 2013-06-26T23:23:55.000000 |\n+------------------+---------------------------------------+----------+---------+-------+----------------------------+\n\nubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova service-disable server-1360172514-az-3-region-a-geo-1 nova-compute\n+---------------------------------------+--------------+----------+\n| Host                                  | Binary       | Status   |\n+---------------------------------------+--------------+----------+\n| server-1360172514-az-3-region-a-geo-1 | nova-compute | disabled |\n+---------------------------------------+--------------+----------+\n\nubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova hypervisor-uptime 1\nERROR: The resource could not be found. (HTTP 404) (Request-ID: req-b06f3d89-6e28-466b-9d94-67bd7ac65b87)", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1195052", 
    "owner": "https://api.launchpad.net/1.0/~philip-day", 
    "id": 1195052, 
    "index": 5064, 
    "openned": "2013-06-26 23:27:54.495151+00:00", 
    "created": "2013-06-26 23:27:54.495151+00:00", 
    "title": "hypervisor uptime API fails if the service is disabled", 
    "comments": [
        {
            "content": "ubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova hypervisor-list\n+----+-------------------------------------------------+\n| ID | Hypervisor hostname                             |\n+----+-------------------------------------------------+\n| 1  | server-1360172514-az-3-region-a-geo-1.novalocal |\n+----+-------------------------------------------------+\n\nubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova hypervisor-uptime 1\n+---------------------+---------------------------------------------------------------+\n| Property            | Value                                                         |\n+---------------------+---------------------------------------------------------------+\n| uptime              |  23:23:52 up 28 min,  1 user,  load average: 0.21, 0.35, 0.31 |\n|                     |                                                               |\n| id                  | 1                                                             |\n| hypervisor_hostname | server-1360172514-az-3-region-a-geo-1.novalocal               |\n+---------------------+---------------------------------------------------------------+\n\nubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova service-list\n+------------------+---------------------------------------+----------+---------+-------+----------------------------+\n| Binary           | Host                                  | Zone     | Status  | State | Updated_at                 |\n+------------------+---------------------------------------+----------+---------+-------+----------------------------+\n| nova-conductor   | server-1360172514-az-3-region-a-geo-1 | internal | enabled | up    | 2013-06-26T23:23:56.000000 |\n| nova-compute     | server-1360172514-az-3-region-a-geo-1 | nova     | enabled | up    | 2013-06-26T23:23:58.000000 |\n| nova-cert        | server-1360172514-az-3-region-a-geo-1 | internal | enabled | up    | 2013-06-26T23:23:59.000000 |\n| nova-scheduler   | server-1360172514-az-3-region-a-geo-1 | internal | enabled | up    | 2013-06-26T23:24:01.000000 |\n| nova-consoleauth | server-1360172514-az-3-region-a-geo-1 | internal | enabled | up    | 2013-06-26T23:23:55.000000 |\n+------------------+---------------------------------------+----------+---------+-------+----------------------------+\n\nubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova service-disable server-1360172514-az-3-region-a-geo-1 nova-compute\n+---------------------------------------+--------------+----------+\n| Host                                  | Binary       | Status   |\n+---------------------------------------+--------------+----------+\n| server-1360172514-az-3-region-a-geo-1 | nova-compute | disabled |\n+---------------------------------------+--------------+----------+\n\nubuntu@server-1360172514-az-3-region-a-geo-1:/mnt/devstack$ nova hypervisor-uptime 1\nERROR: The resource could not be found. (HTTP 404) (Request-ID: req-b06f3d89-6e28-466b-9d94-67bd7ac65b87)", 
            "date_created": "2013-06-26 23:27:54.495151+00:00", 
            "author": "https://api.launchpad.net/1.0/~philip-day"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/34757", 
            "date_created": "2013-06-27 16:06:01.599819+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/34757\nCommitted: http://github.com/openstack/nova/commit/d2a491554c5f51470ab5ce60abf177b4e5d35c7a\nSubmitter: Jenkins\nBranch:    master\n\ncommit d2a491554c5f51470ab5ce60abf177b4e5d35c7a\nAuthor: Phil Day <email address hidden>\nDate:   Thu Jun 27 07:07:24 2013 +0100\n\n    Hypervisor uptime fails if service is disabled\n    \n    Getting the uptime of a hypervisor fails because the db query\n    used to get the service filters out disabled hosts.\n    \n    Instead we replace that query with one that always gets the\n    service if it exists, and a check that the sevice is up to\n    avoid an rpc call to a non running service.\n    \n    Fixes bug 1195052\n    \n    Change-Id: I97bc8a5002bd0f333207403d5b1878649612b762\n", 
            "date_created": "2013-07-15 23:00:33.679607+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2013-07-17 12:25:44.572963+00:00"
}