{
    "status": "Won't Fix", 
    "last_updated": "2013-03-04 22:51:40.903438+00:00", 
    "description": "When nova compute is configured with IPTables firewall, nova-compute fails to start\n\n[Use firewall_driver=nova.virt.libvirt.firewall.IptablesFirewallDriver fails. Changing it to firewall_driver : nova.virt.firewall.NoopFirewallDriver works ]\n\n\nroot# /usr/local/bin/nova-compute --debug\n2013-02-11 15:38:30 19935 INFO nova.virt.driver [-] Loading compute driver 'nova.virt.baremetal.driver.BareMetalDriver'\n2013-02-11 15:38:30 19935 INFO nova.manager [-] Skipping periodic task _periodic_update_dns because its interval is negative\n2013-02-11 15:38:30 19935 CRITICAL nova [-] __init__() takes at least 2 arguments (1 given)\n2013-02-11 15:38:30 19935 TRACE nova Traceback (most recent call last):\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/bin/nova-compute\", line 5, in <module>\n2013-02-11 15:38:30 19935 TRACE nova     pkg_resources.run_script('nova==2013.1', 'nova-compute')\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 499, in run_script\n2013-02-11 15:38:30 19935 TRACE nova     self.require(requires)[0].run_script(script_name, ns)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 1235, in run_script\n2013-02-11 15:38:30 19935 TRACE nova     execfile(script_filename, namespace, namespace)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/EGG-INFO/scripts/nova-compute\", line 58, in <module>\n2013-02-11 15:38:30 19935 TRACE nova     topic=CONF.compute_topic)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/service.py\", line 511, in create\n2013-02-11 15:38:30 19935 TRACE nova     periodic_interval_max=periodic_interval_max)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/service.py\", line 396, in __init__\n2013-02-11 15:38:30 19935 TRACE nova     self.manager = manager_class(host=self.host, *args, **kwargs)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/compute/manager.py\", line 307, in __init__\n2013-02-11 15:38:30 19935 TRACE nova     self.driver = driver.load_compute_driver(self.virtapi, compute_driver)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/virt/driver.py\", line 835, in load_compute_driver\n2013-02-11 15:38:30 19935 TRACE nova     virtapi)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/openstack/common/importutils.py\", line 53, in import_object_ns\n2013-02-11 15:38:30 19935 TRACE nova     return import_class(import_str)(*args, **kwargs)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/virt/baremetal/driver.py\", line 130, in __init__\n2013-02-11 15:38:30 19935 TRACE nova     default=DEFAULT_FIREWALL_DRIVER)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/virt/firewall.py\", line 49, in load_driver\n2013-02-11 15:38:30 19935 TRACE nova     return fw_class(*args, **kwargs)\n2013-02-11 15:38:30 19935 TRACE nova TypeError: __init__() takes at least 2 arguments (1 given)", 
    "tags": [
        "baremetal"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1142846", 
    "owner": "None", 
    "id": 1142846, 
    "index": 4733, 
    "openned": "2013-03-03 21:09:29.473119+00:00", 
    "created": "2013-03-03 21:09:29.473119+00:00", 
    "title": "Nova baremetal compute does not start when IPTables firewalll is used", 
    "comments": [
        {
            "content": "When nova compute is configured with IPTables firewall, nova-compute fails to start\n\n[Use firewall_driver=nova.virt.libvirt.firewall.IptablesFirewallDriver fails. Changing it to firewall_driver : nova.virt.firewall.NoopFirewallDriver works ]\n\n\nroot# /usr/local/bin/nova-compute --debug\n2013-02-11 15:38:30 19935 INFO nova.virt.driver [-] Loading compute driver 'nova.virt.baremetal.driver.BareMetalDriver'\n2013-02-11 15:38:30 19935 INFO nova.manager [-] Skipping periodic task _periodic_update_dns because its interval is negative\n2013-02-11 15:38:30 19935 CRITICAL nova [-] __init__() takes at least 2 arguments (1 given)\n2013-02-11 15:38:30 19935 TRACE nova Traceback (most recent call last):\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/bin/nova-compute\", line 5, in <module>\n2013-02-11 15:38:30 19935 TRACE nova     pkg_resources.run_script('nova==2013.1', 'nova-compute')\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 499, in run_script\n2013-02-11 15:38:30 19935 TRACE nova     self.require(requires)[0].run_script(script_name, ns)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 1235, in run_script\n2013-02-11 15:38:30 19935 TRACE nova     execfile(script_filename, namespace, namespace)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/EGG-INFO/scripts/nova-compute\", line 58, in <module>\n2013-02-11 15:38:30 19935 TRACE nova     topic=CONF.compute_topic)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/service.py\", line 511, in create\n2013-02-11 15:38:30 19935 TRACE nova     periodic_interval_max=periodic_interval_max)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/service.py\", line 396, in __init__\n2013-02-11 15:38:30 19935 TRACE nova     self.manager = manager_class(host=self.host, *args, **kwargs)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/compute/manager.py\", line 307, in __init__\n2013-02-11 15:38:30 19935 TRACE nova     self.driver = driver.load_compute_driver(self.virtapi, compute_driver)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/virt/driver.py\", line 835, in load_compute_driver\n2013-02-11 15:38:30 19935 TRACE nova     virtapi)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/openstack/common/importutils.py\", line 53, in import_object_ns\n2013-02-11 15:38:30 19935 TRACE nova     return import_class(import_str)(*args, **kwargs)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/virt/baremetal/driver.py\", line 130, in __init__\n2013-02-11 15:38:30 19935 TRACE nova     default=DEFAULT_FIREWALL_DRIVER)\n2013-02-11 15:38:30 19935 TRACE nova   File \"/usr/local/lib/python2.7/dist-packages/nova-2013.1-py2.7.egg/nova/virt/firewall.py\", line 49, in load_driver\n2013-02-11 15:38:30 19935 TRACE nova     return fw_class(*args, **kwargs)\n2013-02-11 15:38:30 19935 TRACE nova TypeError: __init__() takes at least 2 arguments (1 given)", 
            "date_created": "2013-03-03 21:09:29.473119+00:00", 
            "author": "https://api.launchpad.net/1.0/~jay-s-b"
        }, 
        {
            "content": "Is this with grizzly", 
            "date_created": "2013-03-04 14:51:56.768476+00:00", 
            "author": "https://api.launchpad.net/1.0/~zulcss"
        }, 
        {
            "content": "This is correct -- firewall does not work with baremetal, and really doesn't make sense. The wiki (updated just recently) now mentions that you must use NoopFirewallDriver with baremetal driver.", 
            "date_created": "2013-03-04 22:51:08.807127+00:00", 
            "author": "https://api.launchpad.net/1.0/~devananda"
        }
    ], 
    "closed": "2013-03-04 22:51:39.301564+00:00"
}