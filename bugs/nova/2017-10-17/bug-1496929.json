{
    "status": "Invalid", 
    "last_updated": "2016-03-22 19:01:51.566940+00:00", 
    "description": "Hello, I followed the documentation  \" http://docs.openstack.org/kilo/config-reference/content/vmware.html \" to connect ESXi with OpenStack Juno, i put the following configuration on the compute node, nova.conf file : \n\n[DEFAULT]\ncompute_driver=vmwareapi.VMwareVCDriver\n \n[vmware]\nhost_ip=<vCenter host IP>\nhost_username=<vCenter username>\nhost_password=<vCenter password>\ncluster_name=<vCenter cluster name>\ndatastore_regex=<optional datastore regex>\n\nAnd in the nova-compute.conf :\n\n[DEFAULT]\ncompute_driver=vmwareapi.VMwareVCDriver\n\n\nBut in vain, on the juno OpenStack Dashboard when i whant to launch instance, i have error \" Error: Failed to launch instance \"Test\": Please try again later [Error: No valid host was found. ]. \", plz there is an idea for launce instance in my ESXi.\n\nattached the logs on the controller and compute node:\n\n======> nova-conductor\n\nERROR nova.scheduler.utils [req-618d4ee3-c936-4249-9f8c-7c266d5f9264 None] [instance: 0c1ee287-edfe-4258-bb43-db23338bbe90] Error from last host: ComputeNode (node domain-c65(Compute)): [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2054, in _do_build_and_run_instance\\n    filter_properties)\\n', u'  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2185, in _build_and_run_instance\\n    instance_uuid=instance.uuid, reason=six.text_type(e))\\n', u'RescheduledException: Build of instance 0c1ee287-edfe-4258-bb43-db23338bbe90 was re-scheduled: Network could not be found for bridge br-int\\n']\n2015-09-17 15:31:34.921 2432 WARNING nova.scheduler.driver [req-618d4ee3-c936-4249-9f8c-7c266d5f9264 None] [instance: 0c1ee287-edfe-4258-bb43-db23338bbe90] NoValidHost exception with message: 'No valid host was found.'\n\n\n=====> neutron \n2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] Returning exception More than one external network exists to caller\n2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\\n    incoming.message))\\n', '  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 177, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt, args)\\n', '  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 123, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt, **new_args)\\n', '  File \"/usr/lib/python2.7/dist-packages/neutron/api/rpc/handlers/l3_rpc.py\", line 149, in get_external_network_id\\n    net_id = self.plugin.get_external_network_id(context)\\n', '  File \"/usr/lib/python2.7/dist-packages/neutron/db/external_net_db.py\", line 161, in get_external_network_id\\n    raise n_exc.TooManyExternalNetworks()\\n', 'TooManyExternalNetworks: More than one external network exists\\n']\n\n\n=====>  compute Node / nova-compute\n\n2015-09-17 15:28:22.323 5944 ERROR oslo.vmware.common.loopingcall [-] in fixed duration looping call\n2015-09-17 15:31:33.550 5944 ERROR nova.compute.manager [-] [instance: 0c1ee287-edfe-4258-bb43-db23338bbe90] Instance failed to spawn\n\n\n=====> nova-network / nova-compute\n\n2015-09-17 11:21:10.840 1363 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on ControllerNode01:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 3 seconds.\n2015-09-17 11:23:02.874 1363 ERROR nova.openstack.common.periodic_task [-] Error during VlanManager._disassociate_stale_fixed_ips: Timed out waiting for a reply to message ID b6d62061352e4590a37cbc0438ea3ef0", 
    "tags": [
        "network", 
        "vmware"
    ], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1496929", 
    "owner": "None", 
    "id": 1496929, 
    "index": 7040, 
    "openned": "2015-09-17 16:53:03.264683+00:00", 
    "created": "2015-09-17 16:53:03.264683+00:00", 
    "title": "VMware NSX: instance launch failed: TooManyExternalNetworks: More than one external network exists", 
    "comments": [
        {
            "content": "Hello, I followed the documentation  \" http://docs.openstack.org/kilo/config-reference/content/vmware.html \" to connect ESXi with OpenStack Juno, i put the following configuration on the compute node, nova.conf file : \n\n[DEFAULT]\ncompute_driver=vmwareapi.VMwareVCDriver\n \n[vmware]\nhost_ip=<vCenter host IP>\nhost_username=<vCenter username>\nhost_password=<vCenter password>\ncluster_name=<vCenter cluster name>\ndatastore_regex=<optional datastore regex>\n\nAnd in the nova-compute.conf :\n\n[DEFAULT]\ncompute_driver=vmwareapi.VMwareVCDriver\n\n\nBut in vain, on the juno OpenStack Dashboard when i whant to launch instance, i have error \" Error: Failed to launch instance \"Test\": Please try again later [Error: No valid host was found. ]. \", plz there is an idea for launce instance in my ESXi.\n\nattached the logs on the controller and compute node:\n\n======> nova-conductor\n\nERROR nova.scheduler.utils [req-618d4ee3-c936-4249-9f8c-7c266d5f9264 None] [instance: 0c1ee287-edfe-4258-bb43-db23338bbe90] Error from last host: ComputeNode (node domain-c65(Compute)): [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2054, in _do_build_and_run_instance\\n    filter_properties)\\n', u'  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2185, in _build_and_run_instance\\n    instance_uuid=instance.uuid, reason=six.text_type(e))\\n', u'RescheduledException: Build of instance 0c1ee287-edfe-4258-bb43-db23338bbe90 was re-scheduled: Network could not be found for bridge br-int\\n']\n2015-09-17 15:31:34.921 2432 WARNING nova.scheduler.driver [req-618d4ee3-c936-4249-9f8c-7c266d5f9264 None] [instance: 0c1ee287-edfe-4258-bb43-db23338bbe90] NoValidHost exception with message: 'No valid host was found.'\n\n\n=====> neutron \n2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] Returning exception More than one external network exists to caller\n2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\\n    incoming.message))\\n', '  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 177, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt, args)\\n', '  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 123, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt, **new_args)\\n', '  File \"/usr/lib/python2.7/dist-packages/neutron/api/rpc/handlers/l3_rpc.py\", line 149, in get_external_network_id\\n    net_id = self.plugin.get_external_network_id(context)\\n', '  File \"/usr/lib/python2.7/dist-packages/neutron/db/external_net_db.py\", line 161, in get_external_network_id\\n    raise n_exc.TooManyExternalNetworks()\\n', 'TooManyExternalNetworks: More than one external network exists\\n']\n\n\n=====>  compute Node / nova-compute\n\n2015-09-17 15:28:22.323 5944 ERROR oslo.vmware.common.loopingcall [-] in fixed duration looping call\n2015-09-17 15:31:33.550 5944 ERROR nova.compute.manager [-] [instance: 0c1ee287-edfe-4258-bb43-db23338bbe90] Instance failed to spawn\n\n\n=====> nova-network / nova-compute\n\n2015-09-17 11:21:10.840 1363 ERROR oslo.messaging._drivers.impl_rabbit [-] AMQP server on ControllerNode01:5672 is unreachable: [Errno 111] ECONNREFUSED. Trying again in 3 seconds.\n2015-09-17 11:23:02.874 1363 ERROR nova.openstack.common.periodic_task [-] Error during VlanManager._disassociate_stale_fixed_ips: Timed out waiting for a reply to message ID b6d62061352e4590a37cbc0438ea3ef0", 
            "date_created": "2015-09-17 16:53:03.264683+00:00", 
            "author": "https://api.launchpad.net/1.0/~mrhari-mehdi"
        }, 
        {
            "content": "The \"TooManyExternalNetworks\" exception in neutron looks suspicious. It's thrown here:\n\nhttps://github.com/openstack/neutron/blob/master/neutron/db/external_net_db.py#L150\n\nIt's just a guess, but could there be a configuration failure? Do you maybe have more than one external network?", 
            "date_created": "2015-09-18 07:54:38.413807+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "Looks like a configuration issue. Maybe one of the vmware neutron folks can help out?", 
            "date_created": "2015-09-18 08:09:49.092874+00:00", 
            "author": "https://api.launchpad.net/1.0/~andreas-scheuring"
        }, 
        {
            "content": "hello,\n\nThank you for your mail back, and I inform you that I have only one external\nnetwork, and there is a configuration at neutron file for integration vmware\nesxi and OpenStack juno\n\n2015-09-18 8:54 GMT+01:00 Markus Zoeller (markus_z) <email address hidden>:\n\n> The \"TooManyExternalNetworks\" exception in neutron looks suspicious.\n> It's thrown here:\n>\n>\n> https://github.com/openstack/neutron/blob/master/neutron/db/external_net_db.py#L150\n>\n> It's just a guess, but could there be a configuration failure? Do you\n> maybe have more than one external network?\n>\n> --\n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/1496929\n>\n> Title:\n>   instance luanch failed\n>\n> Status in OpenStack Compute (nova):\n>   New\n>\n> Bug description:\n>   Hello, I followed the documentation  \" http://docs.openstack.org/kilo\n>   /config-reference/content/vmware.html \" to connect ESXi with OpenStack\n>   Juno, i put the following configuration on the compute node, nova.conf\n>   file :\n>\n>   [DEFAULT]\n>   compute_driver=vmwareapi.VMwareVCDriver\n>\n>   [vmware]\n>   host_ip=<vCenter host IP>\n>   host_username=<vCenter username>\n>   host_password=<vCenter password>\n>   cluster_name=<vCenter cluster name>\n>   datastore_regex=<optional datastore regex>\n>\n>   And in the nova-compute.conf :\n>\n>   [DEFAULT]\n>   compute_driver=vmwareapi.VMwareVCDriver\n>\n>\n>   But in vain, on the juno OpenStack Dashboard when i whant to launch\n> instance, i have error \" Error: Failed to launch instance \"Test\": Please\n> try again later [Error: No valid host was found. ]. \", plz there is an idea\n> for launce instance in my ESXi.\n>\n>   attached the logs on the controller and compute node:\n>\n>   ======> nova-conductor\n>\n>   ERROR nova.scheduler.utils [req-618d4ee3-c936-4249-9f8c-7c266d5f9264\n> None] [instance: 0c1ee287-edfe-4258-bb43-db23338bbe90] Error from last\n> host: ComputeNode (node domain-c65(Compute)): [u'Traceback (most recent\n> call last):\\n', u'  File\n> \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2054, in\n> _do_build_and_run_instance\\n    filter_properties)\\n', u'  File\n> \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2185, in\n> _build_and_run_instance\\n    instance_uuid=instance.uuid,\n> reason=six.text_type(e))\\n', u'RescheduledException: Build of instance\n> 0c1ee287-edfe-4258-bb43-db23338bbe90 was re-scheduled: Network could not be\n> found for bridge br-int\\n']\n>   2015-09-17 15:31:34.921 2432 WARNING nova.scheduler.driver\n> [req-618d4ee3-c936-4249-9f8c-7c266d5f9264 None] [instance:\n> 0c1ee287-edfe-4258-bb43-db23338bbe90] NoValidHost exception with message:\n> 'No valid host was found.'\n>\n>\n>   =====> neutron\n>   2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common\n> [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] Returning exception More than\n> one external network exists to caller\n>   2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common\n> [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] ['Traceback (most recent call\n> last):\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 134, in _dispatch_and_reply\\n    incoming.message))\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 177, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt,\n> args)\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 123, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt,\n> **new_args)\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/neutron/api/rpc/handlers/l3_rpc.py\", line\n> 149, in get_external_network_id\\n    net_id =\n> self.plugin.get_external_network_id(context)\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/neutron/db/external_net_db.py\", line 161,\n> in get_external_network_id\\n    raise n_exc.TooManyExternalNetworks()\\n',\n> 'TooManyExternalNetworks: More than one external network exists\\n']\n>\n>\n>   =====>  compute Node / nova-compute\n>\n>   2015-09-17 15:28:22.323 5944 ERROR oslo.vmware.common.loopingcall [-] in\n> fixed duration looping call\n>   2015-09-17 15:31:33.550 5944 ERROR nova.compute.manager [-] [instance:\n> 0c1ee287-edfe-4258-bb43-db23338bbe90] Instance failed to spawn\n>\n>\n>   =====> nova-network / nova-compute\n>\n>   2015-09-17 11:21:10.840 1363 ERROR oslo.messaging._drivers.impl_rabbit\n> [-] AMQP server on ControllerNode01:5672 is unreachable: [Errno 111]\n> ECONNREFUSED. Trying again in 3 seconds.\n>   2015-09-17 11:23:02.874 1363 ERROR nova.openstack.common.periodic_task\n> [-] Error during VlanManager._disassociate_stale_fixed_ips: Timed out\n> waiting for a reply to message ID b6d62061352e4590a37cbc0438ea3ef0\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1496929/+subscriptions\n>\n\n\n\n-- \n-----\nCordialement\n\n  El Mehdi MRHARI\n00212(0)6-65-22-53-37\n<email address hidden>\n", 
            "date_created": "2015-09-18 09:08:52+00:00", 
            "author": "https://api.launchpad.net/1.0/~mrhari-mehdi"
        }, 
        {
            "content": "What network mode you are using?  nova-network or neutron ? \nIf you use nova-network , neutron config is invalid.  Or you are using neutron,  you should config nsx_plugin as core plugin.", 
            "date_created": "2015-09-18 11:51:46.574831+00:00", 
            "author": "https://api.launchpad.net/1.0/~hellochosen"
        }, 
        {
            "content": "i use neutron, Please, how i can implement nsx_plugin as core plugin, you\ncan help me on this.\n\n2015-09-18 12:51 GMT+01:00 Dongcan Ye <email address hidden>:\n\n> What network mode you are using?  nova-network or neutron ?\n> If you use nova-network , neutron config is invalid.  Or you are using\n> neutron,  you should config nsx_plugin as core plugin.\n>\n> --\n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/1496929\n>\n> Title:\n>   instance launch failed: TooManyExternalNetworks: More than one\n>   external network exists\n>\n> Status in neutron:\n>   New\n> Status in OpenStack Compute (nova):\n>   New\n>\n> Bug description:\n>   Hello, I followed the documentation  \" http://docs.openstack.org/kilo\n>   /config-reference/content/vmware.html \" to connect ESXi with OpenStack\n>   Juno, i put the following configuration on the compute node, nova.conf\n>   file :\n>\n>   [DEFAULT]\n>   compute_driver=vmwareapi.VMwareVCDriver\n>\n>   [vmware]\n>   host_ip=<vCenter host IP>\n>   host_username=<vCenter username>\n>   host_password=<vCenter password>\n>   cluster_name=<vCenter cluster name>\n>   datastore_regex=<optional datastore regex>\n>\n>   And in the nova-compute.conf :\n>\n>   [DEFAULT]\n>   compute_driver=vmwareapi.VMwareVCDriver\n>\n>\n>   But in vain, on the juno OpenStack Dashboard when i whant to launch\n> instance, i have error \" Error: Failed to launch instance \"Test\": Please\n> try again later [Error: No valid host was found. ]. \", plz there is an idea\n> for launce instance in my ESXi.\n>\n>   attached the logs on the controller and compute node:\n>\n>   ======> nova-conductor\n>\n>   ERROR nova.scheduler.utils [req-618d4ee3-c936-4249-9f8c-7c266d5f9264\n> None] [instance: 0c1ee287-edfe-4258-bb43-db23338bbe90] Error from last\n> host: ComputeNode (node domain-c65(Compute)): [u'Traceback (most recent\n> call last):\\n', u'  File\n> \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2054, in\n> _do_build_and_run_instance\\n    filter_properties)\\n', u'  File\n> \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2185, in\n> _build_and_run_instance\\n    instance_uuid=instance.uuid,\n> reason=six.text_type(e))\\n', u'RescheduledException: Build of instance\n> 0c1ee287-edfe-4258-bb43-db23338bbe90 was re-scheduled: Network could not be\n> found for bridge br-int\\n']\n>   2015-09-17 15:31:34.921 2432 WARNING nova.scheduler.driver\n> [req-618d4ee3-c936-4249-9f8c-7c266d5f9264 None] [instance:\n> 0c1ee287-edfe-4258-bb43-db23338bbe90] NoValidHost exception with message:\n> 'No valid host was found.'\n>\n>\n>   =====> neutron\n>   2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common\n> [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] Returning exception More than\n> one external network exists to caller\n>   2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common\n> [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] ['Traceback (most recent call\n> last):\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 134, in _dispatch_and_reply\\n    incoming.message))\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 177, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt,\n> args)\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 123, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt,\n> **new_args)\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/neutron/api/rpc/handlers/l3_rpc.py\", line\n> 149, in get_external_network_id\\n    net_id =\n> self.plugin.get_external_network_id(context)\\n', '  File\n> \"/usr/lib/python2.7/dist-packages/neutron/db/external_net_db.py\", line 161,\n> in get_external_network_id\\n    raise n_exc.TooManyExternalNetworks()\\n',\n> 'TooManyExternalNetworks: More than one external network exists\\n']\n>\n>\n>   =====>  compute Node / nova-compute\n>\n>   2015-09-17 15:28:22.323 5944 ERROR oslo.vmware.common.loopingcall [-] in\n> fixed duration looping call\n>   2015-09-17 15:31:33.550 5944 ERROR nova.compute.manager [-] [instance:\n> 0c1ee287-edfe-4258-bb43-db23338bbe90] Instance failed to spawn\n>\n>\n>   =====> nova-network / nova-compute\n>\n>   2015-09-17 11:21:10.840 1363 ERROR oslo.messaging._drivers.impl_rabbit\n> [-] AMQP server on ControllerNode01:5672 is unreachable: [Errno 111]\n> ECONNREFUSED. Trying again in 3 seconds.\n>   2015-09-17 11:23:02.874 1363 ERROR nova.openstack.common.periodic_task\n> [-] Error during VlanManager._disassociate_stale_fixed_ips: Timed out\n> waiting for a reply to message ID b6d62061352e4590a37cbc0438ea3ef0\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/neutron/+bug/1496929/+subscriptions\n>\n\n\n\n-- \n-----\nCordialement\n\n  El Mehdi MRHARI\n00212(0)6-65-22-53-37\n<email address hidden>\n", 
            "date_created": "2015-09-18 13:35:26+00:00", 
            "author": "https://api.launchpad.net/1.0/~mrhari-mehdi"
        }, 
        {
            "content": "i have the both network mode in my openstack plateforme, how i can view the\nmode used\n\n2015-09-18 14:35 GMT+01:00 Mrhari El Mehdi <email address hidden>:\n\n> i use neutron, Please, how i can implement nsx_plugin as core plugin, you\n> can help me on this.\n>\n> 2015-09-18 12:51 GMT+01:00 Dongcan Ye <email address hidden>:\n>\n>> What network mode you are using?  nova-network or neutron ?\n>> If you use nova-network , neutron config is invalid.  Or you are using\n>> neutron,  you should config nsx_plugin as core plugin.\n>>\n>> --\n>> You received this bug notification because you are subscribed to the bug\n>> report.\n>> https://bugs.launchpad.net/bugs/1496929\n>>\n>> Title:\n>>   instance launch failed: TooManyExternalNetworks: More than one\n>>   external network exists\n>>\n>> Status in neutron:\n>>   New\n>> Status in OpenStack Compute (nova):\n>>   New\n>>\n>> Bug description:\n>>   Hello, I followed the documentation  \" http://docs.openstack.org/kilo\n>>   /config-reference/content/vmware.html \" to connect ESXi with OpenStack\n>>   Juno, i put the following configuration on the compute node, nova.conf\n>>   file :\n>>\n>>   [DEFAULT]\n>>   compute_driver=vmwareapi.VMwareVCDriver\n>>\n>>   [vmware]\n>>   host_ip=<vCenter host IP>\n>>   host_username=<vCenter username>\n>>   host_password=<vCenter password>\n>>   cluster_name=<vCenter cluster name>\n>>   datastore_regex=<optional datastore regex>\n>>\n>>   And in the nova-compute.conf :\n>>\n>>   [DEFAULT]\n>>   compute_driver=vmwareapi.VMwareVCDriver\n>>\n>>\n>>   But in vain, on the juno OpenStack Dashboard when i whant to launch\n>> instance, i have error \" Error: Failed to launch instance \"Test\": Please\n>> try again later [Error: No valid host was found. ]. \", plz there is an idea\n>> for launce instance in my ESXi.\n>>\n>>   attached the logs on the controller and compute node:\n>>\n>>   ======> nova-conductor\n>>\n>>   ERROR nova.scheduler.utils [req-618d4ee3-c936-4249-9f8c-7c266d5f9264\n>> None] [instance: 0c1ee287-edfe-4258-bb43-db23338bbe90] Error from last\n>> host: ComputeNode (node domain-c65(Compute)): [u'Traceback (most recent\n>> call last):\\n', u'  File\n>> \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2054, in\n>> _do_build_and_run_instance\\n    filter_properties)\\n', u'  File\n>> \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2185, in\n>> _build_and_run_instance\\n    instance_uuid=instance.uuid,\n>> reason=six.text_type(e))\\n', u'RescheduledException: Build of instance\n>> 0c1ee287-edfe-4258-bb43-db23338bbe90 was re-scheduled: Network could not be\n>> found for bridge br-int\\n']\n>>   2015-09-17 15:31:34.921 2432 WARNING nova.scheduler.driver\n>> [req-618d4ee3-c936-4249-9f8c-7c266d5f9264 None] [instance:\n>> 0c1ee287-edfe-4258-bb43-db23338bbe90] NoValidHost exception with message:\n>> 'No valid host was found.'\n>>\n>>\n>>   =====> neutron\n>>   2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common\n>> [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] Returning exception More than\n>> one external network exists to caller\n>>   2015-09-17 12:36:09.398 1840 ERROR oslo.messaging._drivers.common\n>> [req-775407a3-d756-4677-bdb9-0ddfe2fac50c ] ['Traceback (most recent call\n>> last):\\n', '  File\n>> \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line\n>> 134, in _dispatch_and_reply\\n    incoming.message))\\n', '  File\n>> \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line\n>> 177, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt,\n>> args)\\n', '  File\n>> \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line\n>> 123, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt,\n>> **new_args)\\n', '  File\n>> \"/usr/lib/python2.7/dist-packages/neutron/api/rpc/handlers/l3_rpc.py\", line\n>> 149, in get_external_network_id\\n    net_id =\n>> self.plugin.get_external_network_id(context)\\n', '  File\n>> \"/usr/lib/python2.7/dist-packages/neutron/db/external_net_db.py\", line 161,\n>> in get_external_network_id\\n    raise n_exc.TooManyExternalNetworks()\\n',\n>> 'TooManyExternalNetworks: More than one external network exists\\n']\n>>\n>>\n>>   =====>  compute Node / nova-compute\n>>\n>>   2015-09-17 15:28:22.323 5944 ERROR oslo.vmware.common.loopingcall [-]\n>> in fixed duration looping call\n>>   2015-09-17 15:31:33.550 5944 ERROR nova.compute.manager [-] [instance:\n>> 0c1ee287-edfe-4258-bb43-db23338bbe90] Instance failed to spawn\n>>\n>>\n>>   =====> nova-network / nova-compute\n>>\n>>   2015-09-17 11:21:10.840 1363 ERROR oslo.messaging._drivers.impl_rabbit\n>> [-] AMQP server on ControllerNode01:5672 is unreachable: [Errno 111]\n>> ECONNREFUSED. Trying again in 3 seconds.\n>>   2015-09-17 11:23:02.874 1363 ERROR nova.openstack.common.periodic_task\n>> [-] Error during VlanManager._disassociate_stale_fixed_ips: Timed out\n>> waiting for a reply to message ID b6d62061352e4590a37cbc0438ea3ef0\n>>\n>> To manage notifications about this bug go to:\n>> https://bugs.launchpad.net/neutron/+bug/1496929/+subscriptions\n>>\n>\n>\n>\n> --\n> -----\n> Cordialement\n>\n>   El Mehdi MRHARI\n> 00212(0)6-65-22-53-37\n> <email address hidden>\n>\n\n\n\n-- \n-----\nCordialement\n\n  El Mehdi MRHARI\n00212(0)6-65-22-53-37\n<email address hidden>\n", 
            "date_created": "2015-09-18 13:38:49+00:00", 
            "author": "https://api.launchpad.net/1.0/~mrhari-mehdi"
        }, 
        {
            "content": "You can make a  confirmation that what component in the VMware side you are using. \n\nIf you using NSX, you can use neutron as network backend. It's configuration  can refer:\nhttp://docs.openstack.org/admin-guide-cloud/networking_arch.html\nhttp://docs.openstack.org/admin-guide-cloud/networking_config-plugins.html#configure-nsx-mh-plug-in\n\n\nAnother solution is nova-network, this can drive ESXi standard vSwitch and distributed vSwitch.\n\n", 
            "date_created": "2015-09-19 07:32:34.160180+00:00", 
            "author": "https://api.launchpad.net/1.0/~hellochosen"
        }, 
        {
            "content": "I removed a tag which doesn't has a subteam which watches for them.", 
            "date_created": "2015-11-26 16:04:41.234402+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "I'd suggest reaching out to Gary Kotton (garyk on freenode irc) or the #openstack-vmware irc channel in freenode about this, I suspect it's a configuration issue.\n\nAlso, what version of each component (nova, neutron, vmware) are you running?", 
            "date_created": "2015-11-26 17:03:28.471097+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Oh I guess the description says Juno, I doubt if a lot of the neutron vmware parts work with nova in Juno, you'd have to ask Gary Kotton.", 
            "date_created": "2015-11-26 17:04:11.112679+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Also, Juno is basically end of life now so can you recreate this with Liberty?", 
            "date_created": "2015-11-26 17:04:32.012612+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "@El Mehd:\nThis bug report was opened against Juno (which has reached its EOL) [1].\nI'm going to deprecate it with \"invalid\". If the issue arises again in \nmaster code or a supported stable release, just reopen the report by\nsetting it to \"New\".\n\nReferences:\n[1] http://releases.openstack.org/", 
            "date_created": "2016-03-22 19:01:50.929411+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ], 
    "closed": "2016-03-22 19:01:39.456229+00:00"
}