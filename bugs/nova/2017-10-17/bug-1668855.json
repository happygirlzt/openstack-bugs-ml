{
    "status": "Invalid", 
    "last_updated": "2017-03-02 03:16:17.871744+00:00", 
    "description": "Description\n===========\nFailure to launch an instance after following the Ubuntu Ocata install guide (probably I've made some mistake...). \n\nSteps to reproduce\n==================\n* Follow Ubuntu Ocata install guide.\n* Using linuxbridge selfservice networks and VXLAN (vanilla guide config)\n* I tried to deploy an instance, no joy:\n\n    $ openstack server create --flavor m1.nano --image cirros --nic net-id=5d4a8c33-9b13-454e-9978-fb57d08fb29f --security-group default --key-name mykey selfservice-instance\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.TypeError'> (HTTP 500) (Request-ID: req-20d98ad0-8af1-4cef-8de0-c784c8401e7f)\n\n\nEnvironment\n===========\n1. Exact version of OpenStack you are running: Ocata\n$ dpkg -l | grep nova\nii  nova-api                           2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - API frontend\nii  nova-common                        2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - common files\nii  nova-conductor                     2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                   2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                    2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                     2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                        2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                  2:7.1.0-0ubuntu1~cloud0               all          client library for OpenStack Compute API - Python 2.7\n\n2. Which hypervisor: Libvirt + KVM\n$ dpkg -l | grep kvm\nii  nova-compute-kvm                   2:15.0.0-0ubuntu1~cloud0            all          OpenStack Compute - compute node (KVM)\nii  qemu-kvm                           1:2.8+dfsg-2ubuntu1~cloud2          amd64        QEMU Full virtualization\n$ dpkg -l | grep libvirt\nii  libvirt-bin                        2.5.0-3ubuntu2~cloud0               amd64        programs for the libvirt library\nii  libvirt-clients                    2.5.0-3ubuntu2~cloud0               amd64        Programs for the libvirt library\nii  libvirt-daemon                     2.5.0-3ubuntu2~cloud0               amd64        Virtualization daemon\nii  libvirt-daemon-system              2.5.0-3ubuntu2~cloud0               amd64        Libvirt daemon configuration files\nii  libvirt0:amd64                     2.5.0-3ubuntu2~cloud0               amd64        library for interfacing with different virtualization systems\nii  nova-compute-libvirt               2:15.0.0-0ubuntu1~cloud0            all          OpenStack Compute - compute node libvirt support\nii  python-libvirt                     3.0.0-2~cloud0                      amd64        libvirt Python bindings\n\n2. Which storage type did you use? \nNone\n\n3. Which networking type did you use?\nNeutron with linuxbridge, VXLAN\n\n\nLogs & Configs\n==============\n\nnova-api log:\nhttp://paste.openstack.org/show/600880/\n\nopenstack --debug command output:\nhttp://paste.openstack.org/show/600881/", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1668855", 
    "owner": "None", 
    "id": 1668855, 
    "index": 7971, 
    "openned": "2017-03-01 05:37:46.805596+00:00", 
    "created": "2017-03-01 05:37:46.805596+00:00", 
    "title": "Creating instance in Ocata causes Unexpected API Error: TypeError: 'NoneType' object is not iterable", 
    "comments": [
        {
            "content": "Description\n===========\nFailure to launch an instance after following the Ubuntu Ocata install guide (probably I've made some mistake...). \n\nSteps to reproduce\n==================\n* Follow Ubuntu Ocata install guide.\n* Using linuxbridge selfservice networks and VXLAN (vanilla guide config)\n* I tried to deploy an instance, no joy:\n\n    $ openstack server create --flavor m1.nano --image cirros --nic net-id=5d4a8c33-9b13-454e-9978-fb57d08fb29f --security-group default --key-name mykey selfservice-instance\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<type 'exceptions.TypeError'> (HTTP 500) (Request-ID: req-20d98ad0-8af1-4cef-8de0-c784c8401e7f)\n\n\nEnvironment\n===========\n1. Exact version of OpenStack you are running: Ocata\n$ dpkg -l | grep nova\nii  nova-api                           2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - API frontend\nii  nova-common                        2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - common files\nii  nova-conductor                     2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                   2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                    2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                     2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                        2:15.0.0-0ubuntu1~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                  2:7.1.0-0ubuntu1~cloud0               all          client library for OpenStack Compute API - Python 2.7\n\n2. Which hypervisor: Libvirt + KVM\n$ dpkg -l | grep kvm\nii  nova-compute-kvm                   2:15.0.0-0ubuntu1~cloud0            all          OpenStack Compute - compute node (KVM)\nii  qemu-kvm                           1:2.8+dfsg-2ubuntu1~cloud2          amd64        QEMU Full virtualization\n$ dpkg -l | grep libvirt\nii  libvirt-bin                        2.5.0-3ubuntu2~cloud0               amd64        programs for the libvirt library\nii  libvirt-clients                    2.5.0-3ubuntu2~cloud0               amd64        Programs for the libvirt library\nii  libvirt-daemon                     2.5.0-3ubuntu2~cloud0               amd64        Virtualization daemon\nii  libvirt-daemon-system              2.5.0-3ubuntu2~cloud0               amd64        Libvirt daemon configuration files\nii  libvirt0:amd64                     2.5.0-3ubuntu2~cloud0               amd64        library for interfacing with different virtualization systems\nii  nova-compute-libvirt               2:15.0.0-0ubuntu1~cloud0            all          OpenStack Compute - compute node libvirt support\nii  python-libvirt                     3.0.0-2~cloud0                      amd64        libvirt Python bindings\n\n2. Which storage type did you use? \nNone\n\n3. Which networking type did you use?\nNeutron with linuxbridge, VXLAN\n\n\nLogs & Configs\n==============\n\nnova-api log:\nhttp://paste.openstack.org/show/600880/\n\nopenstack --debug command output:\nhttp://paste.openstack.org/show/600881/", 
            "date_created": "2017-03-01 05:37:46.805596+00:00", 
            "author": "https://api.launchpad.net/1.0/~vmorris"
        }, 
        {
            "content": "Could you provide your nova.conf? especially the [glance] section of the api_servers options.", 
            "date_created": "2017-03-01 08:24:38.338582+00:00", 
            "author": "https://api.launchpad.net/1.0/~shunliz"
        }, 
        {
            "content": "Thanks - late night and totally missed that configuration step, api_servers was commented out.\nI set it properly and things look good.", 
            "date_created": "2017-03-02 03:15:56.328284+00:00", 
            "author": "https://api.launchpad.net/1.0/~vmorris"
        }
    ], 
    "closed": "2017-03-02 03:16:16.017372+00:00"
}