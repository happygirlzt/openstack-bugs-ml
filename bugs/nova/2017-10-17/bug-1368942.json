{
    "status": "Won't Fix", 
    "last_updated": "2014-09-25 14:39:08.120144+00:00", 
    "description": "Heres the stack trace from the following test:\nnova.tests.virt.libvirt.test_driver.LibvirtConnTestCase.test_create_propagates_exceptions\n\nTraceback (most recent call last):\n  File \"nova/tests/virt/libvirt/test_driver.py\", line 9231, in test_create_propagates_exceptions\n    instance, None)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 420, in assertRaises\n    self.assertThat(our_callable, matcher)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 431, in assertThat\n    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 481, in _matchHelper\n    mismatch = matcher.match(matchee)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/matchers/_exception.py\", line 108, in match\n    mismatch = self.exception_matcher.match(exc_info)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/matchers/_higherorder.py\", line 62, in match\n    mismatch = matcher.match(matchee)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 412, in match\n    reraise(*matchee)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/matchers/_exception.py\", line 101, in match\n    result = matchee()\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 955, in __call__\n    return self._callable_object(*self._args, **self._kwargs)\n  File \"nova/virt/libvirt/driver.py\", line 4229, in _create_domain_and_network\n    disk_info):\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/contextlib.py\", line 17, in __enter__\n    return self.gen.next()\n  File \"nova/virt/libvirt/driver.py\", line 4125, in _lxc_disk_handler\n    self._create_domain_setup_lxc(instance, block_device_info, disk_info)\n  File \"nova/virt/libvirt/driver.py\", line 4077, in _create_domain_setup_lxc\n    use_cow=use_cow)\n  File \"nova/virt/disk/api.py\", line 385, in setup_container\n    img = _DiskImage(image=image, use_cow=use_cow, mount_dir=container_dir)\n  File \"nova/virt/disk/api.py\", line 252, in __init__\n    device = self._device_for_path(mount_dir)\n  File \"nova/virt/disk/api.py\", line 260, in _device_for_path\n    with open(\"/proc/mounts\", 'r') as ifp:\nIOError: [Errno 2] No such file or directory: '/proc/mounts'\nRan 1 tests in 1.172s (-30.247s)\nFAILED (id=12, failures=1 (+1))\nerror: testr failed (1)\nERROR: InvocationError: '/Users/dims/openstack/nova/.tox/py27/bin/python -m nova.openstack.common.lockutils python setup.py test --slowest --testr-args=nova.tests.virt.libvirt.test_driver.LibvirtConnTestCase.test_create_propagates_exceptions'\n__________________________________________________________________________________________________________________________ summary ___________________________________________________________________________________________________________________________\nERROR:   py27: commands failed", 
    "tags": [], 
    "importance": "Wishlist", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1368942", 
    "owner": "https://api.launchpad.net/1.0/~dims-v", 
    "id": 1368942, 
    "index": 2871, 
    "openned": "2014-09-12 20:21:17.336289+00:00", 
    "created": "2014-09-12 20:21:17.336289+00:00", 
    "title": "lxc test failure under osx", 
    "comments": [
        {
            "content": "Heres the stack trace from the following test:\nnova.tests.virt.libvirt.test_driver.LibvirtConnTestCase.test_create_propagates_exceptions\n\nTraceback (most recent call last):\n  File \"nova/tests/virt/libvirt/test_driver.py\", line 9231, in test_create_propagates_exceptions\n    instance, None)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 420, in assertRaises\n    self.assertThat(our_callable, matcher)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 431, in assertThat\n    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 481, in _matchHelper\n    mismatch = matcher.match(matchee)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/matchers/_exception.py\", line 108, in match\n    mismatch = self.exception_matcher.match(exc_info)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/matchers/_higherorder.py\", line 62, in match\n    mismatch = matcher.match(matchee)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 412, in match\n    reraise(*matchee)\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/matchers/_exception.py\", line 101, in match\n    result = matchee()\n  File \"/Users/dims/openstack/nova/.tox/py27/lib/python2.7/site-packages/testtools/testcase.py\", line 955, in __call__\n    return self._callable_object(*self._args, **self._kwargs)\n  File \"nova/virt/libvirt/driver.py\", line 4229, in _create_domain_and_network\n    disk_info):\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/contextlib.py\", line 17, in __enter__\n    return self.gen.next()\n  File \"nova/virt/libvirt/driver.py\", line 4125, in _lxc_disk_handler\n    self._create_domain_setup_lxc(instance, block_device_info, disk_info)\n  File \"nova/virt/libvirt/driver.py\", line 4077, in _create_domain_setup_lxc\n    use_cow=use_cow)\n  File \"nova/virt/disk/api.py\", line 385, in setup_container\n    img = _DiskImage(image=image, use_cow=use_cow, mount_dir=container_dir)\n  File \"nova/virt/disk/api.py\", line 252, in __init__\n    device = self._device_for_path(mount_dir)\n  File \"nova/virt/disk/api.py\", line 260, in _device_for_path\n    with open(\"/proc/mounts\", 'r') as ifp:\nIOError: [Errno 2] No such file or directory: '/proc/mounts'\nRan 1 tests in 1.172s (-30.247s)\nFAILED (id=12, failures=1 (+1))\nerror: testr failed (1)\nERROR: InvocationError: '/Users/dims/openstack/nova/.tox/py27/bin/python -m nova.openstack.common.lockutils python setup.py test --slowest --testr-args=nova.tests.virt.libvirt.test_driver.LibvirtConnTestCase.test_create_propagates_exceptions'\n__________________________________________________________________________________________________________________________ summary ___________________________________________________________________________________________________________________________\nERROR:   py27: commands failed", 
            "date_created": "2014-09-12 20:21:17.336289+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "honestly, fixing this for macox should not be a project priority. If a patch is sent in, that's fine. ", 
            "date_created": "2014-09-12 22:05:26.168555+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/121337", 
            "date_created": "2014-09-13 11:51:47.345230+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Davanum Srinivas (dims) (<email address hidden>) on branch: master\nReview: https://review.openstack.org/121337", 
            "date_created": "2014-09-19 01:08:12.118065+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2014-09-25 14:39:05.799265+00:00"
}