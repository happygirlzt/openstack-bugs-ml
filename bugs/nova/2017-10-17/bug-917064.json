{
    "status": "Invalid", 
    "last_updated": "2012-02-01 10:34:20.271479+00:00", 
    "description": "I was trying to associate a floating ip to a fixed ip address using OS api extension for floating ip which uses POST, but was unable to associate.\n\nGot the following error:\n\nTraceback (most recent call last):\n  File \"./apitool.py\", line 73, in <module>\n    resp, body = get_action_func(nclient, args.verb[0])(path, body=load(args.jsonfile) )\n  File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/client.py\", line 137, in post\n    return self._cs_request(url, 'POST', **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/client.py\", line 121, in _cs_request\n    **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/client.py\", line 104, in request\n    raise exceptions.from_response(resp, body)\nnovaclient.exceptions.NotFound: n/a (HTTP 404)\n\nStack trace from the nova-api.log:\n\n2012-01-11 21:46:07,851 DEBUG nova.api.openstack [-] Successfully authenticated 'cloudroot' from (pid=1111) authenticate /usr/lib/python2.7/dist-packages/nova/api/openstack/auth.py:186\n2012-01-11 21:46:07,894 DEBUG routes.middleware [-] No route matched for POST /cloudproject/os-floating-ips/25/associate from (pid=1111) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:97\n2012-01-11 21:46:07,895 DEBUG routes.middleware [-] No route matched for POST /cloudproject/os-floating-ips/25/associate from (pid=1111) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:97\n\nBut using EC2 API (euca-associate-address ) ,i was able to associate the ip address.\nFollowing is the link where the respective api's are defined.\nhttp://wiki.openstack.org/os_api_floating_ip\n\nverb: POST \nURI : /os-floating-ips/id/associate\nrequest: fixed ip", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/917064", 
    "owner": "None", 
    "id": 917064, 
    "index": 3749, 
    "openned": "2012-01-16 08:52:26.520546+00:00", 
    "created": "2012-01-16 08:52:26.520546+00:00", 
    "title": "Not able to associate a floating ip to a fixed ip address using OS api ", 
    "comments": [
        {
            "content": "I was trying to associate a floating ip to a fixed ip address using OS api extension for floating ip which uses POST, but was unable to associate.\n\nGot the following error:\n\nTraceback (most recent call last):\n  File \"./apitool.py\", line 73, in <module>\n    resp, body = get_action_func(nclient, args.verb[0])(path, body=load(args.jsonfile) )\n  File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/client.py\", line 137, in post\n    return self._cs_request(url, 'POST', **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/client.py\", line 121, in _cs_request\n    **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/client.py\", line 104, in request\n    raise exceptions.from_response(resp, body)\nnovaclient.exceptions.NotFound: n/a (HTTP 404)\n\nStack trace from the nova-api.log:\n\n2012-01-11 21:46:07,851 DEBUG nova.api.openstack [-] Successfully authenticated 'cloudroot' from (pid=1111) authenticate /usr/lib/python2.7/dist-packages/nova/api/openstack/auth.py:186\n2012-01-11 21:46:07,894 DEBUG routes.middleware [-] No route matched for POST /cloudproject/os-floating-ips/25/associate from (pid=1111) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:97\n2012-01-11 21:46:07,895 DEBUG routes.middleware [-] No route matched for POST /cloudproject/os-floating-ips/25/associate from (pid=1111) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:97\n\nBut using EC2 API (euca-associate-address ) ,i was able to associate the ip address.\nFollowing is the link where the respective api's are defined.\nhttp://wiki.openstack.org/os_api_floating_ip\n\nverb: POST \nURI : /os-floating-ips/id/associate\nrequest: fixed ip", 
            "date_created": "2012-01-16 08:52:26.520546+00:00", 
            "author": "https://api.launchpad.net/1.0/~sahitya-k"
        }, 
        {
            "content": "The correct request is \n\nPOST /<TENANT>/os-floating-ips/<ID>/action\n{\"addFloatingIp\": {\"address\": ...} }", 
            "date_created": "2012-01-27 17:29:41.061406+00:00", 
            "author": "https://api.launchpad.net/1.0/~bcwaldon"
        }, 
        {
            "content": "Hi,\r\nCould you please modify the wiki with the correct request for floating ip association.\r\nhttp://wiki.openstack.org/os_api_floating_ip\r\n\r\nRegards,\r\nSahitya\r\n\r\n-----Original Message-----\r\nFrom: <email address hidden> [mailto:<email address hidden>] On Behalf Of Brian Waldon\r\nSent: Friday, January 27, 2012 11:00 PM\r\nTo: Sahitya K\r\nSubject: [Bug 917064] Re: Not able to associate a floating ip to a fixed ip address using OS api \r\n\r\nThe correct request is\r\n\r\nPOST /<TENANT>/os-floating-ips/<ID>/action\r\n{\"addFloatingIp\": {\"address\": ...} }\r\n\r\n** Changed in: nova\r\n       Status: New => Invalid\r\n\r\n--\r\nYou received this bug notification because you are subscribed to the bug report.\r\nhttps://bugs.launchpad.net/bugs/917064\r\n\r\nTitle:\r\n  Not able to associate a floating ip to a fixed ip address using OS api\r\n\r\nStatus in OpenStack Compute (Nova):\r\n  Invalid\r\n\r\nBug description:\r\n  I was trying to associate a floating ip to a fixed ip address using OS\r\n  api extension for floating ip which uses POST, but was unable to\r\n  associate.\r\n\r\n  Got the following error:\r\n\r\n  Traceback (most recent call last):\r\n    File \"./apitool.py\", line 73, in <module>\r\n      resp, body = get_action_func(nclient, args.verb[0])(path, body=load(args.jsonfile) )\r\n    File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/client.py\", line 137, in post\r\n      return self._cs_request(url, 'POST', **kwargs)\r\n    File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/client.py\", line 121, in _cs_request\r\n      **kwargs)\r\n    File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/client.py\", line 104, in request\r\n      raise exceptions.from_response(resp, body)\r\n  novaclient.exceptions.NotFound: n/a (HTTP 404)\r\n\r\n  Stack trace from the nova-api.log:\r\n\r\n  2012-01-11 21:46:07,851 DEBUG nova.api.openstack [-] Successfully authenticated 'cloudroot' from (pid=1111) authenticate /usr/lib/python2.7/dist-packages/nova/api/openstack/auth.py:186\r\n  2012-01-11 21:46:07,894 DEBUG routes.middleware [-] No route matched for POST /cloudproject/os-floating-ips/25/associate from (pid=1111) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:97\r\n  2012-01-11 21:46:07,895 DEBUG routes.middleware [-] No route matched for POST /cloudproject/os-floating-ips/25/associate from (pid=1111) __call__ /usr/lib/pymodules/python2.7/routes/middleware.py:97\r\n\r\n  But using EC2 API (euca-associate-address ) ,i was able to associate the ip address.\r\n  Following is the link where the respective api's are defined.\r\n  http://wiki.openstack.org/os_api_floating_ip\r\n\r\n  verb: POST\r\n  URI : /os-floating-ips/id/associate\r\n  request: fixed ip\r\n\r\nTo manage notifications about this bug go to:\r\nhttps://bugs.launchpad.net/nova/+bug/917064/+subscriptions\r\n\r\nDISCLAIMER\n==========\nThis e-mail may contain privileged and confidential information which is the property of Persistent Systems Ltd. It is intended only for the use of the individual or entity to which it is addressed. If you are not the intended recipient, you are not authorized to read, retain, copy, print, distribute or use this message. If you have received this communication in error, please notify the sender and delete all copies of this message. Persistent Systems Ltd. does not accept any liability for virus infected mails.\r\n", 
            "date_created": "2012-01-30 07:07:36+00:00", 
            "author": "https://api.launchpad.net/1.0/~sahitya-k"
        }, 
        {
            "content": "That wiki is actually a draft proposal the original authors of the code started before the code made it in. I would be more in favor of deleting that wiki entry altogether.", 
            "date_created": "2012-01-30 16:39:40.571432+00:00", 
            "author": "https://api.launchpad.net/1.0/~bcwaldon"
        }, 
        {
            "content": "Hi Brian, \n\nI have used the correct request as given by you. Still, I am unable to associate the floating IP to an address. \n\nREQ: curl -i http://10.233.52.171:8774/v1.1/cloudproject/os-floating-ips/2/addFloatingIp -X POST -H \"X-Auth-Project-Id: cloudproject\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"X-Auth-Token: a79f017c9429bdc0bc70950f620624f688c10e53\"\n\nREQ BODY: {\"addFloatingIp\": {\"address\": \"15.2.0.7\"}}\n\nRESP:{'date': 'Wed, 01 Feb 2012 15:48:41 GMT', 'status': '404', 'content-length': '52', 'content-type': 'text/plain; charset=UTF-8'} 404 Not Found\n\nThe resource could not be found.\n\n\nCan you please help me out.", 
            "date_created": "2012-02-01 10:34:19.250620+00:00", 
            "author": "https://api.launchpad.net/1.0/~sapan-kona"
        }
    ], 
    "closed": "2012-01-27 17:29:50.160090+00:00"
}