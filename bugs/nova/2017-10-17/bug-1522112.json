{
    "status": "Fix Released", 
    "last_updated": "2017-06-16 12:18:51.241698+00:00", 
    "description": "On latest devstack with the following (part of) local.conf:\nREGION_NAME=RegionOne\nQ_PLUGIN=ml2\nENABLE_TENANT_VLANS=True\nML2_VLAN_RANGES=RegionOne:2:4090\n\ndisable_service n-net\nenable_service q-svc\nenable_service q-agt\nenable_service q-dhcp\nenable_service q-l3\nenable_service q-meta\nenable_service neutron\nenable_service h-eng h-api h-api-cfn h-api-cw\n\n\nAfter a successful stack.sh, run:\nneutron quota-update --network 100 --subnet 100 --port 100\n\nRun the following script to create networks:\n#!/bin/bash\n\nNET_NUM=20\n\nwhile [ $NET_NUM -gt 0 ]; do\n\u00a0\u00a0\u00a0\u00a0neutron net-create NET_${NET_NUM}\n\u00a0\u00a0\u00a0\u00a0neutron subnet-create --name 10.21.${NET_NUM}.0/24 --gateway 10.21.${NET_NUM}.1 NET_${NET_NUM} 10.21.${NET_NUM}.0/24\n\u00a0\u00a0\u00a0\u00a0NET_NUM=$[$NET_NUM-1]\ndone\n\nCreate an instance with 20 ports using the following HEAT template:\nheat_template_version: 2013-05-23\n\ndescription: >\n\u00a0\u00a0\u00a0\u00a0HOT template that just defines a single compute instance.\n\u00a0\u00a0\u00a0\u00a0Contains just base features.\n\nresources:\n\u00a0\u00a0\u00a0\u00a0ovs_port_1:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_1\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_2:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_2\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_3:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_3\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_4:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_4\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_5:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_5\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_6:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_6\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_7:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_7\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_8:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_8\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_9:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_9\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_10:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_10\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_11:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_11\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_12:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_12\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_13:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_13\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_14:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_14\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_15:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_15\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_16:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_16\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_17:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_17\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_18:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_18\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_19:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_19\n\n\u00a0\u00a0\u00a0\u00a0ovs_port_20:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Neutron::Port\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network: NET_20\n\n\u00a0\u00a0\u00a0\u00a0ovs_instance:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type: OS::Nova::Server\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0properties:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0image: cirros-0.3.4-x86_64-uec\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0flavor: m1.nano\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0networks:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_1 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_2 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_3 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_4 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_5 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_6 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_7 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_8 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_9 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_10 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_11 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_12 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_13 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_14 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_15 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_16 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_17 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_18 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_19 }\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- port: { get_resource: ovs_port_20 }\n\nThe stack creation fails and nova conductor (n-cond) shows:\n2015-12-02 20:07:26.944 ERROR nova.scheduler.utils [req-9ddafa19-5281-4873-8d08-ecee6e6ad0f0 admin admin] [instance: a8c3f7a2-4298-45a6-81c1-3eea81541ca4] Error from last host: devstack-Box (node devstack-Box): [u'Traceback (most recent call last):\\n', u'  File \"/opt/stack/nova/nova/compute/manager.py\", line 1902, in _do_build_and_run_instance\\n    filter_properties)\\n', u'  File \"/opt/stack/nova/nova/compute/manager.py\", line 2066, in _build_and_run_instance\\n    instance_uuid=instance.uuid, reason=six.text_type(e))\\n', u'RescheduledException: Build of instance a8c3f7a2-4298-45a6-81c1-3eea81541ca4 was re-scheduled: Unable to create tap device tap0739f4dd-d0: Device or resource busy\\n']\n\nLooking at the generated VM XML file there are duplications of (some of) the ports which causes the above.", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 20, 
    "link": "https://bugs.launchpad.net/nova/+bug/1522112", 
    "owner": "https://api.launchpad.net/1.0/~david-edery", 
    "id": 1522112, 
    "index": 4397, 
    "openned": "2015-12-02 18:26:55.289842+00:00", 
    "created": "2015-12-02 18:26:55.289842+00:00", 
    "title": "ports duplication in the VM XML when using heat and multiple networks", 
    "comments": [
        {
            "content": "On latest devstack with the following (part of) local.conf:\nREGION_NAME=RegionOne \nQ_PLUGIN=ml2 \nENABLE_TENANT_VLANS=True \nML2_VLAN_RANGES=RegionOne:2:4090 \n\ndisable_service n-net \nenable_service q-svc \nenable_service q-agt \nenable_service q-dhcp \nenable_service q-l3 \nenable_service q-meta \nenable_service neutron \nenable_service h-eng h-api h-api-cfn h-api-cw\n\nIMAGE_URLS+=\",http://download.fedoraproject.org/pub/fedora/linux/releases/21/Cloud/Images/x86_64/Fedora-Cloud-Base-20141203-21.x86_64.qcow2\"\n\n\nAfter a successful stack.sh, run:\nneutron quota-update --network 100 --subnet 100 --port 100\n\n\nRun the following script to create networks:\n#!/bin/bash\n\nNET_NUM=20\n\nwhile [ $NET_NUM -gt 0 ]; do\n    neutron net-create NET_${NET_NUM}\n    neutron subnet-create --name 10.21.${NET_NUM}.0/24 --gateway 10.21.${NET_NUM}.1 NET_${NET_NUM} 10.21.${NET_NUM}.0/24\n    NET_NUM=$[$NET_NUM-1]\ndone\n\n\nCreate an instance with 20 ports using the following HEAT template:\nheat_template_version: 2013-05-23\n\ndescription: >\n    HOT template that just defines a single compute instance.\n    Contains just base features.\n\nresources:\n    ovs_port_1:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_1\n\n    ovs_port_2:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_2\n\n    ovs_port_3:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_3\n\n    ovs_port_4:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_4\n\n    ovs_port_5:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_5\n\n    ovs_port_6:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_6\n\n    ovs_port_7:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_7\n\n    ovs_port_8:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_8\n\n    ovs_port_9:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_9\n\n    ovs_port_10:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_10\n\n    ovs_port_11:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_11\n\n    ovs_port_12:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_12\n\n    ovs_port_13:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_13\n\n    ovs_port_14:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_14\n\n    ovs_port_15:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_15\n\n    ovs_port_16:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_16\n\n    ovs_port_17:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_17\n\n    ovs_port_18:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_18\n\n    ovs_port_19:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_19\n\n    ovs_port_20:\n        type: OS::Neutron::Port\n        properties:\n            network: NET_20\n\n    ovs_instance:\n        type: OS::Nova::Server\n        properties:\n            image: cirros-0.3.4-x86_64-uec\n            flavor: m1.nano\n            networks:\n                - port: { get_resource: ovs_port_1 }\n                - port: { get_resource: ovs_port_2 }\n                - port: { get_resource: ovs_port_3 }\n                - port: { get_resource: ovs_port_4 }\n                - port: { get_resource: ovs_port_5 }\n                - port: { get_resource: ovs_port_6 }\n                - port: { get_resource: ovs_port_7 }\n                - port: { get_resource: ovs_port_8 }\n                - port: { get_resource: ovs_port_9 }\n                - port: { get_resource: ovs_port_10 }\n                - port: { get_resource: ovs_port_11 }\n                - port: { get_resource: ovs_port_12 }\n                - port: { get_resource: ovs_port_13 }\n                - port: { get_resource: ovs_port_14 }\n                - port: { get_resource: ovs_port_15 }\n                - port: { get_resource: ovs_port_16 }\n                - port: { get_resource: ovs_port_17 }\n                - port: { get_resource: ovs_port_18 }\n                - port: { get_resource: ovs_port_19 }\n                - port: { get_resource: ovs_port_20 }\n\nThe stack creation fails and nova conductor (n-cond) shows:\n2015-12-02 20:07:26.944 ERROR nova.scheduler.utils [req-9ddafa19-5281-4873-8d08-ecee6e6ad0f0 admin admin] [instance: a8c3f7a2-4298-45a6-81c1-3eea81541ca4] Error from last host: devstack-Box (node devstack-Box): [u'Traceback (most recent call last):\\n', u'  File \"/opt/stack/nova/nova/compute/manager.py\", line 1902, in _do_build_and_run_instance\\n    filter_properties)\\n', u'  File \"/opt/stack/nova/nova/compute/manager.py\", line 2066, in _build_and_run_instance\\n    instance_uuid=instance.uuid, reason=six.text_type(e))\\n', u'RescheduledException: Build of instance a8c3f7a2-4298-45a6-81c1-3eea81541ca4 was re-scheduled: Unable to create tap device tap0739f4dd-d0: Device or resource busy\\n']\n\n\nLooking at the generated VM XML file there are duplications of (some of) the ports which causes the above.", 
            "date_created": "2015-12-02 18:26:55.289842+00:00", 
            "author": "https://api.launchpad.net/1.0/~david-edery"
        }, 
        {
            "content": "This happens also in RH's distro (validated on Juno & Kilo)", 
            "date_created": "2015-12-02 18:32:53.084067+00:00", 
            "author": "https://api.launchpad.net/1.0/~david-edery"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/252565", 
            "date_created": "2015-12-02 19:20:47.168785+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This appears to be a duplicate of https://bugs.launchpad.net/nova/+bug/1501735.\n\nI have a fix for that up for review which is different from the one proposed here, but I believe will also fix this issue. Could you try it out with your reproducer and validate that it works? I have provided a fairly in-depth analysis of the problem on the bug report. Please let me know your thoughts.", 
            "date_created": "2015-12-03 09:28:17.860815+00:00", 
            "author": "https://api.launchpad.net/1.0/~mgoddard"
        }, 
        {
            "content": "Validated that the fix from https://bugs.launchpad.net/nova/+bug/1501735 also solves the stated issue. I'll mark as duplicate.\nIt was agreed with Mark that the safety mechanisms added in https://review.openstack.org/252565 can stay so that there will be no chance of duplication.", 
            "date_created": "2015-12-03 17:02:41.116557+00:00", 
            "author": "https://api.launchpad.net/1.0/~david-edery"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/252565\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=3031adb857993d8196b4c9febca51ac82cf35fd6\nSubmitter: Jenkins\nBranch:    master\n\ncommit 3031adb857993d8196b4c9febca51ac82cf35fd6\nAuthor: David Edery <email address hidden>\nDate:   Wed Dec 2 19:56:54 2015 +0100\n\n    ports & networks gather should validate existance\n    \n    _gather_port_ids_and_networks assumes that the input networks variable\n    doesn't contain the networks in ifaces. This is a wrong assumption\n    ever since the introduction of the \"refresh_cache-<instance id>\" locks to\n    the process in the Liberty cycle (see related bugs) and the\n    \"Refactor network API 'get_instance_nw_info'\" patchset\n    (https://review.openstack.org/#/c/146036/).\n    \n    The fix validates that the networks stated in ifaces doen't exist in the\n    gotten networks list.\n    \n    Duplicate networks were observed at the following closed/related bugs.\n    \n    Change-Id: I8c2c9e3c89babbe5e48c5129b9854013690b38f6\n    Closes-Bug: #1522112\n    Related-Bug: #1467581\n    Related-Bug: #1501735\n", 
            "date_created": "2016-01-18 09:22:42.273044+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/270686", 
            "date_created": "2016-01-21 09:23:42.808170+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 13.0.0.0b2 development milestone.", 
            "date_created": "2016-01-21 13:42:40.230846+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/270686\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=adc21bb0c62db822c3d656c4721f7b7c3ad41b7a\nSubmitter: Jenkins\nBranch:    stable/liberty\n\ncommit adc21bb0c62db822c3d656c4721f7b7c3ad41b7a\nAuthor: David Edery <email address hidden>\nDate:   Wed Dec 2 19:56:54 2015 +0100\n\n    ports & networks gather should validate existance\n    \n    _gather_port_ids_and_networks assumes that the input networks variable\n    doesn't contain the networks in ifaces. This is a wrong assumption\n    ever since the introduction of the \"refresh_cache-<instance id>\" locks to\n    the process in the Liberty cycle (see related bugs) and the\n    \"Refactor network API 'get_instance_nw_info'\" patchset\n    (https://review.openstack.org/#/c/146036/).\n    \n    The fix validates that the networks stated in ifaces doen't exist in the\n    gotten networks list.\n    \n    Duplicate networks were observed at the following closed/related bugs.\n    \n    Change-Id: I8c2c9e3c89babbe5e48c5129b9854013690b38f6\n    Closes-Bug: #1522112\n    Related-Bug: #1467581\n    Related-Bug: #1501735\n    (cherry picked from commit 3031adb857993d8196b4c9febca51ac82cf35fd6)\n", 
            "date_created": "2016-02-10 19:51:08.435497+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 12.0.2 release.", 
            "date_created": "2016-03-07 14:18:37.670821+00:00", 
            "author": "https://api.launchpad.net/1.0/~doug-hellmann"
        }
    ], 
    "closed": "2016-01-18 09:22:40.050557+00:00"
}