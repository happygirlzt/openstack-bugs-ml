{
    "status": "Fix Released", 
    "last_updated": "2013-04-04 11:04:40.162937+00:00", 
    "description": "If you POST to os-volume_attachments but give the name of the volume instead of a UUID, it returns a 404 error; this is invalid HTTP. 404 means that the Request-URI has not been found. In fact, the Request-URI has been found, but a child attribute has been incorrectly specified. Some other error could should be used. \n\nHere is sample debug output from nova client:\n\n\nsend: u'POST /v2/696206/servers/103b1f63-31ea-454d-ba63-4872a65c1b09/os-volume_attachments HTTP/1.1\\r\\nHost: dfw.servers.api.rackspacecloud.com\\r\\nContent-Length: 64\\r\\nx-auth-project-id: 696206\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nx-auth-token: 801844be-8c8d-44d5-897f-05786b4e360a\\r\\nuser-agent: python-novaclient\\r\\ncontent-type: application/json\\r\\n\\r\\n{\"volumeAttachment\": {\"device\": null, \"volumeId\": \"TESTVOLUME\"}}'\nreply: 'HTTP/1.1 404 Not Found\\r\\n'\nheader: Date: Fri, 05 Oct 2012 16:20:27 GMT\nheader: Content-Length: 78\nheader: Content-Type: application/json; charset=UTF-8\nheader: X-Compute-Request-Id: req-62383613-37fc-4891-aa67-dde01a708d1d\nheader: Server: Jetty(8.0.y.z-SNAPSHOT)\nRESP:{'status': '404', 'content-length': '78', 'x-compute-request-id': 'req-62383613-37fc-4891-aa67-dde01a708d1d', 'server': 'Jetty(8.0.y.z-SNAPSHOT)', 'date': 'Fri, 05 Oct 2012 16:20:27 GMT', 'content-type': 'application/json; charset=UTF-8'} {\"itemNotFound\": {\"message\": \"The resource could not be found.\", \"code\": 404}}\n \nDEBUG (shell:534) The resource could not be found. (HTTP 404) (Request-ID: req-62383613-37fc-4891-aa67-dde01a708d1d)\nTraceback (most recent call last):\n  File \"/Library/Python/2.7/site-packages/novaclient/shell.py\", line 531, in main\n    OpenStackComputeShell().main(sys.argv[1:])\n  File \"/Library/Python/2.7/site-packages/novaclient/shell.py\", line 467, in main\n    args.func(self.cs, args)\n  File \"/Library/Python/2.7/site-packages/novaclient/v1_1/shell.py\", line 1177, in do_volume_attach\n    args.device)\n  File \"/Library/Python/2.7/site-packages/novaclient/v1_1/volumes.py\", line 110, in create_server_volume\n    body, \"volumeAttachment\")\n  File \"/Library/Python/2.7/site-packages/novaclient/base.py\", line 148, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/Library/Python/2.7/site-packages/novaclient/client.py\", line 242, in post\n    return self._cs_request(url, 'POST', **kwargs)\n  File \"/Library/Python/2.7/site-packages/novaclient/client.py\", line 226, in _cs_request\n    **kwargs)\n  File \"/Library/Python/2.7/site-packages/novaclient/client.py\", line 208, in _time_request\n    resp, body = self.request(url, method, **kwargs)\n  File \"/Library/Python/2.7/site-packages/novaclient/client.py\", line 202, in request\n    raise exceptions.from_response(resp, body)\nNotFound: The resource could not be found. (HTTP 404) (Request-ID: req-62383613-37fc-4891-aa67-dde01a708d1d)\nERROR: The resource could not be found. (HTTP 404) (Request-ID: req-62383613-37fc-4891-aa67-dde01a708d1d)", 
    "tags": [], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1062494", 
    "owner": "https://api.launchpad.net/1.0/~janisg", 
    "id": 1062494, 
    "index": 668, 
    "openned": "2012-10-05 19:09:35.571852+00:00", 
    "created": "2012-10-05 19:09:35.571852+00:00", 
    "title": "POST to os-volume_attachments returns invalid 404", 
    "comments": [
        {
            "content": "If you POST to os-volume_attachments but give the name of the volume instead of a UUID, it returns a 404 error; this is invalid HTTP. 404 means that the Request-URI has not been found. In fact, the Request-URI has been found, but a child attribute has been incorrectly specified. Some other error could should be used. \n\nHere is sample debug output from nova client:\n\n\nsend: u'POST /v2/696206/servers/103b1f63-31ea-454d-ba63-4872a65c1b09/os-volume_attachments HTTP/1.1\\r\\nHost: dfw.servers.api.rackspacecloud.com\\r\\nContent-Length: 64\\r\\nx-auth-project-id: 696206\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nx-auth-token: 801844be-8c8d-44d5-897f-05786b4e360a\\r\\nuser-agent: python-novaclient\\r\\ncontent-type: application/json\\r\\n\\r\\n{\"volumeAttachment\": {\"device\": null, \"volumeId\": \"TESTVOLUME\"}}'\nreply: 'HTTP/1.1 404 Not Found\\r\\n'\nheader: Date: Fri, 05 Oct 2012 16:20:27 GMT\nheader: Content-Length: 78\nheader: Content-Type: application/json; charset=UTF-8\nheader: X-Compute-Request-Id: req-62383613-37fc-4891-aa67-dde01a708d1d\nheader: Server: Jetty(8.0.y.z-SNAPSHOT)\nRESP:{'status': '404', 'content-length': '78', 'x-compute-request-id': 'req-62383613-37fc-4891-aa67-dde01a708d1d', 'server': 'Jetty(8.0.y.z-SNAPSHOT)', 'date': 'Fri, 05 Oct 2012 16:20:27 GMT', 'content-type': 'application/json; charset=UTF-8'} {\"itemNotFound\": {\"message\": \"The resource could not be found.\", \"code\": 404}}\n \nDEBUG (shell:534) The resource could not be found. (HTTP 404) (Request-ID: req-62383613-37fc-4891-aa67-dde01a708d1d)\nTraceback (most recent call last):\n  File \"/Library/Python/2.7/site-packages/novaclient/shell.py\", line 531, in main\n    OpenStackComputeShell().main(sys.argv[1:])\n  File \"/Library/Python/2.7/site-packages/novaclient/shell.py\", line 467, in main\n    args.func(self.cs, args)\n  File \"/Library/Python/2.7/site-packages/novaclient/v1_1/shell.py\", line 1177, in do_volume_attach\n    args.device)\n  File \"/Library/Python/2.7/site-packages/novaclient/v1_1/volumes.py\", line 110, in create_server_volume\n    body, \"volumeAttachment\")\n  File \"/Library/Python/2.7/site-packages/novaclient/base.py\", line 148, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/Library/Python/2.7/site-packages/novaclient/client.py\", line 242, in post\n    return self._cs_request(url, 'POST', **kwargs)\n  File \"/Library/Python/2.7/site-packages/novaclient/client.py\", line 226, in _cs_request\n    **kwargs)\n  File \"/Library/Python/2.7/site-packages/novaclient/client.py\", line 208, in _time_request\n    resp, body = self.request(url, method, **kwargs)\n  File \"/Library/Python/2.7/site-packages/novaclient/client.py\", line 202, in request\n    raise exceptions.from_response(resp, body)\nNotFound: The resource could not be found. (HTTP 404) (Request-ID: req-62383613-37fc-4891-aa67-dde01a708d1d)\nERROR: The resource could not be found. (HTTP 404) (Request-ID: req-62383613-37fc-4891-aa67-dde01a708d1d)", 
            "date_created": "2012-10-05 19:09:35.571852+00:00", 
            "author": "https://api.launchpad.net/1.0/~glen-campbell"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/18796", 
            "date_created": "2013-01-01 20:59:38.115190+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/18796\nCommitted: http://github.com/openstack/nova/commit/2b619e271624eb84947a9a9596745d06efe81b08\nSubmitter: Jenkins\nBranch:    master\n\ncommit 2b619e271624eb84947a9a9596745d06efe81b08\nAuthor: Janis Gengeris <email address hidden>\nDate:   Tue Jan 1 22:28:41 2013 +0200\n\n    Adds os-volume_attachments 'volume_id' validation\n    \n    If you POST to os-volume_attachments but give the name of the volume\n    instead of a UUID, it returns a 404 error; this is invalid HTTP.\n    404 means that the Request-URI has not been found. In fact, the\n    Request-URI has been found, but a child attribute has been incorrectly\n    specified. Some other error could be used.\n    \n    This fixes the problem by returning 'BadRequest' in place of 'NotFound'.\n    The 'volumeId' is checked to be a valid UUID string before moving\n    further.\n    \n    Fixes bug #1062494\n    \n    Change-Id: Icc5dbc7ac94051514709997457cafb16e870bea9\n", 
            "date_created": "2013-01-02 19:50:28.369816+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2013-01-09 10:22:59.014349+00:00"
}