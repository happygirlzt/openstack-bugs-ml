{
    "status": "In Progress", 
    "last_updated": "2017-08-01 10:04:20.234302+00:00", 
    "description": "Description:\nFailed to evacuate instances booted from volume\n\nSteps to reproduce:\n1.Create an instance from volume\nnova boot --boot-volume <volume_id> --flavor <flavor> --nic <net-id=net-uuid> test\n\n2.Force nova-compute service to down\nnova service-force-down <hostname> nova-compute\n\n3.Evacuate server from failed host\nnova evacuate test\n\nResult:\ninstance \"test\" fails to evacuate:\nInvalidSharedStorage: Invalid state of instance files on shared storage\n\nEnvironment:\nversion: Liberty\nnova image backend: Ceph RBD\n\nError Log:\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py\", line 142, in _dispatch_and_reply\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     executor_callback))\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py\", line 186, in _dispatch\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     executor_callback)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py\", line 129, in _do_dispatch\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     result = func(ctxt, **new_args)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py\", line 142, in inner\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     return func(*args, **kwargs)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 89, in wrapped\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 72, in wrapped\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 353, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 326, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 403, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 381, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 369, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2712, in rebuild_instance\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2751, in _do_rebuild_instance_with_claim\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2776, in _do_rebuild_instance\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher InvalidSharedStorage: Invalid state of instance files on shared storage", 
    "tags": [
        "openstack-version.liberty"
    ], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1624797", 
    "owner": "None", 
    "id": 1624797, 
    "index": 7708, 
    "openned": "2016-09-18 06:08:50.749899+00:00", 
    "created": "2016-09-18 06:08:50.749899+00:00", 
    "title": "Failed to evacuate instances booted from volume", 
    "comments": [
        {
            "content": "Description\n===========\nFailed to evacuate instances booted from volume\n\n\nSteps to reproduce\n==================\n1.Create an instance from volume\nnova boot --boot-volume <volume_id> --flavor <flavor> --nic <net-id=net-uuid> test\n\n2.Force nova-compute service to down\nnova service-force-down <hostname> nova-compute\n\n3.Evacuate server from failed host\nnova evacuate test\n\n\nResult\n======\ninstance \"test\" fails to evacuate\n\n\nEnvironment\n===========\nversion: Liberty\nnova image backend: Ceph RBD\n\n\nError Log:\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher Traceback (most recent call last):\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py\", line 142, in _dispatch_and_reply\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     executor_callback))\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py\", line 186, in _dispatch\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     executor_callback)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py\", line 129, in _do_dispatch\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     result = func(ctxt, **new_args)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py\", line 142, in inner\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     return func(*args, **kwargs)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 89, in wrapped\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 72, in wrapped\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 353, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 326, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 403, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 381, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 195, in __exit__\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 369, in decorated_function\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2712, in rebuild_instance\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2751, in _do_rebuild_instance_with_claim\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2776, in _do_rebuild_instance\n2016-08-14 17:37:40.257 930041 ERROR oslo_messaging.rpc.dispatcher InvalidSharedStorage: Invalid state of instance files on shared storage", 
            "date_created": "2016-09-18 06:08:50.749899+00:00", 
            "author": "https://api.launchpad.net/1.0/~javaloveme"
        }, 
        {
            "content": "https://review.openstack.org/#/c/372045/", 
            "date_created": "2016-09-18 10:03:56.576453+00:00", 
            "author": "https://api.launchpad.net/1.0/~javaloveme"
        }, 
        {
            "content": "\nThere are no currently open reviews on this bug, changing\nthe status back to the previous state and unassigning. If\nthere are active reviews related to this bug, please include\nlinks in comments.\n", 
            "date_created": "2017-06-23 12:42:16.057290+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Automatically discovered version liberty in description. If this is incorrect, please update the description to include 'nova version: ...'", 
            "date_created": "2017-06-27 16:01:57.404150+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Change abandoned by Sean Dague (<email address hidden>) on branch: master\nReview: https://review.openstack.org/372045\nReason: This review is > 4 weeks without comment, and is not mergable in it's current state. We are abandoning this for now. Feel free to reactivate the review by pressing the restore button and leaving a 'recheck' comment to get fresh test results.", 
            "date_created": "2017-08-01 10:04:19.348090+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}