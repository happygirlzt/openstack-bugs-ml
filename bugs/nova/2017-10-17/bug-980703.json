{
    "status": "Invalid", 
    "last_updated": "2012-04-20 18:54:54.406809+00:00", 
    "description": "Key pair with same name should not be created again.\n\nBelow is the log:\n\n-<testcase time=\"0.022\" name=\"keypairs.test_keypairs.testKeyPairs.test_007_create_keypair_with_dup_name\" classname=\"nova.consolidationrunST2\">-<error type=\"__builtin__.str\">\n<![CDATA[Traceback (most recent call last): File \"/usr/local/lib/python2.7/dist-packages/unittest2-0.5.1-py2.7.egg/unittest2/case.py\", line 340, in run testMethod() File \"/usr/local/lib/python2.7/dist-packages/nose-1.1.2-py2.7.egg/nose/tools.py\", line 80, in newfunc func(*arg, **kw) File \"/home/umamaheshk/source/csbu-qa/AutomatedTests/python_tests/hp_regression/nova/consolidationrunST2/keypairs/test_keypairs.py\", line 229, in test_007_create_keypair_with_dup_name data = self.nova_client.keypairs.create('key-dup', public_key=None) File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/v1_1/keypairs.py\", line 59, in create return self._create('/os-keypairs', body, 'keypair') File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/base.py\", line 86, in _create return self.resource_class(self, body[response_key]) KeyError: 'keypair' -------------------- >> begin captured logging << -------------------- novaclient.client: DEBUG: REQ: curl -i http://10.233.52.27:8774/v2/8a05c089f11b421dac57f11f10495238/os-keypairs -X POST -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"X-Auth-Token: 66255e52ce94413cb19645c98f0a94db\" novaclient.client: DEBUG: REQ BODY: {\"keypair\": {\"name\": \"key-dup\"}} novaclient.client: DEBUG: RESP:{'date': 'Thu, 12 Apr 2012 13:34:28 GMT', 'status': '409', 'content-length': '86', 'content-type': 'application/json; charset=UTF-8', 'x-compute-request-id': 'req-2320ca9e-a8d4-4909-bd4f-9c1eef5e1fa6'} {\"conflictingRequest\": {\"message\": \"Key pair 'key-dup' already exists.\", \"code\": 409}} --------------------- >> end captured logging << ---------------------]]>\n</error>", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/980703", 
    "owner": "None", 
    "id": 980703, 
    "index": 4037, 
    "openned": "2012-04-13 10:59:24.688912+00:00", 
    "created": "2012-04-13 10:59:24.688912+00:00", 
    "title": "keypair with the same name could be created twice.", 
    "comments": [
        {
            "content": "Key pair with same name should not be created again.\n\nBelow is the log:\n\n-<testcase time=\"0.022\" name=\"keypairs.test_keypairs.testKeyPairs.test_007_create_keypair_with_dup_name\" classname=\"nova.consolidationrunST2\">-<error type=\"__builtin__.str\">\n<![CDATA[Traceback (most recent call last): File \"/usr/local/lib/python2.7/dist-packages/unittest2-0.5.1-py2.7.egg/unittest2/case.py\", line 340, in run testMethod() File \"/usr/local/lib/python2.7/dist-packages/nose-1.1.2-py2.7.egg/nose/tools.py\", line 80, in newfunc func(*arg, **kw) File \"/home/umamaheshk/source/csbu-qa/AutomatedTests/python_tests/hp_regression/nova/consolidationrunST2/keypairs/test_keypairs.py\", line 229, in test_007_create_keypair_with_dup_name data = self.nova_client.keypairs.create('key-dup', public_key=None) File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/v1_1/keypairs.py\", line 59, in create return self._create('/os-keypairs', body, 'keypair') File \"/usr/local/lib/python2.7/dist-packages/python_novaclient-2.6.8-py2.7.egg/novaclient/base.py\", line 86, in _create return self.resource_class(self, body[response_key]) KeyError: 'keypair' -------------------- >> begin captured logging << -------------------- novaclient.client: DEBUG: REQ: curl -i http://10.233.52.27:8774/v2/8a05c089f11b421dac57f11f10495238/os-keypairs -X POST -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"X-Auth-Token: 66255e52ce94413cb19645c98f0a94db\" novaclient.client: DEBUG: REQ BODY: {\"keypair\": {\"name\": \"key-dup\"}} novaclient.client: DEBUG: RESP:{'date': 'Thu, 12 Apr 2012 13:34:28 GMT', 'status': '409', 'content-length': '86', 'content-type': 'application/json; charset=UTF-8', 'x-compute-request-id': 'req-2320ca9e-a8d4-4909-bd4f-9c1eef5e1fa6'} {\"conflictingRequest\": {\"message\": \"Key pair 'key-dup' already exists.\", \"code\": 409}} --------------------- >> end captured logging << ---------------------]]>\n</error>", 
            "date_created": "2012-04-13 10:59:24.688912+00:00", 
            "author": "https://api.launchpad.net/1.0/~sahitya-k"
        }, 
        {
            "content": "In Openstack Essex Version this bug cannot be reproduced.An error message is displayed while creating duplicate keypair names.\n\n\nroot@OpenstackEssex10:~# nova keypair-add  testkey\n2012-04-18 16:50:04 INFO nova.api.openstack.wsgi [req-0584e7d0-7162-4ebd-af31-35a0d7e73051 99d961955ce14ee780337ec7254cf6d6 92cdab8cb75548948d965626101e2141] POST http://10.233.53.173:8774/v2/92cdab8cb75548948d965626101e2141/os-keypairs\n2012-04-18 16:50:04 INFO nova.api.openstack.wsgi [req-0584e7d0-7162-4ebd-af31-35a0d7e73051 99d961955ce14ee780337ec7254cf6d6 92cdab8cb75548948d965626101e2141] HTTP exception thrown: Key pair 'testkey' already exists.\n2012-04-18 16:50:04 INFO nova.api.openstack.wsgi [req-0584e7d0-7162-4ebd-af31-35a0d7e73051 99d961955ce14ee780337ec7254cf6d6 92cdab8cb75548948d965626101e2141] http://10.233.53.173:8774/v2/92cdab8cb75548948d965626101e2141/os-keypairs returned with HTTP 409\nERROR: Key pair 'testkey' already exists. (HTTP 409)\n", 
            "date_created": "2012-04-18 06:06:51.934807+00:00", 
            "author": "https://api.launchpad.net/1.0/~sailaja-pashumarthy"
        }, 
        {
            "content": "This is fixed. https://review.openstack.org/#/c/3699", 
            "date_created": "2012-04-20 18:54:38.724729+00:00", 
            "author": "https://api.launchpad.net/1.0/~philip-knouff"
        }
    ], 
    "closed": "2012-04-20 18:54:52.391472+00:00"
}