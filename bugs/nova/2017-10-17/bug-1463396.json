{
    "status": "Fix Released", 
    "last_updated": "2015-10-15 09:01:49.538935+00:00", 
    "description": "nova quota_class_update returns 500 error if you pass class parameter with more than 255 characters\n\nsteps to reproduce:\n\n$ nova quota_class_update --instances 2 aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n\nThe server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-3f51a5c8-ccfc-4675-b224-a5cf94f0172d)\n\nn-api error logs:\n\n2015-06-09 05:51:19.383 ERROR nova.api.openstack [req-3f51a5c8-ccfc-4675-b224-a5cf94f0172d admin admin] Caught error: (DataError) (1406, \"Data too long for\ncolumn 'class_name' at row 1\") 'INSERT INTO quota_classes (created_at, updated_at, deleted_at, deleted, class_name, resource, hard_limit) VALUES (%s, %s, %s\n, %s, %s, %s, %s)' (datetime.datetime(2015, 6, 9, 12, 51, 19, 380807), None, None, 0, 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa', 'instances', 7)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack Traceback (most recent call last):\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 126, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return req.get_response(self.application)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1317, in send\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     application, catch_exc_info=False)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1281, in call_application\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 639, in __c\nall__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return self._call_app(env, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 559, in _ca\nll_app\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return self._app(env, _fake_start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 136, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 756, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     content_type, body, accept)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 821, in _process_stack\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 911, in dispatch\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return method(req=request, **action_args)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/quota_classes.py\", line 102, in update\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     db.quota_class_create(context, quota_class, key, value)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/api.py\", line 1088, in quota_class_create\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return IMPL.quota_class_create(context, class_name, resource, limit)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 215, in wrapper\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return f(*args, **kwargs)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 3186, in quota_class_create\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     quota_class_ref.save()\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/models.py\", line 82, in save\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     super(NovaBase, self).save(session=session)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/models.py\", line 48, in save\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     session.flush()\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1985, in flush\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     self._flush(objects)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2103, in _flush\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     transaction.rollback(_capture_exception=True)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/util/langhelpers.py\", line 60, in __exit__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     compat.reraise(exc_type, exc_value, exc_tb)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2067, in _flush\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     flush_context.execute()\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 372, in execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     rec.execute(self)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 526, in execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     uow\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 65, in save_obj\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     mapper, table, insert)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 602, in _emit_insert_st\natements\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     execute(statement, params)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 841, in execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return meth(self, multiparams, params)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 322, in _execute_on_connec\ntion\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return connection._execute_clauseelement(self, multiparams, params)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 938, in _execute_clauseelem\nent\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     compiled_sql, distilled_params\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     context)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/compat/handle_error.py\", line 261, in _handle_dbapi_exception\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     e, statement, parameters, cursor, context)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1267, in _handle_dbapi_exception\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     util.raise_from_cause(newraise, exc_info)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 199, in raise_from_cause\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     reraise(type(exception), exception, tb=exc_tb)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1063, in _execute_context\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     context)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 442, in do_execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     cursor.execute(statement, parameters)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py\", line 174, in execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     self.errorhandler(self, exc, value)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     raise errorclass, errorvalue\n2015-06-09 05:51:19.383 TRACE nova.api.openstack DBError: (DataError) (1406, \"Data too long for column 'class_name' at row 1\") 'INSERT INTO quota_classes (created_at, updated_at, deleted_at, deleted, class_name, resource, hard_limit) VALUES (%s, %s, %s, %s, %s, %s, %s)' (datetime.datetime(2015, 6, 9, 12, 51, 19, 380807), None, None, 0, 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa', 'instances', 7)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack\n2015-06-09 05:51:19.389 INFO nova.api.openstack [req-3f51a5c8-ccfc-4675-b224-a5cf94f0172d admin admin] http://10.69.4.136:8774/v2/bd00959429ab477f812822ac32638bd7/os-quota-class-sets/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa returned with HTTP 500", 
    "tags": [
        "api"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1463396", 
    "owner": "https://api.launchpad.net/1.0/~pranali-deore", 
    "id": 1463396, 
    "index": 6861, 
    "openned": "2015-06-09 12:58:32.517976+00:00", 
    "created": "2015-06-09 12:58:32.517976+00:00", 
    "title": "quota_class_update with class_id longer than 255 returns 500 error", 
    "comments": [
        {
            "content": "nova quota_class_update returns 500 error if you pass class parameter with more than 255 characters\n\nsteps to reproduce:\n\n$ nova quota_class_update --instances 2 aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n\nThe server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-3f51a5c8-ccfc-4675-b224-a5cf94f0172d)\n\nn-api error logs:\n\n2015-06-09 05:51:19.383 ERROR nova.api.openstack [req-3f51a5c8-ccfc-4675-b224-a5cf94f0172d admin admin] Caught error: (DataError) (1406, \"Data too long for\ncolumn 'class_name' at row 1\") 'INSERT INTO quota_classes (created_at, updated_at, deleted_at, deleted, class_name, resource, hard_limit) VALUES (%s, %s, %s\n, %s, %s, %s, %s)' (datetime.datetime(2015, 6, 9, 12, 51, 19, 380807), None, None, 0, 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa', 'instances', 7)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack Traceback (most recent call last):\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 126, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return req.get_response(self.application)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1317, in send\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     application, catch_exc_info=False)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1281, in call_application\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 639, in __c\nall__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return self._call_app(env, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/keystonemiddleware/auth_token/__init__.py\", line 559, in _ca\nll_app\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return self._app(env, _fake_start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 136, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return resp(environ, start_response)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 756, in __call__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     content_type, body, accept)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 821, in _process_stack\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 911, in dispatch\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return method(req=request, **action_args)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/quota_classes.py\", line 102, in update\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     db.quota_class_create(context, quota_class, key, value)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/api.py\", line 1088, in quota_class_create\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return IMPL.quota_class_create(context, class_name, resource, limit)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 215, in wrapper\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return f(*args, **kwargs)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/api.py\", line 3186, in quota_class_create\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     quota_class_ref.save()\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/db/sqlalchemy/models.py\", line 82, in save\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     super(NovaBase, self).save(session=session)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/models.py\", line 48, in save\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     session.flush()\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 1985, in flush\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     self._flush(objects)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2103, in _flush\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     transaction.rollback(_capture_exception=True)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/util/langhelpers.py\", line 60, in __exit__\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     compat.reraise(exc_type, exc_value, exc_tb)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2067, in _flush\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     flush_context.execute()\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 372, in execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     rec.execute(self)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 526, in execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     uow\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 65, in save_obj\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     mapper, table, insert)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 602, in _emit_insert_st\natements\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     execute(statement, params)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 841, in execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return meth(self, multiparams, params)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 322, in _execute_on_connec\ntion\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     return connection._execute_clauseelement(self, multiparams, params)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 938, in _execute_clauseelem\nent\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     compiled_sql, distilled_params\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     context)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/oslo_db/sqlalchemy/compat/handle_error.py\", line 261, in _handle_dbapi_exception\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     e, statement, parameters, cursor, context)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1267, in _handle_dbapi_exception\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     util.raise_from_cause(newraise, exc_info)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 199, in raise_from_cause\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     reraise(type(exception), exception, tb=exc_tb)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1063, in _execute_context\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     context)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 442, in do_execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     cursor.execute(statement, parameters)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py\", line 174, in execute\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     self.errorhandler(self, exc, value)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack   File \"/usr/lib/python2.7/dist-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n2015-06-09 05:51:19.383 TRACE nova.api.openstack     raise errorclass, errorvalue\n2015-06-09 05:51:19.383 TRACE nova.api.openstack DBError: (DataError) (1406, \"Data too long for column 'class_name' at row 1\") 'INSERT INTO quota_classes (created_at, updated_at, deleted_at, deleted, class_name, resource, hard_limit) VALUES (%s, %s, %s, %s, %s, %s, %s)' (datetime.datetime(2015, 6, 9, 12, 51, 19, 380807), None, None, 0, 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa', 'instances', 7)\n2015-06-09 05:51:19.383 TRACE nova.api.openstack\n2015-06-09 05:51:19.389 INFO nova.api.openstack [req-3f51a5c8-ccfc-4675-b224-a5cf94f0172d admin admin] http://10.69.4.136:8774/v2/bd00959429ab477f812822ac32638bd7/os-quota-class-sets/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa returned with HTTP 500", 
            "date_created": "2015-06-09 12:58:32.517976+00:00", 
            "author": "https://api.launchpad.net/1.0/~pranali-deore"
        }, 
        {
            "content": "nice catch! testing with extreme values brings often a lot of fun :)", 
            "date_created": "2015-06-10 10:21:45.341114+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/192115", 
            "date_created": "2015-06-16 09:23:52.624037+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/192115\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=451d73217e171d664512ab46ba89c4086bfb02ab\nSubmitter: Jenkins\nBranch:    master\n\ncommit 451d73217e171d664512ab46ba89c4086bfb02ab\nAuthor: PranaliDeore <email address hidden>\nDate:   Tue Jun 9 04:50:58 2015 -0700\n\n    Validate quota class_name\n    \n    If you pass class name with more than 255 characters to\n    quota-class-update api, then it returns 500 error code.\n    \n    Added a check to validate string limit and returned 400 if\n    limit exceeds.\n    \n    Closes-Bug: #1463396\n    Change-Id: I1bb924679ee41f48933b86b5509700ab716507f7\n", 
            "date_created": "2015-08-14 22:56:20.753053+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2015-09-03 11:50:58.348889+00:00"
}