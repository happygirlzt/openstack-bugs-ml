{
    "status": "Invalid", 
    "last_updated": "2014-10-29 02:14:31.761639+00:00", 
    "description": "When I migrate instance from icehouse node to juno node, get errors as below:\n\n2014-10-05 11:26:55.415 ERROR oslo.messaging.rpc.dispatcher [req-6f3e1a81-5d4f-4ddf-9dcd-514d0b2cf619 admin demo] Exception during message handling: Remote err\nor: UnsupportedVersion Endpoint does not support RPC version 3.32\n[u'Traceback (most recent call last):\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\\\nn    incoming.message))\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 186, in _dispatch\\n    raise UnsupportedVe\nsion)\\n', u'UnsupportedVersion: Endpoint does not support RPC version 3.32\\n'].\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dis\npatch_and_reply\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 177, in _dis\npatch\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 123, in _do_\ndispatch\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/exception.py\", line 88, in wrapped\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     payload)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/openstack/common/excutils.py\", line 82, in __exit__\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/exception.py\", line 71, in wrapped\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/compute/manager.py\", line 326, in decorated_function\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     kwargs['instance'], e, sys.exc_info())\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/openstack/common/excutils.py\", line 82, in __exit__\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/compute/manager.py\", line 314, in decorated_function\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/compute/manager.py\", line 4842, in check_can_live_migrate_destination\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     dest_check_data)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/compute/rpcapi.py\", line 362, in check_can_live_migrate_source\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     dest_check_data=dest_check_data)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 152, in call\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     retry=self.retry)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     timeout=timeout, retry=retry)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 408, in send\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     retry=retry)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 399, in _send\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     raise result\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher RemoteError: Remote error: UnsupportedVersion Endpoint does not support RPC version 3.32\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher [u'Traceback (most recent call last):\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\\n    incoming.message))\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 186, in _dispatch\\n    raise UnsupportedVersion(version)\\n', u'UnsupportedVersion: Endpoint does not support RPC version 3.32\\n'].\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher \n2014-10-05 11:26:55.417 ERROR oslo.messaging._drivers.common [req-6f3e1a81-5d4f-4ddf-9dcd-514d0b2cf619 admin demo] Returning exception Remote error: UnsupportedVersion Endpoint does not support RPC version 3.32", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1377621", 
    "owner": "https://api.launchpad.net/1.0/~xuhj", 
    "id": 1377621, 
    "index": 6464, 
    "openned": "2014-10-05 13:02:42.304108+00:00", 
    "created": "2014-10-05 13:02:42.304108+00:00", 
    "title": "live migration instance from icehouse node to juno node failed", 
    "comments": [
        {
            "content": "When I migrate instance from icehouse node to juno node, get errors as below:\n\n2014-10-05 11:26:55.415 ERROR oslo.messaging.rpc.dispatcher [req-6f3e1a81-5d4f-4ddf-9dcd-514d0b2cf619 admin demo] Exception during message handling: Remote err\nor: UnsupportedVersion Endpoint does not support RPC version 3.32\n[u'Traceback (most recent call last):\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\\\nn    incoming.message))\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 186, in _dispatch\\n    raise UnsupportedVe\nsion)\\n', u'UnsupportedVersion: Endpoint does not support RPC version 3.32\\n'].\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dis\npatch_and_reply\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 177, in _dis\npatch\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 123, in _do_\ndispatch\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/exception.py\", line 88, in wrapped\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     payload)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/openstack/common/excutils.py\", line 82, in __exit__\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/exception.py\", line 71, in wrapped\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/compute/manager.py\", line 326, in decorated_function\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     kwargs['instance'], e, sys.exc_info())\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/openstack/common/excutils.py\", line 82, in __exit__\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/compute/manager.py\", line 314, in decorated_function\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/compute/manager.py\", line 4842, in check_can_live_migrate_destination\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     dest_check_data)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/opt/stack/nova/nova/compute/rpcapi.py\", line 362, in check_can_live_migrate_source\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     dest_check_data=dest_check_data)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 152, in call\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     retry=self.retry)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     timeout=timeout, retry=retry)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 408, in send\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     retry=retry)\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 399, in _send\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher     raise result\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher RemoteError: Remote error: UnsupportedVersion Endpoint does not support RPC version 3.32\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher [u'Traceback (most recent call last):\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 134, in _dispatch_and_reply\\n    incoming.message))\\n', u'  File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 186, in _dispatch\\n    raise UnsupportedVersion(version)\\n', u'UnsupportedVersion: Endpoint does not support RPC version 3.32\\n'].\n2014-10-05 11:26:55.415 TRACE oslo.messaging.rpc.dispatcher \n2014-10-05 11:26:55.417 ERROR oslo.messaging._drivers.common [req-6f3e1a81-5d4f-4ddf-9dcd-514d0b2cf619 admin demo] Returning exception Remote error: UnsupportedVersion Endpoint does not support RPC version 3.32", 
            "date_created": "2014-10-05 13:02:42.304108+00:00", 
            "author": "https://api.launchpad.net/1.0/~xuhj"
        }, 
        {
            "content": "This test with right way, this bug is invalid\n", 
            "date_created": "2014-10-05 14:16:48.458069+00:00", 
            "author": "https://api.launchpad.net/1.0/~xuhj"
        }, 
        {
            "content": "How did you resolve the error?\n\nERROR oslo.messaging.rpc.dispatcher [req-6f3e1a81-5d4f-4ddf-9dcd-514d0b2cf619 admin demo] Exception during message handling: Remote error: UnsupportedVersion Endpoint does not support RPC version 3.32.\n Bare with me, I'm still a noob", 
            "date_created": "2014-10-28 13:01:16.800280+00:00", 
            "author": "https://api.launchpad.net/1.0/~kabirunimrod"
        }, 
        {
            "content": "Emm....I remember that reason is I forget to set version cap.\n\nBefore upgrade, it need set version cap as below:\n[upgrade_levels]\ncompute='icehouse'\nconductor='icehouse'\nscheduler=...\n...\n\n", 
            "date_created": "2014-10-29 02:14:30.888088+00:00", 
            "author": "https://api.launchpad.net/1.0/~xuhj"
        }
    ], 
    "closed": "2014-10-05 14:16:54.016993+00:00"
}