{
    "status": "Fix Released", 
    "last_updated": "2016-10-05 19:44:04.327997+00:00", 
    "description": "nova-compute package version 1:2014.1.3-0ubuntu1.1 on Ubuntu 14.04.\n\nTrying to delete a volume-backed instance in error state doesn't work. Nova-compute logs the following error.\n\n# nova delete 71a41e09-e8bc-4829-979e-1d175246da00\n# tail /var/log/nova/nova-compute.log\n[...]\n2014-12-01 09:52:25.563 25832 AUDIT nova.compute.manager [req-39acd9da-518c-4804-bf30-1a38eace21bf 4474a81aca524682875658eb8064c33d 7dbed2bcbd7541289c34ae8392acf612] [instance: 71a41e09-e8bc-4829-979e-1d175246da00] Terminating \ninstance\n2014-12-01 09:52:25.569 25832 ERROR nova.virt.libvirt.driver [-] [instance: 71a41e09-e8bc-4829-979e-1d175246da00] During wait destroy, instance disappeared.\n2014-12-01 09:52:25.638 25832 ERROR nova.compute.manager [req-39acd9da-518c-4804-bf30-1a38eace21bf 4474a81aca524682875658eb8064c33d 7dbed2bcbd7541289c34ae8392acf612] [instance: 71a41e09-e8bc-4829-979e-1d175246da00] Setting inst\nance vm_state to ERROR\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00] Traceback (most recent call last):\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2273, in do_terminate_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     self._delete_instance(context, instance, bdms, quotas)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 103, in inner\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     rv = f(*args, **kwargs)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2242, in _delete_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     quotas.rollback()\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     six.reraise(self.type_, self.value, self.tb)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2214, in _delete_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     self._shutdown_instance(context, db_inst, bdms)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2156, in _shutdown_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     requested_networks)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     six.reraise(self.type_, self.value, self.tb)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2146, in _shutdown_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     block_device_info)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 963, in destroy\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     destroy_disks)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 1040, in cleanup\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     disk_dev = vol['mount_device'].rpartition(\"/\")[2]\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00] AttributeError: 'NoneType' object has no attribute 'rpartition'\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00] \n[...]\n\n# nova show 71a41e09-e8bc-4829-979e-1d175246da00\n+--------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                                                                                                                        |\n+--------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                                                                                                                       |\n| OS-EXT-AZ:availability_zone          | nova                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:host                 | openstack110                                                                                                                                                                                 |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | openstack110.local                                                                                                                                                          |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000b40                                                                                                                                                                            |\n| OS-EXT-STS:power_state               | 0                                                                                                                                                                                            |\n| OS-EXT-STS:task_state                | -                                                                                                                                                                                            |\n| OS-EXT-STS:vm_state                  | error                                                                                                                                                                                        |\n| OS-SRV-USG:launched_at               | -                                                                                                                                                                                            |\n| OS-SRV-USG:terminated_at             | -                                                                                                                                                                                            |\n| accessIPv4                           |                                                                                                                                                                                              |\n| accessIPv6                           |                                                                                                                                                                                              |\n| config_drive                         |                                                                                                                                                                                              |\n| created                              | 2014-10-13T14:14:54Z                                                                                                                                                                         |\n| fault                                | {\"message\": \"'NoneType' object has no attribute 'rpartition'\", \"code\": 500, \"details\": \"  File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 290, in decorated_function |\n|                                      |     return function(self, context, *args, **kwargs)                                                                                                                                          |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2285, in terminate_instance                                                                                        |\n|                                      |     do_terminate_instance(instance, bdms)                                                                                                                                                    |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/openstack/common/lockutils.py\\\", line 249, in inner                                                                                           |\n|                                      |     return f(*args, **kwargs)                                                                                                                                                                |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2283, in do_terminate_instance                                                                                     |\n|                                      |     self._set_instance_error_state(context, instance['uuid'])                                                                                                                                |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\\\", line 68, in __exit__                                                                                          |\n|                                      |     six.reraise(self.type_, self.value, self.tb)                                                                                                                                             |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2273, in do_terminate_instance                                                                                     |\n|                                      |     self._delete_instance(context, instance, bdms, quotas)                                                                                                                                   |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/hooks.py\\\", line 103, in inner                                                                                                                |\n|                                      |     rv = f(*args, **kwargs)                                                                                                                                                                  |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2242, in _delete_instance                                                                                          |\n|                                      |     quotas.rollback()                                                                                                                                                                        |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\\\", line 68, in __exit__                                                                                          |\n|                                      |     six.reraise(self.type_, self.value, self.tb)                                                                                                                                             |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2214, in _delete_instance                                                                                          |\n|                                      |     self._shutdown_instance(context, db_inst, bdms)                                                                                                                                          |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2156, in _shutdown_instance                                                                                        |\n|                                      |     requested_networks)                                                                                                                                                                      |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\\\", line 68, in __exit__                                                                                          |\n|                                      |     six.reraise(self.type_, self.value, self.tb)                                                                                                                                             |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2146, in _shutdown_instance                                                                                        |\n|                                      |     block_device_info)                                                                                                                                                                       |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\\\", line 963, in destroy                                                                                                |\n|                                      |     destroy_disks)                                                                                                                                                                           |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\\\", line 1040, in cleanup                                                                                               |\n|                                      |     disk_dev = vol['mount_device'].rpartition(\\\"/\\\")[2]                                                                                                                                      |\n|                                      | \", \"created\": \"2014-12-01T08:52:25Z\"}                                                                                                                                                        |\n| flavor                               | m1.large (4)                                                                                                                                                                                 |\n| hostId                               | 567b019ea0119d6b7c09dcf0d8d859ad64a8cca16254148f439cd8b6                                                                                                                                     |\n| id                                   | 71a41e09-e8bc-4829-979e-1d175246da00                                                                                                                                                         |\n| image                                | openstack100-clone-1 (b472f236-ec54-41a3-9e92-40f091d57d05)                                                                                                                                  |\n| key_name                             | francois                                                                                                                                                                                     |\n| metadata                             | {}                                                                                                                                                                                           |\n| name                                 | openstack100-clone                                                                                                                                                                           |\n| os-extended-volumes:volumes_attached | [{\"id\": \"d8d89370-f334-4f78-bb35-e4a74f60d077\"}]                                                                                                                                             |\n| status                               | ERROR                                                                                                                                                                                        |\n| tenant_id                            | 7dbed2bcbd7541289c34ae8392acf612                                                                                                                                                             |\n| updated                              | 2014-12-01T08:52:25Z                                                                                                                                                                         |\n| user_id                              | 4474a81aca524682875658eb8064c33d                                                                                                                                                             |\n+--------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n# cinder show d8d89370-f334-4f78-bb35-e4a74f60d077\n+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|            Property            |                                                                                                                                  Value                                                                                                                                  |\n+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|          attachments           |                                           [{u'id': u'd8d89370-f334-4f78-bb35-e4a74f60d077', u'server_id': u'71a41e09-e8bc-4829-979e-1d175246da00', u'host_name': None, u'volume_id': u'd8d89370-f334-4f78-bb35-e4a74f60d077'}]                                          |\n|       availability_zone        |                                                                                                                                   nova                                                                                                                                  |\n|            bootable            |                                                                                                                                   true                                                                                                                                  |\n|           created_at           |                                                                                                                        2014-10-13T14:14:55.000000                                                                                                                       |\n|      display_description       |                                                                                                                                                                                                                                                                         |\n|          display_name          |                                                                                                                                                                                                                                                                         |\n|           encrypted            |                                                                                                                                  False                                                                                                                                  |\n|               id               |                                                                                                                   d8d89370-f334-4f78-bb35-e4a74f60d077                                                                                                                  |\n|            metadata            |                                                                                                             {u'readonly': u'False', u'attached_mode': u'rw'}                                                                                                            |\n|     os-vol-host-attr:host      |                                                                                                                               openstack100                                                                                                                              |\n| os-vol-mig-status-attr:migstat |                                                                                                                                   None                                                                                                                                  |\n| os-vol-mig-status-attr:name_id |                                                                                                                                   None                                                                                                                                  |\n|  os-vol-tenant-attr:tenant_id  |                                                                                                                     7dbed2bcbd7541289c34ae8392acf612                                                                                                                    |\n|              size              |                                                                                                                                   100                                                                                                                                   |\n|          snapshot_id           |                                                                                                                                   None                                                                                                                                  |\n|          source_volid          |                                                                                                                                   None                                                                                                                                  |\n|             status             |                                                                                                                                available                                                                                                                                |\n|     volume_image_metadata      | {u'container_format': u'bare', u'min_ram': u'0', u'disk_format': u'qcow2', u'image_name': u'openstack100-clone-1', u'image_id': u'b472f236-ec54-41a3-9e92-40f091d57d05', u'checksum': u'e3898f7109a6b496b39245988bbdd1e0', u'min_disk': u'80', u'size': u'68893671424'} |\n|          volume_type           |                                                                                                                                   None                                                                                                                                  |\n+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+", 
    "tags": [
        "in-stable-juno", 
        "volumes"
    ], 
    "importance": "High", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1397893", 
    "owner": "https://api.launchpad.net/1.0/~vladik-romanovsky", 
    "id": 1397893, 
    "index": 1653, 
    "openned": "2015-03-26 11:13:18.120145+00:00", 
    "created": "2014-12-01 09:15:24.633115+00:00", 
    "title": "Undeletable volume-backed instance", 
    "comments": [
        {
            "content": "nova-compute package version 1:2014.1.3-0ubuntu1.1 on Ubuntu 14.04.\n\nTrying to delete a volume-backed instance in error state doesn't work. Nova-compute logs the following error.\n\n# nova delete 71a41e09-e8bc-4829-979e-1d175246da00\n# tail /var/log/nova/nova-compute.log\n[...]\n2014-12-01 09:52:25.563 25832 AUDIT nova.compute.manager [req-39acd9da-518c-4804-bf30-1a38eace21bf 4474a81aca524682875658eb8064c33d 7dbed2bcbd7541289c34ae8392acf612] [instance: 71a41e09-e8bc-4829-979e-1d175246da00] Terminating \ninstance\n2014-12-01 09:52:25.569 25832 ERROR nova.virt.libvirt.driver [-] [instance: 71a41e09-e8bc-4829-979e-1d175246da00] During wait destroy, instance disappeared.\n2014-12-01 09:52:25.638 25832 ERROR nova.compute.manager [req-39acd9da-518c-4804-bf30-1a38eace21bf 4474a81aca524682875658eb8064c33d 7dbed2bcbd7541289c34ae8392acf612] [instance: 71a41e09-e8bc-4829-979e-1d175246da00] Setting inst\nance vm_state to ERROR\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00] Traceback (most recent call last):\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2273, in do_terminate_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     self._delete_instance(context, instance, bdms, quotas)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 103, in inner\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     rv = f(*args, **kwargs)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2242, in _delete_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     quotas.rollback()\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     six.reraise(self.type_, self.value, self.tb)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2214, in _delete_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     self._shutdown_instance(context, db_inst, bdms)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2156, in _shutdown_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     requested_networks)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     six.reraise(self.type_, self.value, self.tb)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2146, in _shutdown_instance\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     block_device_info)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 963, in destroy\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     destroy_disks)\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 1040, in cleanup\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00]     disk_dev = vol['mount_device'].rpartition(\"/\")[2]\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00] AttributeError: 'NoneType' object has no attribute 'rpartition'\n2014-12-01 09:52:25.638 25832 TRACE nova.compute.manager [instance: 71a41e09-e8bc-4829-979e-1d175246da00] \n[...]\n\n# nova show 71a41e09-e8bc-4829-979e-1d175246da00\n+--------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Property                             | Value                                                                                                                                                                                        |\n+--------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                                                                                                                                                       |\n| OS-EXT-AZ:availability_zone          | nova                                                                                                                                                                                         |\n| OS-EXT-SRV-ATTR:host                 | openstack110                                                                                                                                                                                 |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | openstack110.local                                                                                                                                                          |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000b40                                                                                                                                                                            |\n| OS-EXT-STS:power_state               | 0                                                                                                                                                                                            |\n| OS-EXT-STS:task_state                | -                                                                                                                                                                                            |\n| OS-EXT-STS:vm_state                  | error                                                                                                                                                                                        |\n| OS-SRV-USG:launched_at               | -                                                                                                                                                                                            |\n| OS-SRV-USG:terminated_at             | -                                                                                                                                                                                            |\n| accessIPv4                           |                                                                                                                                                                                              |\n| accessIPv6                           |                                                                                                                                                                                              |\n| config_drive                         |                                                                                                                                                                                              |\n| created                              | 2014-10-13T14:14:54Z                                                                                                                                                                         |\n| fault                                | {\"message\": \"'NoneType' object has no attribute 'rpartition'\", \"code\": 500, \"details\": \"  File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 290, in decorated_function |\n|                                      |     return function(self, context, *args, **kwargs)                                                                                                                                          |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2285, in terminate_instance                                                                                        |\n|                                      |     do_terminate_instance(instance, bdms)                                                                                                                                                    |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/openstack/common/lockutils.py\\\", line 249, in inner                                                                                           |\n|                                      |     return f(*args, **kwargs)                                                                                                                                                                |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2283, in do_terminate_instance                                                                                     |\n|                                      |     self._set_instance_error_state(context, instance['uuid'])                                                                                                                                |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\\\", line 68, in __exit__                                                                                          |\n|                                      |     six.reraise(self.type_, self.value, self.tb)                                                                                                                                             |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2273, in do_terminate_instance                                                                                     |\n|                                      |     self._delete_instance(context, instance, bdms, quotas)                                                                                                                                   |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/hooks.py\\\", line 103, in inner                                                                                                                |\n|                                      |     rv = f(*args, **kwargs)                                                                                                                                                                  |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2242, in _delete_instance                                                                                          |\n|                                      |     quotas.rollback()                                                                                                                                                                        |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\\\", line 68, in __exit__                                                                                          |\n|                                      |     six.reraise(self.type_, self.value, self.tb)                                                                                                                                             |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2214, in _delete_instance                                                                                          |\n|                                      |     self._shutdown_instance(context, db_inst, bdms)                                                                                                                                          |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2156, in _shutdown_instance                                                                                        |\n|                                      |     requested_networks)                                                                                                                                                                      |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\\\", line 68, in __exit__                                                                                          |\n|                                      |     six.reraise(self.type_, self.value, self.tb)                                                                                                                                             |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\\\", line 2146, in _shutdown_instance                                                                                        |\n|                                      |     block_device_info)                                                                                                                                                                       |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\\\", line 963, in destroy                                                                                                |\n|                                      |     destroy_disks)                                                                                                                                                                           |\n|                                      |   File \\\"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\\\", line 1040, in cleanup                                                                                               |\n|                                      |     disk_dev = vol['mount_device'].rpartition(\\\"/\\\")[2]                                                                                                                                      |\n|                                      | \", \"created\": \"2014-12-01T08:52:25Z\"}                                                                                                                                                        |\n| flavor                               | m1.large (4)                                                                                                                                                                                 |\n| hostId                               | 567b019ea0119d6b7c09dcf0d8d859ad64a8cca16254148f439cd8b6                                                                                                                                     |\n| id                                   | 71a41e09-e8bc-4829-979e-1d175246da00                                                                                                                                                         |\n| image                                | openstack100-clone-1 (b472f236-ec54-41a3-9e92-40f091d57d05)                                                                                                                                  |\n| key_name                             | francois                                                                                                                                                                                     |\n| metadata                             | {}                                                                                                                                                                                           |\n| name                                 | openstack100-clone                                                                                                                                                                           |\n| os-extended-volumes:volumes_attached | [{\"id\": \"d8d89370-f334-4f78-bb35-e4a74f60d077\"}]                                                                                                                                             |\n| status                               | ERROR                                                                                                                                                                                        |\n| tenant_id                            | 7dbed2bcbd7541289c34ae8392acf612                                                                                                                                                             |\n| updated                              | 2014-12-01T08:52:25Z                                                                                                                                                                         |\n| user_id                              | 4474a81aca524682875658eb8064c33d                                                                                                                                                             |\n+--------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n# cinder show d8d89370-f334-4f78-bb35-e4a74f60d077\n+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|            Property            |                                                                                                                                  Value                                                                                                                                  |\n+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|          attachments           |                                           [{u'id': u'd8d89370-f334-4f78-bb35-e4a74f60d077', u'server_id': u'71a41e09-e8bc-4829-979e-1d175246da00', u'host_name': None, u'volume_id': u'd8d89370-f334-4f78-bb35-e4a74f60d077'}]                                          |\n|       availability_zone        |                                                                                                                                   nova                                                                                                                                  |\n|            bootable            |                                                                                                                                   true                                                                                                                                  |\n|           created_at           |                                                                                                                        2014-10-13T14:14:55.000000                                                                                                                       |\n|      display_description       |                                                                                                                                                                                                                                                                         |\n|          display_name          |                                                                                                                                                                                                                                                                         |\n|           encrypted            |                                                                                                                                  False                                                                                                                                  |\n|               id               |                                                                                                                   d8d89370-f334-4f78-bb35-e4a74f60d077                                                                                                                  |\n|            metadata            |                                                                                                             {u'readonly': u'False', u'attached_mode': u'rw'}                                                                                                            |\n|     os-vol-host-attr:host      |                                                                                                                               openstack100                                                                                                                              |\n| os-vol-mig-status-attr:migstat |                                                                                                                                   None                                                                                                                                  |\n| os-vol-mig-status-attr:name_id |                                                                                                                                   None                                                                                                                                  |\n|  os-vol-tenant-attr:tenant_id  |                                                                                                                     7dbed2bcbd7541289c34ae8392acf612                                                                                                                    |\n|              size              |                                                                                                                                   100                                                                                                                                   |\n|          snapshot_id           |                                                                                                                                   None                                                                                                                                  |\n|          source_volid          |                                                                                                                                   None                                                                                                                                  |\n|             status             |                                                                                                                                available                                                                                                                                |\n|     volume_image_metadata      | {u'container_format': u'bare', u'min_ram': u'0', u'disk_format': u'qcow2', u'image_name': u'openstack100-clone-1', u'image_id': u'b472f236-ec54-41a3-9e92-40f091d57d05', u'checksum': u'e3898f7109a6b496b39245988bbdd1e0', u'min_disk': u'80', u'size': u'68893671424'} |\n|          volume_type           |                                                                                                                                   None                                                                                                                                  |\n+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+", 
            "date_created": "2014-12-01 09:15:24.633115+00:00", 
            "author": "https://api.launchpad.net/1.0/~francois-ctrlaltdel"
        }, 
        {
            "content": "This is an icehouse bug, do we know if it's still in nova master?", 
            "date_created": "2015-03-30 19:40:46.200192+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "In response to Sean Dague (comment #1):\n\nI observed the same symptom in nova master (March/April of 2015). Unfortunately I couldn't figure out the exact steps to reproduce this issue.", 
            "date_created": "2015-04-17 08:27:44.946847+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "This was fixed in juno here: https://review.openstack.org/#/c/104048/", 
            "date_created": "2015-09-23 18:53:02.486955+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ], 
    "closed": "2015-09-23 18:55:06.149002+00:00"
}