{
    "status": "Invalid", 
    "last_updated": "2015-09-16 13:54:26.706489+00:00", 
    "description": "I'm attempting to deploy openstack using chef. I'm using cookbook version 12.0 on the liberty deb repository and the os-compute-single-controller-no-network role. I'm having an issue where nova-api-os-compute is failing to start. Here is the stack trace.\n\n=2015-09-15 19:27:54.203 98118 WARNING keystonemiddleware.auth_token [-] Use of the auth_admin_prefix, auth_host, auth_port, auth_protocol, identity_uri, admin_token, admin_user, admin_password, and admin_tenant_name configuration options is deprecated in favor of auth_plugin and related options and may be removed in a future release.\n2015-09-15 19:27:54.204 98118 CRITICAL nova [-] ImportError: No module named middleware.request_id\n2015-09-15 19:27:54.204 98118 ERROR nova Traceback (most recent call last):\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/bin/nova-api-os-compute\", line 10, in <module>\n2015-09-15 19:27:54.204 98118 ERROR nova     sys.exit(main())\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/cmd/api_os_compute.py\", line 45, in main\n2015-09-15 19:27:54.204 98118 ERROR nova     server = service.WSGIService('osapi_compute', use_ssl=should_use_ssl)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 322, in __init__\n2015-09-15 19:27:54.204 98118 ERROR nova     self.app = self.loader.load_app(name)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/wsgi.py\", line 533, in load_app\n2015-09-15 19:27:54.204 98118 ERROR nova     return deploy.loadapp(\"config:%s\" % self.config_path, name=name)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 247, in loadapp\n2015-09-15 19:27:54.204 98118 ERROR nova     return loadobj(APP, uri, name=name, **kw)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 272, in loadobj\n2015-09-15 19:27:54.204 98118 ERROR nova     return context.create()\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 710, in create\n2015-09-15 19:27:54.204 98118 ERROR nova     return self.object_type.invoke(self)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 144, in invoke\n2015-09-15 19:27:54.204 98118 ERROR nova     **context.local_conf)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/util.py\", line 55, in fix_call\n2015-09-15 19:27:54.204 98118 ERROR nova     val = callable(*args, **kw)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/urlmap.py\", line 160, in urlmap_factory\n2015-09-15 19:27:54.204 98118 ERROR nova     app = loader.get_app(app_name, global_conf=global_conf)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 350, in get_app\n2015-09-15 19:27:54.204 98118 ERROR nova     name=name, global_conf=global_conf).create()\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 710, in create\n2015-09-15 19:27:54.204 98118 ERROR nova     return self.object_type.invoke(self)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 144, in invoke\n2015-09-15 19:27:54.204 98118 ERROR nova     **context.local_conf)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/util.py\", line 55, in fix_call\n2015-09-15 19:27:54.204 98118 ERROR nova     val = callable(*args, **kw)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/api/auth.py\", line 86, in pipeline_factory_v21\n2015-09-15 19:27:54.204 98118 ERROR nova     return _load_pipeline(loader, local_conf[CONF.auth_strategy].split())\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/api/auth.py\", line 60, in _load_pipeline\n2015-09-15 19:27:54.204 98118 ERROR nova     filters = [loader.get_filter(n) for n in pipeline[:-1]]\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 354, in get_filter\n2015-09-15 19:27:54.204 98118 ERROR nova     name=name, global_conf=global_conf).create()\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 366, in filter_context\n2015-09-15 19:27:54.204 98118 ERROR nova     FILTER, name=name, global_conf=global_conf)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 458, in get_context\n2015-09-15 19:27:54.204 98118 ERROR nova     section)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 517, in _context_from_explicit\n2015-09-15 19:27:54.204 98118 ERROR nova     value = import_string(found_expr)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 22, in import_string\n2015-09-15 19:27:54.204 98118 ERROR nova     return pkg_resources.EntryPoint.parse(\"x=\" + s).load(False)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2355, in load\n2015-09-15 19:27:54.204 98118 ERROR nova     return self.resolve()\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2361, in resolve\n2015-09-15 19:27:54.204 98118 ERROR nova     module = __import__(self.module_name, fromlist=['__name__'], level=0)\n2015-09-15 19:27:54.204 98118 ERROR nova ImportError: No module named middleware.request_id\n2015-09-15 19:27:54.204 98118 ERROR nova", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1496122", 
    "owner": "None", 
    "id": 1496122, 
    "index": 7032, 
    "openned": "2015-09-15 19:59:22.651251+00:00", 
    "created": "2015-09-15 19:59:22.651251+00:00", 
    "title": "CRITICAL nova [-] ImportError: No module named middleware.request_id ", 
    "comments": [
        {
            "content": "I'm attempting to deploy openstack using chef. I'm using cookbook version 12.0 on the liberty deb repository and the os-compute-single-controller-no-network role. I'm having an issue where nova-api-os-compute is failing to start. Here is the stack trace.\n\n=2015-09-15 19:27:54.203 98118 WARNING keystonemiddleware.auth_token [-] Use of the auth_admin_prefix, auth_host, auth_port, auth_protocol, identity_uri, admin_token, admin_user, admin_password, and admin_tenant_name configuration options is deprecated in favor of auth_plugin and related options and may be removed in a future release.\n2015-09-15 19:27:54.204 98118 CRITICAL nova [-] ImportError: No module named middleware.request_id\n2015-09-15 19:27:54.204 98118 ERROR nova Traceback (most recent call last):\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/bin/nova-api-os-compute\", line 10, in <module>\n2015-09-15 19:27:54.204 98118 ERROR nova     sys.exit(main())\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/cmd/api_os_compute.py\", line 45, in main\n2015-09-15 19:27:54.204 98118 ERROR nova     server = service.WSGIService('osapi_compute', use_ssl=should_use_ssl)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 322, in __init__\n2015-09-15 19:27:54.204 98118 ERROR nova     self.app = self.loader.load_app(name)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/wsgi.py\", line 533, in load_app\n2015-09-15 19:27:54.204 98118 ERROR nova     return deploy.loadapp(\"config:%s\" % self.config_path, name=name)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 247, in loadapp\n2015-09-15 19:27:54.204 98118 ERROR nova     return loadobj(APP, uri, name=name, **kw)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 272, in loadobj\n2015-09-15 19:27:54.204 98118 ERROR nova     return context.create()\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 710, in create\n2015-09-15 19:27:54.204 98118 ERROR nova     return self.object_type.invoke(self)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 144, in invoke\n2015-09-15 19:27:54.204 98118 ERROR nova     **context.local_conf)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/util.py\", line 55, in fix_call\n2015-09-15 19:27:54.204 98118 ERROR nova     val = callable(*args, **kw)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/urlmap.py\", line 160, in urlmap_factory\n2015-09-15 19:27:54.204 98118 ERROR nova     app = loader.get_app(app_name, global_conf=global_conf)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 350, in get_app\n2015-09-15 19:27:54.204 98118 ERROR nova     name=name, global_conf=global_conf).create()\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 710, in create\n2015-09-15 19:27:54.204 98118 ERROR nova     return self.object_type.invoke(self)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 144, in invoke\n2015-09-15 19:27:54.204 98118 ERROR nova     **context.local_conf)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/util.py\", line 55, in fix_call\n2015-09-15 19:27:54.204 98118 ERROR nova     val = callable(*args, **kw)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/api/auth.py\", line 86, in pipeline_factory_v21\n2015-09-15 19:27:54.204 98118 ERROR nova     return _load_pipeline(loader, local_conf[CONF.auth_strategy].split())\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/api/auth.py\", line 60, in _load_pipeline\n2015-09-15 19:27:54.204 98118 ERROR nova     filters = [loader.get_filter(n) for n in pipeline[:-1]]\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 354, in get_filter\n2015-09-15 19:27:54.204 98118 ERROR nova     name=name, global_conf=global_conf).create()\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 366, in filter_context\n2015-09-15 19:27:54.204 98118 ERROR nova     FILTER, name=name, global_conf=global_conf)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 458, in get_context\n2015-09-15 19:27:54.204 98118 ERROR nova     section)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 517, in _context_from_explicit\n2015-09-15 19:27:54.204 98118 ERROR nova     value = import_string(found_expr)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/paste/deploy/loadwsgi.py\", line 22, in import_string\n2015-09-15 19:27:54.204 98118 ERROR nova     return pkg_resources.EntryPoint.parse(\"x=\" + s).load(False)\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2355, in load\n2015-09-15 19:27:54.204 98118 ERROR nova     return self.resolve()\n2015-09-15 19:27:54.204 98118 ERROR nova   File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2361, in resolve\n2015-09-15 19:27:54.204 98118 ERROR nova     module = __import__(self.module_name, fromlist=['__name__'], level=0)\n2015-09-15 19:27:54.204 98118 ERROR nova ImportError: No module named middleware.request_id\n2015-09-15 19:27:54.204 98118 ERROR nova", 
            "date_created": "2015-09-15 19:59:22.651251+00:00", 
            "author": "https://api.launchpad.net/1.0/~adam-wien"
        }, 
        {
            "content": "LIkey a support request, not likely a bug with nova but possibly a support question or problem with openstack-chef.  Could you try asking for support from openstack-chef.", 
            "date_created": "2015-09-16 13:54:26.174852+00:00", 
            "author": "https://api.launchpad.net/1.0/~mjdoffma"
        }
    ], 
    "closed": "2015-09-16 13:51:00.872601+00:00"
}