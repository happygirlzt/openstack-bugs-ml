{
    "status": "Won't Fix", 
    "last_updated": "2014-09-17 13:47:44.372494+00:00", 
    "description": "2013-10-17 06:00:23.066 ERROR nova.openstack.common.threadgroup [-] (u'A string is required here, not %s', 'list')\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n\nobjects support now requied known the value you saved in the objects, but pci extra_info design for 'unkonw' usage. so can not get the type info. \n\n\nrefer the trace:\n\n\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 117, in wait\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     x.wait()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 49, in wait\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 168, in wait\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/event.py\", line 116, in wait\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 187, in switch\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 194, in main\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/service.py\", line 65, in run_service\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     service.start()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/service.py\", line 164, in start\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     self.manager.pre_start_hook()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 801, in pre_start_hook\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     self.update_available_resource(nova.context.get_admin_context())\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 4868, in update_available_resource\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     rt.update_available_resource(context)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/lockutils.py\", line 246, in inner\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return f(*args, **kwargs)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/resource_tracker.py\", line 292, in update_available_resource\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     'pci_passthrough_devices')))\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/pci/pci_manager.py\", line 189, in set_hvdevs\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     dev_obj = pci_device.PciDevice.create(dev)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/pci_device.py\", line 174, in create\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     pci_device.update_device(dev_dict)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/pci_device.py\", line 136, in update_device\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     self.extra_info = extra_info\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/base.py\", line 68, in setter\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     field.coerce(self, name, value))\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/fields.py\", line 163, in coerce\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self._type.coerce(obj, attr, value)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/fields.py\", line 308, in coerce\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     obj, '%s[\"%s\"]' % (attr, key), element)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/fields.py\", line 163, in coerce\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self._type.coerce(obj, attr, value)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/fields.py\", line 214, in coerce\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     value.__class__.__name__)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup ValueError: (u'A string is required here, not %s', 'list')", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1240383", 
    "owner": "https://api.launchpad.net/1.0/~yongli-he", 
    "id": 1240383, 
    "index": 5460, 
    "openned": "2013-10-16 07:31:09.185895+00:00", 
    "created": "2013-10-16 07:31:09.185895+00:00", 
    "title": "pci passthrough: unicode object support does not work with the unkown fileds", 
    "comments": [
        {
            "content": "2013-10-17 06:00:23.066 ERROR nova.openstack.common.threadgroup [-] (u'A string is required here, not %s', 'list')\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n\nobjects support now requied known the value you saved in the objects, but pci extra_info design for 'unkonw' usage. so can not get the type info. \n\n\nrefer the trace:\n\n\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 117, in wait\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     x.wait()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 49, in wait\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 168, in wait\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/event.py\", line 116, in wait\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 187, in switch\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 194, in main\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/service.py\", line 65, in run_service\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     service.start()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/service.py\", line 164, in start\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     self.manager.pre_start_hook()\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 801, in pre_start_hook\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     self.update_available_resource(nova.context.get_admin_context())\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 4868, in update_available_resource\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     rt.update_available_resource(context)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/lockutils.py\", line 246, in inner\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return f(*args, **kwargs)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/resource_tracker.py\", line 292, in update_available_resource\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     'pci_passthrough_devices')))\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/pci/pci_manager.py\", line 189, in set_hvdevs\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     dev_obj = pci_device.PciDevice.create(dev)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/pci_device.py\", line 174, in create\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     pci_device.update_device(dev_dict)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/pci_device.py\", line 136, in update_device\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     self.extra_info = extra_info\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/base.py\", line 68, in setter\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     field.coerce(self, name, value))\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/fields.py\", line 163, in coerce\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self._type.coerce(obj, attr, value)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/fields.py\", line 308, in coerce\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     obj, '%s[\"%s\"]' % (attr, key), element)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/fields.py\", line 163, in coerce\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     return self._type.coerce(obj, attr, value)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/fields.py\", line 214, in coerce\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup     value.__class__.__name__)\n2013-10-17 06:00:23.066 TRACE nova.openstack.common.threadgroup ValueError: (u'A string is required here, not %s', 'list')", 
            "date_created": "2013-10-16 07:31:09.185895+00:00", 
            "author": "https://api.launchpad.net/1.0/~yongli-he"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/52028", 
            "date_created": "2013-10-16 08:03:13.497804+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Is this still valid, the patch was abandoned?", 
            "date_created": "2014-07-10 01:13:49.857290+00:00", 
            "author": "https://api.launchpad.net/1.0/~jogo"
        }, 
        {
            "content": "The object model specifically is designed to not allow arbitrary fields.", 
            "date_created": "2014-09-17 13:47:43.527176+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }
    ], 
    "closed": "2014-09-17 13:46:23.818691+00:00"
}