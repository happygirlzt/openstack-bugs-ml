{
    "status": "Fix Released", 
    "last_updated": "2013-04-04 11:04:37.672215+00:00", 
    "description": "Description:\n--------------\nAbsolute parameter totalKeyPairsUsed should increase its value when we create new keypair and also decrease when we delete keypair from existing keypair list. Observed totalKeyPairsUsed value is not changed when keypair is created.\nAlso observed the same for totalSecurityGroupsUsed parameter, i.e. totalSecurityGroupsUsed value is not changed after creating security group.\n\nEnvironment:\n--------------\nFolsom\n\nStep to Reproduce for totalKeyPairsUsed defect:\n--------------\n\n1) Get the totalKeyPairsUsed value before creating keypair\n\n$nova absolute-limits |grep totalKeyPairsUsed\n| totalKeyPairsUsed        | 0     |\n\n2) Create a keypair\n$nova keypair-add test1\n-----BEGIN RSA PRIVATE KEY-----\nMIICXQIBAAKBgQC3EbOOW8JiAquBcO7UK4WVc+Utb7I9KY5YbsKLxk2s07HqgzCF\nRVeEE12cZgWurKv1I4yPln3E9/ZkAuEYT0GaXSIcv0AMw/jpAp69+7HP7Loe2f0U\n4q9HK83xNp2UPc4aw6D/f3xv6MXUcLWC2NIzTujAFVbyj3h0cqXD9w67ZQIDAQAB\nAoGAJwGyjIaoqFGBUZdKjBKp5+pFzqSaCcYs+lK/SSD7s/N3WUySrhLUTuQBci2a\n0FkiWp00efPK4IklCrJCW/enNmyYCh/GSJZRyHe8B4fO5yCsPgER4OLLzZqE4sC3\no83/vnux5fYz4Sfw398hHYF2trDWYdqs5KFVZ9htgRp0jBECQQDZ7BqVW1dszIBx\n+Y6TmTNZebF739tdx3KjRp+cQVkHSbOKDiGqsKDf8eLyDR1A8gs4QaNa14/mSWnD\nCi13KzEzAkEA1w6UY9FXnKXw3D2nmYzchyndimiS0xBy0DN6RcPpkKZYyfTOk5Ib\n0Na7viUMcsQRXS2Nfis2scyuxKEPRvQRBwJBAKo3R1ReMl1jJvjfisQzJ+69pSoy\n4m/Pt/Vc1pMAX//XS4uMGjPvHtmNYEzcfXsbFDRu4J+2PEoOEbQsoPKyJA0CQQCt\nLdFzHDZIMBzozkFz1koUEjOT7KgnjTxXysxw99XTJRGk+B2OGn+JyhH/icgfdyJg\nfXlOm6/8t84ZC3XI9mvrAkB/4/KWjrEVp96G5hac01oQTAM20+hKISOM2UGQ0D3H\nyBV0cvbfVzVcKjKSzzak1GAUHsJwZNCeZCUmBAFoyoZA\n-----END RSA PRIVATE KEY-----\n\n\n$nova keypair-list\n+-----------------------+-------------------------------------------------+\n| Name                  | Fingerprint                                     |\n+-----------------------+-------------------------------------------------+\n| test1                 | 5e:b3:e9:30:0f:c1:44:c7:4b:6f:a4:0b:04:77:76:17 |\n+-----------------------+-------------------------------------------------+\n\n3) Verify totalKeyPairsUsed value after creating keypair\n\n$nova absolute-limits |grep totalKeyPairsUsed\n| totalKeyPairsUsed        | 0     |\n\nOBSERVATION:\n--------------\n\ntotalKeyPairsUsed value is not incremented after creating a keypair\n\nStep to Reproduce for totalSecurityGroupsUsed defect:\n--------------\n\n1) Get the totalSecurityGroupsUsed value before creating SecurityGroup\n\n$nova absolute-limits | grep totalSecurityGroupsUsed\n| totalSecurityGroupsUsed  | 0     |\n\n2) Create a SecurityGroup\n\n$nova secgroup-create test_sg1 test_sg1_description\n+----------+----------------------+\n| Name     | Description          |\n+----------+----------------------+\n| test_sg1 | test_sg1_description |\n+----------+----------------------+\n\n$nova secgroup-list\n+--------------+----------------------+\n| Name         | Description          |\n+--------------+----------------------+\n| default      | default              |\n| test_sg1     | test_sg1_description |\n+--------------+----------------------+\n\n\n3) Verify totalSecurityGroupsUsed value after creating SecurityGroup\n\n$nova absolute-limits | grep totalSecurityGroupsUsed\n| totalSecurityGroupsUsed  | 0     |\n\n\nOBSERVATION:\n--------------\n\ntotalSecurityGroupsUsed value is not incremented after creating a SecurityGroup", 
    "tags": [], 
    "importance": "Low", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/1062049", 
    "owner": "https://api.launchpad.net/1.0/~markmc", 
    "id": 1062049, 
    "index": 666, 
    "openned": "2012-10-05 06:43:00.243556+00:00", 
    "created": "2012-10-05 06:43:00.243556+00:00", 
    "title": "Folsom - Absolute limit parameters totalKeyPairsUsed and totalSecurityGroupsUsed values area not incremented when keypair and security group created", 
    "comments": [
        {
            "content": "Description:\n--------------\nAbsolute parameter totalKeyPairsUsed should increase its value when we create new keypair and also decrease when we delete keypair from existing keypair list. Observed totalKeyPairsUsed value is not changed when keypair is created.\nAlso observed the same for totalSecurityGroupsUsed parameter, i.e. totalSecurityGroupsUsed value is not changed after creating security group.\n\nEnvironment:\n--------------\nFolsom\n\nStep to Reproduce for totalKeyPairsUsed defect:\n--------------\n\n1) Get the totalKeyPairsUsed value before creating keypair\n\n$nova absolute-limits |grep totalKeyPairsUsed\n| totalKeyPairsUsed        | 0     |\n\n2) Create a keypair\n$nova keypair-add test1\n-----BEGIN RSA PRIVATE KEY-----\nMIICXQIBAAKBgQC3EbOOW8JiAquBcO7UK4WVc+Utb7I9KY5YbsKLxk2s07HqgzCF\nRVeEE12cZgWurKv1I4yPln3E9/ZkAuEYT0GaXSIcv0AMw/jpAp69+7HP7Loe2f0U\n4q9HK83xNp2UPc4aw6D/f3xv6MXUcLWC2NIzTujAFVbyj3h0cqXD9w67ZQIDAQAB\nAoGAJwGyjIaoqFGBUZdKjBKp5+pFzqSaCcYs+lK/SSD7s/N3WUySrhLUTuQBci2a\n0FkiWp00efPK4IklCrJCW/enNmyYCh/GSJZRyHe8B4fO5yCsPgER4OLLzZqE4sC3\no83/vnux5fYz4Sfw398hHYF2trDWYdqs5KFVZ9htgRp0jBECQQDZ7BqVW1dszIBx\n+Y6TmTNZebF739tdx3KjRp+cQVkHSbOKDiGqsKDf8eLyDR1A8gs4QaNa14/mSWnD\nCi13KzEzAkEA1w6UY9FXnKXw3D2nmYzchyndimiS0xBy0DN6RcPpkKZYyfTOk5Ib\n0Na7viUMcsQRXS2Nfis2scyuxKEPRvQRBwJBAKo3R1ReMl1jJvjfisQzJ+69pSoy\n4m/Pt/Vc1pMAX//XS4uMGjPvHtmNYEzcfXsbFDRu4J+2PEoOEbQsoPKyJA0CQQCt\nLdFzHDZIMBzozkFz1koUEjOT7KgnjTxXysxw99XTJRGk+B2OGn+JyhH/icgfdyJg\nfXlOm6/8t84ZC3XI9mvrAkB/4/KWjrEVp96G5hac01oQTAM20+hKISOM2UGQ0D3H\nyBV0cvbfVzVcKjKSzzak1GAUHsJwZNCeZCUmBAFoyoZA\n-----END RSA PRIVATE KEY-----\n\n\n$nova keypair-list\n+-----------------------+-------------------------------------------------+\n| Name                  | Fingerprint                                     |\n+-----------------------+-------------------------------------------------+\n| test1                 | 5e:b3:e9:30:0f:c1:44:c7:4b:6f:a4:0b:04:77:76:17 |\n+-----------------------+-------------------------------------------------+\n\n3) Verify totalKeyPairsUsed value after creating keypair\n\n$nova absolute-limits |grep totalKeyPairsUsed\n| totalKeyPairsUsed        | 0     |\n\nOBSERVATION:\n--------------\n\ntotalKeyPairsUsed value is not incremented after creating a keypair\n\nStep to Reproduce for totalSecurityGroupsUsed defect:\n--------------\n\n1) Get the totalSecurityGroupsUsed value before creating SecurityGroup\n\n$nova absolute-limits | grep totalSecurityGroupsUsed\n| totalSecurityGroupsUsed  | 0     |\n\n2) Create a SecurityGroup\n\n$nova secgroup-create test_sg1 test_sg1_description\n+----------+----------------------+\n| Name     | Description          |\n+----------+----------------------+\n| test_sg1 | test_sg1_description |\n+----------+----------------------+\n\n$nova secgroup-list\n+--------------+----------------------+\n| Name         | Description          |\n+--------------+----------------------+\n| default      | default              |\n| test_sg1     | test_sg1_description |\n+--------------+----------------------+\n\n\n3) Verify totalSecurityGroupsUsed value after creating SecurityGroup\n\n$nova absolute-limits | grep totalSecurityGroupsUsed\n| totalSecurityGroupsUsed  | 0     |\n\n\nOBSERVATION:\n--------------\n\ntotalSecurityGroupsUsed value is not incremented after creating a SecurityGroup", 
            "date_created": "2012-10-05 06:43:00.243556+00:00", 
            "author": "https://api.launchpad.net/1.0/~murali-koripally"
        }, 
        {
            "content": "This defect also observed for below absolute limit parameters:\ntotalVolumesUsed\ntotalVolumeGigabytesUsed\n\nOBSERVATION:\ntotalVolumesUsed value is not incremented after creating new volume\ntotalVolumeGigabytesUsed value is not incremented after creating new volume with GB", 
            "date_created": "2012-10-09 11:11:38.791166+00:00", 
            "author": "https://api.launchpad.net/1.0/~murali-koripally"
        }, 
        {
            "content": "I'm submitting a patch to fix some issues with used_limits and I've filed bug #1089877 to cover the specific issue with key pairs", 
            "date_created": "2012-12-13 11:27:54.879793+00:00", 
            "author": "https://api.launchpad.net/1.0/~markmc"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/18031", 
            "date_created": "2012-12-13 11:29:36.588677+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/folsom\nReview: https://review.openstack.org/18123", 
            "date_created": "2012-12-14 12:45:21.649489+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/18031\nCommitted: http://github.com/openstack/nova/commit/6c9d9ab434ba2ecfee1d556842d311390010957e\nSubmitter: Jenkins\nBranch:    master\n\ncommit 6c9d9ab434ba2ecfee1d556842d311390010957e\nAuthor: Mark McLoughlin <email address hidden>\nDate:   Thu Dec 13 11:21:18 2012 +0000\n\n    Fix errors in used_limits extension\n    \n    Fixes bug #1062049\n    \n    There was a typo mapping the security groups resource to floating IPs.\n    \n    Volumes usage isn't tracked by Nova any more since delete-nova-volume.\n    \n    Key pairs don't work with the extension because of bug #1089877.\n    \n    Change-Id: Ifd694b21fef1dc95e67c07dcef0cd6ea3daa8d53\n", 
            "date_created": "2012-12-14 14:03:07.220660+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/18123\nCommitted: http://github.com/openstack/nova/commit/f864a4e2e2a3cc5383e7dce6ad91f42880a64d1a\nSubmitter: Jenkins\nBranch:    stable/folsom\n\ncommit f864a4e2e2a3cc5383e7dce6ad91f42880a64d1a\nAuthor: Mark McLoughlin <email address hidden>\nDate:   Thu Dec 13 11:21:18 2012 +0000\n\n    Fix errors in used_limits extension\n    \n    Fixes bug #1062049\n    \n    There was a typo mapping the security groups resource to floating IPs.\n    \n    Key pairs don't work with the extension because of bug #1089877.\n    \n    (cherry picked from commit 6c9d9ab)\n    \n    Change-Id: Ifd694b21fef1dc95e67c07dcef0cd6ea3daa8d53\n", 
            "date_created": "2013-01-16 17:41:00.299084+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2013-01-22 10:22:24.781175+00:00"
}