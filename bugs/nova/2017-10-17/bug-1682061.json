{
    "status": "Won't Fix", 
    "last_updated": "2017-06-08 12:31:01.072056+00:00", 
    "description": "Nova policies mention the rule as \"admin_or_owner\" for critical compute operations such as resize, update, create_server, reboot etc, which basically should be allowed ONLY for ADMIN OR OWNER of the server instance. But current nova policy allows all users (irrespective of admin, viewer, member) to perform these operations.\n\nFor eg: If User1 (member user) creates an instance(eg test_server) under demo tenant and User2 (viewer user) is able to resize test_server or delete test_server, whereas User2 should be allowed to ONLY VIEW test_server and not able to perform any operation.\n\nAlthough Openstack users can update the custom policy.py/policy.json files, the naming convention is a misnomer as it says ADMIN_OR_OWNER which is a big security vulnerability. We need to change the default behavior of Nova operations to allow only following scenarios\n1. ONLY Admin belonging to the tenant should create/update/resize/delete server instances\n2. OWNER User who created the Instance should be able to create/update/resize/delete server instances.\n\nApart from above scenarios, we should not allow any other user to perform such critical operations even as a default operation for NOVA.\n\nstack@devstack:~/devstack$ nova show test_server_pk\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2017-04-12T08:42:59.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2017-04-11T12:09:23Z                                           |\n| description                          | -                                                              |\n| flavor                               | ds512M (d1)                                                    |\n| hostId                               | 87b5e4756d250749a8c02c0afa91c37ae08654b85c3a46903767b78d       |\n| id                                   | b209b443-0a94-407f-aa5b-a0ce8d426add                           |\n| image                                | cirros-0.3.4-x86_64-uec (f4e982cb-5d76-4782-bf90-172a067fbf11) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | test_server_pk                                                 |\n| os-extended-volumes:volumes_attached | []                                                             |\n| private network                      | 10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c                |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | ACTIVE                                                         |\n| tags                                 | []                                                             |\n| tenant_id                            | 12397ec84f3d44e5af23477be543f15b                               |\n| updated                              | 2017-04-12T08:45:03Z                                           |\n| user_id                              | 6ef27d071a07425a8ff1219a2c2a24f2                               |\n+--------------------------------------+----------------------------------------------------------------+\nstack@devstack:~/devstack$ openstack user list\nYou are not authorized to perform the requested action: identity:list_users. (HTTP 403) (Request-ID: req-d9a44a4d-9c62-489a-a4ed-7390e46cd829)\nstack@devstack:~/devstack$ source openrc admin admin\nWARNING: setting legacy OS_TENANT_NAME to support cli tools.\nstack@devstack:~/devstack$ openstack user list\n+----------------------------------+-------------------+\n| ID                               | Name              |\n+----------------------------------+-------------------+\n| 15c1c630f1d0455d8cdade9c70e4a9f0 | ceilometer        |\n| 16e6944172194270ae13c38e93d10b5b | demo              |\n| 1de8fc327f3945839aa1c1f716c33fbf | admin             |\n| 23cb3e28ab964f4196304986c5da43e8 | swiftusertest1    |\n| 2a695267080c43578db917403cfbbdf6 | nova              |\n| 3192055e13874ec0a927b9cdf0fe5bf3 | demo_user         |\n| 3f3114983129485db853434e89b50309 | demo_user_new     |\n| 3f36399f685e4078b0b734d307c1b30a | swiftusertest2    |\n| 40a08b905c6046f78f3851502890ff4b | swiftusertest4    |\n| 4804abc26d9e4a29b4dfc1d537fa73ee | viewer_user       |\n| 4d221d452f504b388f5490a87aa85891 | glance-swift      |\n| 5d1e56209a7741f5b0d864e87d84239a | ember_user        |\n| 6a6fccb5425b4c7a963460ec6577beb3 | swiftusertest3    |\n| 6e3092b9522749fd9523c79bf5c8f56c | alt_demo          |\n| 6ef27d071a07425a8ff1219a2c2a24f2 | demo_user_new3    |\n| 76bfe0baf9054790a7731835cf1a5bbd | demo_user2        |\n| 7d85098334254ba593bcb3400e876795 | neutron           |\n| 82b709e01fb14567adda7223cb6e8658 | placement         |\n| a1d944ba9866404f9b44887f23522a84 | swift             |\n| aeeb48f0c47f488fac6973678643efd9 | cinder            |\n| caad72ba1be14f25b81641ff5dbbb67d | glance            |\n| d3a825333ac243feaed0ffe4abccf37f | heat_domain_admin |\n| d51513c584da48e8bf620d8d355732f0 | heat              |\n| fbd6b76a739b4d50a799e3832cdc06c2 | demo_user_new2    |\n+----------------------------------+-------------------+\nstack@devstack:~/devstack$ source openrc demo_user_new3 demo\nWARNING: setting legacy OS_TENANT_NAME to support cli tools.\nstack@devstack:~/devstack$ locate policy.py^C\nstack@devstack:~/devstack$ ^C\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | ACTIVE | -          | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$ source openrc demo_user_new2 demo\nWARNING: setting legacy OS_TENANT_NAME to support cli tools.\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | ACTIVE | -          | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$ openstack server resize b209b443-0a94-407f-aa5b-a0ce8d426add --flavor d2\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova show b209b443-0a94-407f-aa5b-a0ce8d426add\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | resize_migrating                                               |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2017-04-12T08:42:59.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2017-04-11T12:09:23Z                                           |\n| description                          | -                                                              |\n| flavor                               | ds512M (d1)                                                    |\n| hostId                               | 87b5e4756d250749a8c02c0afa91c37ae08654b85c3a46903767b78d       |\n| id                                   | b209b443-0a94-407f-aa5b-a0ce8d426add                           |\n| image                                | cirros-0.3.4-x86_64-uec (f4e982cb-5d76-4782-bf90-172a067fbf11) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | test_server_pk                                                 |\n| os-extended-volumes:volumes_attached | []                                                             |\n| private network                      | 10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c                |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | RESIZE                                                         |\n| tags                                 | []                                                             |\n| tenant_id                            | 12397ec84f3d44e5af23477be543f15b                               |\n| updated                              | 2017-04-12T08:58:10Z                                           |\n| user_id                              | 6ef27d071a07425a8ff1219a2c2a24f2                               |\n+--------------------------------------+----------------------------------------------------------------+\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+---------------+------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status        | Task State | Power State | Networks                                                |\n+--------------------------------------+----------------+---------------+------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | VERIFY_RESIZE | -          | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+---------------+------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ vi /opt/stack/nova/nova/policies/servers.py^C\nstack@devstack:~/devstack$ ^C\nstack@devstack:~/devstack$ ^C\nstack@devstack:~/devstack$ openstack server resize b209b443-0a94-407f-aa5b-a0ce8d426add --confirm\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | ACTIVE | -          | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova show b209b443-0a94-407f-aa5b-a0ce8d426add\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2017-04-12T08:59:15.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2017-04-11T12:09:23Z                                           |\n| description                          | -                                                              |\n| flavor                               | ds1G (d2)                                                      |\n| hostId                               | 87b5e4756d250749a8c02c0afa91c37ae08654b85c3a46903767b78d       |\n| id                                   | b209b443-0a94-407f-aa5b-a0ce8d426add                           |\n| image                                | cirros-0.3.4-x86_64-uec (f4e982cb-5d76-4782-bf90-172a067fbf11) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | test_server_pk                                                 |\n| os-extended-volumes:volumes_attached | []                                                             |\n| private network                      | 10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c                |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | ACTIVE                                                         |\n| tags                                 | []                                                             |\n| tenant_id                            | 12397ec84f3d44e5af23477be543f15b                               |\n| updated                              | 2017-04-12T08:59:48Z                                           |\n| user_id                              | 6ef27d071a07425a8ff1219a2c2a24f2                               |\n+--------------------------------------+----------------------------------------------------------------+\nstack@devstack:~/devstack$ nova delete b209b443-0a94-407f-aa5b-a0ce8d426add\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\nRequest to delete server b209b443-0a94-407f-aa5b-a0ce8d426add has been accepted.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/1682061", 
    "owner": "None", 
    "id": 1682061, 
    "index": 8049, 
    "openned": "2017-04-12 09:24:20.759148+00:00", 
    "created": "2017-04-12 09:24:20.759148+00:00", 
    "title": "Nova polcy allows all users with same tenant to delete/resize servers with all roles (viewer, non-admin roles)", 
    "comments": [
        {
            "content": "Nova policies mention the rule as \"admin_or_owner\" for critical compute operations such as resize, update, create_server, reboot etc, which basically should be allowed ONLY for ADMIN OR OWNER of the server instance. But current nova policy allows all users (irrespective of admin, viewer, member) to perform these operations.\n\nFor eg: If User1 (member user) creates an instance(eg test_server) under demo tenant and User2 (viewer user) is able to resize test_server or delete test_server, whereas User2 should be allowed to ONLY VIEW test_server and not able to perform any operation.\n\nAlthough Openstack users can update the custom policy.py/policy.json files, the naming convention is a misnomer as it says ADMIN_OR_OWNER which is a big security vulnerability. We need to change the default behavior of Nova operations to allow only following scenarios\n1. ONLY Admin belonging to the tenant should create/update/resize/delete server instances\n2. OWNER User who created the Instance should be able to create/update/resize/delete server instances.\n\nApart from above scenarios, we should not allow any other user to perform such critical operations even as a default operation for NOVA.\n\nstack@devstack:~/devstack$ nova show test_server_pk\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2017-04-12T08:42:59.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2017-04-11T12:09:23Z                                           |\n| description                          | -                                                              |\n| flavor                               | ds512M (d1)                                                    |\n| hostId                               | 87b5e4756d250749a8c02c0afa91c37ae08654b85c3a46903767b78d       |\n| id                                   | b209b443-0a94-407f-aa5b-a0ce8d426add                           |\n| image                                | cirros-0.3.4-x86_64-uec (f4e982cb-5d76-4782-bf90-172a067fbf11) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | test_server_pk                                                 |\n| os-extended-volumes:volumes_attached | []                                                             |\n| private network                      | 10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c                |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | ACTIVE                                                         |\n| tags                                 | []                                                             |\n| tenant_id                            | 12397ec84f3d44e5af23477be543f15b                               |\n| updated                              | 2017-04-12T08:45:03Z                                           |\n| user_id                              | 6ef27d071a07425a8ff1219a2c2a24f2                               |\n+--------------------------------------+----------------------------------------------------------------+\nstack@devstack:~/devstack$ openstack user list\nYou are not authorized to perform the requested action: identity:list_users. (HTTP 403) (Request-ID: req-d9a44a4d-9c62-489a-a4ed-7390e46cd829)\nstack@devstack:~/devstack$ source openrc admin admin\nWARNING: setting legacy OS_TENANT_NAME to support cli tools.\nstack@devstack:~/devstack$ openstack user list\n+----------------------------------+-------------------+\n| ID                               | Name              |\n+----------------------------------+-------------------+\n| 15c1c630f1d0455d8cdade9c70e4a9f0 | ceilometer        |\n| 16e6944172194270ae13c38e93d10b5b | demo              |\n| 1de8fc327f3945839aa1c1f716c33fbf | admin             |\n| 23cb3e28ab964f4196304986c5da43e8 | swiftusertest1    |\n| 2a695267080c43578db917403cfbbdf6 | nova              |\n| 3192055e13874ec0a927b9cdf0fe5bf3 | demo_user         |\n| 3f3114983129485db853434e89b50309 | demo_user_new     |\n| 3f36399f685e4078b0b734d307c1b30a | swiftusertest2    |\n| 40a08b905c6046f78f3851502890ff4b | swiftusertest4    |\n| 4804abc26d9e4a29b4dfc1d537fa73ee | viewer_user       |\n| 4d221d452f504b388f5490a87aa85891 | glance-swift      |\n| 5d1e56209a7741f5b0d864e87d84239a | ember_user        |\n| 6a6fccb5425b4c7a963460ec6577beb3 | swiftusertest3    |\n| 6e3092b9522749fd9523c79bf5c8f56c | alt_demo          |\n| 6ef27d071a07425a8ff1219a2c2a24f2 | demo_user_new3    |\n| 76bfe0baf9054790a7731835cf1a5bbd | demo_user2        |\n| 7d85098334254ba593bcb3400e876795 | neutron           |\n| 82b709e01fb14567adda7223cb6e8658 | placement         |\n| a1d944ba9866404f9b44887f23522a84 | swift             |\n| aeeb48f0c47f488fac6973678643efd9 | cinder            |\n| caad72ba1be14f25b81641ff5dbbb67d | glance            |\n| d3a825333ac243feaed0ffe4abccf37f | heat_domain_admin |\n| d51513c584da48e8bf620d8d355732f0 | heat              |\n| fbd6b76a739b4d50a799e3832cdc06c2 | demo_user_new2    |\n+----------------------------------+-------------------+\nstack@devstack:~/devstack$ source openrc demo_user_new3 demo\nWARNING: setting legacy OS_TENANT_NAME to support cli tools.\nstack@devstack:~/devstack$ locate policy.py^C\nstack@devstack:~/devstack$ ^C\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | ACTIVE | -          | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$ source openrc demo_user_new2 demo\nWARNING: setting legacy OS_TENANT_NAME to support cli tools.\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | ACTIVE | -          | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$ openstack server resize b209b443-0a94-407f-aa5b-a0ce8d426add --flavor d2\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova show b209b443-0a94-407f-aa5b-a0ce8d426add\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | resize_migrating                                               |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2017-04-12T08:42:59.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2017-04-11T12:09:23Z                                           |\n| description                          | -                                                              |\n| flavor                               | ds512M (d1)                                                    |\n| hostId                               | 87b5e4756d250749a8c02c0afa91c37ae08654b85c3a46903767b78d       |\n| id                                   | b209b443-0a94-407f-aa5b-a0ce8d426add                           |\n| image                                | cirros-0.3.4-x86_64-uec (f4e982cb-5d76-4782-bf90-172a067fbf11) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | test_server_pk                                                 |\n| os-extended-volumes:volumes_attached | []                                                             |\n| private network                      | 10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c                |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | RESIZE                                                         |\n| tags                                 | []                                                             |\n| tenant_id                            | 12397ec84f3d44e5af23477be543f15b                               |\n| updated                              | 2017-04-12T08:58:10Z                                           |\n| user_id                              | 6ef27d071a07425a8ff1219a2c2a24f2                               |\n+--------------------------------------+----------------------------------------------------------------+\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State       | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | RESIZE | resize_migrating | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+---------------+------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status        | Task State | Power State | Networks                                                |\n+--------------------------------------+----------------+---------------+------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | VERIFY_RESIZE | -          | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+---------------+------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ vi /opt/stack/nova/nova/policies/servers.py^C\nstack@devstack:~/devstack$ ^C\nstack@devstack:~/devstack$ ^C\nstack@devstack:~/devstack$ openstack server resize b209b443-0a94-407f-aa5b-a0ce8d426add --confirm\nstack@devstack:~/devstack$ nova list\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| ID                                   | Name           | Status | Task State | Power State | Networks                                                |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\n| b209b443-0a94-407f-aa5b-a0ce8d426add | test_server_pk | ACTIVE | -          | Running     | private=10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c |\n+--------------------------------------+----------------+--------+------------+-------------+---------------------------------------------------------+\nstack@devstack:~/devstack$ nova show b209b443-0a94-407f-aa5b-a0ce8d426add\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2017-04-12T08:59:15.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2017-04-11T12:09:23Z                                           |\n| description                          | -                                                              |\n| flavor                               | ds1G (d2)                                                      |\n| hostId                               | 87b5e4756d250749a8c02c0afa91c37ae08654b85c3a46903767b78d       |\n| id                                   | b209b443-0a94-407f-aa5b-a0ce8d426add                           |\n| image                                | cirros-0.3.4-x86_64-uec (f4e982cb-5d76-4782-bf90-172a067fbf11) |\n| key_name                             | -                                                              |\n| locked                               | False                                                          |\n| metadata                             | {}                                                             |\n| name                                 | test_server_pk                                                 |\n| os-extended-volumes:volumes_attached | []                                                             |\n| private network                      | 10.0.0.12, fdb6:b061:3dd9:0:f816:3eff:fe1f:dc0c                |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | ACTIVE                                                         |\n| tags                                 | []                                                             |\n| tenant_id                            | 12397ec84f3d44e5af23477be543f15b                               |\n| updated                              | 2017-04-12T08:59:48Z                                           |\n| user_id                              | 6ef27d071a07425a8ff1219a2c2a24f2                               |\n+--------------------------------------+----------------------------------------------------------------+\nstack@devstack:~/devstack$ nova delete b209b443-0a94-407f-aa5b-a0ce8d426add\n/usr/local/lib/python2.7/dist-packages/novaclient/client.py:278: UserWarning: The 'tenant_id' argument is deprecated in Ocata and its use may result in errors in future releases. As 'project_id' is provided, the 'tenant_id' argument will be ignored.\n  warnings.warn(msg)\nRequest to delete server b209b443-0a94-407f-aa5b-a0ce8d426add has been accepted.", 
            "date_created": "2017-04-12 09:24:20.759148+00:00", 
            "author": "https://api.launchpad.net/1.0/~pradeepkumar.ks"
        }, 
        {
            "content": "There is no such thing as a reader role at this point, this is all working as designed. Implementing a reader role is something that is currently a site local change.", 
            "date_created": "2017-06-08 12:31:00.249297+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }
    ], 
    "closed": "2017-06-08 12:30:17.920475+00:00"
}