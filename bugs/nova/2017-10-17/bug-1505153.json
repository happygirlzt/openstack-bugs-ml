{
    "status": "Fix Released", 
    "last_updated": "2016-03-04 14:21:55.152665+00:00", 
    "description": "Hi,\n\nWebOb 1.5 was released yesterday. test_misc of Cinder starts failing with this release. I wrote this simple fix which should be enough to repair it:\n\nhttps://review.openstack.org/233528\n\"Fix test_misc for WebOb 1.5\"\n\n class ConvertedException(webob.exc.WSGIHTTPException):\n-    def __init__(self, code=0, title=\"\", explanation=\"\"):\n+    def __init__(self, code=500, title=\"\", explanation=\"\"):\n\nVictor", 
    "tags": [
        "in-stable-kilo", 
        "in-stable-liberty"
    ], 
    "importance": "Critical", 
    "heat": 22, 
    "link": "https://bugs.launchpad.net/nova/+bug/1505153", 
    "owner": "https://api.launchpad.net/1.0/~dims-v", 
    "id": 1505153, 
    "index": 261, 
    "openned": "2015-10-12 21:04:03.586421+00:00", 
    "created": "2015-10-12 09:28:55.132750+00:00", 
    "title": "gates broken by WebOb 1.5 release", 
    "comments": [
        {
            "content": "Hi,\n\nWebOb 1.5 was released yesterday. test_misc of Cinder starts failing with this release. I wrote this simple fix which should be enough to repair it:\n\nhttps://review.openstack.org/233528\n\"Fix test_misc for WebOb 1.5\"\n\n class ConvertedException(webob.exc.WSGIHTTPException):\n-    def __init__(self, code=0, title=\"\", explanation=\"\"):\n+    def __init__(self, code=500, title=\"\", explanation=\"\"):\n\nVictor", 
            "date_created": "2015-10-12 09:28:55.132750+00:00", 
            "author": "https://api.launchpad.net/1.0/~victor-stinner"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/233528\nCommitted: https://git.openstack.org/cgit/openstack/cinder/commit/?id=867fccf833ffc597aa986cb6ff1b3b5c1101b9ba\nSubmitter: Jenkins\nBranch:    master\n\ncommit 867fccf833ffc597aa986cb6ff1b3b5c1101b9ba\nAuthor: Victor Stinner <email address hidden>\nDate:   Mon Oct 12 10:35:25 2015 +0200\n\n    Fix test_misc for WebOb 1.5\n    \n    WebOb 1.5 was released at 2015-10-11. With this new version,\n    webob.exc.WSGIHTTPException() constructor now fails with a KeyError\n    when the HTTP status code is 0.\n    \n    test_exceptions_raise() of test_misc tries to instanciate all\n    exceptions of cinder.exception. The problem is that\n    ConvertedException uses a default HTTP status code of 0.\n    \n    Modify the default HTTP status code of ConvertedException to 400 to\n    fix the unit test. The bug is only in the test,\n    cinder/api/openstack/wsgi.py copies an existing HTTP code:\n    \n        Fault(exception.ConvertedException(code=ex_value.code,  ...)\n    \n    Closes-Bug: #1505153\n    Change-Id: I1aec8038774828d48da4b0e831b390e33243809a\n", 
            "date_created": "2015-10-12 12:46:36.539088+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/233668", 
            "date_created": "2015-10-12 14:48:14.796522+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "After Liberty clears, we need this in Kilo too:\n\nhttp://logs.openstack.org/85/225185/2/check/gate-cinder-python27/2aba88c/console.html\n\n...\n2015-10-12 15:26:48.473 |       File \"/home/jenkins/workspace/gate-cinder-python27/.tox/py27/local/lib/python2.7/site-packages/webob/response.py\", line 283, in _status_code__set\n2015-10-12 15:26:48.474 |         self._status = '%d %s' % (code, status_generic_reasons[code // 100])\n2015-10-12 15:26:48.474 |     KeyError: 0", 
            "date_created": "2015-10-12 16:40:31.579090+00:00", 
            "author": "https://api.launchpad.net/1.0/~tpb"
        }, 
        {
            "content": "Fix proposed to branch: stable/kilo\nReview: https://review.openstack.org/233747", 
            "date_created": "2015-10-12 17:31:34.867631+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/233845", 
            "date_created": "2015-10-12 21:41:39.782939+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/233845\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=10438c0fc34bd088e018e1a5e8ec57b396528792\nSubmitter: Jenkins\nBranch:    master\n\ncommit 10438c0fc34bd088e018e1a5e8ec57b396528792\nAuthor: Matt Riedemann <email address hidden>\nDate:   Mon Oct 12 14:39:32 2015 -0700\n\n    Default ConvertedException code to 500\n    \n    webob 1.5.0 released on 10/11 has change f6c749011 which\n    strictly enforces status codes in exceptions, and 0 is not\n    a valid status code so tests fail.\n    \n    Change the default to 500 to match the default in the parent\n    class in webob.\n    \n    Change-Id: If04eedb402092ca2cc307cb52f2231493c4375a2\n    Closes-Bug: #1505153\n", 
            "date_created": "2015-10-13 03:58:32.278541+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/233747\nCommitted: https://git.openstack.org/cgit/openstack/cinder/commit/?id=1ec74b88ac5438c5eba09d64759445574aa97e72\nSubmitter: Jenkins\nBranch:    stable/kilo\n\ncommit 1ec74b88ac5438c5eba09d64759445574aa97e72\nAuthor: Victor Stinner <email address hidden>\nDate:   Mon Oct 12 10:35:25 2015 +0200\n\n    Fix test_misc for WebOb 1.5\n    \n    WebOb 1.5 was released at 2015-10-11. With this new version,\n    webob.exc.WSGIHTTPException() constructor now fails with a KeyError\n    when the HTTP status code is 0.\n    \n    test_exceptions_raise() of test_misc tries to instanciate all\n    exceptions of cinder.exception. The problem is that\n    ConvertedException uses a default HTTP status code of 0.\n    \n    Modify the default HTTP status code of ConvertedException to 400 to\n    fix the unit test. The bug is only in the test,\n    cinder/api/openstack/wsgi.py copies an existing HTTP code:\n    \n        Fault(exception.ConvertedException(code=ex_value.code,  ...)\n    \n    Closes-Bug: #1505153\n    Change-Id: I1aec8038774828d48da4b0e831b390e33243809a\n    (cherry picked from commit 867fccf833ffc597aa986cb6ff1b3b5c1101b9ba)\n", 
            "date_created": "2015-10-13 05:09:46.363667+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/234048", 
            "date_created": "2015-10-13 09:05:43.936232+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Sean Dague (<email address hidden>) on branch: master\nReview: https://review.openstack.org/233772\nReason: apparently this is already merged", 
            "date_created": "2015-10-13 10:29:59.783932+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/234166", 
            "date_created": "2015-10-13 11:58:23.626498+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Thierry Carrez (<email address hidden>) on branch: stable/liberty\nReview: https://review.openstack.org/234048\nReason: Now part of the omnibus fix at https://review.openstack.org/#/c/234166/", 
            "date_created": "2015-10-13 13:55:28.001448+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/234280", 
            "date_created": "2015-10-13 15:04:08.705575+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/kilo\nReview: https://review.openstack.org/234282", 
            "date_created": "2015-10-13 15:05:36.428206+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/233685\nCommitted: https://git.openstack.org/cgit/openstack/manila/commit/?id=9c99814ce5943bd4c33bf3650b832666e31b3411\nSubmitter: Jenkins\nBranch:    master\n\ncommit 9c99814ce5943bd4c33bf3650b832666e31b3411\nAuthor: Gaurang Tapase <email address hidden>\nDate:   Mon Oct 12 20:47:19 2015 +0530\n\n    Fix usage of dependencies\n    \n    Manila is broken is threee places, so fix them:\n    1) test 'test_misc' with WebOb 1.5\n    \n    WebOb 1.5 was released at 2015-10-11. With this new version,\n    webob.exc.WSGIHTTPException() constructor now fails with a KeyError\n    when the HTTP status code is 0.\n    \n    test_exceptions_raise() of test_misc tries to instantiate all\n    exceptions of manila.exception. The problem is that\n    ConvertedException uses a default HTTP status code of 0.\n    \n    Modify the default HTTP status code of ConvertedException to 400 to\n    fix the unit tests.\n    \n    2) Add dependency for 'testresources' that is required by migration\n    tests.\n    \n    3) Remove 2 unit tests related to testing of oslo.policy lib\n    functionality that should not be tested in Manila. It started failing\n    because under-the-hood behaviour was changed in new realese 0.12.0\n    \n    Closes-Bug: #1505153\n    Closes-Bug: #1505374\n    \n    Change-Id: I0f28f3c3fb2c7eec1bafc3a617344990f86810cf\n", 
            "date_created": "2015-10-13 15:09:12.863430+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Matt Riedemann (<email address hidden>) on branch: stable/liberty\nReview: https://review.openstack.org/234280\nReason: I guess this is covered here:\n\nhttps://review.openstack.org/#/c/234166/", 
            "date_created": "2015-10-13 15:18:25.741466+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/234288", 
            "date_created": "2015-10-13 15:20:42.301118+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/234329", 
            "date_created": "2015-10-13 16:31:46.817775+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/234166\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=6df6ad3ff32f2b1fe2978df1032002548ad8eb66\nSubmitter: Jenkins\nBranch:    stable/liberty\n\ncommit 6df6ad3ff32f2b1fe2978df1032002548ad8eb66\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Wed Oct 7 08:11:35 2015 -0700\n\n    Omnibus stable/liberty fix\n    \n    There are currently 3 different blocking issues in stable/liberty due\n    to library releases: webob 1.5, oslo.db 3.0.0, and\n    oslo.versionedobjects 0.11.0. This is a squashed fix for all of them\n    as none can land without the others.\n    \n    Issue #1 - oslo.db\n    \n    Add testresources used by oslo.db fixture\n    \n    If we use oslo.db fixtures, we'll need the package or\n    the next version of oslo.db release will break us.\n    \n    (Cherry-picked from 4bcc26487837b7ece7797f88622dea1b6d09bd94)\n    \n    Closes-Bug: #1503501\n    \n    Issue #2 - oslo.versionedobjects\n    \n    Drop unused obj_to_primitive() override\n    \n    This was a band-aid override until o.vo gained the obj_relationships fix\n    that this method overrides. That has been in place since o.vo 0.8.0, which\n    means this is long since no longer necessary (and is actually blocking our\n    ability to absorb bug fixes to this code in o.vo). Further, we no longer\n    use this directly because we're doing backports based on version manifests,\n    which means we no longer consult child_versions _or_ obj_relationships.\n    \n    (cherry picked from commit 142f1d9cc4ace90956c665c40b1f78795f9f7e29)\n    \n    Issue #3 - webob\n    \n    Default ConvertedException code to 500\n    \n    webob 1.5.0 released on 10/11 has change f6c749011 which\n    strictly enforces status codes in exceptions, and 0 is not\n    a valid status code so tests fail.\n    \n    Change the default to 500 to match the default in the parent\n    class in webob.\n    \n    Closes-Bug: #1505153\n    (cherry picked from commit 10438c0fc34bd088e018e1a5e8ec57b396528792)\n    \n    Change-Id: I1e06e77308a7dd23209124f0807d61fb52470188\n", 
            "date_created": "2015-10-13 18:15:51.639164+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/234329\nCommitted: https://git.openstack.org/cgit/openstack/cinder/commit/?id=61026d4e4f2a58dd84ffb2e4e40ab99860b9316a\nSubmitter: Jenkins\nBranch:    stable/liberty\n\ncommit 61026d4e4f2a58dd84ffb2e4e40ab99860b9316a\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Tue Oct 6 18:45:12 2015 -0700\n\n    Squashed commit of WebOb 1.5 and oslo.db fixes\n    \n    Add testresources and testscenarios used by oslo.db fixture\n    \n    If we use oslo.db fixtures, we'll need these 2 packages or\n    the next version of oslo.db release will break us.\n    \n    Closes-Bug: #1503501\n    Change-Id: I8facdaf69c79b1b1ae4f9f64e9856e12f14440ed\n    (cherry picked from commit ec40c3b6ddbfa4912ca6e612558efaef6043f3ae)\n    \n    Fix test_misc for WebOb 1.5\n    \n    WebOb 1.5 was released at 2015-10-11. With this new version,\n    webob.exc.WSGIHTTPException() constructor now fails with a KeyError\n    when the HTTP status code is 0.\n    \n    test_exceptions_raise() of test_misc tries to instanciate all\n    exceptions of cinder.exception. The problem is that\n    ConvertedException uses a default HTTP status code of 0.\n    \n    Modify the default HTTP status code of ConvertedException to 400 to\n    fix the unit test. The bug is only in the test,\n    cinder/api/openstack/wsgi.py copies an existing HTTP code:\n    \n        Fault(exception.ConvertedException(code=ex_value.code,  ...)\n    \n    Closes-Bug: #1505153\n    Change-Id: I1aec8038774828d48da4b0e831b390e33243809a\n    (cherry picked from commit 867fccf833ffc597aa986cb6ff1b3b5c1101b9ba)\n    \n    Change default Exception code to 500\n    \n    As a part of the fix for LP#1505153, the invalid\n    response of 0 was changed to 400 to fix a running\n    issue with the new version of WebOb.\n    \n    It was pointed out after the fact  however that a\n    500 might be more appropriate here.\n    \n    Additionally, other projects have implemented a 500\n    as the default so for the sake of consistency we should\n    consider doing the same.\n    \n    This patch just changes the 400 to a 500 as the default\n    code.\n    \n    Conflicts:\n            cinder/tests/unit/test_exception.py\n    \n    NOTE(mriedem): The conflict is due to 17802086f not being\n    in stable/liberty.\n    \n    Change-Id: Ie486dc49c927f9b50f07c1fc562e89c090924a40\n    Closes-Bug: #1505488\n    (cherry picked from commit 9a7cbe540c94d54194194f4747a52b8211f6372e)\n", 
            "date_created": "2015-10-13 18:16:20.984188+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Ivan Kolodyazhny (<email address hidden>) on branch: stable/liberty\nReview: https://review.openstack.org/233668", 
            "date_created": "2015-10-13 19:19:55.944787+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/233756\nCommitted: https://git.openstack.org/cgit/openstack/openstack-ansible/commit/?id=81a750da5ee5cd2b63eae5f13d37372dce6f0cf3\nSubmitter: Jenkins\nBranch:    master\n\ncommit 81a750da5ee5cd2b63eae5f13d37372dce6f0cf3\nAuthor: Jesse Pretorius <email address hidden>\nDate:   Mon Oct 12 19:09:58 2015 +0100\n\n    Block/cap incompatible libraries\n    \n    This updates the global requirements to block requests 2.8.0 due to:\n      https://launchpad.net/bugs/1476770 and\n      https://launchpad.net/bugs/1503768 and\n      https://launchpad.net/bugs/1505326\n    \n    And also blocks oslo.messaging 2.6.0 temporarily due to:\n      https://launchpad.net/bugs/1505295\n    \n    And also blocks oslo.versionedobjects 0.11.0 temporarily due to:\n      https://launchpad.net/bugs/1505677\n    \n    And also blocks WebOb<1.5.0 temporarily due to:\n      https://launchpad.net/bugs/1505153\n    \n    Related-Bug: #1476770\n    Related-Bug: #1503768\n    Related-Bug: #1505326\n    Related-Bug: #1505295\n    Related-Bug: #1505153\n    Related-Bug: #1505677\n    Change-Id: I3aabbf717ef21a41c7bb9d21957df838642926f0\n", 
            "date_created": "2015-10-13 19:46:55.610663+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/234288\nCommitted: https://git.openstack.org/cgit/openstack/manila/commit/?id=f1eded1fbcaf309e1c9a4be3f8a14bd25daa3e46\nSubmitter: Jenkins\nBranch:    stable/liberty\n\ncommit f1eded1fbcaf309e1c9a4be3f8a14bd25daa3e46\nAuthor: Gaurang Tapase <email address hidden>\nDate:   Mon Oct 12 20:47:19 2015 +0530\n\n    Fix usage of dependencies\n    \n    Manila is broken is threee places, so fix them:\n    1) test 'test_misc' with WebOb 1.5\n    \n    WebOb 1.5 was released at 2015-10-11. With this new version,\n    webob.exc.WSGIHTTPException() constructor now fails with a KeyError\n    when the HTTP status code is 0.\n    \n    test_exceptions_raise() of test_misc tries to instantiate all\n    exceptions of manila.exception. The problem is that\n    ConvertedException uses a default HTTP status code of 0.\n    \n    Modify the default HTTP status code of ConvertedException to 400 to\n    fix the unit tests.\n    \n    2) Add dependency for 'testresources' that is required by migration\n    tests.\n    \n    3) Remove 2 unit tests related to testing of oslo.policy lib\n    functionality that should not be tested in Manila. It started failing\n    because under-the-hood behaviour was changed in new realese 0.12.0\n    \n    Closes-Bug: #1505153\n    Closes-Bug: #1505374\n    \n    (cherry picked from commit 9c99814ce5943bd4c33bf3650b832666e31b3411)\n    \n    -- squashed with another change to get tests to pass on stable/liberty --\n    \n    Fix broken unit tests\n    \n    With release of six module version 1.10.0 several our unit tests\n    started to fail because of usage of not strict constructions.\n    \n    Changes:\n    1) Manila unit test\n    \"manila.tests.share.test_api.ShareAPITestCase.test_extend_quota_error\"\n    used str for int substitution. So, use int data for int substitution.\n    \n    2) Module 'manila.share.drivers.hp.hp_3par_mediator' was using\n    LOG.exception function when no traceback were exist it led to\n    AttributeError on py34. So, replace all usages of 'LOG.exception'\n    with 'LOG.error' where no raised exceptions exist.\n    \n    Change-Id: Ic5b37bfb9d939d03f6ff68bc53d134bf9e5f996e\n    Closes-Bug: #1503969\n    (cherry picked from commit f38b8d4efd1f68f4ea29747f7377e0936f61d89c)\n    \n    --\n    \n    Change-Id: I0f28f3c3fb2c7eec1bafc3a617344990f86810cf\n", 
            "date_created": "2015-10-13 20:53:16.710430+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "https://review.openstack.org/#/c/233756/ has merged as well. ", 
            "date_created": "2015-10-14 01:10:18.093935+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/234742", 
            "date_created": "2015-10-14 11:41:40.722005+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "http://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwic3RhdHVzX2dlbmVyaWNfcmVhc29uc1wiIEFORCB0YWdzOlwiY29uc29sZVwiIEFORCAoYnVpbGRfbmFtZTpcImdhdGUtY2luZGVyLXB5dGhvbjI3XCIgT1IgYnVpbGRfbmFtZTpcImdhdGUtbm92YS1weXRob24yN1wiIE9SIGJ1aWxkX25hbWU6XCJnYXRlLW1hbmlsYS1weXRob24yN1wiKSIsImZpZWxkcyI6W10sIm9mZnNldCI6MCwidGltZWZyYW1lIjoiNjA0ODAwIiwiZ3JhcGhtb2RlIjoiY291bnQiLCJ0aW1lIjp7InVzZXJfaW50ZXJ2YWwiOjB9LCJzdGFtcCI6MTQ0NDgzNjA1ODg0MX0=", 
            "date_created": "2015-10-14 15:22:42.308342+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/234742\nCommitted: https://git.openstack.org/cgit/openstack/openstack-ansible/commit/?id=cf6e2aa2848c34a118eaa4718c0e12d34b45f363\nSubmitter: Jenkins\nBranch:    master\n\ncommit cf6e2aa2848c34a118eaa4718c0e12d34b45f363\nAuthor: Jesse Pretorius <email address hidden>\nDate:   Wed Oct 14 12:38:06 2015 +0100\n\n    Remove WebOb 1.5.0 cap\n    \n    Remove the cap as the issue has been removed upstream. More details\n    are covered in the below-mentioned bug. This covers multiple\n    projects and patches, so I don't think it's appropriate to list\n    all the related upstream patches seeing as they're covered in the\n    bug.\n    \n    Change-Id: I6931eb0459dd116027a9d0ae4c2b76d7d98c2d6b\n    Closes-Bug: #1505153\n", 
            "date_created": "2015-10-14 22:09:17.361990+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/235181", 
            "date_created": "2015-10-15 09:20:38.782249+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/235282", 
            "date_created": "2015-10-15 12:04:06.957404+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/235328", 
            "date_created": "2015-10-15 13:16:23.595192+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/235282\nCommitted: https://git.openstack.org/cgit/openstack/cinder/commit/?id=0f7d289a2899082802499a498cba34a3abca321d\nSubmitter: Jenkins\nBranch:    master\n\ncommit 61026d4e4f2a58dd84ffb2e4e40ab99860b9316a\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Tue Oct 6 18:45:12 2015 -0700\n\n    Squashed commit of WebOb 1.5 and oslo.db fixes\n    \n    Add testresources and testscenarios used by oslo.db fixture\n    \n    If we use oslo.db fixtures, we'll need these 2 packages or\n    the next version of oslo.db release will break us.\n    \n    Closes-Bug: #1503501\n    Change-Id: I8facdaf69c79b1b1ae4f9f64e9856e12f14440ed\n    (cherry picked from commit ec40c3b6ddbfa4912ca6e612558efaef6043f3ae)\n    \n    Fix test_misc for WebOb 1.5\n    \n    WebOb 1.5 was released at 2015-10-11. With this new version,\n    webob.exc.WSGIHTTPException() constructor now fails with a KeyError\n    when the HTTP status code is 0.\n    \n    test_exceptions_raise() of test_misc tries to instanciate all\n    exceptions of cinder.exception. The problem is that\n    ConvertedException uses a default HTTP status code of 0.\n    \n    Modify the default HTTP status code of ConvertedException to 400 to\n    fix the unit test. The bug is only in the test,\n    cinder/api/openstack/wsgi.py copies an existing HTTP code:\n    \n        Fault(exception.ConvertedException(code=ex_value.code,  ...)\n    \n    Closes-Bug: #1505153\n    Change-Id: I1aec8038774828d48da4b0e831b390e33243809a\n    (cherry picked from commit 867fccf833ffc597aa986cb6ff1b3b5c1101b9ba)\n    \n    Change default Exception code to 500\n    \n    As a part of the fix for LP#1505153, the invalid\n    response of 0 was changed to 400 to fix a running\n    issue with the new version of WebOb.\n    \n    It was pointed out after the fact  however that a\n    500 might be more appropriate here.\n    \n    Additionally, other projects have implemented a 500\n    as the default so for the sake of consistency we should\n    consider doing the same.\n    \n    This patch just changes the 400 to a 500 as the default\n    code.\n    \n    Conflicts:\n            cinder/tests/unit/test_exception.py\n    \n    NOTE(mriedem): The conflict is due to 17802086f not being\n    in stable/liberty.\n    \n    Change-Id: Ie486dc49c927f9b50f07c1fc562e89c090924a40\n    Closes-Bug: #1505488\n    (cherry picked from commit 9a7cbe540c94d54194194f4747a52b8211f6372e)\n\ncommit 5268a8d61beee1b18d14fd3738e763a0a61b00f1\nAuthor: Xing Yang <email address hidden>\nDate:   Wed Sep 23 11:22:43 2015 -0400\n\n    Fix VMAX live migration problem\n    \n    Live migration fails for VMAX because the host is not taken into\n    account when determining whether a volume is masked or not. For\n    live migration it is necessary to know which host a volume is masked\n    to. This patch fixes the problem by checking which host the volume\n    is masked to.\n    \n    Change-Id: I693e29f7b26145bd1fd357b7d98377e26bfdfed8\n    Closes-Bug: #1498964\n    (cherry picked from commit 794e27c78255c94084b54821d44a36fd8f2096d7)\n\ncommit 2c09897f569a786998fd1ab50e42d81e9a2093a0\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Sat Oct 3 06:22:46 2015 +0000\n\n    Imported Translations from Zanata\n    \n    For more information about this automatic import see:\n    https://wiki.openstack.org/wiki/Translations/Infrastructure\n    \n    Change-Id: Ie155bc342c6f7af507c567577c97652a16d533c8\n\ncommit f9e6c5f88c96bcbd181e991219d4ecbf9b8cf833\nAuthor: Tom Swanson <email address hidden>\nDate:   Tue Sep 29 10:26:48 2015 -0500\n\n    Dell SC: cgsnapshot-delete doesn't actually delete\n    \n    dell_storagecenter_api.py was looking for the cgsnapshot for\n    cgsnapshot-delete via the wrong REST API call.  It was also only\n    looking for the first volume's snapshot rather than all snapshots\n    associated with a cgsnapshot.  It now locates the snapshots properly\n    and expires the associated replays on cgsnapshot-delete.\n    \n    Tests updated appropriately.\n    \n    Change-Id: I1e635db8b06d3d7a78573e6e8a2a4c25b7fb458d\n    Closes-Bug: #1500583\n    (cherry picked from commit e529e4d6cc71003c53126612dd869fa6fb23493a)\n\ncommit 4d42d496abf25630d1e6bd3ccf8c43ea1b754afb\nAuthor: Wilson Liu <email address hidden>\nDate:   Wed Sep 23 15:04:33 2015 +0800\n\n    Huawei driver add check before use a QoS\n    \n    One QoS in Huawei storage array can contain at most 64 LUNs.\n    Do a check before adding LUN to QoS, if the number of the\n    LUNs in the QoS is already equal or larger than 64, then\n    this QoS should not be used.\n    \n    Closed-Bug: #1498773\n    Change-Id: I9dd78cc1378051ded135a885cfc9347d42977311\n    (cherry picked from commit 32099d547a2bb9c5f21de4592c5bf08272fcb14c)\n\ncommit 6b7794a0d7c7a9eb76424eb2f7bd259d4f6ab0aa\nAuthor: Wilson Liu <email address hidden>\nDate:   Thu Sep 24 16:52:31 2015 +0800\n\n    Report *real* free capacity in Huawei driver\n    \n    When we query capacity of a storage pool on Huawei storage,\n    there are two items in the result: one is \"USERFREECAPACITY\"\n    and the another one is \"DATASPACE\". In fact the \"DATASPACE\"\n    is the *real* space we can use to create LUN, the\n    \"USERFREECAPACITY\" contains some metadata that we can not use\n    to store user data.\n    \n    Closes-Bug: #1499227\n    Change-Id: I34a8c67dea2a7b7f5a2a693a65c9303b2cc3d972\n    (cherry picked from commit e28e87258351c4c0d261d7c04ce495ef73e1520c)\n\ncommit bdfe5fa04e8e452c7262f265255b272f8fcfaa1d\nAuthor: Goutham Pacha Ravi <email address hidden>\nDate:   Fri Sep 25 01:52:43 2015 -0400\n\n    Revert use of netapp_lib from NetApp Drivers\n    \n    This patch cleanly reverts the changes made via the\n    commit: e681ba2a99995dcd999e6539bb1222f8a1ac8adc\n    cleanly and mitigates the conflicts that would\n    occur with git-revert on the said commit.\n    \n    The revert is solely for changes pertaining to the use\n    of the external library, netapp_lib. Minor code refactors\n    from the prior change are retained.\n    \n    Unit test coverage has been increased for ZAPI and REST\n    interface code in netapp/dataontap/client/api.py and\n    netapp/eseries/client.py.\n    \n    Closes-Bug: #1499334\n    Change-Id: Icead7e168e1c7187840de87c69365d26aedd5924\n    (cherry picked from commit ff81307ca4c796a66f4bd584b4633db07dcf2a16)\n\ncommit a20f797a3e00a7e9d9a8a1a3f5659b3b0266394e\nAuthor: John Griffith <email address hidden>\nDate:   Wed Sep 2 20:54:08 2015 -0600\n\n    Add placholder for migration backports in Liberty\n    \n    Adding 5 placeholders for migration backports.\n    \n    Change-Id: Id3c4efbeee8bb1d800d71576d9de66ae9deb315a\n    (cherry picked from commit 3c1d38882eca336bb7735ee8097d0236b2d94b1a)\n\ncommit cc0e6118f60964c162d6482dc96454ffec30e061\nAuthor: Andreas Jaeger <email address hidden>\nDate:   Thu Sep 24 21:14:13 2015 +0200\n\n    Cleanup of Translations\n    \n    In preparation for the release, do some cleanups for translations.\n    \n    Removes all po files that are partially translated. The translation\n    team has decided to exclude files with less than 66 % of translated\n    content. There is no content lost, all data is in the translation\n    server, we just remove it from the repository.\n    \n    This updates also recreates pot (translation source files) to\n    reflect the state of the repository in case there was no recent\n    import for them.\n    \n    This change needs to be done manually since the automatic import does\n    not handle some of these cases.\n    \n    Change-Id: I7131dbf556627c5ad6fc237bab1e6b867f55c7f8\n", 
            "date_created": "2015-10-15 14:29:45.551778+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/234282\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=fc932f1fbcf6199839c31918125d7fe775c4b5f6\nSubmitter: Jenkins\nBranch:    stable/kilo\n\ncommit fc932f1fbcf6199839c31918125d7fe775c4b5f6\nAuthor: Matt Riedemann <email address hidden>\nDate:   Mon Oct 12 14:39:32 2015 -0700\n\n    Default ConvertedException code to 500\n    \n    webob 1.5.0 released on 10/11 has change f6c749011 which\n    strictly enforces status codes in exceptions, and 0 is not\n    a valid status code so tests fail.\n    \n    Change the default to 500 to match the default in the parent\n    class in webob.\n    \n    Closes-Bug: #1505153\n    (cherry picked from commit 10438c0fc34bd088e018e1a5e8ec57b396528792)\n    \n    -- Squashed with the following change to open kilo 2015.1.3 since they are\n       co-dependent. --\n    \n    Open Kilo 2015.1.3\n    \n    Change-Id: Ic97696684c8545068597b4f1efd9d3eb19294d93\n    \n    --\n    \n    Change-Id: If04eedb402092ca2cc307cb52f2231493c4375a2\n", 
            "date_created": "2015-10-16 01:23:35.428089+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/235328\nCommitted: https://git.openstack.org/cgit/openstack/manila/commit/?id=ec94d6929ea8e1b4ce10dc91cd4954ece808668c\nSubmitter: Jenkins\nBranch:    master\n\ncommit f1eded1fbcaf309e1c9a4be3f8a14bd25daa3e46\nAuthor: Gaurang Tapase <email address hidden>\nDate:   Mon Oct 12 20:47:19 2015 +0530\n\n    Fix usage of dependencies\n    \n    Manila is broken is threee places, so fix them:\n    1) test 'test_misc' with WebOb 1.5\n    \n    WebOb 1.5 was released at 2015-10-11. With this new version,\n    webob.exc.WSGIHTTPException() constructor now fails with a KeyError\n    when the HTTP status code is 0.\n    \n    test_exceptions_raise() of test_misc tries to instantiate all\n    exceptions of manila.exception. The problem is that\n    ConvertedException uses a default HTTP status code of 0.\n    \n    Modify the default HTTP status code of ConvertedException to 400 to\n    fix the unit tests.\n    \n    2) Add dependency for 'testresources' that is required by migration\n    tests.\n    \n    3) Remove 2 unit tests related to testing of oslo.policy lib\n    functionality that should not be tested in Manila. It started failing\n    because under-the-hood behaviour was changed in new realese 0.12.0\n    \n    Closes-Bug: #1505153\n    Closes-Bug: #1505374\n    \n    (cherry picked from commit 9c99814ce5943bd4c33bf3650b832666e31b3411)\n    \n    -- squashed with another change to get tests to pass on stable/liberty --\n    \n    Fix broken unit tests\n    \n    With release of six module version 1.10.0 several our unit tests\n    started to fail because of usage of not strict constructions.\n    \n    Changes:\n    1) Manila unit test\n    \"manila.tests.share.test_api.ShareAPITestCase.test_extend_quota_error\"\n    used str for int substitution. So, use int data for int substitution.\n    \n    2) Module 'manila.share.drivers.hp.hp_3par_mediator' was using\n    LOG.exception function when no traceback were exist it led to\n    AttributeError on py34. So, replace all usages of 'LOG.exception'\n    with 'LOG.error' where no raised exceptions exist.\n    \n    Change-Id: Ic5b37bfb9d939d03f6ff68bc53d134bf9e5f996e\n    Closes-Bug: #1503969\n    (cherry picked from commit f38b8d4efd1f68f4ea29747f7377e0936f61d89c)\n    \n    --\n    \n    Change-Id: I0f28f3c3fb2c7eec1bafc3a617344990f86810cf\n\ncommit 151b691bb2d4baa436913924df60b8c197f91463\nAuthor: Valeriy Ponomaryov <email address hidden>\nDate:   Thu Oct 1 12:42:05 2015 +0300\n\n    Fix display of availability-zone for manila-manage command\n    \n    Commands \"manila-manage service list\" and \"manila-manage host list\"\n    were displaying availability zone instance instead of its name.\n    \n    Such bug appeared after implementation of Availability zone model.\n    So, fix it by providing 'name' field of availability zone model.\n    \n    Change-Id: I14c3451380df01853183aed265344b1783c95939\n    Closes-Bug: #1499677\n\ncommit 77455a5ac6be828e8dfd3e75566eaff2823595d4\nAuthor: Csaba Henk <email address hidden>\nDate:   Wed Sep 30 14:57:00 2015 +0200\n\n    glusterfs_native: use dynamic-auth option if available\n    \n    With dynamic-auth restarting the volume is not necessary\n    in deny_access.\n    \n    Change-Id: Ic25af1795c279b34370e25ebdc80c2853a76cc4b\n    Closes-bug: #1489081\n    (cherry picked from commit 74cc46c76b5c18481726768edc4a79e9e5a7c706)\n\ncommit 2a6c8d71c97d1d70d3fd3eb7ba3e43a2f92e9a5f\nAuthor: Valeriy Ponomaryov <email address hidden>\nDate:   Wed Sep 23 13:54:00 2015 +0300\n\n    Fix setting of \"snapshot_support\" extra spec for tempest\n    \n    Tempest test module \"test_shares_actions.py\" uses custom share_type,\n    but do not allow to redefine extra spec \"snapshot_support\".\n    And fails for drivers that do not have snapshot support and report\n    such capability as \"False\".\n    \n    Changes:\n    - Add new config option called \"capability_snapshot_support\" that\n    will be used for each share type created in Tempest by default.\n    - Make it default to existing config option \"run_snapshot_tests\"\n    as they will be equal in most cases. But separate their logic, as\n    we may want just to disable snapshot tests running tempest locally\n    and testing some other feature having snapshot support in back end.\n    - Rename existing config option \"storage_protocol\" to\n    \"capability_storage_protocol\" for consistency with new option. And\n    keep old name as \"deprecated\".\n    \n    Change-Id: I9ba0a9b10ffc3f0fda6094a3f5cad26a2e8a447f\n    Closes-Bug: #1498858\n    (cherry picked from commit 29f2695eb9c615d258344bbc2a835e98940c6290)\n\ncommit b3256350b889b5c5522d73c2bb7e3d27ebfe27f0\nAuthor: Julia Varlamova <email address hidden>\nDate:   Tue Sep 29 06:09:05 2015 -0400\n\n    Fix deletion of error state access rules\n    \n    Deny access to share instance in case access rule is in error state\n    and has access to share instances.\n    \n    Add function 'share_instance_access_get_all' to DB API to check if we can\n    delete share access or need to remove access to share instance at first.\n    \n    Closes-bug: #1495892\n    \n    Change-Id: Id1f138e6bb48daca0a768dea7440829185fca9e5\n    (cherry picked from commit ccb3a1c5874dfdbfe6192b6acadacb97a050b1bd)\n\ncommit 4d9f87d6ccf30b2fb2c6f34d2a25d93717131461\nAuthor: Valeriy Ponomaryov <email address hidden>\nDate:   Wed Sep 30 12:07:50 2015 +0300\n\n    Fix response data for API access-allow\n    \n    API access-allow returns following redundant data:\n    - deleted\n    - deleted_at\n    - instance_mappings\n    \n    So, remove them for create share api method and cover it with\n    unit and tempest tests.\n    \n    Change-Id: I103380c3f0008d4879b39f339187e57eeec40456\n    Closes-Bug: #1499733\n    (cherry picked from commit beb9191c69058cecb3c961297213a1c59f65745e)\n\ncommit 5671c464f75560abf979eb1ca805a4da32373089\nAuthor: Csaba Henk <email address hidden>\nDate:   Thu Sep 24 03:03:54 2015 +0200\n\n    glusterfs: check nfs.export-volumes with Gluster NFS + vol layout\n    \n    nfs.export-volumes is required to be set to 'on' on the backing\n    GlusterFS cluster (nb. it's a cluster-wide setting) if the driver's\n    setup is\n    \n        glusterfs_nfs_server_type = Gluster\n        glusterfs_share_layout = layout_volume.GlusterfsVolumeMappedLayout\n    \n    Change-Id: I472eb5534110e8b216275ad3f4295f27a81f9815\n    Closes-Bug: #1499124\n    (cherry picked from commit d7ff0f43148c03757bde1b009c5b6b00611cefa8)\n\ncommit 722a22eac20109081662cc1796560963578575c6\nAuthor: Csaba Henk <email address hidden>\nDate:   Wed Sep 23 15:56:22 2015 +0200\n\n    glusterfs: manage nfs.rpc-auth-allow not being set\n    \n    GlusterNFSVolHelper._get_vol_exports should return an\n    empty list if nfs.rpc-auth-allow is not set on the\n    backing volume.\n    \n    Change-Id: I481bcef66efb7f49da7ea9dab27300825388d6d8\n    Closes-Bug: #1498835\n    (cherry picked from commit 42eb36b74594b6431c5cb0915a1bd327aca3f11f)\n\ncommit be76d9e404c0f8a9728bccb7b54dffae091d0700\nAuthor: Csaba Henk <email address hidden>\nDate:   Tue Sep 29 09:49:19 2015 +0200\n\n    glusterfs vol layout: start volume cloned from snapshot\n    \n    When handling create_share_from_snapshot with glusterfs\n    volume layout, we do a snapshot clone gluster operation\n    that gives us a new volume (which will be used to back\n    the new share). 'snapshot clone' does not start the\n    resultant volume, we have explicitly start it from Manila.\n    So far the volume layout code did not bother about it,\n    rather the 'vol start' was called from glusterfs-native\n    driver. That however broke all other volume layout based\n    configs (ie. glusterfs driver with vol layout).\n    \n    Fix this now by doing the 'vol start' call in the vol\n    layout code.\n    \n    Change-Id: I63c13ce468a3227f09e381814f55e8c914fbef95\n    Closes-Bug: #1499347\n    (cherry picked from commit 4e4c8759a25fa18384b45f4150000aacfaed035a)\n\ncommit ae378ce27d961f074953eccae0047bdf5af8821f\nAuthor: Clinton Knight <email address hidden>\nDate:   Sun Sep 27 15:32:05 2015 -0700\n\n    NetApp cDOT driver isn't reentrant\n    \n    While testing the cDOT driver at high concurrency (12), we observed a few\n    occasional errors that were difficult to explain until we noticed that\n    some APIs were being sent to the wrong vserver. Root cause is that the\n    protocol helpers are cached and reused despite being stateful. There is\n    virtually no performance benefit to caching the helper classes, so the\n    simplest fix is to stop caching them.\n    \n    Change-Id: I30efcf5a3ada4cc03d8506738876498ae75d20d3\n    Closes-Bug: #1500257\n    (cherry picked from commit 7049a9aac9550c449deefcd129aa871924d013c8)\n\ncommit 91b88b2167a239f93df5cf41b993261abbc0f4d7\nAuthor: Clinton Knight <email address hidden>\nDate:   Wed Sep 23 10:48:34 2015 -0400\n\n    Can't create shares on drivers that don't support snapshots\n    \n    For a driver that doesn't support snapshots, a share type with\n    snapshot_support = '<is> False' will prevent share creation.\n    Root cause is code in HostManager that improperly checks whether\n    snapshot_support (and other boolean properties) is set on each\n    pool. This commit fixes the check for the boolean pool capabilities.\n    \n    Change-Id: I6a488788926cca119498b3de992beec3b0545259\n    Closes-Bug: #1498646\n    (cherry picked from commit 8a34fb3890810330a9b8a2d659739d92134a832c)\n\ncommit b28c8fccf93ef2adb08685e3efa1b5d72b0c7f94\nAuthor: Clinton Knight <email address hidden>\nDate:   Thu Sep 24 17:27:04 2015 -0400\n\n    Revert netapp_lib dependency in NetApp cDOT Manila drivers\n    \n    The community asked us to remove the dependency on a PyPI\n    library with a proprietary license.  This commit does that\n    while preserving some minor refactoring that was done at the\n    same time.\n    \n    Reverts commit ca6168d01bea405718bbf6a36d4bb75c23d1b783.\n    \n    Closes-Bug: #1499334\n    Change-Id: I1a4b1b2b2151bb222ae5c77b9b317e7505255067\n    (cherry picked from commit f925c049007fbd5ec71a4ec59de1120d35ad66af)\n\ncommit 1b020560e11aa048d8f0da4f755fe3ad1cbdc0f5\nAuthor: Ben Swartzlander <email address hidden>\nDate:   Wed Sep 30 15:55:02 2015 -0400\n\n    Set defaultbranch to stable/liberty in .gitreview\n    \n    Change-Id: I67a1cd670f18822f5918537fda8b451a9d72088c\n\ncommit 552a80a5bfa48e5c53e80c5fef10e08bfe62f614\nAuthor: Nicolas Trangez <email address hidden>\nDate:   Fri Sep 25 15:26:57 2015 +0200\n\n    Fix `test_trans_add` for Python 3.4.3\n    \n    The `test_trans_add` test in `manila.tests.test_hacking.HackingTestCase`\n    consistently failed on our CI system, which is based on Ubuntu 14.04.\n    Contrary, on my development machine running Fedora 22, all tests\n    succeeded. Whilst the test dispatches on Python version (`if six.PY2`)\n    to select which `hacking` errors are expected, at which line/column\n    pair, I noticed our CI system returned the expected values for Python 2,\n    not the Python 3 ones, which differ in column numbers only.\n    \n    After verifying versions of dependencies, stepping through the code and\n    whatnot, the only difference left turned out to be the version of Python\n    being used: 3.4.2 on my workstation, 3.4.3 on our CI system. As a last\n    resort, I opened the Python 3.4 ChangeLog [1] and noticed a suspicious\n    entry::\n    \n        Issue #21295: Revert some changes (issue #16795) to AST line numbers\n        and column offsets that constituted a regression.\n    \n    Looking at those issues, it becomes clear this is the cause. Supposedly\n    the Python 3 specific expected values were created on a Python 3.4\n    version containing the original patch of #16795 [2], and this is also\n    what's running on the OpenStack CI system. Our CI system runs a build of\n    Python which contains the revert of #21295 [3].\n    \n    This patch fixes the version-specific expected error calculation by not\n    simply dispatching on Python 2 or 3, but specifically limits the custom\n    version to 3.4.0 <= Python < 3.4.3.\n    \n    [1] https://docs.python.org/3.4/whatsnew/changelog.html\n    [2] http://bugs.python.org/issue16795\n    [3] http://bugs.python.org/issue21295\n    \n    Closes-Bug: 1499743\n    \n    Change-Id: I649fb1f5244efba7ab79e9bf337433d541fa8b19\n    (cherry picked from commit 83167bd2a2a0369d2271bd08ebc7ca753a603d60)\n", 
            "date_created": "2015-10-20 07:05:49.579511+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Ben Swartzlander (<email address hidden>) on branch: stable/liberty\nReview: https://review.openstack.org/232535", 
            "date_created": "2015-10-21 12:45:51.343224+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/235181\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=d8a3b9d6408627ce9a293d1e62d003757af655a1\nSubmitter: Jenkins\nBranch:    master\n\ncommit 6df6ad3ff32f2b1fe2978df1032002548ad8eb66\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Wed Oct 7 08:11:35 2015 -0700\n\n    Omnibus stable/liberty fix\n    \n    There are currently 3 different blocking issues in stable/liberty due\n    to library releases: webob 1.5, oslo.db 3.0.0, and\n    oslo.versionedobjects 0.11.0. This is a squashed fix for all of them\n    as none can land without the others.\n    \n    Issue #1 - oslo.db\n    \n    Add testresources used by oslo.db fixture\n    \n    If we use oslo.db fixtures, we'll need the package or\n    the next version of oslo.db release will break us.\n    \n    (Cherry-picked from 4bcc26487837b7ece7797f88622dea1b6d09bd94)\n    \n    Closes-Bug: #1503501\n    \n    Issue #2 - oslo.versionedobjects\n    \n    Drop unused obj_to_primitive() override\n    \n    This was a band-aid override until o.vo gained the obj_relationships fix\n    that this method overrides. That has been in place since o.vo 0.8.0, which\n    means this is long since no longer necessary (and is actually blocking our\n    ability to absorb bug fixes to this code in o.vo). Further, we no longer\n    use this directly because we're doing backports based on version manifests,\n    which means we no longer consult child_versions _or_ obj_relationships.\n    \n    (cherry picked from commit 142f1d9cc4ace90956c665c40b1f78795f9f7e29)\n    \n    Issue #3 - webob\n    \n    Default ConvertedException code to 500\n    \n    webob 1.5.0 released on 10/11 has change f6c749011 which\n    strictly enforces status codes in exceptions, and 0 is not\n    a valid status code so tests fail.\n    \n    Change the default to 500 to match the default in the parent\n    class in webob.\n    \n    Closes-Bug: #1505153\n    (cherry picked from commit 10438c0fc34bd088e018e1a5e8ec57b396528792)\n    \n    Change-Id: I1e06e77308a7dd23209124f0807d61fb52470188\n\ncommit 606204354b5ed96852240020769c81acda9f9fc8\nAuthor: Matt Riedemann <email address hidden>\nDate:   Mon Oct 5 20:32:58 2015 +0000\n\n    Revert \"[libvirt] Move cleanup of imported files to imagebackend\"\n    \n    This reverts commit 9ba70756de326ffaa8be43acfde12cad04ed0af2\n    \n    The change introduced an UnboundLocalError if we fail to\n    create the config_drive_image variable. Also, the original\n    change didn't have any unit tests and came late in the\n    liberty release so I don't really want to mess with fixing\n    this given we need the fix in liberty-rc2.\n    \n    Change-Id: Ia7b70aa139b67cf58b5c0f9fbcd2a4deb465914e\n    Closes-Bug: #1502961\n\ncommit ef655379445693443146f8a3ed31cabb011d9937\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Thu Oct 8 06:41:06 2015 +0000\n\n    Imported Translations from Zanata\n    \n    For more information about this automatic import see:\n    https://wiki.openstack.org/wiki/Translations/Infrastructure\n    \n    Change-Id: Idcac653033ab9808e06451a0dd690db4736834b2\n\ncommit eda3029aa74932f421d2992ac24f5ac3c92f347c\nAuthor: Dan Smith <email address hidden>\nDate:   Tue Oct 6 10:58:18 2015 -0700\n\n    Fix InstanceV1 backports to use context\n    \n    This fixes the InstanceV1 and InstanceListV1 backport code to properly\n    initialize the temporary objects with a context. Without them, the\n    objects are orphaned and can't do certain things.\n    \n    This should be backported to liberty\n    \n    Closes-Bug: #1503708\n    Change-Id: I537734c0f10110ac64799cc1232edbc18a16c794\n    (cherry picked from commit e571d88604353a0443ae4ca24e3ce72fb4c615f2)\n\ncommit 6cc3f4f6043e83d5d180a51bac5b9254cee8245e\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Tue Oct 6 06:39:20 2015 +0000\n\n    Imported Translations from Zanata\n    \n    For more information about this automatic import see:\n    https://wiki.openstack.org/wiki/Translations/Infrastructure\n    \n    Change-Id: Ib23288ea4eefac2f44cc9ac6bcb672dba4c3f6cb\n\ncommit 8af97531e3fbd2f24c091f14c3a20cacf538cff2\nAuthor: Jim Rollenhagen <email address hidden>\nDate:   Thu Oct 1 21:12:53 2015 -0700\n\n    Ironic: Fix bad capacity reporting if instance_info is unset\n    \n    If node.instance_info is unset for a node that has an instance on it\n    (for example, when upgrading Nova from before the patch that set these\n    values on spawn), the Ironic driver reports 0 for both $resource and\n    $resource_used. The resource tracker will correct $resource_used, and\n    resources available will be reported as a negative number.\n    \n    Correct this by reporting the original value if instance_info is unset.\n    \n    Closes-Bug: #1502177\n    Change-Id: I13c5e5430fd305cd0ee2f24cd95304660ccf11eb\n    (cherry picked from commit 047da6498dbb3af71bcb9e6d0e2c38aa23b06615)\n\ncommit a79e09548844fdb02b96a7f033efc0b23e7882e3\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Mon Oct 5 06:33:17 2015 +0000\n\n    Imported Translations from Zanata\n    \n    For more information about this automatic import see:\n    https://wiki.openstack.org/wiki/Translations/Infrastructure\n    \n    Change-Id: I7ad39496a3e4bab408d208c88b2e2e4b9f776b7c\n\ncommit 83089e7e67ca0149f9637d73448edfcba1edbf84\nAuthor: OpenStack Proposal Bot <email address hidden>\nDate:   Sat Oct 3 06:34:44 2015 +0000\n\n    Imported Translations from Zanata\n    \n    For more information about this automatic import see:\n    https://wiki.openstack.org/wiki/Translations/Infrastructure\n    \n    Change-Id: I2ddf857098bbda7048caadb752b659f446d192cc\n\ncommit c24bf9e469dbc2df8e8b8900015197dc7c388e8c\nAuthor: Matt Riedemann <email address hidden>\nDate:   Fri Oct 2 13:00:43 2015 -0700\n\n    libvirt: check if ImageMeta.disk_format is set before accessing it\n    \n    Commit 4f43bbafa4bfc2ab149d5db4eb55320c1602658b changed\n    blockinfo.get_root_info to access the disk_format attribute on the\n    passed in image_meta (ImageMeta object) like an object, but if that\n    attribute is not set you'll get an error.\n    \n    image_meta can be an empty object in the case of evacuate where\n    image_ref is passed as None to the compute manager's rebuild_instance\n    method in the case of evacuate, so image_meta defaults to {}. So when\n    the ImageMeta object is created in LibvirtDriver.spawn, there is nothing\n    in it.\n    \n    We have to check if the attribute is set before accessing it using\n    obj_attr_is_set because the ImageMeta class does not include the\n    NovaObjectDictCompat mixin, so we can't use\n    image_meta.get('disk_format').\n    \n    Closes-Bug: #1501831\n    \n    Change-Id: I95e543415b881603bb997ae0e159017c03e58a53\n    (cherry picked from commit 2b1a2bc034e371a9f6d95f48ed8fa77e0854d675)\n\ncommit 579b02163e66502d22812f91d82e65f4019bedd4\nAuthor: Tony Breeds <email address hidden>\nDate:   Fri Oct 2 12:28:42 2015 +1000\n\n    Add Pillow to test-requirements.txt\n    \n    Pillow isn't directly used by nova but it is used by\n    sphinxcontrib-seqdiag.\n    \n    Add it to test-requirements as a work around to:\n    http://lists.openstack.org/pipermail/openstack-dev/2015-October/076030.html\n    \n    Change-Id: I4face1fdb56c30bfeffca8808f422565eb21de83\n    (cherry picked from commit 03cae1c43124d03e747ea51cfcbc0737bbf4287a)\n\ncommit 2dbd0512ed4e51edab2a2f2d23d759ae8da9dc0c\nAuthor: Andreas Jaeger <email address hidden>\nDate:   Thu Sep 24 20:39:16 2015 +0200\n\n    Cleanup of Translations\n    \n    In preparation for the release, do some cleanups for translations.\n    \n    Removes all po files that are partially translated. The translation\n    team has decided to exclude files with less than 66 % of translated\n    content. There is no content lost, all data is in the translation\n    server, we just remove it from the repository.\n    \n    This change needs to be done manually since the automatic import does\n    not handle some of these cases.\n    \n    Change-Id: I662f6af336947188c74ea439ebba308bd4055fb8\n\ncommit fb23e596542d6bd052f5d3c5e193ffea7bb26028\nAuthor: Nikola Dipanov <email address hidden>\nDate:   Wed Sep 23 19:21:16 2015 +0100\n\n    rebuild: Apply migration context before calling the driver\n    \n    In I0233f964d8f294f0ffd9edcb16b1aaf93486177f we made sure that we are\n    properly using the data stashed in the migration context for resource\n    tracking, however - we missed that we need to also apply it when passing\n    data to the driver to do the spawn (or rebuild if implemented).\n    \n    This patch adds a context manager that helps us temporarily apply the\n    migration context to an instance object, as we want to make sure that we\n    don't save the new data before it's ready to be used by the resource\n    tracker.\n    \n    Change-Id: I9a4b86e176f408c1495d5308d3e7041292c2625a\n    Closes-bug: #1499028\n    (cherry picked from commit 66e0744471ce491371a67ffdd8ba3c105919e255)\n\ncommit 3be67646c46f7ca58b570770074c1f269c187a30\nAuthor: He Jie Xu <email address hidden>\nDate:   Mon Sep 28 13:24:06 2015 +0800\n\n    Correct Instance type check to work with InstanceV1\n    \n    When Liberty controller running with Kilo compute node, the Kilo\n    compute node will send the InstanceV1 to the Liberty controller.\n    Then all the checks like \"isinstance(instance, objects.Instance)\"\n    on the Liberty controller won't works. Because objects.Instance\n    pointed to objects.InstanceV2 now.\n    \n    This patch corrects all the Instance type check to make sure the\n    upgrade works.\n    \n    Change-Id: Ib431c08dc6934631a71ef55c564fbbf4bde22642\n    Closes-bug: #1500289\n    (cherry picked from commit 093272489ceb13d4df26916c7ed8b66e39f7c1a4)\n\ncommit 51d74bdf18df39695ad5e500db6db830f21da36a\nAuthor: Yingxin Cheng <email address hidden>\nDate:   Wed Sep 9 11:20:19 2015 -0400\n\n    Fix MetricWeigher to use MonitorMetricList\n    \n    The commit I4dfbea27ce6c3eecc1a8658b1f9dc0feb2298705 changes\n    'HostState.metrics' to 'objects.MonitorMetricList'. But MetricWeigher\n    still use the old dictionary of 'host_manager.MetricItem'. This patch\n    corrects the behavior of MetricWeigher with related tests, and delete\n    unused MetricItem.\n    \n    Co-Authored-By: Sylvain Bauza <email address hidden>\n    \n    Closes-Bug: #1493680\n    (cherry picked from commit fd2b868d41a632748939b82ed1b8927adcdfb113)\n    \n    Fix NoneType error when calling MetricsWeigher\n    \n    (this is a squashed commit since commit fd2b868 was buggy)\n    Given that dict comprehensions don't allow to have None as a list, we had\n    a problem with the Ironic gate-ironic-inspector-dsvm job because\n    host_state.metrics was set to None by default.\n    \n    Adding a unittest to make sure we don't regress.\n    \n    Closes-Bug: #1499271\n    (cherry picked from commit ccea5d6b0ace535b375d3e63bd572885cb5dbc91)\n    \n    Change-Id: I9690bc4f6f1dca8f2bf8c5a83f16af6200015506\n", 
            "date_created": "2015-10-23 15:35:37.692616+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 13.0.0.0b1 development milestone.", 
            "date_created": "2015-12-02 16:17:45.798957+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "This issue was fixed in the openstack/cinder 8.0.0.0b1 development milestone.", 
            "date_created": "2015-12-03 15:21:29.390251+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "This issue was fixed in the openstack/manila 2.0.0.0b1 development milestone.", 
            "date_created": "2015-12-03 20:00:13.790657+00:00", 
            "author": "https://api.launchpad.net/1.0/~doug-hellmann"
        }
    ], 
    "closed": "2015-10-13 19:30:05.876679+00:00"
}