{
    "status": "Invalid", 
    "last_updated": "2015-01-19 09:19:38.865947+00:00", 
    "description": "In an upgrade from Folsom to Grizzly, nova-network fails as follows:\n\n    2013-06-03 10:08:01.430 6947 CRITICAL nova [-] Interface eth1 not found.\n    2013-06-03 10:08:01.430 6947 TRACE nova Traceback (most recent call last):\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/bin/nova-network\", line 54, in <module>\n    2013-06-03 10:08:01.430 6947 TRACE nova     service.wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 689, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     _launcher.wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 209, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     super(ServiceLauncher, self).wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 179, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     service.wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 166, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     return self._exit_event.wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/eventlet/event.py\", line 116, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     return hubs.get_hub().switch()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 177, in switch\n    2013-06-03 10:08:01.430 6947 TRACE nova     return self.greenlet.switch()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 192, in main\n    2013-06-03 10:08:01.430 6947 TRACE nova     result = function(*args, **kwargs)\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 147, in run_server\n    2013-06-03 10:08:01.430 6947 TRACE nova     server.start()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 429, in start\n    2013-06-03 10:08:01.430 6947 TRACE nova     self.manager.init_host()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 1681, in init_host\n    2013-06-03 10:08:01.430 6947 TRACE nova     self.init_host_floating_ips()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/floating_ips.py\", line 98, in init_host_floating_ips\n    2013-06-03 10:08:01.430 6947 TRACE nova     raise exception.NoFloatingIpInterface(interface=interface)\n    2013-06-03 10:08:01.430 6947 TRACE nova NoFloatingIpInterface: Interface eth1 not found.\n    2013-06-03 10:08:01.430 6947 TRACE nova \n\nThis is caused because ebtables is not present in the system, therefore the\nprocess that adds the floating ip fails, and the wrong error is shown.\nebtables should be a dependency of nova-network and it is not:\n\n    Package: nova-network                    \n    State: installed\n    Automatically installed: no\n    Version: 1:2013.1-0ubuntu2.1~cloud0\n    Priority: extra\n    Section: net\n    Maintainer: Ubuntu Developers <email address hidden>\n    Architecture: all\n    Uncompressed Size: 1934 k\n    Depends: bridge-utils, dnsmasq-base, dnsmasq-utils, iptables, iputils-arping, netcat, nova-common (=\n             1:2013.1-0ubuntu2.1~cloud0), vlan, upstart-job, python", 
    "tags": [
        "network"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1186907", 
    "owner": "None", 
    "id": 1186907, 
    "index": 882, 
    "openned": "2013-06-03 08:21:47.961581+00:00", 
    "created": "2013-06-03 08:21:47.961581+00:00", 
    "title": "If ebtables is not present nova-network fails with misleading error", 
    "comments": [
        {
            "content": "In an upgrade from Folsom to Grizzly, nova-network fails as follows:\n\n    2013-06-03 10:08:01.430 6947 CRITICAL nova [-] Interface eth1 not found.\n    2013-06-03 10:08:01.430 6947 TRACE nova Traceback (most recent call last):\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/bin/nova-network\", line 54, in <module>\n    2013-06-03 10:08:01.430 6947 TRACE nova     service.wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 689, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     _launcher.wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 209, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     super(ServiceLauncher, self).wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 179, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     service.wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 166, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     return self._exit_event.wait()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/eventlet/event.py\", line 116, in wait\n    2013-06-03 10:08:01.430 6947 TRACE nova     return hubs.get_hub().switch()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 177, in switch\n    2013-06-03 10:08:01.430 6947 TRACE nova     return self.greenlet.switch()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 192, in main\n    2013-06-03 10:08:01.430 6947 TRACE nova     result = function(*args, **kwargs)\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 147, in run_server\n    2013-06-03 10:08:01.430 6947 TRACE nova     server.start()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 429, in start\n    2013-06-03 10:08:01.430 6947 TRACE nova     self.manager.init_host()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/manager.py\", line 1681, in init_host\n    2013-06-03 10:08:01.430 6947 TRACE nova     self.init_host_floating_ips()\n    2013-06-03 10:08:01.430 6947 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/network/floating_ips.py\", line 98, in init_host_floating_ips\n    2013-06-03 10:08:01.430 6947 TRACE nova     raise exception.NoFloatingIpInterface(interface=interface)\n    2013-06-03 10:08:01.430 6947 TRACE nova NoFloatingIpInterface: Interface eth1 not found.\n    2013-06-03 10:08:01.430 6947 TRACE nova \n\nThis is caused because ebtables is not present in the system, therefore the\nprocess that adds the floating ip fails, and the wrong error is shown.\nebtables should be a dependency of nova-network and it is not:\n\n    Package: nova-network                    \n    State: installed\n    Automatically installed: no\n    Version: 1:2013.1-0ubuntu2.1~cloud0\n    Priority: extra\n    Section: net\n    Maintainer: Ubuntu Developers <email address hidden>\n    Architecture: all\n    Uncompressed Size: 1934 k\n    Depends: bridge-utils, dnsmasq-base, dnsmasq-utils, iptables, iputils-arping, netcat, nova-common (=\n             1:2013.1-0ubuntu2.1~cloud0), vlan, upstart-job, python", 
            "date_created": "2013-06-03 08:21:47.961581+00:00", 
            "author": "https://api.launchpad.net/1.0/~aloga"
        }, 
        {
            "content": "really a packaging bug if ebtables isn't there, but still nice to make it more obvious what went wrong", 
            "date_created": "2013-06-12 14:00:46.815276+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "I'm looking through the current code, and I'm not sure this is an issue any more. Closing as invalid, please reopen if it's not.", 
            "date_created": "2014-09-18 23:21:02.415842+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }
    ], 
    "closed": "2014-09-18 23:21:30.509722+00:00"
}