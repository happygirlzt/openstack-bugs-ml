{
    "status": "Invalid", 
    "last_updated": "2015-06-19 12:51:18.946620+00:00", 
    "description": "Relates to findings while fixing https://bugs.launchpad.net/ossa/+bug/1343604\n\nmask_password() needs to be more robust and catch many more common formats of strings that could include passwords.\n\nAn example is that it does not catch something like '--password=top-secret' but does catch '--password=\"top-secret\"'. See below; the logged messages are being generated by using mask_password().\n\n/usr/sbin/mysqld --password=top-secret\n\n2014-07-19 18:35:01.415 20588 ERROR openstack.common.processutils [-] Running cmd (subprocess): /usr/sbin/mysqld --password=secret\n\nThey did catch\n\n/usr/sbin/mysqld --password=\"top-secret\"\n\n2014-07-19 18:35:48.686 20605 ERROR openstack.common.processutils [-] Running cmd (subprocess): /usr/sbin/mysqld --password=\"***\"", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 258, 
    "link": "https://bugs.launchpad.net/nova/+bug/1345233", 
    "owner": "None", 
    "id": 1345233, 
    "index": 6279, 
    "openned": "2015-06-17 18:41:20.280061+00:00", 
    "created": "2014-07-19 23:56:50.927043+00:00", 
    "title": "Make the checks in strutils.mask_password more secure (CVE-2014-7231)", 
    "comments": [
        {
            "content": "Relates to findings while fixing https://bugs.launchpad.net/ossa/+bug/1343604\n\nmask_password() needs to be more robust and catch many more common formats of strings that could include passwords.\n\nAn example is that it does not catch something like '--password=top-secret' but does catch '--password=\"top-secret\"'. See below; the logged messages are being generated by using mask_password().\n\n/usr/sbin/mysqld --password=top-secret\n\n2014-07-19 18:35:01.415 20588 ERROR openstack.common.processutils [-] Running cmd (subprocess): /usr/sbin/mysqld --password=secret\n\nThey did catch\n\n/usr/sbin/mysqld --password=\"top-secret\"\n\n2014-07-19 18:35:48.686 20605 ERROR openstack.common.processutils [-] Running cmd (subprocess): /usr/sbin/mysqld --password=\"***\"", 
            "date_created": "2014-07-19 23:56:50.927043+00:00", 
            "author": "https://api.launchpad.net/1.0/~amrith"
        }, 
        {
            "content": "We are going to take care of the OSSA task within the former report:\nhttps://bugs.launchpad.net/ossa/+bug/1343604\n\nCan we mark this bug as a duplicate of 1343604 ?", 
            "date_created": "2014-07-22 11:30:09.985433+00:00", 
            "author": "https://api.launchpad.net/1.0/~tristan-cacqueray"
        }, 
        {
            "content": "Oh forget about the duplicate idea, this is another issue. We may cover both within a single OSSA though.\n\n@Amrith, while those two bugs where under private review here in LP you may have wait for a disclosure time before pushing fix to gerrit.\n\nNow that the former referenced bug report is public, and as it contains all the details of this strutils.mask_password bug, I think it's better to open this report as well.", 
            "date_created": "2014-07-22 11:46:22.163911+00:00", 
            "author": "https://api.launchpad.net/1.0/~tristan-cacqueray"
        }, 
        {
            "content": "Yes, this bug should be marked public-security rather than private-security, since the vulnerability was already explicitly mentioned publicly in bug 1343604.", 
            "date_created": "2014-07-22 17:43:26.067306+00:00", 
            "author": "https://api.launchpad.net/1.0/~fungi"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/113407", 
            "date_created": "2014-08-12 00:07:46.510201+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Tristan, Doug,\n\nI've pushed a partial fix for this bug. I would like to fix it more thoroughly but in the interest of time, and of getting something into Juno, I've pushed a partial.\n\nThanks,\n\n-amrith", 
            "date_created": "2014-08-12 00:11:52.742414+00:00", 
            "author": "https://api.launchpad.net/1.0/~amrith"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/114614", 
            "date_created": "2014-08-15 17:55:20.973014+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/114614\nCommitted: https://git.openstack.org/cgit/openstack/oslo.utils/commit/?id=e0425691d90bce0bbe847a9ff49468ce0fab5486\nSubmitter: Jenkins\nBranch:    master\n\ncommit e0425691d90bce0bbe847a9ff49468ce0fab5486\nAuthor: Davanum Srinivas <email address hidden>\nDate:   Fri Aug 15 13:53:57 2014 -0400\n\n    Make strutils.mask_password more secure\n    \n    Make some enhancements to strutils.mask_password to allow it to catch\n    more cases of passwords in strings. Test cases have been added to test\n    for these newly added situations.\n    \n    The following is a listing of patterns that will be handled. The\n    keyword that mask_password uses (a list of four now) is represented by\n    <key> and the password is shown as <password>. Quotes (both single and\n    double) are represented as <quote>.\n    \n    --<key> <password>\n    --<key> <quote><password><quote>\n    <key> = <password>\n    <key> = <quote><password><quote>\n    \n    All existing tests and patterns are still handled.\n    \n    Originally submitted in If5ea2d91b1d87c995f50d07a1281879493bd7adb\n    \n    Change-Id: Ifa9a753821484defb5784b136470e3a78ebed3e3\n    Partial-Bug: #1345233\n", 
            "date_created": "2014-08-19 00:45:19.659915+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/115618", 
            "date_created": "2014-08-20 12:24:18.683317+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/113407\nCommitted: https://git.openstack.org/cgit/openstack/oslo-incubator/commit/?id=66142c3471fec8a4903395514f6bf55e3c54344f\nSubmitter: Jenkins\nBranch:    master\n\ncommit 66142c3471fec8a4903395514f6bf55e3c54344f\nAuthor: Amrith Kumar <email address hidden>\nDate:   Mon Aug 11 16:29:31 2014 -0400\n\n    Make strutils.mask_password more secure\n    \n    Make some enhancements to strutils.mask_password to allow it to catch\n    more cases of passwords in strings. Test cases have been added to test\n    for these newly added situations.\n    \n    The following is a listing of patterns that will be handled. The\n    keyword that mask_password uses (a list of four now) is represented by\n    <key> and the password is shown as <password>. Quotes (both single and\n    double) are represented as <quote>.\n    \n    --<key> <password>\n    --<key> <quote><password><quote>\n    <key> = <password>\n    <key> = <quote><password><quote>\n    \n    All existing tests and patterns are still handled.\n    \n    Change-Id: If5ea2d91b1d87c995f50d07a1281879493bd7adb\n    Partial-Bug: #1345233\n", 
            "date_created": "2014-08-20 19:48:51.778599+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by amrith (<email address hidden>) on branch: master\nReview: https://review.openstack.org/115618\nReason: abandoned based on Yuriy's comment.", 
            "date_created": "2014-08-20 19:59:57.050255+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Follow-up on bug 1377981", 
            "date_created": "2014-10-06 14:57:35.910842+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "I've manually marked this as \"Fix Released\" because the change appears to have made it to all the paces where we need it (for now). The changes had been submitted with \"Partial Fix\" and therefore LP didn't do this automatically (I'm guessing).", 
            "date_created": "2014-10-06 18:35:26.196023+00:00", 
            "author": "https://api.launchpad.net/1.0/~amrith"
        }, 
        {
            "content": "The oslo-sync for nova in juno to fix this bug was: https://review.openstack.org/#/c/116981/", 
            "date_created": "2014-12-10 16:48:53.484604+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "The oslo-sync for nova in stable/icehouse to fix this bug was: https://review.openstack.org/#/c/121383/", 
            "date_created": "2014-12-10 16:50:21.474088+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "The backport / sync for nova in stable/havana to fix this bug was: https://review.openstack.org/#/c/121096/", 
            "date_created": "2014-12-10 16:51:25.881085+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ], 
    "closed": "2015-06-17 18:41:30.359583+00:00"
}