{
    "status": "Invalid", 
    "last_updated": "2011-08-19 09:34:50.515353+00:00", 
    "description": "using euca2ools 1.2 & boto 1.9b:\n\neuca-authorize -P tcp -p 22 -o default default\nGROUP   default\nPERMISSION      default ALLOWS  GRPNAME default\n\n2011-08-15 20:44:15,509 AUDIT nova.api [dc8368c1-4b1c-491f-bd4e-dbd197267243 admin admin] Authenticated Request For admin:admin)\n2011-08-15 20:44:15,509 DEBUG nova.api [-] action: AuthorizeSecurityGroupIngress from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:217\n2011-08-15 20:44:15,509 DEBUG nova.api [-] arg: GroupName               val: default from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:44:15,509 DEBUG nova.api [-] arg: SourceSecurityGroupName         val: default from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:44:15,543 AUDIT nova.api.cloud [dc8368c1-4b1c-491f-bd4e-dbd197267243 admin admin] Authorize security group ingress default\n\nUsing euca2ools 1.3 & boto 1.9b:\n\neuca-authorize -P tcp -p 22 -o default default\ndefault default None tcp 22 22 None\nGROUP\tdefault\nPERMISSION\tdefault\tALLOWS\ttcp\t22\t22\tGRPNAME\tdefault\n\n2011-08-15 20:55:46,005 AUDIT nova.api [ea02e233-a58d-43a5-bdae-212e83ba4d76 admin admin] Authenticated Request For admin:admin)\n2011-08-15 20:55:46,005 DEBUG nova.api [-] action: AuthorizeSecurityGroupIngress from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:217\n2011-08-15 20:55:46,005 DEBUG nova.api [-] arg: GroupName               val: default from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:55:46,005 DEBUG nova.api [-] arg: ToPort          val: 22 from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:55:46,006 DEBUG nova.api [-] arg: FromPort                val: 22 from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:55:46,006 DEBUG nova.api [-] arg: SourceSecurityGroupName         val: default from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:55:46,006 DEBUG nova.api [-] arg: IpProtocol              val: tcp from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n\nEuca2ools 1.2 doesn't pass in other data when source group is specified.  Not sure if this is because this is how ec2 actually used to work or if it is just a bug.\n\nFor now we should probably put Euca2ools 1.3 into the ppa so people don't run into it.  We should also either:\n\na) return an error message if no other information is provided other than source group\nor\nb) make no other information create an allow all from gorup rule\n\nAnyone know how aws works in this regard?", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/826966", 
    "owner": "None", 
    "id": 826966, 
    "index": 3511, 
    "openned": "2011-08-15 21:03:40.834629+00:00", 
    "created": "2011-08-15 21:03:40.834629+00:00", 
    "title": "authorize source security group fails with euca2ools 1.2", 
    "comments": [
        {
            "content": "using euca2ools 1.2 & boto 1.9b:\n\neuca-authorize -P tcp -p 22 -o default default\nGROUP   default\nPERMISSION      default ALLOWS  GRPNAME default\n\n2011-08-15 20:44:15,509 AUDIT nova.api [dc8368c1-4b1c-491f-bd4e-dbd197267243 admin admin] Authenticated Request For admin:admin)\n2011-08-15 20:44:15,509 DEBUG nova.api [-] action: AuthorizeSecurityGroupIngress from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:217\n2011-08-15 20:44:15,509 DEBUG nova.api [-] arg: GroupName               val: default from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:44:15,509 DEBUG nova.api [-] arg: SourceSecurityGroupName         val: default from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:44:15,543 AUDIT nova.api.cloud [dc8368c1-4b1c-491f-bd4e-dbd197267243 admin admin] Authorize security group ingress default\n\nUsing euca2ools 1.3 & boto 1.9b:\n\neuca-authorize -P tcp -p 22 -o default default\ndefault default None tcp 22 22 None\nGROUP\tdefault\nPERMISSION\tdefault\tALLOWS\ttcp\t22\t22\tGRPNAME\tdefault\n\n2011-08-15 20:55:46,005 AUDIT nova.api [ea02e233-a58d-43a5-bdae-212e83ba4d76 admin admin] Authenticated Request For admin:admin)\n2011-08-15 20:55:46,005 DEBUG nova.api [-] action: AuthorizeSecurityGroupIngress from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:217\n2011-08-15 20:55:46,005 DEBUG nova.api [-] arg: GroupName               val: default from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:55:46,005 DEBUG nova.api [-] arg: ToPort          val: 22 from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:55:46,006 DEBUG nova.api [-] arg: FromPort                val: 22 from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:55:46,006 DEBUG nova.api [-] arg: SourceSecurityGroupName         val: default from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n2011-08-15 20:55:46,006 DEBUG nova.api [-] arg: IpProtocol              val: tcp from (pid=14412) __call__ /tmp/remove-openwrt/nova/api/ec2/__init__.py:219\n\nEuca2ools 1.2 doesn't pass in other data when source group is specified.  Not sure if this is because this is how ec2 actually used to work or if it is just a bug.\n\nFor now we should probably put Euca2ools 1.3 into the ppa so people don't run into it.  We should also either:\n\na) return an error message if no other information is provided other than source group\nor\nb) make no other information create an allow all from gorup rule\n\nAnyone know how aws works in this regard?", 
            "date_created": "2011-08-15 21:03:40.834629+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "\neuca-authorize in euca2ools 1.2 has these offending lines in it that cause this problem\n--------------------------------------------------\n    if source_group_name:\n\tfrom_port = None\n\tto_port = None\n\tprotocol = None\n--------------------------------------------------\n", 
            "date_created": "2011-08-15 22:51:10.764469+00:00", 
            "author": "https://api.launchpad.net/1.0/~jc-cloudscaling"
        }, 
        {
            "content": "Looks like a missing feature in euca2ools 1.2 (that was fixed in 1.3)... Closing as Invalid for nova, please reopen if you disagree.", 
            "date_created": "2011-08-19 09:34:48.727978+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }
    ], 
    "closed": "2011-08-19 09:34:49.878743+00:00"
}