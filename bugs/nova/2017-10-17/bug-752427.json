{
    "status": "Invalid", 
    "last_updated": "2011-04-06 12:38:01.033785+00:00", 
    "description": "trying to run nova, this is what I get inside network.log:\n\n2011-04-06 13:39:41,278 DEBUG nova.utils [-] Running cmd (subprocess): sudo iptables-save -t filter from (pid=23901) execute /opt/nova/nova/utils.py:150\n2011-04-06 13:39:41,300 CRITICAL nova [-] f(ile) should be int, str, unicode or file, not <open GreenPipe '<fd:5>', mode 'wb' at 0x335b560>\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"./bin/nova-network\", line 48, in <module>\n(nova): TRACE:     service.serve()\n(nova): TRACE:   File \"/opt/nova/nova/service.py\", line 290, in serve\n(nova): TRACE:     x.start()\n(nova): TRACE:   File \"/opt/nova/nova/service.py\", line 84, in start\n(nova): TRACE:     self.manager.init_host()\n(nova): TRACE:   File \"/opt/nova/nova/network/manager.py\", line 498, in init_host\n(nova): TRACE:     super(VlanManager, self).init_host()\n(nova): TRACE:   File \"/opt/nova/nova/network/manager.py\", line 128, in init_host\n(nova): TRACE:     self.driver.init_host()\n(nova): TRACE:   File \"/opt/nova/nova/network/linux_net.py\", line 378, in init_host\n(nova): TRACE:     iptables_manager.apply()\n(nova): TRACE:   File \"/opt/nova/nova/utils.py\", line 607, in inner\n(nova): TRACE:     retval = f(*args, **kwargs)\n(nova): TRACE:   File \"/opt/nova/nova/network/linux_net.py\", line 286, in apply\n(nova): TRACE:     attempts=5)\n(nova): TRACE:   File \"/opt/nova/nova/network/linux_net.py\", line 657, in _execute\n(nova): TRACE:     return utils.execute(*cmd, **kwargs)\n(nova): TRACE:   File \"/opt/nova/nova/utils.py\", line 158, in execute\n(nova): TRACE:     env=env)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/eventlet/green/subprocess.py\", line 31, in __init__\n(nova): TRACE:     wrapped_pipe = greenio.GreenPipe(pipe, pipe.mode, bufsize)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/eventlet/greenio.py\", line 376, in __init__\n(nova): TRACE:     raise TypeError('f(ile) should be int, str, unicode or file, not %r' % f)\n(nova): TRACE: TypeError: f(ile) should be int, str, unicode or file, not <open GreenPipe '<fd:5>', mode 'wb' at 0x335b560>\n(nova): TRACE:", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/752427", 
    "owner": "None", 
    "id": 752427, 
    "index": 3365, 
    "openned": "2011-04-06 11:47:07.880521+00:00", 
    "created": "2011-04-06 11:47:07.880521+00:00", 
    "title": "network from latest trunk fails to start up", 
    "comments": [
        {
            "content": "trying to run nova, this is what I get inside network.log:\n\n2011-04-06 13:39:41,278 DEBUG nova.utils [-] Running cmd (subprocess): sudo iptables-save -t filter from (pid=23901) execute /opt/nova/nova/utils.py:150\n2011-04-06 13:39:41,300 CRITICAL nova [-] f(ile) should be int, str, unicode or file, not <open GreenPipe '<fd:5>', mode 'wb' at 0x335b560>\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"./bin/nova-network\", line 48, in <module>\n(nova): TRACE:     service.serve()\n(nova): TRACE:   File \"/opt/nova/nova/service.py\", line 290, in serve\n(nova): TRACE:     x.start()\n(nova): TRACE:   File \"/opt/nova/nova/service.py\", line 84, in start\n(nova): TRACE:     self.manager.init_host()\n(nova): TRACE:   File \"/opt/nova/nova/network/manager.py\", line 498, in init_host\n(nova): TRACE:     super(VlanManager, self).init_host()\n(nova): TRACE:   File \"/opt/nova/nova/network/manager.py\", line 128, in init_host\n(nova): TRACE:     self.driver.init_host()\n(nova): TRACE:   File \"/opt/nova/nova/network/linux_net.py\", line 378, in init_host\n(nova): TRACE:     iptables_manager.apply()\n(nova): TRACE:   File \"/opt/nova/nova/utils.py\", line 607, in inner\n(nova): TRACE:     retval = f(*args, **kwargs)\n(nova): TRACE:   File \"/opt/nova/nova/network/linux_net.py\", line 286, in apply\n(nova): TRACE:     attempts=5)\n(nova): TRACE:   File \"/opt/nova/nova/network/linux_net.py\", line 657, in _execute\n(nova): TRACE:     return utils.execute(*cmd, **kwargs)\n(nova): TRACE:   File \"/opt/nova/nova/utils.py\", line 158, in execute\n(nova): TRACE:     env=env)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/eventlet/green/subprocess.py\", line 31, in __init__\n(nova): TRACE:     wrapped_pipe = greenio.GreenPipe(pipe, pipe.mode, bufsize)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/eventlet/greenio.py\", line 376, in __init__\n(nova): TRACE:     raise TypeError('f(ile) should be int, str, unicode or file, not %r' % f)\n(nova): TRACE: TypeError: f(ile) should be int, str, unicode or file, not <open GreenPipe '<fd:5>', mode 'wb' at 0x335b560>\n(nova): TRACE:", 
            "date_created": "2011-04-06 11:47:07.880521+00:00", 
            "author": "https://api.launchpad.net/1.0/~zoltan"
        }, 
        {
            "content": "ok, nova-volume dies the same way:\n\n2011-04-06 13:39:41,191 AUDIT nova [-] Starting volume node (version 2011.2-LOCALBRANCH:LOCALREVISION)\n2011-04-06 13:39:41,191 DEBUG nova.utils [-] Running cmd (subprocess): sudo vgs --noheadings -o name from (pid=23907) execute /opt/nova/nova/utils.py:150\n2011-04-06 13:39:41,221 CRITICAL nova [-] f(ile) should be int, str, unicode or file, not <open GreenPipe '<fd:5>', mode 'wb' at 0x1921200>\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"./bin/nova-volume\", line 48, in <module>\n(nova): TRACE:     service.serve()\n(nova): TRACE:   File \"/opt/nova/nova/service.py\", line 290, in serve\n(nova): TRACE:     x.start()\n(nova): TRACE:   File \"/opt/nova/nova/service.py\", line 84, in start\n(nova): TRACE:     self.manager.init_host()\n(nova): TRACE:   File \"/opt/nova/nova/volume/manager.py\", line 83, in init_host\n(nova): TRACE:     self.driver.check_for_setup_error()\n(nova): TRACE:   File \"/opt/nova/nova/volume/driver.py\", line 87, in check_for_setup_error\n(nova): TRACE:     out, err = self._execute('sudo', 'vgs', '--noheadings', '-o', 'name')\n(nova): TRACE:   File \"/opt/nova/nova/utils.py\", line 158, in execute\n(nova): TRACE:     env=env)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/eventlet/green/subprocess.py\", line 31, in __init__\n(nova): TRACE:     wrapped_pipe = greenio.GreenPipe(pipe, pipe.mode, bufsize)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/eventlet/greenio.py\", line 376, in __init__\n(nova): TRACE:     raise TypeError('f(ile) should be int, str, unicode or file, not %r' % f)\n(nova): TRACE: TypeError: f(ile) should be int, str, unicode or file, not <open GreenPipe '<fd:5>', mode 'wb' at 0x1921200>\n(nova): TRACE: ", 
            "date_created": "2011-04-06 11:49:23.894324+00:00", 
            "author": "https://api.launchpad.net/1.0/~zoltan"
        }, 
        {
            "content": "<ttx> nagyz: about bug 752427, what eventlet version are you using ?\r\n<nagyz> 0.9.12-0ubuntu2\r\n<nagyz> just checked, and I\r\n<nagyz> and I'm running maverick in this VM\r\n<nagyz> I'll try to patch it.\r\n<ttx> You should be running 0.9.14-0ubuntu2~maverick1 \r\n<ttx> from the PPA.\r\n<ttx> Looks like you're missing a bunch of deps from the PPA\r\n", 
            "date_created": "2011-04-06 11:57:28.971478+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "https://answers.launchpad.net/nova/+faq/1485", 
            "date_created": "2011-04-06 12:37:59.703263+00:00", 
            "author": "https://api.launchpad.net/1.0/~soren"
        }
    ], 
    "closed": "2011-04-06 11:57:29.809392+00:00"
}