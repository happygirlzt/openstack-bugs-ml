{
    "status": "Invalid", 
    "last_updated": "2017-04-07 11:59:03.518136+00:00", 
    "description": "Error trying to create an instance.\n\nopenstack server create --flavor m1.tiny --image CirrOS_0.3.5_x64_test  --nic net-id=716d6ba4-cbc0-4cc6-a86a-19d28306dda2 --security-group test_sg  --key-name CirrOS_test provider-instance \n\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'sqlalchemy.exc.ProgrammingError'> (HTTP 500) (Request-ID: req-9961d146-62bb-4ea0-9df2-8fd92d802b39)\n\nInitially I was trying to create instances using Horizon, the result was the message \"Error: Unable to create the server\".\n\nUsing Mirantis OpenStack Mitaka 9.1 under VMWare with QEmu, LVM and Neutron. nova-api.log is not showing anything about this error or present day (March 23) operations, which I find odd.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1675354", 
    "owner": "None", 
    "id": 1675354, 
    "index": 8016, 
    "openned": "2017-03-23 10:52:19.842583+00:00", 
    "created": "2017-03-23 10:52:19.842583+00:00", 
    "title": "Can't create instance", 
    "comments": [
        {
            "content": "Error trying to create an instance.\n\nopenstack server create --flavor m1.tiny --image CirrOS_0.3.5_x64_test  --nic net-id=716d6ba4-cbc0-4cc6-a86a-19d28306dda2 --security-group test_sg  --key-name CirrOS_test provider-instance \n\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'sqlalchemy.exc.ProgrammingError'> (HTTP 500) (Request-ID: req-9961d146-62bb-4ea0-9df2-8fd92d802b39)\n\nInitially I was trying to create instances using Horizon, the result was the message \"Error: Unable to create the server\".\n\nUsing Mirantis OpenStack Mitaka 9.1 under VMWare with QEmu, LVM and Neutron. nova-api.log is not showing anything about this error or present day (March 23) operations, which I find odd.", 
            "date_created": "2017-03-23 10:52:19.842583+00:00", 
            "author": "https://api.launchpad.net/1.0/~chewrafa"
        }, 
        {
            "content": "", 
            "date_created": "2017-03-23 10:52:19.842583+00:00", 
            "author": "https://api.launchpad.net/1.0/~chewrafa"
        }, 
        {
            "content": "2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 629, in create\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     **create_kwargs)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 154, in inner\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1564, in create\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1177, in _create_instance\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     instance_group, check_server_group_quota, filter_properties)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1035, in _provision_instances\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     quotas.rollback()\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 220, in __exit__\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     self.force_reraise()\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_utils/excutils.py\", line 196, in force_reraise\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     six.reraise(self.type_, self.value, self.tb)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 977, in _provision_instances\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     req_spec.create()\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 223, in wrapper\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     return fn(self, *args, **kwargs)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/objects/request_spec.py\", line 432, in create\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     db_spec = self._create_in_db(self._context, updates)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_db/sqlalchemy/enginefacade.py\", line 709, in wrapper\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     return fn(*args, **kwargs)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/objects/request_spec.py\", line 403, in _create_in_db\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     db_spec.save(context.session)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_db/sqlalchemy/models.py\", line 48, in save\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     session.flush()\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2019, in flush\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     self._flush(objects)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2137, in _flush\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     transaction.rollback(_capture_exception=True)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/util/langhelpers.py\", line 60, in __exit__\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     compat.reraise(exc_type, exc_value, exc_tb)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/session.py\", line 2101, in _flush\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     flush_context.execute()\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 373, in execute\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     rec.execute(self)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/unitofwork.py\", line 532, in execute\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     uow\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 174, in save_obj\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     mapper, table, insert)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/persistence.py\", line 800, in _emit_insert_statements\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     execute(statement, params)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     return meth(self, multiparams, params)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     return connection._execute_clauseelement(self, multiparams, params)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     compiled_sql, distilled_params\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     context)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1337, in _handle_dbapi_exception\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     util.raise_from_cause(newraise, exc_info)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 200, in raise_from_cause\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     reraise(type(exception), exception, tb=exc_tb, cause=cause)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     context)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     cursor.execute(statement, parameters)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py\", line 219, in execute\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     self.errorhandler(self, exc, value)\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/MySQLdb/connections.py\", line 38, in defaulterrorhandler\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions     raise errorvalue\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions ProgrammingError: (_mysql_exceptions.ProgrammingError) (1146, \"Table 'nova_api.request_specs' doesn't exist\") [SQL: u'INSERT INTO request_specs (created_at, updated_at, instance_uuid, spec) VALUES (%s, %s, %s, %s)'] [parameters: (datetime.datetime(2017, 3, 22, 18, 43, 42, 962557), None, '67443fcf-a2c4-4d28-a816-3676724425d2', '{\"nova_object.version\": \"1.5\", \"nova_object.changes\": [\"instance_uuid\", \"retry\", \"num_instances\", \"pci_requests\", \"limits\", \"availability_zone\", \"force_nodes\", \"image\", \"instance_group\", \"force_hosts\", \"numa_topology\", \"flavor\", \"project_id\", \"scheduler_hints\", \"ignore_hosts\"], \"nova_object.name\": \"RequestSpec\", \"nova_object.data\": {\"instance_uuid\": \"67443fcf-a2c4-4d28-a816-3676724425d2\", \"retry\": null, \"num_instances\": 1, \"pci_requests\": {\"nova_object.version\": \"1.1\", \"nova_object.changes\": [\"requests\"], \"nova_object.name\": \"InstancePCIRequests\", \"nova_object.data\": {\"requests\": []}, \"nova_object.namespace\": \"nova\"}, \"limits\": {\"nova_object.version\": \"1.0\", \"nova_object.changes\": [\"vcpu\", \"memory_mb\", \"numa_topology\", \"disk_gb\"], \"nova_object.name\": \"SchedulerLimits\", \"nova_object.data\": {\"vcpu\": null, \"memory_mb\": null, \"disk_gb\": null, \"numa_topology\": null}, \"nova_object.namespace\": \"nova\"}, \"availability_zone\": null, \"force_nodes\": null, \"image\": {\"nova_object.version\": \"1.8\", \"nova_object.changes\": [\"status\", \"name\", \"container_format\", \"created_at\", \"disk_format\", \"updated_at\", \"id\", \"owner\", \"min_ram\", \"checksum\", \"min_disk\", \"properties\", \"size\"], \"nova_object.name\": \"ImageMeta\", \"nova_object.data\": {\"status\": \"active\", \"created_at\": \"2017-03-22T08:41:16Z\", \"name\": \"CirrOS_0.3.5_x64_test\", \"container_format\": \"bare\", \"min_ram\": 256, \"disk_format\": \"qcow2\", \"updated_at\": \"2017-03-22T08:41:21Z\", \"id\": \"34d187a1-bbda-4b4b-9fb6-ff511c4650a2\", \"min_disk\": 1, \"checksum\": \"f8ab98ff5e73ebab884d80c9dc9c7290\", \"owner\": \"94f2d19921bc47aabc1ba87739141b5a\", \"properties\": {\"nova_object.version\": \"1.12\", \"nova_object.changes\": [\"hw_architecture\"], \"nova_object.name\": \"ImageMetaProps\", \"nova_object.data\": {\"hw_architecture\": \"x86_64\"}, \"nova_object.namespace\": \"nova\"}, \"size\": 13267968}, \"nova_object.namespace\": \"nova\"}, \"instance_group\": null, \"force_hosts\": null, \"numa_topology\": null, \"ignore_hosts\": null, \"flavor\": {\"nova_object.version\": \"1.1\", \"nova_object.name\": \"Flavor\", \"nova_object.data\": {\"disabled\": false, \"root_gb\": 1, \"name\": \"m1.tiny\", \"flavorid\": \"1\", \"deleted\": false, \"created_at\": null, \"ephemeral_gb\": 0, \"updated_at\": null, \"memory_mb\": 512, \"vcpus\": 1, \"extra_specs\": {}, \"swap\": 0, \"rxtx_factor\": 1.0, \"is_public\": true, \"deleted_at\": null, \"vcpu_weight\": 0, \"id\": 3}, \"nova_object.namespace\": \"nova\"}, \"project_id\": \"94f2d19921bc47aabc1ba87739141b5a\", \"scheduler_hints\": {}}, \"nova_object.namespace\": \"nova\"}')]\n2017-03-22 18:43:42.971 119665 ERROR nova.api.openstack.extensions \n2017-03-22 18:43:42.977 119665 INFO nova.api.openstack.wsgi [req-6e723217-d1d3-4420-b9a0-88f57e65a848 e87e964b873f4f77af292732f220dbca 94f2d19921bc47aabc1ba87739141b5a - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'sqlalchemy.exc.ProgrammingError'>\n\n\nlooks like this log in nova-api.log shows SQL connection has some issue , maybe your env need to be checked", 
            "date_created": "2017-03-24 06:47:49.013747+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }, 
        {
            "content": "Solved. Error was caused by an incorrect deployment.", 
            "date_created": "2017-04-07 11:24:28.941447+00:00", 
            "author": "https://api.launchpad.net/1.0/~chewrafa"
        }, 
        {
            "content": "per above", 
            "date_created": "2017-04-07 11:59:02.928602+00:00", 
            "author": "https://api.launchpad.net/1.0/~jichenjc"
        }
    ], 
    "closed": "2017-04-07 11:58:51.864828+00:00"
}