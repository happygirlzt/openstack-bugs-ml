{
    "status": "Fix Released", 
    "last_updated": "2011-09-19 22:07:25.017111+00:00", 
    "description": "Attaching a volume that has status 'creating' throws an exception that isn't handled yet. \nIt's reproducible in the current bazaar branch.\n\n\n\n\nNovaServerError at /project/myproject/volumes/attach\nBad Request\nRequest Method:\tPOST\nRequest URL:\thttp://10.0.2.116:8000/project/myproject/volumes/attach\nDjango Version:\t1.2.3\nException Type:\tNovaServerError\nException Value:\t\nBad Request\nException Location:\t/root/src/django-nova/trunk/src/django_nova/exceptions.py in decorator, line 80\nPython Executable:\t/root/src/openstack-dashboard/trunk/.dashboard-venv/bin/python\nPython Version:\t2.6.6\nPython Path:\t['/root/src/openstack-dashboard/trunk/dashboard', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/setuptools-0.6c11-py2.6.egg', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/pip-0.8.1-py2.6.egg', '/root/src/django-nova/trunk/src', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/mox-0.5.3-py2.6.egg', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/plat-linux2', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/lib-tk', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/lib-old', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/lib-dynload', '/usr/lib/python2.6', '/usr/lib/python2.6/plat-linux2', '/usr/lib/python2.6/lib-tk', '/usr/lib64/python2.6/lib-tk', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages', '/root/src/openstack-dashboard/trunk', '/root/src/openstack-dashboard/trunk/dashboard', '/root/src/openstack-dashboard/trunk/dashboard']\nServer time:\tFri, 4 Feb 2011 02:22:19 -0800\n\n\n\n\n\n\n\nEnvironment:\n\nRequest Method: POST\nRequest URL: http://10.0.2.116:8000/project/myproject/volumes/attach\nDjango Version: 1.2.3\nPython Version: 2.6.6\nInstalled Applications:\n['dashboard',\n 'django.contrib.auth',\n 'django.contrib.admin',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.comments',\n 'django.contrib.sites',\n 'django.contrib.markup',\n 'django.contrib.syndication',\n 'django_nose',\n 'django_nova',\n 'registration']\nInstalled Middleware:\n('django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.middleware.doc.XViewMiddleware')\n\n\nTraceback:\nFile \"/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/django/core/handlers/base.py\" in get_response\n  100.                     response = callback(request, *callback_args, **callback_kwargs)\nFile \"/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/django/contrib/auth/decorators.py\" in _wrapped_view\n  25.                 return view_func(request, *args, **kwargs)\nFile \"/root/src/django-nova/trunk/src/django_nova/exceptions.py\" in decorator\n  90.             return func(*args, **kwargs)\nFile \"/root/src/django-nova/trunk/src/django_nova/views/volumes.py\" in attach\n  112.                     form.cleaned_data['device']\nFile \"/root/src/django-nova/trunk/src/django_nova/exceptions.py\" in decorator\n  80.             raise NovaServerError(e)\n\nException Type: NovaServerError at /project/myproject/volumes/attach\nException Value: Bad Request", 
    "tags": [], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/712982", 
    "owner": "https://api.launchpad.net/1.0/~sleepsonthefloor", 
    "id": 712982, 
    "index": 348, 
    "openned": "2011-02-15 17:49:46.900072+00:00", 
    "created": "2011-02-04 10:22:45.055763+00:00", 
    "title": "attach volume while status is 'creating'", 
    "comments": [
        {
            "content": "Attaching a volume that has status 'creating' throws an exception that isn't handled yet. \nIt's reproducible in the current bazaar branch.\n\n\n\n\nNovaServerError at /project/myproject/volumes/attach\nBad Request\nRequest Method:\tPOST\nRequest URL:\thttp://10.0.2.116:8000/project/myproject/volumes/attach\nDjango Version:\t1.2.3\nException Type:\tNovaServerError\nException Value:\t\nBad Request\nException Location:\t/root/src/django-nova/trunk/src/django_nova/exceptions.py in decorator, line 80\nPython Executable:\t/root/src/openstack-dashboard/trunk/.dashboard-venv/bin/python\nPython Version:\t2.6.6\nPython Path:\t['/root/src/openstack-dashboard/trunk/dashboard', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/setuptools-0.6c11-py2.6.egg', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/pip-0.8.1-py2.6.egg', '/root/src/django-nova/trunk/src', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/mox-0.5.3-py2.6.egg', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/plat-linux2', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/lib-tk', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/lib-old', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/lib-dynload', '/usr/lib/python2.6', '/usr/lib/python2.6/plat-linux2', '/usr/lib/python2.6/lib-tk', '/usr/lib64/python2.6/lib-tk', '/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages', '/root/src/openstack-dashboard/trunk', '/root/src/openstack-dashboard/trunk/dashboard', '/root/src/openstack-dashboard/trunk/dashboard']\nServer time:\tFri, 4 Feb 2011 02:22:19 -0800\n\n\n\n\n\n\n\nEnvironment:\n\nRequest Method: POST\nRequest URL: http://10.0.2.116:8000/project/myproject/volumes/attach\nDjango Version: 1.2.3\nPython Version: 2.6.6\nInstalled Applications:\n['dashboard',\n 'django.contrib.auth',\n 'django.contrib.admin',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.comments',\n 'django.contrib.sites',\n 'django.contrib.markup',\n 'django.contrib.syndication',\n 'django_nose',\n 'django_nova',\n 'registration']\nInstalled Middleware:\n('django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.middleware.doc.XViewMiddleware')\n\n\nTraceback:\nFile \"/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/django/core/handlers/base.py\" in get_response\n  100.                     response = callback(request, *callback_args, **callback_kwargs)\nFile \"/root/src/openstack-dashboard/trunk/.dashboard-venv/lib/python2.6/site-packages/django/contrib/auth/decorators.py\" in _wrapped_view\n  25.                 return view_func(request, *args, **kwargs)\nFile \"/root/src/django-nova/trunk/src/django_nova/exceptions.py\" in decorator\n  90.             return func(*args, **kwargs)\nFile \"/root/src/django-nova/trunk/src/django_nova/views/volumes.py\" in attach\n  112.                     form.cleaned_data['device']\nFile \"/root/src/django-nova/trunk/src/django_nova/exceptions.py\" in decorator\n  80.             raise NovaServerError(e)\n\nException Type: NovaServerError at /project/myproject/volumes/attach\nException Value: Bad Request", 
            "date_created": "2011-02-04 10:22:45.055763+00:00", 
            "author": "https://api.launchpad.net/1.0/~penumbra"
        }, 
        {
            "content": "Related to https://bugs.launchpad.net/nova/+bug/716847, though a bit different.  In this case the volume is showing as \"available\" too soon within nova.", 
            "date_created": "2011-02-15 18:02:53.270219+00:00", 
            "author": "https://api.launchpad.net/1.0/~devcamcar"
        }, 
        {
            "content": "Tony, is this issue fixed as well with https://bugs.launchpad.net/openstack-dashboard/+bug/712979?", 
            "date_created": "2011-02-25 18:52:57.176428+00:00", 
            "author": "https://api.launchpad.net/1.0/~devcamcar"
        }, 
        {
            "content": "This error is slightly different from the original code for handling the deletion of volumes stuck in the 'creating' state (the fix for that was to provide a nova-manage command to deal with that situation)\n\nHere, the api is responding with an error code that is not recognized by dashboard.  I've added a fix, which allows this and other similar exceptions to be handled gracefully.", 
            "date_created": "2011-03-17 21:38:10.678148+00:00", 
            "author": "https://api.launchpad.net/1.0/~sleepsonthefloor"
        }
    ], 
    "closed": "2011-04-15 08:33:19.639047+00:00"
}