{
    "status": "Opinion", 
    "last_updated": "2017-06-14 19:48:34.225693+00:00", 
    "description": "http://logs.openstack.org/65/41265/40/check/check-grenade-dsvm-partial-ncpu/5db5bcf/logs/old/screen-n-cpu.txt.gz?level=AUDIT\n\n\nhttp://logs.openstack.org/65/41265/40/check/check-grenade-dsvm-partial-ncpu/5db5bcf/\n\nhttp://logs.openstack.org/65/41265/40/check/check-grenade-dsvm-partial-ncpu/5db5bcf/logs/testr_results.html.gz\n\n2014-03-03 18:35:59.215 6130 TRACE nova.servicegroup.drivers.db     exc.info, real_topic, msg.get('method'))\n2014-03-03 18:35:59.215 6130 TRACE nova.servicegroup.drivers.db Timeout: Timeout while waiting on RPC response - topic: \"conductor\", RPC method: \"service_update\" info: \"<unknown>\"\n2014-03-03 18:35:59.215 6130 TRACE nova.servicegroup.drivers.db \n2014-03-03 18:35:59.216 6130 WARNING nova.openstack.common.loopingcall [-] task run outlasted interval by 50.01159 sec\n2014-03-03 18:36:38.563 6130 ERROR nova.openstack.common.periodic_task [-] Error during ComputeManager.update_available_resource: Timeout while waiting on RPC response - topic: \"conductor\", RPC method: \"object_class_action\" info: \"<unknown>\"\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task Traceback (most recent call last):\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/openstack/common/periodic_task.py\", line 180, in run_periodic_tasks\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     task(self, context)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 4881, in update_available_resource\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     rt.update_available_resource(context)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/openstack/common/lockutils.py\", line 246, in inner\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     return f(*args, **kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/compute/resource_tracker.py\", line 296, in update_available_resource\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     context, self.host, self.nodename)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/objects/base.py\", line 106, in wrapper\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     args, kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/conductor/rpcapi.py\", line 492, in object_class_action\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     objver=objver, args=args, kwargs=kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/rpcclient.py\", line 85, in call\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     return self._invoke(self.proxy.call, ctxt, method, **kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/rpcclient.py\", line 63, in _invoke\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     return cast_or_call(ctxt, msg, **self.kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/openstack/common/rpc/proxy.py\", line 130, in call\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     exc.info, real_topic, msg.get('method'))\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task Timeout: Timeout while waiting on RPC response - topic: \"conductor\", RPC method: \"object_class_action\" info: \"<unknown>\"\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task", 
    "tags": [
        "icehouse-backport-potential", 
        "testing"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1287354", 
    "owner": "None", 
    "id": 1287354, 
    "index": 5879, 
    "openned": "2014-03-03 20:40:04.012531+00:00", 
    "created": "2014-03-03 20:40:04.012531+00:00", 
    "title": "check-grenade-dsvm-partial-ncpu breaks on libguestfs", 
    "comments": [
        {
            "content": "http://logs.openstack.org/65/41265/40/check/check-grenade-dsvm-partial-ncpu/5db5bcf/logs/old/screen-n-cpu.txt.gz?level=AUDIT\n\n\nhttp://logs.openstack.org/65/41265/40/check/check-grenade-dsvm-partial-ncpu/5db5bcf/\n\nhttp://logs.openstack.org/65/41265/40/check/check-grenade-dsvm-partial-ncpu/5db5bcf/logs/testr_results.html.gz\n\n2014-03-03 18:35:59.215 6130 TRACE nova.servicegroup.drivers.db     exc.info, real_topic, msg.get('method'))\n2014-03-03 18:35:59.215 6130 TRACE nova.servicegroup.drivers.db Timeout: Timeout while waiting on RPC response - topic: \"conductor\", RPC method: \"service_update\" info: \"<unknown>\"\n2014-03-03 18:35:59.215 6130 TRACE nova.servicegroup.drivers.db \n2014-03-03 18:35:59.216 6130 WARNING nova.openstack.common.loopingcall [-] task run outlasted interval by 50.01159 sec\n2014-03-03 18:36:38.563 6130 ERROR nova.openstack.common.periodic_task [-] Error during ComputeManager.update_available_resource: Timeout while waiting on RPC response - topic: \"conductor\", RPC method: \"object_class_action\" info: \"<unknown>\"\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task Traceback (most recent call last):\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/openstack/common/periodic_task.py\", line 180, in run_periodic_tasks\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     task(self, context)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 4881, in update_available_resource\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     rt.update_available_resource(context)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/openstack/common/lockutils.py\", line 246, in inner\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     return f(*args, **kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/compute/resource_tracker.py\", line 296, in update_available_resource\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     context, self.host, self.nodename)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/objects/base.py\", line 106, in wrapper\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     args, kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/conductor/rpcapi.py\", line 492, in object_class_action\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     objver=objver, args=args, kwargs=kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/rpcclient.py\", line 85, in call\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     return self._invoke(self.proxy.call, ctxt, method, **kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/rpcclient.py\", line 63, in _invoke\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     return cast_or_call(ctxt, msg, **self.kwargs)\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/old/nova/nova/openstack/common/rpc/proxy.py\", line 130, in call\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task     exc.info, real_topic, msg.get('method'))\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task Timeout: Timeout while waiting on RPC response - topic: \"conductor\", RPC method: \"object_class_action\" info: \"<unknown>\"\n2014-03-03 18:36:38.563 6130 TRACE nova.openstack.common.periodic_task", 
            "date_created": "2014-03-03 20:40:04.012531+00:00", 
            "author": "https://api.launchpad.net/1.0/~jogo"
        }, 
        {
            "content": "It turns out the waiting for waiting for conductor is when the conductor is being upgraded.\n\n\nThe real bug was  file injection was enabled by default in havana. It would silently error out when libguestfs isn't installed (as its not in in havana). but when we upgrade libguestfs get installed and nova dynamically loads it.\n\n\n2014-03-03 18:41:39.708 ERROR nova.virt.libvirt.driver [req-fc92fbbf-acd4-40a5-8d74-a8bdd263c297 ServersTestManualDisk-834103425 ServersTestManualDisk-1514739295] [instance: a9a923e6-5748-465e-8ad3-84077b15447e] Error injecting data into image cf82ca56-7fda-4e29-ae75-96be49f2a059 (Error mounting /opt/stack/data/nova/instances/a9a923e6-5748-465e-8ad3-84077b15447e/disk with libguestfs (external command failed, see earlier error messages))\n2014-03-03 18:41:39.709 ERROR nova.compute.manager [req-fc92fbbf-acd4-40a5-8d74-a8bdd263c297 ServersTestManualDisk-834103425 ServersTestManualDisk-1514739295] [instance: a9a923e6-5748-465e-8ad3-84077b15447e] Instance failed to spawn\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e] Traceback (most recent call last):\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]   File \"/opt/stack/old/nova/nova/compute/manager.py\", line 1423, in _spawn\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]     block_device_info)\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 2084, in spawn\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]     admin_pass=admin_password)\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 2514, in _create_image\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]     instance=instance)\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]   File \"/opt/stack/old/nova/nova/virt/libvirt/driver.py\", line 2508, in _create_image\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]     mandatory=('files',))\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]   File \"/opt/stack/old/nova/nova/virt/disk/api.py\", line 329, in inject_data\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]     fs.setup()\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]   File \"/opt/stack/old/nova/nova/virt/disk/vfs/guestfs.py\", line 129, in setup\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e]     {'imgfile': self.imgfile, 'e': e})\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e] NovaException: Error mounting /opt/stack/data/nova/instances/a9a923e6-5748-465e-8ad3-84077b15447e/disk with libguestfs (external command failed, see earlier error messages)\n2014-03-03 18:41:39.709 6130 TRACE nova.compute.manager [instance: a9a923e6-5748-465e-8ad3-84077b15447e] ", 
            "date_created": "2014-03-07 00:54:01.475557+00:00", 
            "author": "https://api.launchpad.net/1.0/~jogo"
        }, 
        {
            "content": "Fixed in https://review.openstack.org/#/c/78828/", 
            "date_created": "2014-03-22 07:51:01.606435+00:00", 
            "author": "https://api.launchpad.net/1.0/~jogo"
        }, 
        {
            "content": "This devstack bug was last updated over 180 days ago, as devstack\nis a fast moving project and we'd like to get the tracker down to\ncurrently actionable bugs, this is getting marked as Invalid. If the\nissue still exists, please feel free to reopen it.", 
            "date_created": "2017-06-14 19:48:30.109410+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }
    ], 
    "closed": "2014-03-22 07:51:47.484548+00:00"
}