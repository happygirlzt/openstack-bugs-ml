{
    "status": "Invalid", 
    "last_updated": "2011-06-27 13:10:26.411466+00:00", 
    "description": "After publishing a tarball with uec-publish-tarball to nova-objectstore I become only new directories in /var/lib/nova/images with an image-symlink pointing to some files in /tmp. But there are no files in /tmp. \n\nares:~ # uec-publish-tarball ttylinux-uec-amd64-12.1_2.6.35-22_1.tar.gz ttylinux-uec\n Thu Feb 10 19:51:46 CET 2011: ====== extracting image ======\n kernel : ttylinux-uec-amd64-12.1_2.6.35-22_1-vmlinuz\n ramdisk: ttylinux-uec-amd64-12.1_2.6.35-22_1-initrd\n image  : ttylinux-uec-amd64-12.1_2.6.35-22_1.img\n Thu Feb 10 19:51:47 CET 2011: ====== bundle/upload kernel ======\n Thu Feb 10 19:51:48 CET 2011: ====== bundle/upload ramdisk ======\n Thu Feb 10 19:51:49 CET 2011: ====== bundle/upload image ======\n Thu Feb 10 19:51:50 CET 2011: ====== done ======\n emi=\"ami-39y20neq\"; eri=\"ami-6m6yier8\"; eki=\"ami-gcxy5xok\";\n uploading looks good\n 2011-02-10 19:51:48+0100 [HTTPChannel,30,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:48 +0000] \"GET /ttylinux-uec/?max-keys=0 HTTP/1.1\" 200 233 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:48+0100 [HTTPChannel,30,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:48 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-vmlinuz.manifest.xml HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:48+0100 [HTTPChannel,30,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:48 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-vmlinuz.part.0 HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:48+0100 [HTTPChannel,31,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:48 +0000] \"PUT /_images/?image_location=ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-vmlinuz.manifest.xml&image_id=ami-gcxy5xok HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:48+0100 [HTTPChannel,32,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:48 +0000] \"GET /_images/ HTTP/1.1\" 200 303 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,33,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"GET /ttylinux-uec/?max-keys=0 HTTP/1.1\" 200 233 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,33,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-initrd.manifest.xml HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,33,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-initrd.part.0 HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,34,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:49 +0000] \"PUT /_images/?image_location=ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-initrd.manifest.xml&image_id=ami-6m6yier8 HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,35,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:49 +0000] \"GET /_images/ HTTP/1.1\" 200 608 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:50+0100 [HTTPChannel,36,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"GET /ttylinux-uec/?max-keys=0 HTTP/1.1\" 200 233 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:50+0100 [HTTPChannel,36,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1.img.manifest.xml HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:50+0100 [HTTPChannel,36,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:50 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1.img.part.0 HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:50+0100 [HTTPChannel,37,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:50 +0000] \"PUT /_images/?image_location=ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1.img.manifest.xml&image_id=ami-39y20neq HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n<berendt> this is the objectstore.log\n drwx------ 2 root root 4096 Feb 10 19:51 ami-39y20neq\n drwx------ 2 root root 4096 Feb 10 19:51 ami-6m6yier8\n drwx------ 2 root root 4096 Feb 10 19:51 ami-gcxy5xok\n tree new dirs\n lrwxrwxrwx 1 root root  71 Feb 10 19:51 image -> /tmp/uec-publish-tarball.4C3TEJ/ttylinux-uec-amd64-12.1_2.6.35-22_1.img\n and there are symlinks image pointing to /tmp\n but there is no directory /tmp/uec-publish-tarball.4C3TEJ", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/716601", 
    "owner": "None", 
    "id": 716601, 
    "index": 3300, 
    "openned": "2011-02-10 19:02:26.367431+00:00", 
    "created": "2011-02-10 19:02:26.367431+00:00", 
    "title": "uploaded files to ObjectStore are not available (image symlinks only points to non existing files)", 
    "comments": [
        {
            "content": "After publishing a tarball with uec-publish-tarball to nova-objectstore I become only new directories in /var/lib/nova/images with an image-symlink pointing to some files in /tmp. But there are no files in /tmp. \n\nares:~ # uec-publish-tarball ttylinux-uec-amd64-12.1_2.6.35-22_1.tar.gz ttylinux-uec\n Thu Feb 10 19:51:46 CET 2011: ====== extracting image ======\n kernel : ttylinux-uec-amd64-12.1_2.6.35-22_1-vmlinuz\n ramdisk: ttylinux-uec-amd64-12.1_2.6.35-22_1-initrd\n image  : ttylinux-uec-amd64-12.1_2.6.35-22_1.img\n Thu Feb 10 19:51:47 CET 2011: ====== bundle/upload kernel ======\n Thu Feb 10 19:51:48 CET 2011: ====== bundle/upload ramdisk ======\n Thu Feb 10 19:51:49 CET 2011: ====== bundle/upload image ======\n Thu Feb 10 19:51:50 CET 2011: ====== done ======\n emi=\"ami-39y20neq\"; eri=\"ami-6m6yier8\"; eki=\"ami-gcxy5xok\";\n uploading looks good\n 2011-02-10 19:51:48+0100 [HTTPChannel,30,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:48 +0000] \"GET /ttylinux-uec/?max-keys=0 HTTP/1.1\" 200 233 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:48+0100 [HTTPChannel,30,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:48 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-vmlinuz.manifest.xml HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:48+0100 [HTTPChannel,30,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:48 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-vmlinuz.part.0 HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:48+0100 [HTTPChannel,31,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:48 +0000] \"PUT /_images/?image_location=ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-vmlinuz.manifest.xml&image_id=ami-gcxy5xok HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:48+0100 [HTTPChannel,32,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:48 +0000] \"GET /_images/ HTTP/1.1\" 200 303 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,33,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"GET /ttylinux-uec/?max-keys=0 HTTP/1.1\" 200 233 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,33,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-initrd.manifest.xml HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,33,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-initrd.part.0 HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,34,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:49 +0000] \"PUT /_images/?image_location=ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1-initrd.manifest.xml&image_id=ami-6m6yier8 HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:49+0100 [HTTPChannel,35,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:49 +0000] \"GET /_images/ HTTP/1.1\" 200 608 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:50+0100 [HTTPChannel,36,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"GET /ttylinux-uec/?max-keys=0 HTTP/1.1\" 200 233 \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:50+0100 [HTTPChannel,36,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:49 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1.img.manifest.xml HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:50+0100 [HTTPChannel,36,192.168.2.110] 192.168.2.110 - - [10/Feb/2011:18:51:50 +0000] \"PUT /ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1.img.part.0 HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n 2011-02-10 19:51:50+0100 [HTTPChannel,37,127.0.0.2] 127.0.0.2 - - [10/Feb/2011:18:51:50 +0000] \"PUT /_images/?image_location=ttylinux-uec/ttylinux-uec-amd64-12.1_2.6.35-22_1.img.manifest.xml&image_id=ami-39y20neq HTTP/1.1\" 200 - \"-\" \"Boto/1.9b (linux2)\"\n<berendt> this is the objectstore.log\n drwx------ 2 root root 4096 Feb 10 19:51 ami-39y20neq\n drwx------ 2 root root 4096 Feb 10 19:51 ami-6m6yier8\n drwx------ 2 root root 4096 Feb 10 19:51 ami-gcxy5xok\n tree new dirs\n lrwxrwxrwx 1 root root  71 Feb 10 19:51 image -> /tmp/uec-publish-tarball.4C3TEJ/ttylinux-uec-amd64-12.1_2.6.35-22_1.img\n and there are symlinks image pointing to /tmp\n but there is no directory /tmp/uec-publish-tarball.4C3TEJ", 
            "date_created": "2011-02-10 19:02:26.367431+00:00", 
            "author": "https://api.launchpad.net/1.0/~berendt"
        }, 
        {
            "content": "Can't reproduce that. Also nova-objectstore stores to /var/lib/nova/buckets, not /var/lib/nova/images (which is a cache for nova-compute)...", 
            "date_created": "2011-02-14 10:47:04.775360+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "@berendt: did you reproduce this lately ?", 
            "date_created": "2011-03-16 11:00:30.275161+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "Closing in absence of response from reporter. Please reopen if you can still reproduce with current version.", 
            "date_created": "2011-06-27 13:10:24.782459+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }
    ], 
    "closed": "2011-06-27 13:10:25.519222+00:00"
}