{
    "status": "Invalid", 
    "last_updated": "2012-10-12 08:27:31.032681+00:00", 
    "description": " I like to add a compute node to openstack  cloud, but nova-manage service list does work, any one can help me? Thanks!\n\nI install openstack on two kvm guest installed ubuntu12.04 with devstack\n\nAnd I want to use one node as nova controller, the other as compute node, so I copied the nova.conf of the first to the later.\n\nBut nova-manage service list seems this configuration does not take effect.\n\nshifengx@cello-vios:/var/log/nova$ nova-manage service list\n2012-10-11 14:52:52 DEBUG nova.utils [req-bcc88055-0986-4882-92fe-9828d8aaa868 None None] backend <module 'nova.db.sqlalchemy.api' from '/opt/stack/nova/nova/db/sqlalchemy/api.pyc'> from (pid=5476) __get_backend /opt/stack/nova/nova/utils.py:502\nBinary           Host                                 Zone             Status     State Updated_At\nnova-compute     cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:48\nnova-cert        cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:49\nnova-network     cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:43\nnova-scheduler   cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:43\nnova-consoleauth cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:48\n\nshifengx@violin03:/etc/init.d$ nova-manage service list\n2012-10-11 15:02:37 DEBUG nova.utils [req-809bc699-4393-4eff-896a-d37d1d606481 None None] backend <module 'nova.db.sqlalchemy.api' from '/opt/stack/nova/nova/db/sqlalchemy/api.pyc'> from (pid=19638) __get_backend /opt/stack/nova/nova/utils.py:502\nBinary           Host                                 Zone             Status     State Updated_At\nnova-compute     violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:32\nnova-cert        violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:31\nnova-network     violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:36\nnova-scheduler   violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:36\nnova-consoleauth violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:31\n\ncello-vios.cn.ibm.com IP is 9.123.99.46\nviolin03.cn.ibm.com IP is 9.123.99.48\nnova.conf of cello-vios is below\n[DEFAULT]\nverbose=True\nauth_strategy=keystone\nallow_resize_to_same_host=True\napi_paste_config=/etc/nova/api-paste.ini\nrootwrap_config=/etc/nova/rootwrap.conf\ncompute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler\ndhcpbridge_flagfile=/etc/nova/nova.conf\nforce_dhcp_release=True\nfixed_range=10.0.0.0/24\ns3_host=9.123.99.48\ns3_port=3333\nosapi_compute_extension=nova.api.openstack.compute.contrib.standard_extensions\nmy_ip=9.123.99.46\nsql_connection=mysql://root:password@9.123.99.48/nova?charset=utf8\nlibvirt_type=qemu\nlibvirt_cpu_mode=none\ninstance_name_template=instance-%08x\nimage_service=nova.image.glance.GlanceImageService\nenabled_apis=ec2,osapi_compute,metadata\nvolume_api_class=nova.volume.cinder.API\nstate_path=/opt/stack/data/nova\ninstances_path=/opt/stack/data/nova/instances\nlogging_context_format_string=%(asctime)s %(color)s%(levelname)s %(name)s [^[[01;36m%(request_id)s ^[[00;36m%(user_name)s %(project_name)s%(color)s] ^[[01;35m%(instance)s%(color)s%(message)s^[[00m\nlogging_default_format_string=%(asctime)s %(color)s%(levelname)s %(name)s [^[[00;36m-%(color)s] ^[[01;35m%(instance)s%(color)s%(message)s^[[00m\nlogging_debug_format_suffix=^[[00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d^[[00m\nlogging_exception_prefix=%(color)s%(asctime)s TRACE %(name)s ^[[01;35m%(instance)s^[[00m\nnetwork_manager=nova.network.manager.FlatDHCPManager\npublic_interface=br100\nvlan_interface=eth0\nflat_network_bridge=br100\nflat_interface=eth0\nnovncproxy_base_url=http://9.123.99.46:6080/vnc_auto.html\nxvpvncproxy_base_url=http://9.123.99.46:6081/console\nvncserver_listen=127.0.0.1\nvncserver_proxyclient_address=127.0.0.1\nec2_dmz_host=9.123.99.48\nrabbit_host=9.123.99.48\nrabbit_password=password\nglance_api_servers=9.123.99.48:9292\ncompute_driver=libvirt.LibvirtDriver\nfirewall_driver=nova.virt.libvirt.firewall.IptablesFirewallDriver", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1065650", 
    "owner": "None", 
    "id": 1065650, 
    "index": 4415, 
    "openned": "2012-10-11 19:06:11.887048+00:00", 
    "created": "2012-10-11 19:06:11.887048+00:00", 
    "title": "could not add computeNode", 
    "comments": [
        {
            "content": " I like to add a compute node to openstack  cloud, but nova-manage service list does work, any one can help me? Thanks!\n\nI install openstack on two kvm guest installed ubuntu12.04 with devstack\n\nAnd I want to use one node as nova controller, the other as compute node, so I copied the nova.conf of the first to the later.\n\nBut nova-manage service list seems this configuration does not take effect.\n\nshifengx@cello-vios:/var/log/nova$ nova-manage service list\n2012-10-11 14:52:52 DEBUG nova.utils [req-bcc88055-0986-4882-92fe-9828d8aaa868 None None] backend <module 'nova.db.sqlalchemy.api' from '/opt/stack/nova/nova/db/sqlalchemy/api.pyc'> from (pid=5476) __get_backend /opt/stack/nova/nova/utils.py:502\nBinary           Host                                 Zone             Status     State Updated_At\nnova-compute     cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:48\nnova-cert        cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:49\nnova-network     cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:43\nnova-scheduler   cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:43\nnova-consoleauth cello-vios.cn.ibm.com                nova             enabled    :-)   2012-10-11 18:52:48\n\nshifengx@violin03:/etc/init.d$ nova-manage service list\n2012-10-11 15:02:37 DEBUG nova.utils [req-809bc699-4393-4eff-896a-d37d1d606481 None None] backend <module 'nova.db.sqlalchemy.api' from '/opt/stack/nova/nova/db/sqlalchemy/api.pyc'> from (pid=19638) __get_backend /opt/stack/nova/nova/utils.py:502\nBinary           Host                                 Zone             Status     State Updated_At\nnova-compute     violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:32\nnova-cert        violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:31\nnova-network     violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:36\nnova-scheduler   violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:36\nnova-consoleauth violin03.cn.ibm.com                  nova             enabled    :-)   2012-10-11 19:02:31\n\ncello-vios.cn.ibm.com IP is 9.123.99.46\nviolin03.cn.ibm.com IP is 9.123.99.48\nnova.conf of cello-vios is below\n[DEFAULT]\nverbose=True\nauth_strategy=keystone\nallow_resize_to_same_host=True\napi_paste_config=/etc/nova/api-paste.ini\nrootwrap_config=/etc/nova/rootwrap.conf\ncompute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler\ndhcpbridge_flagfile=/etc/nova/nova.conf\nforce_dhcp_release=True\nfixed_range=10.0.0.0/24\ns3_host=9.123.99.48\ns3_port=3333\nosapi_compute_extension=nova.api.openstack.compute.contrib.standard_extensions\nmy_ip=9.123.99.46\nsql_connection=mysql://root:password@9.123.99.48/nova?charset=utf8\nlibvirt_type=qemu\nlibvirt_cpu_mode=none\ninstance_name_template=instance-%08x\nimage_service=nova.image.glance.GlanceImageService\nenabled_apis=ec2,osapi_compute,metadata\nvolume_api_class=nova.volume.cinder.API\nstate_path=/opt/stack/data/nova\ninstances_path=/opt/stack/data/nova/instances\nlogging_context_format_string=%(asctime)s %(color)s%(levelname)s %(name)s [^[[01;36m%(request_id)s ^[[00;36m%(user_name)s %(project_name)s%(color)s] ^[[01;35m%(instance)s%(color)s%(message)s^[[00m\nlogging_default_format_string=%(asctime)s %(color)s%(levelname)s %(name)s [^[[00;36m-%(color)s] ^[[01;35m%(instance)s%(color)s%(message)s^[[00m\nlogging_debug_format_suffix=^[[00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d^[[00m\nlogging_exception_prefix=%(color)s%(asctime)s TRACE %(name)s ^[[01;35m%(instance)s^[[00m\nnetwork_manager=nova.network.manager.FlatDHCPManager\npublic_interface=br100\nvlan_interface=eth0\nflat_network_bridge=br100\nflat_interface=eth0\nnovncproxy_base_url=http://9.123.99.46:6080/vnc_auto.html\nxvpvncproxy_base_url=http://9.123.99.46:6081/console\nvncserver_listen=127.0.0.1\nvncserver_proxyclient_address=127.0.0.1\nec2_dmz_host=9.123.99.48\nrabbit_host=9.123.99.48\nrabbit_password=password\nglance_api_servers=9.123.99.48:9292\ncompute_driver=libvirt.LibvirtDriver\nfirewall_driver=nova.virt.libvirt.firewall.IptablesFirewallDriver", 
            "date_created": "2012-10-11 19:06:11.887048+00:00", 
            "author": "https://api.launchpad.net/1.0/~xiaoshif"
        }, 
        {
            "content": "what about the config of violin03.cn.ibm.com\nthe config of two node must be the same \"sql_connection\" and  \"rabbit_host\"", 
            "date_created": "2012-10-12 07:49:19.898249+00:00", 
            "author": "https://api.launchpad.net/1.0/~gtt116"
        }, 
        {
            "content": "Thanks TianTian,\n\nI reinstalled both compute node and control node following http://devstack.org/localrc.html\n\nWith the correct localrc on both node, they are deployed successfully\n\n", 
            "date_created": "2012-10-12 08:27:06.404907+00:00", 
            "author": "https://api.launchpad.net/1.0/~xiaoshif"
        }
    ], 
    "closed": "2012-10-12 08:27:28.786383+00:00"
}