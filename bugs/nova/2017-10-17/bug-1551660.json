{
    "status": "Invalid", 
    "last_updated": "2016-03-01 16:02:04.189739+00:00", 
    "description": "Nova API docs specify the parameter tenant_id for the creation of servers. (http://developer.openstack.org/api-ref-compute-v2.1.html#createServer)\n\nI tried to create a server on a diferent tenant, with admin credentials and loged with admin perspective. The request is succesfully executed, but the new server is created in the logged tenant, not the especified tenant.\n\nServerGroup creation has the same behaviour.\n\nIstalled versions:\nopenstack-nova-api.noarch              1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-cert.noarch             1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-common.noarch           1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-compute.noarch          1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-conductor.noarch        1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-console.noarch          1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-novncproxy.noarch       1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-scheduler.noarch        1:12.0.1-1.el7         @openstack-liberty\npython-nova.noarch                     1:12.0.1-1.el7         @openstack-liberty\npython-novaclient.noarch               1:2.30.1-1.el7         @openstack-liberty\n\nRequests & responses:\n\nmar 01, 2016 10:52:51 AM org.glassfish.jersey.filter.LoggingFilter log\nINFORMACI\u00d3N: 1 * Sending client request on thread pool-5-thread-1\n1 > POST http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers\n1 > Accept: application/json\n1 > Content-Type: application/json\n1 > User-Agent: OpenStack4j / OpenStack Client\n1 > X-Auth-Token: 041b5843231449eba1b99b305bacf1b2\n{\n  \"server\" : {\n    \"name\" : \"vm1\",\n    \"imageRef\" : \"dd62a5c7-68c1-4f37-ba73-f55536a50b97\",\n    \"flavorRef\" : \"2\",\n    \"availability_zone\" : \"nova\",\n    \"networks\" : [ {\n      \"uuid\" : \"a7489c95-71a4-499d-93b7-b0ae456a3361\"\n    } ],\n    \"tenant_id\" : \"2756c66a63cd4165af9f01d348449cbb\"\n  },\n  \"os:scheduler_hints\" : {\n    \"group\" : \"d96f6c5a-27e1-4dfb-9c2c-8e79e81ea6f9\"\n  }\n}\n\nmar 01, 2016 10:52:51 AM org.glassfish.jersey.filter.LoggingFilter log\nINFORMACI\u00d3N: 2 * Client response received on thread pool-5-thread-1\n2 < 202\n2 < Connection: keep-alive\n2 < Content-Length: 440\n2 < Content-Type: application/json\n2 < Date: Tue, 01 Mar 2016 09:52:53 GMT\n2 < Location: http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\n2 < X-Compute-Request-Id: req-ee2fa864-579d-41ad-9357-cb55d665ef91\n{\"server\": {\"security_groups\": [{\"name\": \"default\"}], \"OS-DCF:diskConfig\": \"MANUAL\", \"id\": \"8c4a8657-7968-4915-af29-fad1ad2957b7\", \"links\": [{\"href\": \"http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\", \"rel\": \"self\"}, {\"href\": \"http://10.13.111.56:8774/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\", \"rel\": \"bookmark\"}], \"adminPass\": \"QEN67WN9Dgjh\"}}\n\nmar 01, 2016 10:52:51 AM org.glassfish.jersey.filter.LoggingFilter log\nINFORMACI\u00d3N: 1 * Sending client request on thread pool-5-thread-1\n1 > GET http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\n1 > Accept: application/json\n1 > User-Agent: OpenStack4j / OpenStack Client\n1 > X-Auth-Token: 041b5843231449eba1b99b305bacf1b2\n\nmar 01, 2016 10:52:51 AM org.glassfish.jersey.filter.LoggingFilter log\nINFORMACI\u00d3N: 2 * Client response received on thread pool-5-thread-1\n2 < 200\n2 < Connection: keep-alive\n2 < Content-Length: 1461\n2 < Content-Type: application/json\n2 < Date: Tue, 01 Mar 2016 09:52:53 GMT\n2 < X-Compute-Request-Id: req-5de6a7e1-ef84-4d67-ba05-b1f8772d82bb\n{\"server\": {\"status\": \"BUILD\", \"updated\": \"2016-03-01T09:52:53Z\", \"hostId\": \"\", \"OS-EXT-SRV-ATTR:host\": null, \"addresses\": {}, \"links\": [{\"href\": \"http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\", \"rel\": \"self\"}, {\"href\": \"http://10.13.111.56:8774/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\", \"rel\": \"bookmark\"}], \"key_name\": null, \"image\": {\"id\": \"dd62a5c7-68c1-4f37-ba73-f55536a50b97\", \"links\": [{\"href\": \"http://10.13.111.56:8774/4b216910ea1c4701a629d98fd8600300/images/dd62a5c7-68c1-4f37-ba73-f55536a50b97\", \"rel\": \"bookmark\"}]}, \"OS-EXT-STS:task_state\": \"scheduling\", \"OS-EXT-STS:vm_state\": \"building\", \"OS-EXT-SRV-ATTR:instance_name\": \"instance-0000001c\", \"OS-SRV-USG:launched_at\": null, \"OS-EXT-SRV-ATTR:hypervisor_hostname\": null, \"flavor\": {\"id\": \"2\", \"links\": [{\"href\": \"http://10.13.111.56:8774/4b216910ea1c4701a629d98fd8600300/flavors/2\", \"rel\": \"bookmark\"}]}, \"id\": \"8c4a8657-7968-4915-af29-fad1ad2957b7\", \"OS-SRV-USG:terminated_at\": null, \"OS-EXT-AZ:availability_zone\": \"nova\", \"user_id\": \"143b5a5f39b444999cc90e6d35506bf3\", \"name\": \"vm1\", \"created\": \"2016-03-01T09:52:53Z\", \"tenant_id\": \"4b216910ea1c4701a629d98fd8600300\", \"OS-DCF:diskConfig\": \"MANUAL\", \"os-extended-volumes:volumes_attached\": [], \"accessIPv4\": \"\", \"accessIPv6\": \"\", \"progress\": 0, \"OS-EXT-STS:power_state\": 0, \"config_drive\": \"\", }}", 
    "tags": [
        "api"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1551660", 
    "owner": "None", 
    "id": 1551660, 
    "index": 7339, 
    "openned": "2016-03-01 10:32:32.344289+00:00", 
    "created": "2016-03-01 10:32:32.344289+00:00", 
    "title": "Server/ServerGroup creation on especified tenant doesn't works as expected", 
    "comments": [
        {
            "content": "Nova API docs specify the parameter tenant_id for the creation of servers. (http://developer.openstack.org/api-ref-compute-v2.1.html#createServer)\n\nI tried to create a server on a diferent tenant, with admin credentials and loged with admin perspective. The request is succesfully executed, but the new server is created in the logged tenant, not the especified tenant.\n\nServerGroup creation has the same behaviour.\n\nIstalled versions:\nopenstack-nova-api.noarch              1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-cert.noarch             1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-common.noarch           1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-compute.noarch          1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-conductor.noarch        1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-console.noarch          1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-novncproxy.noarch       1:12.0.1-1.el7         @openstack-liberty\nopenstack-nova-scheduler.noarch        1:12.0.1-1.el7         @openstack-liberty\npython-nova.noarch                     1:12.0.1-1.el7         @openstack-liberty\npython-novaclient.noarch               1:2.30.1-1.el7         @openstack-liberty\n\nRequests & responses:\n\nmar 01, 2016 10:52:51 AM org.glassfish.jersey.filter.LoggingFilter log\nINFORMACI\u00d3N: 1 * Sending client request on thread pool-5-thread-1\n1 > POST http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers\n1 > Accept: application/json\n1 > Content-Type: application/json\n1 > User-Agent: OpenStack4j / OpenStack Client\n1 > X-Auth-Token: 041b5843231449eba1b99b305bacf1b2\n{\n  \"server\" : {\n    \"name\" : \"vm1\",\n    \"imageRef\" : \"dd62a5c7-68c1-4f37-ba73-f55536a50b97\",\n    \"flavorRef\" : \"2\",\n    \"availability_zone\" : \"nova\",\n    \"networks\" : [ {\n      \"uuid\" : \"a7489c95-71a4-499d-93b7-b0ae456a3361\"\n    } ],\n    \"tenant_id\" : \"2756c66a63cd4165af9f01d348449cbb\"\n  },\n  \"os:scheduler_hints\" : {\n    \"group\" : \"d96f6c5a-27e1-4dfb-9c2c-8e79e81ea6f9\"\n  }\n}\n\nmar 01, 2016 10:52:51 AM org.glassfish.jersey.filter.LoggingFilter log\nINFORMACI\u00d3N: 2 * Client response received on thread pool-5-thread-1\n2 < 202\n2 < Connection: keep-alive\n2 < Content-Length: 440\n2 < Content-Type: application/json\n2 < Date: Tue, 01 Mar 2016 09:52:53 GMT\n2 < Location: http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\n2 < X-Compute-Request-Id: req-ee2fa864-579d-41ad-9357-cb55d665ef91\n{\"server\": {\"security_groups\": [{\"name\": \"default\"}], \"OS-DCF:diskConfig\": \"MANUAL\", \"id\": \"8c4a8657-7968-4915-af29-fad1ad2957b7\", \"links\": [{\"href\": \"http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\", \"rel\": \"self\"}, {\"href\": \"http://10.13.111.56:8774/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\", \"rel\": \"bookmark\"}], \"adminPass\": \"QEN67WN9Dgjh\"}}\n\nmar 01, 2016 10:52:51 AM org.glassfish.jersey.filter.LoggingFilter log\nINFORMACI\u00d3N: 1 * Sending client request on thread pool-5-thread-1\n1 > GET http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\n1 > Accept: application/json\n1 > User-Agent: OpenStack4j / OpenStack Client\n1 > X-Auth-Token: 041b5843231449eba1b99b305bacf1b2\n\nmar 01, 2016 10:52:51 AM org.glassfish.jersey.filter.LoggingFilter log\nINFORMACI\u00d3N: 2 * Client response received on thread pool-5-thread-1\n2 < 200\n2 < Connection: keep-alive\n2 < Content-Length: 1461\n2 < Content-Type: application/json\n2 < Date: Tue, 01 Mar 2016 09:52:53 GMT\n2 < X-Compute-Request-Id: req-5de6a7e1-ef84-4d67-ba05-b1f8772d82bb\n{\"server\": {\"status\": \"BUILD\", \"updated\": \"2016-03-01T09:52:53Z\", \"hostId\": \"\", \"OS-EXT-SRV-ATTR:host\": null, \"addresses\": {}, \"links\": [{\"href\": \"http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\", \"rel\": \"self\"}, {\"href\": \"http://10.13.111.56:8774/4b216910ea1c4701a629d98fd8600300/servers/8c4a8657-7968-4915-af29-fad1ad2957b7\", \"rel\": \"bookmark\"}], \"key_name\": null, \"image\": {\"id\": \"dd62a5c7-68c1-4f37-ba73-f55536a50b97\", \"links\": [{\"href\": \"http://10.13.111.56:8774/4b216910ea1c4701a629d98fd8600300/images/dd62a5c7-68c1-4f37-ba73-f55536a50b97\", \"rel\": \"bookmark\"}]}, \"OS-EXT-STS:task_state\": \"scheduling\", \"OS-EXT-STS:vm_state\": \"building\", \"OS-EXT-SRV-ATTR:instance_name\": \"instance-0000001c\", \"OS-SRV-USG:launched_at\": null, \"OS-EXT-SRV-ATTR:hypervisor_hostname\": null, \"flavor\": {\"id\": \"2\", \"links\": [{\"href\": \"http://10.13.111.56:8774/4b216910ea1c4701a629d98fd8600300/flavors/2\", \"rel\": \"bookmark\"}]}, \"id\": \"8c4a8657-7968-4915-af29-fad1ad2957b7\", \"OS-SRV-USG:terminated_at\": null, \"OS-EXT-AZ:availability_zone\": \"nova\", \"user_id\": \"143b5a5f39b444999cc90e6d35506bf3\", \"name\": \"vm1\", \"created\": \"2016-03-01T09:52:53Z\", \"tenant_id\": \"4b216910ea1c4701a629d98fd8600300\", \"OS-DCF:diskConfig\": \"MANUAL\", \"os-extended-volumes:volumes_attached\": [], \"accessIPv4\": \"\", \"accessIPv6\": \"\", \"progress\": 0, \"OS-EXT-STS:power_state\": 0, \"config_drive\": \"\", }}", 
            "date_created": "2016-03-01 10:32:32.344289+00:00", 
            "author": "https://api.launchpad.net/1.0/~tenedh"
        }, 
        {
            "content": "@Cristian:\n\nThe \"tenant_id\" is part of the URI and *not* part of the parameters in\nthe request body. The value \"URI\" in the \"Style\" column explains that.\nIt's especially good to see when querying server details [1]:\n\n    GET /v2.1/\u200b{tenant_id}\u200b/servers/\u200b{server_id}\u200b\n    \n    Parameter \tStyle\n    tenant_id \tURI \n    server_id \tURI\n\nYour POST call to create a server provides the \"tenant_id\" in its URI:\n\n    http://10.13.111.56:8774/v2/4b216910ea1c4701a629d98fd8600300/servers\n    \n    tenant_id = 4b216910ea1c4701a629d98fd8600300\n\nThe other \"tenant_id\" you provide in the request body is silently\nignored.\n\nYour call to get the server details shows that it correctly uses the\n\"tenant_id\" you provided in the URI of the POST call:\n\n    \"tenant_id\": \"4b216910ea1c4701a629d98fd8600300\"\n\nThe API behaves as expected and documented, which means I close this\nbug report as \"invalid\". If you disagree, please reopen the bug and\nprovide a reasoning.\n\nReferences:\n[1] http://developer.openstack.org/api-ref-compute-v2.1.html#showServer", 
            "date_created": "2016-03-01 16:02:03.599527+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ], 
    "closed": "2016-03-01 16:01:57.167147+00:00"
}