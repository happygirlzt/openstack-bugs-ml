{
    "status": "Expired", 
    "last_updated": "2016-07-05 09:40:58.765696+00:00", 
    "description": "\"List Volumes\" Filtered by Name is returning all volumes\n\nThe name parameter (with a text value) is passed to get the volumes of that particular name.\n\nBut Instead it is returning all the volumes in the server\n\nNosetest Log:\n\nFAIL: Positive: Should return the details of volume by the name\n----------------------------------------------------------------------\nTraceback (most recent call last):\n\u00a0\u00a0File \"/home/unnimaya/MYTempest/VOLUMES/tempest/tempest/tests/test_volumes.py\", line 159, in test_volume_list_filter_by_name\n\u00a0\u00a0\u00a0\u00a0self.assertEqual(len(fetched_volumes), 1)\nAssertionError: 5 != 1\n\n======================================================================\n\nNova-Api Log\n\nList of all the volumes\n\nmuralik@openstack27:~/source/csbu-qa/nova/tests$ ./apitool.py GET os-volumes\napitool\napitool\napitool\napitool\napitool\nRESP:{'date': 'Fri, 17 Feb 2012 10:40:00 GMT', 'vary': 'X-Auth-Token', 'content-length': '1444', 'status': '200', 'content-type': 'application/json; charset=UTF-8'} {\"access\": {\"token\": {\"expires\": \"2012-02-18T00:18:26\", \"tenants\": [{\"id\": \"74da8012b13c4d9195f11c10605ec7d0\", \"name\": \"demo\"}], \"id\": \"8a65e999-4c36-4305-bbd6-e6b0a7c6342f\", \"tenant\": {\"id\": \"74da8012b13c4d9195f11c10605ec7d0\", \"name\": \"demo\"}}, \"serviceCatalog\": [{\"endpoints\": [{\"id\": \"1\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.27:8774/v1.1/74da8012b13c4d9195f11c10605ec7d0\", \"internalURL\": \"http://10.233.52.27:8774/v1.1/74da8012b13c4d9195f11c10605ec7d0\", \"tenantId\": \"74da8012b13c4d9195f11c10605ec7d0\"}], \"type\": \"compute\", \"name\": \"nova\"}, {\"endpoints\": [{\"id\": \"2\", \"region\": \"RegionOne\", \"internalURL\": \"http://10.233.52.27:8773/services/Cloud\", \"publicURL\": \"http://10.233.52.27:8773/services/Cloud\"}], \"type\": \"ec2\", \"name\": \"ec2\"}, {\"endpoints\": [{\"id\": \"3\", \"region\": \"RegionOne\", \"internalURL\": \"http://10.233.52.27:9292/v1\", \"publicURL\": \"http://10.233.52.27:9292/v1\"}], \"type\": \"image\", \"name\": \"glance\"}, {\"endpoints\": [{\"id\": \"4\", \"region\": \"RegionOne\", \"internalURL\": \"http://10.233.52.27:5000/v2.0\", \"publicURL\": \"http://10.233.52.27:5000/v2.0\"}], \"type\": \"identity\", \"name\": \"keystone\"}], \"user\": {\"id\": \"8837101af2434cdfbd346e101906ba0a\", \"roles\": [{\"name\": \"Member\", \"id\": \"2\", \"tenantId\": \"74da8012b13c4d9195f11c10605ec7d0\"}, {\"name\": \"sysadmin\", \"id\": \"5\", \"tenantId\": \"74da8012b13c4d9195f11c10605ec7d0\"}, {\"name\": \"netadmin\", \"id\": \"6\", \"tenantId\": \"74da8012b13c4d9195f11c10605ec7d0\"}], \"name\": \"demo\"}}}\n\nREQ: curl -i http://10.233.52.27:8774/v1.1/74da8012b13c4d9195f11c10605ec7d0/os-volumes -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: 8a65e999-4c36-4305-bbd6-e6b0a7c6342f\"\n\nRESP:{'status': '200', 'content-length': '485', 'content-location': u'http://10.233.52.27:8774/v1.1/74da8012b13c4d9195f11c10605ec7d0/os-volumes', 'x-compute-request-id': 'req-50ca9204-fb50-4eab-b97d-1ff062e0690d', 'date': 'Fri, 17 Feb 2012 10:40:00 GMT', 'content-type': 'application/json'} {\"volumes\": [{\"status\": \"available\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [{}], \"volumeType\": null, \"snapshotId\": null, \"size\": 1, \"id\": 6, \"createdAt\": \"2012-02-16 21:00:26\", \"metadata\": {}}, {\"status\": \"available\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": \"test\", \"attachments\": [{}], \"volumeType\": null, \"snapshotId\": null, \"size\": 2, \"id\": 7, \"createdAt\": \"2012-02-17 10:03:23\", \"metadata\": {}}]}\n\n--- START OF RESPONSE ---\n{   u'volumes': [   {   u'attachments': [{   }],\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'availabilityZone': u'nova',\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'createdAt': u'2012-02-16 21:00:26',\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'displayDescription': None,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'displayName': None,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'id': 6,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'metadata': {   },\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'size': 1,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'snapshotId': None,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'status': u'available',\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'volumeType': None},\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{   u'attachments': [{   }],\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'availabilityZone': u'nova',\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'createdAt': u'2012-02-17 10:03:23',\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'displayDescription': None,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'displayName': u'test',\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'id': 7,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'metadata': {   },\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'size': 2,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'snapshotId': None,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'status': u'available',\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0u'volumeType': None}]}\n--- ENF OF RESPONSE ---\n\nNow List of volumes filtered by Name should return the volume with the specified name , but it is returning all the volumes.\n\nmuralik@openstack27:~/source/csbu-qa/nova/tests$ ./apitool.py GET os-volumes?displayName=test\napitool\napitool\napitool\napitool\napitool\nREQ: curl -i http://127.0.0.1:5000/v2.0/tokens -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"User-Agent: python-novaclient\"\n\nREQ BODY: {\"auth\": {\"tenantName\": \"demo\", \"passwordCredentials\": {\"username\": \"demo\", \"password\": \"muralik\"}}}\n\nRESP:{'date': 'Fri, 17 Feb 2012 10:59:37 GMT', 'vary': 'X-Auth-Token', 'content-length': '1444', 'status': '200', 'content-type': 'application/json; charset=UTF-8'} {\"access\": {\"token\": {\"expires\": \"2012-02-18T00:18:26\", \"tenants\": [{\"id\": \"74da8012b13c4d9195f11c10605ec7d0\", \"name\": \"demo\"}], \"id\": \"8a65e999-4c36-4305-bbd6-e6b0a7c6342f\", \"tenant\": {\"id\": \"74da8012b13c4d9195f11c10605ec7d0\", \"name\": \"demo\"}}, \"serviceCatalog\": [{\"endpoints\": [{\"id\": \"1\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.27:8774/v1.1/74da8012b13c4d9195f11c10605ec7d0\", \"internalURL\": \"http://10.233.52.27:8774/v1.1/74da8012b13c4d9195f11c10605ec7d0\", \"tenantId\": \"74da8012b13c4d9195f11c10605ec7d0\"}], \"type\": \"compute\", \"name\": \"nova\"}, {\"endpoints\": [{\"id\": \"2\", \"region\": \"RegionOne\", \"internalURL\": \"http://10.233.52.27:8773/services/Cloud\", \"publicURL\": \"http://10.233.52.27:8773/services/Cloud\"}], \"type\": \"ec2\", \"name\": \"ec2\"}, {\"endpoints\": [{\"id\": \"3\", \"region\": \"RegionOne\", \"internalURL\": \"http://10.233.52.27:9292/v1\", \"publicURL\": \"http://10.233.52.27:9292/v1\"}], \"type\": \"image\", \"name\": \"glance\"}, {\"endpoints\": [{\"id\": \"4\", \"region\": \"RegionOne\", \"internalURL\": \"http://10.233.52.27:5000/v2.0\", \"publicURL\": \"http://10.233.52.27:5000/v2.0\"}], \"type\": \"identity\", \"name\": \"keystone\"}], \"user\": {\"id\": \"8837101af2434cdfbd346e101906ba0a\", \"roles\": [{\"name\": \"Member\", \"id\": \"2\", \"tenantId\": \"74da8012b13c4d9195f11c10605ec7d0\"}, {\"name\": \"sysadmin\", \"id\": \"5\", \"tenantId\": \"74da8012b13c4d9195f11c10605ec7d0\"}, {\"name\": \"netadmin\", \"id\": \"6\", \"tenantId\": \"74da8012b13c4d9195f11c10605ec7d0\"}], \"name\": \"demo\"}}}\n\nREQ: curl -i http://10.233.52.27:8774/v1.1/74da8012b13c4d9195f11c10605ec7d0/os-volumes?displayName=test -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: 8a65e999-4c36-4305-bbd6-e6b0a7c6342f\"\n\nRESP:{'status': '200', 'content-length': '485', 'content-location': u'http://10.233.52.27:8774/v1.1/74da8012b13c4d9195f11c10605ec7d0/os-volumes?displayName=test', 'x-compute-request-id': 'req-ff600b6e-cc43-4ca2-8022-08aa5a5b3549', 'date': 'Fri, 17 Feb 2012 10:59:37 GMT', 'content-type': 'application/json'} {\"volumes\": [{\"status\": \"available\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": null, \"attachments\": [{}], \"volumeType\": null, \"snapshotId\": null, \"size\": 1, \"id\": 6, \"createdAt\": \"2012-02-16 21:00:26\", \"metadata\": {}}, {\"status\": \"available\", \"displayDescription\": null, \"availabilityZone\": \"nova\", \"displayName\": \"test\", \"attachments\": [{}], \"volumeType\": null, \"snapshotId\": null, \"size\": 2, \"id\": 7, \"createdAt\": \"2012-02-17 10:03:23\", \"metadata\": {}}]}\n\n--- START OF RESPONSE ---\n{   u'volumes': [   {   u'attachments': [{   }],\n                        u'availabilityZone': u'nova',\n                        u'createdAt': u'2012-02-16 21:00:26',\n                        u'displayDescription': None,\n                        u'displayName': None,\n                        u'id': 6,\n                        u'metadata': {   },\n                        u'size': 1,\n                        u'snapshotId': None,\n                        u'status': u'available',\n                        u'volumeType': None},\n                    {   u'attachments': [{   }],\n                        u'availabilityZone': u'nova',\n                        u'createdAt': u'2012-02-17 10:03:23',\n                        u'displayDescription': None,\n                        u'displayName': u'test',\n                        u'id': 7,\n                        u'metadata': {   },\n                        u'size': 2,\n                        u'snapshotId': None,\n                        u'status': u'available',\n                        u'volumeType': None}]}\n--- ENF OF RESPONSE ---", 
    "tags": [
        "compute", 
        "hpcs", 
        "spec-needed", 
        "volume"
    ], 
    "importance": "Undecided", 
    "heat": 20, 
    "link": "https://bugs.launchpad.net/nova/+bug/933498", 
    "owner": "None", 
    "id": 933498, 
    "index": 3850, 
    "openned": "2012-02-17 17:19:47.961817+00:00", 
    "created": "2012-02-16 14:41:11.079290+00:00", 
    "title": "'List Volumes' should support filtering", 
    "comments": [
        {
            "content": "\"List Volumes\" Filtered by Name is returning all volumes \n\nThe name parameter (with a text value) is passed to get the volumes of that particular name.\n\nBut Instead it is returning all the volumes in the server\n\nNosetest Log:\n\nFAIL: Positive: Should return the details of volume by the name\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/unnimaya/MYTempest/VOLUMES/tempest/tempest/tests/test_volumes.py\", line 159, in test_volume_list_filter_by_name\n    self.assertEqual(len(fetched_volumes), 1)\nAssertionError: 5 != 1\n\n======================================================================", 
            "date_created": "2012-02-16 14:41:11.079290+00:00", 
            "author": "https://api.launchpad.net/1.0/~rajalakshmi-ganesan"
        }, 
        {
            "content": "The volume API supports filtering, but the volume api controller currently has no support for filtering.  Fixing this would be an API change, so I believe it needs to be done in Folsom.\n\n\n", 
            "date_created": "2012-03-02 18:26:34.107954+00:00", 
            "author": "https://api.launchpad.net/1.0/~mikeyp-3"
        }, 
        {
            "content": "Mike: can you show me what documentation you're looking at that says the volumes api supports filtering?", 
            "date_created": "2012-03-26 17:01:28.861359+00:00", 
            "author": "https://api.launchpad.net/1.0/~bcwaldon"
        }, 
        {
            "content": "Brian: As far as I can tell - there is none, so I assume this is a feature which needs to be spec'd for Folsom.\n\nThere were several bugs in this vein filed just before essex  bug squash day , I think they were all fallout from Tempest work https://bugs.launchpad.net/tempest/+bug/960864.\n\nI originally looked at this on bug squash day, assuming it was a quick fix / straightforward bug. and discovered the code simply didn't exist.  It was way too late in the cycle to be adding features and changing API's, hence my suggestion that it be considered in the Folsom cycle, assuming it's a desired feature.\n ", 
            "date_created": "2012-03-26 17:26:42.897874+00:00", 
            "author": "https://api.launchpad.net/1.0/~mikeyp-3"
        }, 
        {
            "content": "Ok, so I don't agree that this is a bug if there is no spec that claims it exists.", 
            "date_created": "2012-03-26 18:05:20.224967+00:00", 
            "author": "https://api.launchpad.net/1.0/~bcwaldon"
        }, 
        {
            "content": "I think listing volumes happens over cinder now doesn't it?", 
            "date_created": "2013-08-13 14:19:22.725599+00:00", 
            "author": "https://api.launchpad.net/1.0/~seif"
        }, 
        {
            "content": "this is under review here: https://review.openstack.org/#/c/47078/", 
            "date_created": "2013-11-26 03:30:09.405518+00:00", 
            "author": "https://api.launchpad.net/1.0/~gfidente"
        }, 
        {
            "content": "The nova code has no volume api server already. So this bug should be invalid now. And this should be marked as invalid. ", 
            "date_created": "2015-07-13 14:03:58.913409+00:00", 
            "author": "https://api.launchpad.net/1.0/~jeffrey4l"
        }, 
        {
            "content": "The filtering support was added in fix 1391748 for cinder client. Do you need this in nova api's as well?", 
            "date_created": "2015-07-22 17:45:44.001111+00:00", 
            "author": "https://api.launchpad.net/1.0/~subhadeep-de"
        }, 
        {
            "content": "\nThis is an automated cleanup. This bug report has been closed because it\nis older than 18 months and there is no open code change to fix this.\nAfter this time it is unlikely that the circumstances which lead to\nthe observed issue can be reproduced.\n\nIf you can reproduce the bug, please:\n* reopen the bug report (set to status \"New\")\n* AND add the detailed steps to reproduce the issue (if applicable)\n* AND leave a comment \"CONFIRMED FOR: <RELEASE_NAME>\"\n  Only still supported release names are valid (LIBERTY, MITAKA, OCATA, NEWTON).\n  Valid example: CONFIRMED FOR: LIBERTY\n", 
            "date_created": "2016-07-05 09:40:57.368891+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ], 
    "closed": "2016-07-05 09:40:54.953345+00:00"
}