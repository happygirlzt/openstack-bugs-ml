{
    "status": "Confirmed", 
    "last_updated": "2016-08-30 11:29:07.281796+00:00", 
    "description": "It has been reproduced against single-node devstack with cells enabled:\nENABLED_SERVICES=c-api,c-bak,c-sch,c-vol,cinder,dstat,g-api,g-reg,horizon,key,mysql,n-api,n-cell,n-cond,n-cpu,n-crt,n-net,n-obj,n-sch,rabbit,s-account,s-container,s-object,s-proxy,tempest\n\nnova.conf:\n[DEFAULT]\n...\ntransport_url = rabbit://stackrabbit:secretrabbit@127.0.0.1:5672/\n...\n[cells]\nname = region\ncell_type = api\nenable = True\n\nnova-cells.conf:\n[DEFAULT]\n...\ntransport_url = rabbit://stackrabbit:secretrabbit@127.0.0.1:5672/\n...\n[cells]\nname = child\ncell_type = compute\nenable = True\n\nThe http://developer.openstack.org/api-ref-compute-v2.1.html#listCells request has been successful and returned:\n\nstack@ubuntu:~$ TOKEN=$(openstack token issue | awk '/ id /{print $4}')\nstack@ubuntu:~$ NOVA_ENDPOINT=$(openstack endpoint show nova | awk '/ publicurl /{print $4}')\nstack@ubuntu:~$ TENANT_ID=$(openstack project show admin | awk '/ id /{print $4}')\nstack@ubuntu:~$ curl --include --request GET -H \"X-Auth-Token: $TOKEN\" -H \"Content-Type: application/json\" $NOVA_ENDPOINT/$TENANT_ID/os-cells\nHTTP/1.1 200 OK\nContent-Length: 117\nContent-Type: application/json\nOpenstack-Api-Version: compute 2.1\nX-Openstack-Nova-Api-Version: 2.1\nVary: OpenStack-API-Version\nVary: X-OpenStack-Nova-API-Version\nX-Compute-Request-Id: req-9d5ea58a-256f-42d3-bca6-c388e632ca02\nDate: Tue, 09 Aug 2016 15:38:31 GMT\n\n{\"cells\": [{\"username\": \"stackrabbit\", \"rpc_host\": \"127.0.0.1\", \"type\": \"child\", \"name\": \"child\", \"rpc_port\": 5672}]}\n\n(It's unexpected, that parent cell is absent both here and in 'cells' table of Nova DB, but can suggest that single-node configuration may affect it)\n\nAfter that I tried to send the http://developer.openstack.org/api-ref-compute-v2.1.html#showCellData request. The UUID of cell expected by this request isn't returned by previous one, and the 'uuid' field is absent in 'cells' Nova DB table:\nmysql> select * from cells;\n+---------------------+------------+------------+----+---------+---------------+--------------+-------+-----------+---------+-----------------------------------------------------------------------------------------------------+\n| created_at          | updated_at | deleted_at | id | api_url | weight_offset | weight_scale | name  | is_parent | deleted | transport_url                                                                                       |\n+---------------------+------------+------------+----+---------+---------------+--------------+-------+-----------+---------+-----------------------------------------------------------------------------------------------------+\n| 2016-08-08 15:26:43 | NULL       | NULL       |  1 | NULL    |             0 |            1 | child |         0 |       0 | rabbit://stackrabbit:secretrabbit@127.0.0.1:5672,stackrabbit:secretrabbit@127.0.0.1:5672/child_cell |\n+---------------------+------------+------------+----+---------+---------------+--------------+-------+-----------+---------+-----------------------------------------------------------------------------------------------------+\n1 row in set (0.00 sec)\n\nSo, let's try to get cell's info by its name, and the result is:\nstack@ubuntu:~/devstack$ curl --include --request GET -H \"X-Auth-Token: $TOKEN\" -H \"Content-Type: application/json\" $NOVA_ENDPOINT/$TENANT_ID/os-cells/child\nHTTP/1.1 500 Internal Server Error\nOpenstack-Api-Version: compute 2.1\nX-Openstack-Nova-Api-Version: 2.1\nVary: OpenStack-API-Versio\nVary: X-OpenStack-Nova-API-Version\nContent-Type: application/json; charset=UTF-8\nContent-Length: 216\nX-Compute-Request-Id: req-05f0f93a-c9ad-403b-ae3f-639b5f64d659\nDate: Tue, 09 Aug 2016 15:40:32 GMT\n\n{\"computeFault\": {\"message\": \"Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\", \"code\": 500}}\n\nAnd there is n-api.log trace:\n2016-08-09 11:39:32.215 24100 DEBUG nova.api.openstack.wsgi [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] Calling method '<bound method CellsController.show of <nova.api.openstack.compute.cells.CellsController object at 0x7f5ad1410f10>>' _process_stack /opt/stack/new/nova/nova/api/openstack/wsgi.py:636\n2016-08-09 11:39:32.217 24100 DEBUG oslo_messaging._drivers.amqpdriver [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] CALL msg_id: b34cb4c869444efba1ba76844208cfba exchange 'nova' topic 'cells' _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] Unexpected exception in API method\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/extensions.py\", line 338, in wrapped\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/common.py\", line 530, in inner\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     return function(*args, **kwargs)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/compute/cells.py\", line 164, in show\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     cell = self.cells_rpcapi.cell_get(context, id)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/cells/rpcapi.py\", line 492, in cell_get\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     return cctxt.call(ctxt, 'cell_get', cell_name=cell_name)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\", line 169, in call\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     retry=self.retry)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/transport.py\", line 96, in _send\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     timeout=timeout, retry=retry)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 464, in send\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     retry=retry)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 453, in _send\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     result = self._waiter.wait(msg_id, timeout)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 336, in wait\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     message = self.waiters.get(msg_id, timeout=timeout)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 238, in get\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     'to message ID %s' % msg_id)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions MessagingTimeout: Timed out waiting for a reply to message ID b34cb4c869444efba1ba76844208cfba\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions \n2016-08-09 11:40:32.223 24100 INFO nova.api.openstack.wsgi [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\n2016-08-09 11:40:32.223 24100 DEBUG nova.api.openstack.wsgi [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] Returning 500 to user: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> __call__ /opt/stack/new/nova/nova/api/openstack/wsgi.py:1044\n2016-08-09 11:40:32.226 24100 INFO nova.osapi_compute.wsgi.server [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] 127.0.0.1 \"GET /v2.1/2bc2e7102ac94b71b260036c5ec13d10/os-cells/child HTTP/1.1\" status: 500 len: 559 time: 60.0148242\n \nExpected result:\nInformation about defined cell is returned without errors.", 
    "tags": [
        "cells"
    ], 
    "importance": "Undecided", 
    "heat": 12, 
    "link": "https://bugs.launchpad.net/nova/+bug/1611447", 
    "owner": "None", 
    "id": 1611447, 
    "index": 7637, 
    "openned": "2016-08-09 16:23:31.941675+00:00", 
    "created": "2016-08-09 16:23:31.941675+00:00", 
    "title": "Nova showCellData request returns an 'Unexpected API Error'", 
    "comments": [
        {
            "content": "It has been reproduced against single-node devstack with cells enabled:\nENABLED_SERVICES=c-api,c-bak,c-sch,c-vol,cinder,dstat,g-api,g-reg,horizon,key,mysql,n-api,n-cell,n-cond,n-cpu,n-crt,n-net,n-obj,n-sch,rabbit,s-account,s-container,s-object,s-proxy,tempest\n\nnova.conf:\n[DEFAULT]\n...\ntransport_url = rabbit://stackrabbit:secretrabbit@127.0.0.1:5672/\n...\n[cells]\nname = region\ncell_type = api\nenable = True\n\nnova-cells.conf:\n[DEFAULT]\n...\ntransport_url = rabbit://stackrabbit:secretrabbit@127.0.0.1:5672/\n...\n[cells]\nname = child\ncell_type = compute\nenable = True\n\nThe http://developer.openstack.org/api-ref-compute-v2.1.html#listCells request has been successful and returned:\n\nstack@ubuntu:~$ TOKEN=$(openstack token issue | awk '/ id /{print $4}')\nstack@ubuntu:~$ NOVA_ENDPOINT=$(openstack endpoint show nova | awk '/ publicurl /{print $4}')\nstack@ubuntu:~$ TENANT_ID=$(openstack project show admin | awk '/ id /{print $4}')\nstack@ubuntu:~$ curl --include --request GET -H \"X-Auth-Token: $TOKEN\" -H \"Content-Type: application/json\" $NOVA_ENDPOINT/$TENANT_ID/os-cells\nHTTP/1.1 200 OK\nContent-Length: 117\nContent-Type: application/json\nOpenstack-Api-Version: compute 2.1\nX-Openstack-Nova-Api-Version: 2.1\nVary: OpenStack-API-Version\nVary: X-OpenStack-Nova-API-Version\nX-Compute-Request-Id: req-9d5ea58a-256f-42d3-bca6-c388e632ca02\nDate: Tue, 09 Aug 2016 15:38:31 GMT\n\n{\"cells\": [{\"username\": \"stackrabbit\", \"rpc_host\": \"127.0.0.1\", \"type\": \"child\", \"name\": \"child\", \"rpc_port\": 5672}]}\n\n(It's unexpected, that parent cell is absent both here and in 'cells' table of Nova DB, but can suggest that single-node configuration may affect it)\n\nAfter that I tried to send the http://developer.openstack.org/api-ref-compute-v2.1.html#showCellData request. The UUID of cell expected by this request isn't returned by previous one, and the 'uuid' field is absent in 'cells' Nova DB table:\nmysql> select * from cells;\n+---------------------+------------+------------+----+---------+---------------+--------------+-------+-----------+---------+-----------------------------------------------------------------------------------------------------+\n| created_at          | updated_at | deleted_at | id | api_url | weight_offset | weight_scale | name  | is_parent | deleted | transport_url                                                                                       |\n+---------------------+------------+------------+----+---------+---------------+--------------+-------+-----------+---------+-----------------------------------------------------------------------------------------------------+\n| 2016-08-08 15:26:43 | NULL       | NULL       |  1 | NULL    |             0 |            1 | child |         0 |       0 | rabbit://stackrabbit:secretrabbit@127.0.0.1:5672,stackrabbit:secretrabbit@127.0.0.1:5672/child_cell |\n+---------------------+------------+------------+----+---------+---------------+--------------+-------+-----------+---------+-----------------------------------------------------------------------------------------------------+\n1 row in set (0.00 sec)\n\nSo, let's try to get cell's info by its name, and the result is:\nstack@ubuntu:~/devstack$ curl --include --request GET -H \"X-Auth-Token: $TOKEN\" -H \"Content-Type: application/json\" $NOVA_ENDPOINT/$TENANT_ID/os-cells/child\nHTTP/1.1 500 Internal Server Error\nOpenstack-Api-Version: compute 2.1\nX-Openstack-Nova-Api-Version: 2.1\nVary: OpenStack-API-Versio\nVary: X-OpenStack-Nova-API-Version\nContent-Type: application/json; charset=UTF-8\nContent-Length: 216\nX-Compute-Request-Id: req-05f0f93a-c9ad-403b-ae3f-639b5f64d659\nDate: Tue, 09 Aug 2016 15:40:32 GMT\n\n{\"computeFault\": {\"message\": \"Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\", \"code\": 500}}\n\nAnd there is n-api.log trace:\n2016-08-09 11:39:32.215 24100 DEBUG nova.api.openstack.wsgi [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] Calling method '<bound method CellsController.show of <nova.api.openstack.compute.cells.CellsController object at 0x7f5ad1410f10>>' _process_stack /opt/stack/new/nova/nova/api/openstack/wsgi.py:636\n2016-08-09 11:39:32.217 24100 DEBUG oslo_messaging._drivers.amqpdriver [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] CALL msg_id: b34cb4c869444efba1ba76844208cfba exchange 'nova' topic 'cells' _send /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:448\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] Unexpected exception in API method\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/extensions.py\", line 338, in wrapped\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/common.py\", line 530, in inner\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     return function(*args, **kwargs)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/api/openstack/compute/cells.py\", line 164, in show\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     cell = self.cells_rpcapi.cell_get(context, id)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/opt/stack/new/nova/nova/cells/rpcapi.py\", line 492, in cell_get\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     return cctxt.call(ctxt, 'cell_get', cell_name=cell_name)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\", line 169, in call\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     retry=self.retry)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/transport.py\", line 96, in _send\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     timeout=timeout, retry=retry)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 464, in send\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     retry=retry)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 453, in _send\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     result = self._waiter.wait(msg_id, timeout)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 336, in wait\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     message = self.waiters.get(msg_id, timeout=timeout)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 238, in get\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions     'to message ID %s' % msg_id)\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions MessagingTimeout: Timed out waiting for a reply to message ID b34cb4c869444efba1ba76844208cfba\n2016-08-09 11:40:32.223 24100 ERROR nova.api.openstack.extensions \n2016-08-09 11:40:32.223 24100 INFO nova.api.openstack.wsgi [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\n2016-08-09 11:40:32.223 24100 DEBUG nova.api.openstack.wsgi [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] Returning 500 to user: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> __call__ /opt/stack/new/nova/nova/api/openstack/wsgi.py:1044\n2016-08-09 11:40:32.226 24100 INFO nova.osapi_compute.wsgi.server [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] 127.0.0.1 \"GET /v2.1/2bc2e7102ac94b71b260036c5ec13d10/os-cells/child HTTP/1.1\" status: 500 len: 559 time: 60.0148242\n \nExpected result:\nInformation about defined cell is returned without errors.", 
            "date_created": "2016-08-09 16:23:31.941675+00:00", 
            "author": "https://api.launchpad.net/1.0/~ababich"
        }, 
        {
            "content": "What is in the n-cells log?", 
            "date_created": "2016-08-09 20:00:45.550511+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "", 
            "date_created": "2016-08-10 08:14:59.381224+00:00", 
            "author": "https://api.launchpad.net/1.0/~ababich"
        }, 
        {
            "content": "", 
            "date_created": "2016-08-10 08:15:30.914980+00:00", 
            "author": "https://api.launchpad.net/1.0/~ababich"
        }, 
        {
            "content": "Found a trace in n-cell-region.log:\n2016-08-09 11:39:32.230 24567 DEBUG oslo_messaging._drivers.amqpdriver [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] sending reply msg_id: b34cb4c869444efba1ba76844208cfba reply queue: reply_bf4f2fd40c694edc8aaa3a41b3e1f50c time elapsed: 0.0113621119963s _send_reply /usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py:73\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server [req-05f0f93a-c9ad-403b-ae3f-639b5f64d659 admin admin] Can not send reply for message\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server Traceback (most recent call last):\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/rpc/server.py\", line 146, in _process_incoming\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server     message.reply(res)\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 98, in reply\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server     self._send_reply(conn, reply, failure)\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 74, in _send_reply\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server     conn.direct_send(self.reply_q, rpc_common.serialize_msg(msg))\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server   File \"/usr/local/lib/python2.7/dist-packages/oslo_messaging/_drivers/common.py\", line 285, in serialize_msg\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server     _MESSAGE_KEY: jsonutils.dumps(raw_msg)}\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server   File \"/usr/local/lib/python2.7/dist-packages/oslo_serialization/jsonutils.py\", line 184, in dumps\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server     return json.dumps(obj, default=default, **kwargs)\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server   File \"/usr/lib/python2.7/json/__init__.py\", line 250, in dumps\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server     sort_keys=sort_keys, **kw).encode(obj)\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server   File \"/usr/lib/python2.7/json/encoder.py\", line 207, in encode\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server     chunks = self.iterencode(o, _one_shot=True)\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server   File \"/usr/lib/python2.7/json/encoder.py\", line 270, in iterencode\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server     return _iterencode(o, 0)\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server ValueError: Circular reference detected\n2016-08-09 11:39:32.231 24567 ERROR oslo_messaging.rpc.server\n\nIt looks like duplicate of https://bugs.launchpad.net/nova/+bug/1312002", 
            "date_created": "2016-08-10 08:28:41.042770+00:00", 
            "author": "https://api.launchpad.net/1.0/~ababich"
        }, 
        {
            "content": "Hy,\n\nI also saw this bug. \nUbuntu 16.04\nOpenstack Mitaka\nPackage: nova-cells\nVersion: 2:13.1.0-0ubuntu1\nPackage: python\nVersion: 2.7.11-1\n\ntop level cell host with nova-api and nova-cells\n\nnova-manage cell list\n Id  Name        Type    Username    Hostname         Port   VHost     \n---  ----------  ------  ----------  ---------------  -----  ----------\n  1  nova-cc01   child   rabbit_cell1  IP             5672   /         \n---  ----------  ------  ----------  ---------------  -----  ----------\n\n\nchild cell host with nova-cells nova-conductor nova-consoleauth nova-novncproxy nova- scheduler\n\nnova-manage cell list\n Id  Name        Type    Username    Hostname         Port   VHost     \n---  ----------  ------  ----------  ---------------  -----  ----------\n  1  nova-tlc01  parent  rabbit_api  IP               5672   /         \n---  ----------  ------  ----------  ---------------  -----  ----------\n\n\ncompute hosts with nova-compute\n\n", 
            "date_created": "2016-08-30 11:27:31.737706+00:00", 
            "author": "https://api.launchpad.net/1.0/~stefan-bujack"
        }, 
        {
            "content": "", 
            "date_created": "2016-08-30 11:28:08.896135+00:00", 
            "author": "https://api.launchpad.net/1.0/~stefan-bujack"
        }, 
        {
            "content": "", 
            "date_created": "2016-08-30 11:28:28.268077+00:00", 
            "author": "https://api.launchpad.net/1.0/~stefan-bujack"
        }, 
        {
            "content": "", 
            "date_created": "2016-08-30 11:28:44.291712+00:00", 
            "author": "https://api.launchpad.net/1.0/~stefan-bujack"
        }, 
        {
            "content": "", 
            "date_created": "2016-08-30 11:29:05.551185+00:00", 
            "author": "https://api.launchpad.net/1.0/~stefan-bujack"
        }
    ]
}