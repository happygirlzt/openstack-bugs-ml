{
    "status": "Fix Released", 
    "last_updated": "2013-10-17 11:54:26.055837+00:00", 
    "description": "A stacktrace gets generated in the log files when the security group quota limit is exceeded. Should handle the exception so the error is handled more gracefully\n\n24427316-tenant\u001b[00;32m] \u001b[01;35m\u001b[00;32mCalling method <bound method SecurityGroupController.create of <nova.api.openstack.compute.contrib.security_groups.SecurityGroupController object at 0x4a49790>>\u001b[00m \u001b[00;33mfrom (pid=10209) _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:922\u001b[00m\n2013-05-22 17:07:06.675 \u001b[01;31mERROR nova.api.openstack [\u001b[01;36mreq-492b7222-87cf-4329-9ebf-6944eb931a94 \u001b[00;36mQuotasAdminTestJSON1938133381-user QuotasAdminTestJSON24427316-tenant\u001b[01;31m] \u001b[01;35m\u001b[01;31mCaught error: Quota exceeded, too many security groups.\u001b[00m\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00mTraceback (most recent call last):\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 83, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return req.get_response(self.application)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1296, in send\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    application, catch_exc_info=False)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1260, in call_application\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    app_iter = application(self.environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return resp(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/python-keystoneclient/keystoneclient/middleware/auth_token.py\", line 456, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return self.app(env, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return resp(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return resp(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    response = self.app(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return resp(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    resp = self.call_func(req, *args, **self.kwargs)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return self.func(req, *args, **kwargs)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 899, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    content_type, body, accept)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 953, in _process_stack\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    action_result = self.dispatch(meth, request, action_args)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 1032, in dispatch\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return method(req=request, **action_args)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/compute/contrib/security_groups.py\", line 293, in create\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    context, group_name, group_description)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/compute/api.py\", line 2879, in create_security_group\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    self.raise_over_quota(msg)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/compute/contrib/security_groups.py\", line 620, in raise_over_quota\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    raise exception.SecurityGroupLimitExceeded(msg)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00mSecurityGroupLimitExceeded: Quota exceeded, too many security groups.\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m", 
    "tags": [
        "stacktrace"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1182859", 
    "owner": "https://api.launchpad.net/1.0/~cyeoh-0", 
    "id": 1182859, 
    "index": 4941, 
    "openned": "2013-05-22 11:35:35.322471+00:00", 
    "created": "2013-05-22 11:35:35.322471+00:00", 
    "title": "stacktrace when security groups quote exceeded", 
    "comments": [
        {
            "content": "A stacktrace gets generated in the log files when the security group quota limit is exceeded. Should handle the exception so the error is handled more gracefully\n\n24427316-tenant\u001b[00;32m] \u001b[01;35m\u001b[00;32mCalling method <bound method SecurityGroupController.create of <nova.api.openstack.compute.contrib.security_groups.SecurityGroupController object at 0x4a49790>>\u001b[00m \u001b[00;33mfrom (pid=10209) _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:922\u001b[00m\n2013-05-22 17:07:06.675 \u001b[01;31mERROR nova.api.openstack [\u001b[01;36mreq-492b7222-87cf-4329-9ebf-6944eb931a94 \u001b[00;36mQuotasAdminTestJSON1938133381-user QuotasAdminTestJSON24427316-tenant\u001b[01;31m] \u001b[01;35m\u001b[01;31mCaught error: Quota exceeded, too many security groups.\u001b[00m\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00mTraceback (most recent call last):\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 83, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return req.get_response(self.application)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1296, in send\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    application, catch_exc_info=False)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/request.py\", line 1260, in call_application\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    app_iter = application(self.environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return resp(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/python-keystoneclient/keystoneclient/middleware/auth_token.py\", line 456, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return self.app(env, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return resp(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return resp(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/routes/middleware.py\", line 131, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    response = self.app(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 144, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return resp(environ, start_response)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 130, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    resp = self.call_func(req, *args, **self.kwargs)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/usr/local/lib/python2.7/dist-packages/webob/dec.py\", line 195, in call_func\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return self.func(req, *args, **kwargs)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 899, in __call__\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    content_type, body, accept)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 953, in _process_stack\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    action_result = self.dispatch(meth, request, action_args)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 1032, in dispatch\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    return method(req=request, **action_args)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/compute/contrib/security_groups.py\", line 293, in create\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    context, group_name, group_description)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/compute/api.py\", line 2879, in create_security_group\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    self.raise_over_quota(msg)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m  File \"/opt/stack/nova/nova/api/openstack/compute/contrib/security_groups.py\", line 620, in raise_over_quota\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m    raise exception.SecurityGroupLimitExceeded(msg)\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00mSecurityGroupLimitExceeded: Quota exceeded, too many security groups.\n\u001b[01;31m2013-05-22 17:07:06.675 TRACE nova.api.openstack \u001b[01;35m\u001b[00m", 
            "date_created": "2013-05-22 11:35:35.322471+00:00", 
            "author": "https://api.launchpad.net/1.0/~cyeoh-0"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/30095", 
            "date_created": "2013-05-22 11:44:17.712527+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/30095\nCommitted: http://github.com/openstack/nova/commit/bc0a05dd4aa5e1eb104efd63fda7bbe939bc7cbe\nSubmitter: Jenkins\nBranch:    master\n\ncommit bc0a05dd4aa5e1eb104efd63fda7bbe939bc7cbe\nAuthor: Chris Yeoh <email address hidden>\nDate:   Wed May 22 21:10:03 2013 +0930\n\n    Handle security group quota exceeded gracefully\n    \n    Handle the security group quota exceeded more gracefully so a\n    traceback is not generated in the log files when this error\n    occurs. This does not change the API as the HTTP status code\n    returned remains the same.\n    \n    Fixes bug 1182859\n    \n    Change-Id: Id3ac513048751759f01b328482b4f02e26ff66ee\n", 
            "date_created": "2013-06-11 10:37:00.294790+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2013-07-17 12:32:42.396035+00:00"
}