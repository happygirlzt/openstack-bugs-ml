{
    "status": "Invalid", 
    "last_updated": "2016-12-14 07:45:14.396861+00:00", 
    "description": "2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] DBAPIError exception wrapped from (pymysql.err.InternalError) (1927, u'Connection was killed') [SQL: u'SELECT 1']\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters Traceback (most recent call last):\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     context)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     cursor.execute(statement, parameters)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 146, in execute\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     result = self._query(query)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 296, in _query\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     conn.query(q)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 781, in query\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 942, in _read_query_result\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     result.read()\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 1138, in read\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     first_packet = self.connection._read_packet()\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 906, in _read_packet\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     packet.check_error()\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 367, in check_error\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     err.raise_mysql_exception(self._data)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/err.py\", line 120, in raise_mysql_exception\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     _check_mysql_exception(errinfo)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/err.py\", line 115, in _check_mysql_exception\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     raise InternalError(errno, errorvalue)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters InternalError: (1927, u'Connection was killed')\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] Unexpected exception in API method\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 194, in index\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     _services = self._get_services_list(req)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 87, in _get_services_list\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     _services = self._get_services(req)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 49, in _get_services\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     for s in self.host_api.service_get_all(context, set_zones=True)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 3717, in service_get_all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     set_zones=set_zones)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_versionedobjects/base.py\", line 181, in wrapper\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/objects/service.py\", line 406, in get_all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     db_services = db.service_get_all(context, disabled=disabled)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/api.py\", line 136, in service_get_all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return IMPL.service_get_all(context, disabled)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 315, in wrapped\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return f(context, *args, **kwargs)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 527, in service_get_all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return query.all()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2588, in all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return list(self)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2736, in __iter__\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return self._execute_and_instances(context)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2749, in _execute_and_instances\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     close_with_result=True)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2740, in _connection_from_session\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     **kw)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 905, in connection\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     execution_options=execution_options)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 910, in _connection_for_bind\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     engine, execution_options)2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 910, in _connection_for_bind\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     engine, execution_options)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 334, in _connection_for_bind\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     conn = bind.contextual_connect()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 2041, in contextual_connect\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     **kwargs)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 92, in __init__\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self.dispatch.engine_connect(self, self.__branch)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/event/attr.py\", line 256, in __call__\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     fn(*args, **kw)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py\", line 72, in _connect_ping_listener\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     connection.scalar(select([1]))\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 844, in scalar\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return self.execute(object, *multiparams, **params).scalar()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return meth(self, multiparams, params)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return connection._execute_clauseelement(self, multiparams, params)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     compiled_sql, distilled_params\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     context)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1334, in _handle_dbapi_exception\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._autorollback()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 791, in _autorollback\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._root._rollback_impl()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 670, in _rollback_impl\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._handle_dbapi_exception(e, None, None, None, None)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1266, in _handle_dbapi_exception\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     exc_info\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/util/compat.py\", line 200, in raise_from_cause\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     reraise(type(exception), exception, tb=exc_tb)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 668, in _rollback_impl\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self.engine.dialect.do_rollback(self.connection)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/dialects/mysql/base.py\", line 2526, in do_rollback\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     dbapi_connection.rollback()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 723, in rollback\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._execute_command(COMMAND.COM_QUERY, \"ROLLBACK\")\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 970, in _execute_command\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._write_bytes(prelude + sql[:chunk_size-1])\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 929, in _write_bytes\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     raise err.OperationalError(2006, \"MySQL server has gone away (%r)\" % (e,))\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions OperationalError: (pymysql.err.OperationalError) (2006, \"MySQL server has gone away (error(32, 'Broken pipe'))\")\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\n2016-11-16 19:44:18.984 2762 INFO nova.api.openstack.wsgi [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'sqlalchemy.exc.OperationalError'>\n2016-11-16 19:44:18.985 2762 INFO nova.osapi_compute.wsgi.server [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] 192.168.153.130 \"GET /v2.1/804207cd6c25496f92fa0f1d1c17d517/os-services HTTP/1.1\" status: 500 len: 507 time: 0.7481852", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1642234", 
    "owner": "None", 
    "id": 1642234, 
    "index": 7802, 
    "openned": "2016-11-16 11:58:29.952841+00:00", 
    "created": "2016-11-16 11:58:29.952841+00:00", 
    "title": "error nova.api.openstack.extensions", 
    "comments": [
        {
            "content": "2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] DBAPIError exception wrapped from (pymysql.err.InternalError) (1927, u'Connection was killed') [SQL: u'SELECT 1']\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters Traceback (most recent call last):\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     context)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     cursor.execute(statement, parameters)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 146, in execute\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     result = self._query(query)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 296, in _query\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     conn.query(q)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 781, in query\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 942, in _read_query_result\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     result.read()\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 1138, in read\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     first_packet = self.connection._read_packet()\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 906, in _read_packet\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     packet.check_error()\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 367, in check_error\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     err.raise_mysql_exception(self._data)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/err.py\", line 120, in raise_mysql_exception\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     _check_mysql_exception(errinfo)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/site-packages/pymysql/err.py\", line 115, in _check_mysql_exception\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters     raise InternalError(errno, errorvalue)\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters InternalError: (1927, u'Connection was killed')\n2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] Unexpected exception in API method\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 194, in index\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     _services = self._get_services_list(req)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 87, in _get_services_list\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     _services = self._get_services(req)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 49, in _get_services\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     for s in self.host_api.service_get_all(context, set_zones=True)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 3717, in service_get_all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     set_zones=set_zones)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_versionedobjects/base.py\", line 181, in wrapper\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/objects/service.py\", line 406, in get_all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     db_services = db.service_get_all(context, disabled=disabled)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/api.py\", line 136, in service_get_all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return IMPL.service_get_all(context, disabled)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 315, in wrapped\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return f(context, *args, **kwargs)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 527, in service_get_all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return query.all()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2588, in all\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return list(self)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2736, in __iter__\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return self._execute_and_instances(context)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2749, in _execute_and_instances\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     close_with_result=True)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2740, in _connection_from_session\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     **kw)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 905, in connection\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     execution_options=execution_options)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 910, in _connection_for_bind\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     engine, execution_options)2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 910, in _connection_for_bind\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     engine, execution_options)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 334, in _connection_for_bind\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     conn = bind.contextual_connect()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 2041, in contextual_connect\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     **kwargs)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 92, in __init__\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self.dispatch.engine_connect(self, self.__branch)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/event/attr.py\", line 256, in __call__\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     fn(*args, **kw)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py\", line 72, in _connect_ping_listener\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     connection.scalar(select([1]))\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 844, in scalar\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return self.execute(object, *multiparams, **params).scalar()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return meth(self, multiparams, params)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     return connection._execute_clauseelement(self, multiparams, params)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     compiled_sql, distilled_params\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     context)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1334, in _handle_dbapi_exception\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._autorollback()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 791, in _autorollback\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._root._rollback_impl()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 670, in _rollback_impl\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._handle_dbapi_exception(e, None, None, None, None)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1266, in _handle_dbapi_exception\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     exc_info\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/util/compat.py\", line 200, in raise_from_cause\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     reraise(type(exception), exception, tb=exc_tb)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 668, in _rollback_impl\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self.engine.dialect.do_rollback(self.connection)\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib64/python2.7/site-packages/sqlalchemy/dialects/mysql/base.py\", line 2526, in do_rollback\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     dbapi_connection.rollback()\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 723, in rollback\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._execute_command(COMMAND.COM_QUERY, \"ROLLBACK\")\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 970, in _execute_command\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     self._write_bytes(prelude + sql[:chunk_size-1])\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 929, in _write_bytes\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions     raise err.OperationalError(2006, \"MySQL server has gone away (%r)\" % (e,))\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions OperationalError: (pymysql.err.OperationalError) (2006, \"MySQL server has gone away (error(32, 'Broken pipe'))\")\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\n2016-11-16 19:44:18.984 2762 INFO nova.api.openstack.wsgi [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'sqlalchemy.exc.OperationalError'>\n2016-11-16 19:44:18.985 2762 INFO nova.osapi_compute.wsgi.server [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] 192.168.153.130 \"GET /v2.1/804207cd6c25496f92fa0f1d1c17d517/os-services HTTP/1.1\" status: 500 len: 507 time: 0.7481852", 
            "date_created": "2016-11-16 11:58:29.952841+00:00", 
            "author": "https://api.launchpad.net/1.0/~rocky0722"
        }, 
        {
            "content": "There is very little information in this bug report, like what release of nova are you using? What's the env topology? There is obviously a mysql connection failure, so you should probably investigate the mysql deployment / config / logs as that's what nova is failing on:\n\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions raise err.OperationalError(2006, \"MySQL server has gone away (%r)\" % (e,))\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions OperationalError: (pymysql.err.OperationalError) (2006, \"MySQL server has gone away (error(32, 'Broken pipe'))\")", 
            "date_created": "2016-11-16 16:38:27.764673+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Yes\uff0cyou are right.I have solve the problem. Thank you for your answer!\n\n\n\n\n-------- \u539f\u59cb\u4fe1\u606f --------\u7531\uff1a Matt Riedemann <email address hidden> \u65e5\u671f: 16/11/17  00:38  (GMT+08:00) \u6536\u4ef6\u4eba\uff1a rocky0722@163.com \u4e3b\u9898\uff1a [Bug 1642234] Re: error nova.api.openstack.extensions \nThere is very little information in this bug report, like what release\nof nova are you using? What's the env topology? There is obviously a\nmysql connection failure, so you should probably investigate the mysql\ndeployment / config / logs as that's what nova is failing on:\n\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions raise err.OperationalError(2006, \"MySQL server has gone away (%r)\" % (e,))\n2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions OperationalError: (pymysql.err.OperationalError) (2006, \"MySQL server has gone away (error(32, 'Broken pipe'))\")\n\n** Changed in: nova\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 Status: New => Invalid\n\n-- \nYou received this bug notification because you are subscribed to the bug\nreport.\nhttps://bugs.launchpad.net/bugs/1642234\n\nTitle:\n\u00a0 error nova.api.openstack.extensions\n\nStatus in OpenStack Compute (nova):\n\u00a0 Invalid\n\nBug description:\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] DBAPIError exception wrapped from (pymysql.err.InternalError) (1927, u'Connection was killed') [SQL: u'SELECT 1']\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters Traceback (most recent call last):\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 context)\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 cursor.execute(statement, parameters)\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 146, in execute\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 result = self._query(query)\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/cursors.py\", line 296, in _query\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 conn.query(q)\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 781, in query\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 942, in _read_query_result\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 result.read()\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 1138, in read\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 first_packet = self.connection._read_packet()\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 906, in _read_packet\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 packet.check_error()\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 367, in check_error\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 err.raise_mysql_exception(self._data)\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/err.py\", line 120, in raise_mysql_exception\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 _check_mysql_exception(errinfo)\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/err.py\", line 115, in _check_mysql_exception\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\u00a0\u00a0\u00a0\u00a0 raise InternalError(errno, errorvalue)\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters InternalError: (1927, u'Connection was killed')\n\u00a0 2016-11-16 19:44:18.942 2762 ERROR oslo_db.sqlalchemy.exc_filters\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] Unexpected exception in API method\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 return f(*args, **kwargs)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 194, in index\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 _services = self._get_services_list(req)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 87, in _get_services_list\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 _services = self._get_services(req)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/services.py\", line 49, in _get_services\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 for s in self.host_api.service_get_all(context, set_zones=True)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 3717, in service_get_all\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 set_zones=set_zones)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/oslo_versionedobjects/base.py\", line 181, in wrapper\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 result = fn(cls, context, *args, **kwargs)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/nova/objects/service.py\", line 406, in get_all\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 db_services = db.service_get_all(context, disabled=disabled)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/nova/db/api.py\", line 136, in service_get_all\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 return IMPL.service_get_all(context, disabled)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 315, in wrapped\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 return f(context, *args, **kwargs)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/nova/db/sqlalchemy/api.py\", line 527, in service_get_all\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 return query.all()\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2588, in all\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 return list(self)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2736, in __iter__\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 return self._execute_and_instances(context)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2749, in _execute_and_instances\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 close_with_result=True)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2740, in _connection_from_session\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 **kw)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 905, in connection\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 execution_options=execution_options)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 910, in _connection_for_bind\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 engine, execution_options)2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 910, in _connection_for_bind\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 engine, execution_options)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/orm/session.py\", line 334, in _connection_for_bind\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 conn = bind.contextual_connect()\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 2041, in contextual_connect\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 **kwargs)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 92, in __init__\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 self.dispatch.engine_connect(self, self.__branch)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/event/attr.py\", line 256, in __call__\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 fn(*args, **kw)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py\", line 72, in _connect_ping_listener\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 connection.scalar(select([1]))\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 844, in scalar\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 return self.execute(object, *multiparams, **params).scalar()\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 914, in execute\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 return meth(self, multiparams, params)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 return connection._execute_clauseelement(self, multiparams, params)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 compiled_sql, distilled_params\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 context)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1334, in _handle_dbapi_exception\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 self._autorollback()\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 791, in _autorollback\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 self._root._rollback_impl()\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 670, in _rollback_impl\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 self._handle_dbapi_exception(e, None, None, None, None)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1266, in _handle_dbapi_exception\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 exc_info\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/util/compat.py\", line 200, in raise_from_cause\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 reraise(type(exception), exception, tb=exc_tb)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/engine/base.py\", line 668, in _rollback_impl\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 self.engine.dialect.do_rollback(self.connection)\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib64/python2.7/site-packages/sqlalchemy/dialects/mysql/base.py\", line 2526, in do_rollback\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 dbapi_connection.rollback()\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 723, in rollback\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 self._execute_command(COMMAND.COM_QUERY, \"ROLLBACK\")\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 970, in _execute_command\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 self._write_bytes(prelude + sql[:chunk_size-1])\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0 File \"/usr/lib/python2.7/site-packages/pymysql/connections.py\", line 929, in _write_bytes\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\u00a0\u00a0\u00a0\u00a0 raise err.OperationalError(2006, \"MySQL server has gone away (%r)\" % (e,))\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions OperationalError: (pymysql.err.OperationalError) (2006, \"MySQL server has gone away (error(32, 'Broken pipe'))\")\n\u00a0 2016-11-16 19:44:18.958 2762 ERROR nova.api.openstack.extensions\n\u00a0 2016-11-16 19:44:18.984 2762 INFO nova.api.openstack.wsgi [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n\u00a0 <class 'sqlalchemy.exc.OperationalError'>\n\u00a0 2016-11-16 19:44:18.985 2762 INFO nova.osapi_compute.wsgi.server [req-3a504b21-c9c9-42e4-b246-9b506f47989b 33c709637a53464c9b459a80a64395c2 804207cd6c25496f92fa0f1d1c17d517 - - -] 192.168.153.130 \"GET /v2.1/804207cd6c25496f92fa0f1d1c17d517/os-services HTTP/1.1\" status: 500 len: 507 time: 0.7481852\n\nTo manage notifications about this bug go to:\nhttps://bugs.launchpad.net/nova/+bug/1642234/+subscriptions\n", 
            "date_created": "2016-11-16 17:31:53+00:00", 
            "author": "https://api.launchpad.net/1.0/~rocky0722"
        }, 
        {
            "content": "how to solve this problem\uff1f", 
            "date_created": "2016-12-14 07:45:13.216281+00:00", 
            "author": "https://api.launchpad.net/1.0/~wangjz"
        }
    ], 
    "closed": "2016-11-16 16:38:32.871556+00:00"
}