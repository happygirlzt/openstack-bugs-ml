{
    "status": "Fix Released", 
    "last_updated": "2013-04-04 11:00:46.095625+00:00", 
    "description": "Description:\n--------------\n\nWe are unable to create Flavor when Optional parameters \"swap\",  \"os-flavor-access:is_public\", \"rxtx_factor\", \"OS-FLV-EXT-DATA:ephemeral\" are not mentioned in the request body.\n\nThough the above mentioned paramters are optional, we get Bad Request on not giving these parameters in request body.\n\nEnvironment:\n--------------\nFolsom\n\nPython Nova client output for help:\n---------------------------------------\n\nrajalakshmi_ganesan@ubuntu:~$ nova help flavor-create\nusage: nova flavor-create [--ephemeral <ephemeral>] [--swap <swap>]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0[--rxtx-factor <factor>] [--is-public <is-public>]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<name> <id> <ram> <disk> <vcpus>\n\nCreate a new flavor\n\nPositional arguments:\n\u00a0\u00a0<name>                Name of the new flavor\n\u00a0\u00a0<id>                  Unique integer ID for the new flavor\n\u00a0\u00a0<ram>                 Memory size in MB\n\u00a0\u00a0<disk>                Disk size in GB\n\u00a0\u00a0<vcpus>               Number of vcpus\n\nOptional arguments:\n\u00a0\u00a0--ephemeral <ephemeral>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Ephemeral space size in GB (default 0)\n\u00a0\u00a0--swap <swap>         Swap space size in MB (default 0)\n\u00a0\u00a0--rxtx-factor <factor>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0RX/TX factor (default 1)\n\u00a0\u00a0--is-public <is-public>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Make flavor accessible to the public (default true)\nrajalakshmi_ganesan@ubuntu:~$\n\nCURL COMMAND OUTPUTS:\n--------------------------------\n\n1. REQUEST WITHOUT OPTIONAL PARAMETERS\n\nrajalakshmi_ganesan@ubuntu:~$ curl -i http://15.184.64.226:8774/v2/25ecbf309f7748c6a173fabf2a673a65/flavors -X POST -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"X-Auth-Token: 0b78256729a848559f7a9a45e24ef554\" -d '{\"flavor\": {\"disk\": 10, \"vcpus\": 2, \"ram\": 1024, \"name\": \"flavor-122\", \"id\": 122}}'\nHTTP/1.1 400 Bad Request\nContent-Length: 141\nContent-Type: application/json; charset=UTF-8\nX-Compute-Request-Id: req-2d7629b4-4ad5-4d50-9fb8-8bb032e4147f\nDate: Wed, 26 Sep 2012 14:23:19 GMT\n\n{\"badRequest\": {\"message\": \"The server could not comply with the request since it is either malformed or otherwise incorrect.\", \"code\": 400}}rajalakshmi_ganesan@ubuntu:~$\nrajalakshmi_ganesan@ubuntu:~$\n\n2. REQUEST WITH OPTIONAL PARAMETERS\n\nrajalakshmi_ganesan@ubuntu:~$ curl -i http://15.184.64.226:8774/v2/25ecbf309f7748c6a173fabf2a673a65/flavors -X POST -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"X-Auth-Token: 0b78256729a848559f7a9a45e24ef554\" -d '{\"flavor\": {\"disk\": 10, \"vcpus\": 2, \"ram\": 1024, \"name\": \"PS_flavor\", \"id\": 333, \"swap\": 22, \"os-flavor-access:is_public\": true, \"rxtx_factor\": 2, \"OS-FLV-EXT-DATA:ephemeral\": 2}}'\nHTTP/1.1 200 OK\nX-Compute-Request-Id: req-36287256-1c99-4939-a72b-be741b8fcf63\nContent-Type: application/json\nContent-Length: 432\nDate: Wed, 26 Sep 2012 14:28:12 GMT\n\n{\"flavor\": {\"name\": \"PS_flavor\", \"links\": [{\"href\": \"http://15.184.64.226:8774/v2/25ecbf309f7748c6a173fabf2a673a65/flavors/333\", \"rel\": \"self\"}, {\"href\": \"http://15.184.64.226:8774/25ecbf309f7748c6a173fabf2a673a65/flavors/333\", \"rel\": \"bookmark\"}], \"ram\": 1024, \"OS-FLV-DISABLED:disabled\": false, \"vcpus\": 2, \"swap\": 22, \"os-flavor-access:is_public\": true, \"rxtx_factor\": 2, \"OS-FLV-EXT-DATA:ephemeral\": 2, \"disk\": 10, \"id\": \"333\"}}rajalakshmi_ganesan@ubuntu:~$ nova flavor-list\n+-----+-----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+\n| ID  | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public | extra_specs |\n+-----+-----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+\n| 1   | m1.tiny   | 512       | 0    | 0         |      | 1     | 1.0         | True      | {}          |\n| 2   | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      | {}          |\n| 3   | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      | {}          |\n| 4   | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      | {}          |\n| 5   | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      | {}          |\n| 12  | flavor-12 | 1024      | 10   | 2         | 512  | 2     | 1.0         | True      | {}          |\n| 333 | PS_flavor | 1024      | 10   | 2         | 22   | 2     | 2.0         | True      | {}          |\n+-----+-----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/1056910", 
    "owner": "https://api.launchpad.net/1.0/~sathish-nagappan", 
    "id": 1056910, 
    "index": 4387, 
    "openned": "2012-09-26 14:46:42.111822+00:00", 
    "created": "2012-09-26 14:46:42.111822+00:00", 
    "title": "Folsom - Unable to create flavor without optional parameters", 
    "comments": [
        {
            "content": "Description:\n--------------\n\nWe are unable to create Flavor when Optional parameters \"swap\",  \"os-flavor-access:is_public\", \"rxtx_factor\", \"OS-FLV-EXT-DATA:ephemeral\" are not mentioned in the request body.\n\nThough the above mentioned paramters are optional, we get Bad Request on not giving these parameters in request body.\n\nEnvironment:\n--------------\nFolsom\n\n\nPython Nova client output for help:\n---------------------------------------\n\nrajalakshmi_ganesan@ubuntu:~$ nova help flavor-create\nusage: nova flavor-create [--ephemeral <ephemeral>] [--swap <swap>]\n                          [--rxtx-factor <factor>] [--is-public <is-public>]\n                          <name> <id> <ram> <disk> <vcpus>\n\nCreate a new flavor\n\nPositional arguments:\n  <name>                Name of the new flavor\n  <id>                  Unique integer ID for the new flavor\n  <ram>                 Memory size in MB\n  <disk>                Disk size in GB\n  <vcpus>               Number of vcpus\n\nOptional arguments:\n  --ephemeral <ephemeral>\n                        Ephemeral space size in GB (default 0)\n  --swap <swap>         Swap space size in MB (default 0)\n  --rxtx-factor <factor>\n                        RX/TX factor (default 1)\n  --is-public <is-public>\n                        Make flavor accessible to the public (default true)\nrajalakshmi_ganesan@ubuntu:~$\n\n\nCURL COMMAND OUTPUTS:\n--------------------------------\n\n1. REQUEST WITHOUT OPTIONAL PARAMETERS\n\n\nrajalakshmi_ganesan@ubuntu:~$ curl -i http://15.184.64.226:8774/v2/25ecbf309f7748c6a173fabf2a673a65/flavors -X POST -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"X-Auth-Token: 0b78256729a848559f7a9a45e24ef554\" -d '{\"flavor\": {\"disk\": 10, \"vcpus\": 2, \"ram\": 1024, \"name\": \"flavor-122\", \"id\": 122}}'\nHTTP/1.1 400 Bad Request\nContent-Length: 141\nContent-Type: application/json; charset=UTF-8\nX-Compute-Request-Id: req-2d7629b4-4ad5-4d50-9fb8-8bb032e4147f\nDate: Wed, 26 Sep 2012 14:23:19 GMT\n\n{\"badRequest\": {\"message\": \"The server could not comply with the request since it is either malformed or otherwise incorrect.\", \"code\": 400}}rajalakshmi_ganesan@ubuntu:~$\nrajalakshmi_ganesan@ubuntu:~$\n\n\n2. REQUEST WITHOUT OPTIONAL PARAMETERS\n\n\nrajalakshmi_ganesan@ubuntu:~$ curl -i http://15.184.64.226:8774/v2/25ecbf309f7748c6a173fabf2a673a65/flavors -X POST -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"X-Auth-Token: 0b78256729a848559f7a9a45e24ef554\" -d '{\"flavor\": {\"disk\": 10, \"vcpus\": 2, \"ram\": 1024, \"name\": \"PS_flavor\", \"id\": 333, \"swap\": 22, \"os-flavor-access:is_public\": true, \"rxtx_factor\": 2, \"OS-FLV-EXT-DATA:ephemeral\": 2}}'\nHTTP/1.1 200 OK\nX-Compute-Request-Id: req-36287256-1c99-4939-a72b-be741b8fcf63\nContent-Type: application/json\nContent-Length: 432\nDate: Wed, 26 Sep 2012 14:28:12 GMT\n\n{\"flavor\": {\"name\": \"PS_flavor\", \"links\": [{\"href\": \"http://15.184.64.226:8774/v2/25ecbf309f7748c6a173fabf2a673a65/flavors/333\", \"rel\": \"self\"}, {\"href\": \"http://15.184.64.226:8774/25ecbf309f7748c6a173fabf2a673a65/flavors/333\", \"rel\": \"bookmark\"}], \"ram\": 1024, \"OS-FLV-DISABLED:disabled\": false, \"vcpus\": 2, \"swap\": 22, \"os-flavor-access:is_public\": true, \"rxtx_factor\": 2, \"OS-FLV-EXT-DATA:ephemeral\": 2, \"disk\": 10, \"id\": \"333\"}}rajalakshmi_ganesan@ubuntu:~$ nova flavor-list\n+-----+-----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+\n| ID  | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public | extra_specs |\n+-----+-----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+\n| 1   | m1.tiny   | 512       | 0    | 0         |      | 1     | 1.0         | True      | {}          |\n| 2   | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      | {}          |\n| 3   | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      | {}          |\n| 4   | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      | {}          |\n| 5   | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      | {}          |\n| 12  | flavor-12 | 1024      | 10   | 2         | 512  | 2     | 1.0         | True      | {}          |\n| 333 | PS_flavor | 1024      | 10   | 2         | 22   | 2     | 2.0         | True      | {}          |\n+-----+-----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+", 
            "date_created": "2012-09-26 14:46:42.111822+00:00", 
            "author": "https://api.launchpad.net/1.0/~rajalakshmi-ganesan"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/14547", 
            "date_created": "2012-10-18 22:18:05.061612+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/14548", 
            "date_created": "2012-10-18 22:22:37.192867+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/14548\nCommitted: http://github.com/openstack/nova/commit/62a4aa3e8f6ed7336dd94a82ead81490e42a9622\nSubmitter: Jenkins\nBranch:    master\n\ncommit 62a4aa3e8f6ed7336dd94a82ead81490e42a9622\nAuthor: Sathish Nagappan <email address hidden>\nDate:   Thu Oct 18 05:00:47 2012 -0700\n\n    Create Flavors without Optional Arguments\n    \n    fixes Bug #1056910\n    \n    Allows the user to create a flavor without optional arguments.\n    The variable, ephemeral, is not currently set to a default value.\n    This none type value causes exceptions in subsequent code, which\n    occurs when specifying only mandatory parameters.\n    \n    Change-Id: Ic440136b000dc296bef3bb6f8b0856ff5e7e4e79\n", 
            "date_created": "2012-10-22 20:33:12.105159+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2012-11-21 10:01:34.555058+00:00"
}