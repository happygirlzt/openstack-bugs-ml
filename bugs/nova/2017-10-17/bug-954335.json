{
    "status": "Won't Fix", 
    "last_updated": "2015-08-02 23:09:51.673582+00:00", 
    "description": "$ cloud-publish-image --type kernel --rename my-kernel.img amd64 my.img my-bucket\naki-0000000f    my-bucket/my-kernel.img.manifest.xml\n$ cloud-publish-image --type ramdisk --rename my-ramdisk.img amd64 my.img my-bucket\nari-00000010    my-bucket/my-ramdisk.img.manifest.xml\n$ cloud-publish-image --type image --rename my-image-01.img amd64 my.img my-bucket\nami-00000011    my-bucket/my-image-01.img.manifest.xml\n$ euca-register my-bucket/my-image-01.img.manifest.xml --kernel aki-0000000f --ramdisk ari-00000010 --name my-bucket/my-image-01-with-kenrel-ramdisk.img\nIMAGE   ami-00000012\n\n$ euca-describe-images ami-00000012\nIMAGE   ami-00000012    my-bucket/my-image-01.img.manifest.xml          available       private         x86_64  machine                 instance-store\n\nHowever, if you pass --kernel/--ramdisk the first time you register that s3 location, then it works.\n$ cloud-publish-image --type image --rename my-image-02.img amd64 my.img my-bucket --kernel aki-0000000f --ramdisk ari-00000010\nami-00000013    my-bucket/my-image-02.img.manifest.xml\n$ euca-describe-images ami-00000013\nIMAGE   ami-00000013    my-bucket/my-image-02.img.manifest.xml          available       private         x86_64  machine aki-0000000f    ari-00000010    instance-store\n\nThe desired behavior is basically to re-register that s3 location but with different kernel/ramdisk (or --name) parameters.\n\n\nEuca-describe-images shows the following:\n$ euca-describe-images | grep my-bucket/\nIMAGE   aki-0000000f    my-bucket/my-kernel.img.manifest.xml               available       private         x86_64  kernel                  instance-store\nIMAGE   ari-00000010    my-bucket/my-ramdisk.img.manifest.xml              available       private         x86_64  ramdisk                 instance-store\nIMAGE   ami-00000011    my-bucket/my-image-01.img.manifest.xml             available       private         x86_64  machine                 instance-store\nIMAGE   ami-00000012    my-bucket/my-image-01.img.manifest.xml             available       private         x86_64  machine                 instance-store\nIMAGE   ami-00000013    my-bucket/my-image-02.img.manifest.xml             available       private         x86_64  machine aki-0000000f    ari-00000010    instance-store\n\n\n$ glance index </dev/null | grep my-bucket\n09e381db-4281-4678-9c4b-854158148643 my-bucket/my-image-02.img      ami                  ami                        10485760\nf90dd1a9-301c-4ee9-9636-af1fd2454872 my-bucket/my-image-01-with-ken ami                  ami                        10485760\n4799f149-0d04-4b5a-bd2a-f0bf96e97a1d my-bucket/my-image-01.img      ami                  ami                        10485760\n909651a3-e3c1-4858-946e-17433ef73aed my-bucket/my-ramdisk.img       ari                  ari                        10485760\n228a64fd-dadc-4cec-9954-92fef2251413 my-bucket/my-kernel.img        aki                  aki                        10485760", 
    "tags": [
        "ec2"
    ], 
    "importance": "Medium", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/954335", 
    "owner": "None", 
    "id": 954335, 
    "index": 2805, 
    "openned": "2012-03-13 19:05:10.736710+00:00", 
    "created": "2012-03-13 19:05:10.736710+00:00", 
    "title": "registering new image from existing s3 location does not respect kernel/ramdisk/name", 
    "comments": [
        {
            "content": "$ cloud-publish-image --type kernel --rename my-kernel.img amd64 my.img my-bucket\naki-0000000f    my-bucket/my-kernel.img.manifest.xml\n$ cloud-publish-image --type ramdisk --rename my-ramdisk.img amd64 my.img my-bucket\nari-00000010    my-bucket/my-ramdisk.img.manifest.xml\n$ cloud-publish-image --type image --rename my-image-01.img amd64 my.img my-bucket\nami-00000011    my-bucket/my-image-01.img.manifest.xml\n$ euca-register my-bucket/my-image-01.img.manifest.xml --kernel aki-0000000f --ramdisk ari-00000010 --name my-bucket/my-image-01-with-kenrel-ramdisk.img\nIMAGE   ami-00000012\n\n$ euca-describe-images ami-00000012\nIMAGE   ami-00000012    my-bucket/my-image-01.img.manifest.xml          available       private         x86_64  machine                 instance-store\n\nHowever, if you pass --kernel/--ramdisk the first time you register that s3 location, then it works.\n$ cloud-publish-image --type image --rename my-image-02.img amd64 my.img my-bucket --kernel aki-0000000f --ramdisk ari-00000010\nami-00000013    my-bucket/my-image-02.img.manifest.xml\n$ euca-describe-images ami-00000013\nIMAGE   ami-00000013    my-bucket/my-image-02.img.manifest.xml          available       private         x86_64  machine aki-0000000f    ari-00000010    instance-store\n\nThe desired behavior is basically to re-register that s3 location but with different kernel/ramdisk (or --name) parameters.\n\n\nEuca-describe-images shows the following:\n$ euca-describe-images | grep my-bucket/\nIMAGE   aki-0000000f    my-bucket/my-kernel.img.manifest.xml               available       private         x86_64  kernel                  instance-store\nIMAGE   ari-00000010    my-bucket/my-ramdisk.img.manifest.xml              available       private         x86_64  ramdisk                 instance-store\nIMAGE   ami-00000011    my-bucket/my-image-01.img.manifest.xml             available       private         x86_64  machine                 instance-store\nIMAGE   ami-00000012    my-bucket/my-image-01.img.manifest.xml             available       private         x86_64  machine                 instance-store\nIMAGE   ami-00000013    my-bucket/my-image-02.img.manifest.xml             available       private         x86_64  machine aki-0000000f    ari-00000010    instance-store\n\n\n$ glance index </dev/null | grep my-bucket\n09e381db-4281-4678-9c4b-854158148643 my-bucket/my-image-02.img      ami                  ami                        10485760\nf90dd1a9-301c-4ee9-9636-af1fd2454872 my-bucket/my-image-01-with-ken ami                  ami                        10485760\n4799f149-0d04-4b5a-bd2a-f0bf96e97a1d my-bucket/my-image-01.img      ami                  ami                        10485760\n909651a3-e3c1-4858-946e-17433ef73aed my-bucket/my-ramdisk.img       ari                  ari                        10485760\n228a64fd-dadc-4cec-9954-92fef2251413 my-bucket/my-kernel.img        aki                  aki                        10485760", 
            "date_created": "2012-03-13 19:05:10.736710+00:00", 
            "author": "https://api.launchpad.net/1.0/~smoser"
        }, 
        {
            "content": "it works in stackforge/ec2api project", 
            "date_created": "2015-04-18 01:38:49.955783+00:00", 
            "author": "https://api.launchpad.net/1.0/~apavlov-e"
        }
    ], 
    "closed": "2015-08-02 23:09:49.111035+00:00"
}