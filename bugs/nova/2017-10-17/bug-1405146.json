{
    "status": "Invalid", 
    "last_updated": "2015-01-29 11:31:48.642173+00:00", 
    "description": "2014.2.1 deployed by packstack on CentOS 7.\n\nI completely disabled security groups in both neutron (ml2 plugin) and nova:\n\n* /etc/neutron/plugin.ini\nenable_security_group = False\n\n* /etc/neutron/plugins/linuxbridge/linuxbridge_conf.ini\nfirewall_driver=neutron.agent.firewall.NoopFirewallDriver\n\n* /etc/nova/nova.conf\nsecurity_group_api=neutron\nfirewall_driver=nova.virt.firewall.NoopFirewallDriver\n\n[root@juno1 ~(keystone_admin)]# nova boot --flavor m1.small --image fedora-21 --nic net-id=\"5d37cd0b-7ad4-439e-a0f9-a4a430ff696b\" fedora-test\n\nFrom the nova-compute log instance creation fails with:\n\n2014-12-23 14:21:26.747 13009 ERROR nova.compute.manager [-] [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] Instance failed to spawn\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] Traceback (most recent call last):\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2243, in _build_resources\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     yield resources\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2113, in _build_and_run_ins\ntance\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     block_device_info=block_device_info)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2615, in spawn\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     admin_pass=admin_password)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 3096, in _create_image\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     instance, network_info, admin_pass, files, suffix)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2893, in _inject_data\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     network_info, libvirt_virt_type=CONF.libvirt.virt_type)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/virt/netutils.py\", line 87, in get_injected_network_t\nemplate\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     if not (network_info and template):\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 463, in __len__\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     return self._sync_wrapper(fn, *args, **kwargs)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 450, in _sync_wrapper\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     self.wait()\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 482, in wait\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     self[:] = self._gt.wait()\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 173, in wait\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     return self._exit_event.wait()\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 125, in wait\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     current.throw(*self._exc)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 212, in main\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     result = function(*args, **kwargs)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1643, in _allocate_network_\nasync\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     dhcp_options=dhcp_options)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 346, in allocate_for_\ninstance\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     **search_opts).get('security_groups')\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 98, in with_params\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     ret = self.function(instance, *args, **kwargs)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 480, in list_security_\ngroups\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     retrieve_all, **_params)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1334, in list\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     for r in self._pagination(collection, path, **params):\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1347, in _pagination\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     res = self.get(path, params=params)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1320, in get\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     headers=headers, params=params)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1297, in retry_request\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     headers=headers, params=params)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1251, in do_request\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     self._handle_fault_response(status_code, replybody)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1216, in _handle_fault_response\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     exception_handler_v20(status_code, des_error_body)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 79, in exception_handler_v20\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     message=message)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] NeutronClientException: 404 Not Found\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] \n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] The resource could not be found.\n\nIn nova-conductor log:\n\n2014-12-23 14:20:43.443 4099 ERROR nova.scheduler.utils [req-9448159c-0f04-4bb9-b31f-c1f0e856e84c None] [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] Error from last host: juno5 (node juno5): [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2030, in _do_build_and_run_instance\\n    filter_properties)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2161, in _build_and_run_instance\\n    instance_uuid=instance.uuid, reason=six.text_type(e))\\n', u'RescheduledException: Build of instance 11d26eca-049c-415c-b74b-70a6e0ffb6c9 was re-scheduled: 404 Not Found\\n\\nThe resource could not be found.\\n\\n   \\n']\n\nHowever, the instance status is stuck on BUILD:\n\n[root@juno1 ~(keystone_admin)]# nova show 11d26eca-049c-415c-b74b-70a6e0ffb6c9\n+--------------------------------------+----------------------------------------------------------+\n| Property                             | Value                                                    |\n+--------------------------------------+----------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                   |\n| OS-EXT-AZ:availability_zone          | nova                                                     |\n| OS-EXT-SRV-ATTR:host                 | juno5                                                    |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | juno5                                                    |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000005                                        |\n| OS-EXT-STS:power_state               | 0                                                        |\n| OS-EXT-STS:task_state                | -                                                        |\n| OS-EXT-STS:vm_state                  | building                                                 |\n| OS-SRV-USG:launched_at               | -                                                        |\n| OS-SRV-USG:terminated_at             | -                                                        |\n| accessIPv4                           |                                                          |\n| accessIPv6                           |                                                          |\n| config_drive                         |                                                          |\n| created                              | 2014-12-23T11:20:37Z                                     |\n| flavor                               | m1.small (2)                                             |\n| hostId                               | f307dffec204bf174af86c470edc4ffc6ddf47f2945d103b9694cdbf |\n| id                                   | 11d26eca-049c-415c-b74b-70a6e0ffb6c9                     |\n| image                                | fedora-21 (ddeebb26-ee9d-4f98-adf3-241c5e7e8be2)         |\n| key_name                             | -                                                        |\n| metadata                             | {}                                                       |\n| name                                 | fedora-test                                              |\n| os-extended-volumes:volumes_attached | []                                                       |\n| progress                             | 0                                                        |\n| status                               | BUILD                                                    |\n| tenant_id                            | 05732ceabcaf440593b7f7e8c695f829                         |\n| updated                              | 2014-12-23T11:20:43Z                                     |\n| user_id                              | c8ffb935e7f3495593ee73a1f1d3f17f                         |\n+--------------------------------------+----------------------------------------------------------+", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1405146", 
    "owner": "None", 
    "id": 1405146, 
    "index": 6612, 
    "openned": "2014-12-23 11:40:25.040785+00:00", 
    "created": "2014-12-23 11:40:25.040785+00:00", 
    "title": "cannot create instance if security groups are disabled", 
    "comments": [
        {
            "content": "2014.2.1 deployed by packstack on CentOS 7.\n\nI completely disabled security groups in both neutron (ml2 plugin) and nova:\n\n* /etc/neutron/plugin.ini\nenable_security_group = False\n\n* /etc/neutron/plugins/linuxbridge/linuxbridge_conf.ini\nfirewall_driver=neutron.agent.firewall.NoopFirewallDriver\n\n* /etc/nova/nova.conf\nsecurity_group_api=neutron\nfirewall_driver=nova.virt.firewall.NoopFirewallDriver\n\n[root@juno1 ~(keystone_admin)]# nova boot --flavor m1.small --image fedora-21 --nic net-id=\"5d37cd0b-7ad4-439e-a0f9-a4a430ff696b\" fedora-test\n\nFrom the nova-compute log instance creation fails with:\n\n2014-12-23 14:21:26.747 13009 ERROR nova.compute.manager [-] [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] Instance failed to spawn\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] Traceback (most recent call last):\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2243, in _build_resources\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     yield resources\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2113, in _build_and_run_ins\ntance\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     block_device_info=block_device_info)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2615, in spawn\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     admin_pass=admin_password)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 3096, in _create_image\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     instance, network_info, admin_pass, files, suffix)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 2893, in _inject_data\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     network_info, libvirt_virt_type=CONF.libvirt.virt_type)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/virt/netutils.py\", line 87, in get_injected_network_t\nemplate\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     if not (network_info and template):\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 463, in __len__\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     return self._sync_wrapper(fn, *args, **kwargs)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 450, in _sync_wrapper\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     self.wait()\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/network/model.py\", line 482, in wait\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     self[:] = self._gt.wait()\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 173, in wait\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     return self._exit_event.wait()\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/eventlet/event.py\", line 125, in wait\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     current.throw(*self._exc)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/eventlet/greenthread.py\", line 212, in main\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     result = function(*args, **kwargs)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1643, in _allocate_network_\nasync\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     dhcp_options=dhcp_options)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py\", line 346, in allocate_for_\ninstance\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     **search_opts).get('security_groups')\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 98, in with_params\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     ret = self.function(instance, *args, **kwargs)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 480, in list_security_\ngroups\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     retrieve_all, **_params)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1334, in list\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     for r in self._pagination(collection, path, **params):\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1347, in _pagination\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     res = self.get(path, params=params)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1320, in get\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     headers=headers, params=params)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1297, in retry_request\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     headers=headers, params=params)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1251, in do_request\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     self._handle_fault_response(status_code, replybody)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 1216, in _handle_fault_response\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     exception_handler_v20(status_code, des_error_body)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]   File \"/usr/lib/python2.7/site-packages/neutronclient/v2_0/client.py\", line 79, in exception_handler_v20\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9]     message=message)\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] NeutronClientException: 404 Not Found\n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] \n2014-12-23 14:21:26.747 13009 TRACE nova.compute.manager [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] The resource could not be found.\n\nIn nova-conductor log:\n\n2014-12-23 14:20:43.443 4099 ERROR nova.scheduler.utils [req-9448159c-0f04-4bb9-b31f-c1f0e856e84c None] [instance: 11d26eca-049c-415c-b74b-70a6e0ffb6c9] Error from last host: juno5 (node juno5): [u'Traceback (most recent call last):\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2030, in _do_build_and_run_instance\\n    filter_properties)\\n', u'  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2161, in _build_and_run_instance\\n    instance_uuid=instance.uuid, reason=six.text_type(e))\\n', u'RescheduledException: Build of instance 11d26eca-049c-415c-b74b-70a6e0ffb6c9 was re-scheduled: 404 Not Found\\n\\nThe resource could not be found.\\n\\n   \\n']\n\nHowever, the instance status is stuck on BUILD:\n\n[root@juno1 ~(keystone_admin)]# nova show 11d26eca-049c-415c-b74b-70a6e0ffb6c9\n+--------------------------------------+----------------------------------------------------------+\n| Property                             | Value                                                    |\n+--------------------------------------+----------------------------------------------------------+\n| OS-DCF:diskConfig                    | MANUAL                                                   |\n| OS-EXT-AZ:availability_zone          | nova                                                     |\n| OS-EXT-SRV-ATTR:host                 | juno5                                                    |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | juno5                                                    |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000005                                        |\n| OS-EXT-STS:power_state               | 0                                                        |\n| OS-EXT-STS:task_state                | -                                                        |\n| OS-EXT-STS:vm_state                  | building                                                 |\n| OS-SRV-USG:launched_at               | -                                                        |\n| OS-SRV-USG:terminated_at             | -                                                        |\n| accessIPv4                           |                                                          |\n| accessIPv6                           |                                                          |\n| config_drive                         |                                                          |\n| created                              | 2014-12-23T11:20:37Z                                     |\n| flavor                               | m1.small (2)                                             |\n| hostId                               | f307dffec204bf174af86c470edc4ffc6ddf47f2945d103b9694cdbf |\n| id                                   | 11d26eca-049c-415c-b74b-70a6e0ffb6c9                     |\n| image                                | fedora-21 (ddeebb26-ee9d-4f98-adf3-241c5e7e8be2)         |\n| key_name                             | -                                                        |\n| metadata                             | {}                                                       |\n| name                                 | fedora-test                                              |\n| os-extended-volumes:volumes_attached | []                                                       |\n| progress                             | 0                                                        |\n| status                               | BUILD                                                    |\n| tenant_id                            | 05732ceabcaf440593b7f7e8c695f829                         |\n| updated                              | 2014-12-23T11:20:43Z                                     |\n| user_id                              | c8ffb935e7f3495593ee73a1f1d3f17f                         |\n+--------------------------------------+----------------------------------------------------------+", 
            "date_created": "2014-12-23 11:40:25.040785+00:00", 
            "author": "https://api.launchpad.net/1.0/~scsnow"
        }, 
        {
            "content": "I could reproduce the issue.\nBelow is the output of neutron security-group-list\n[vagrant@vagrant-fedora20 ~]$ neutron security-group-list\n404 Not Found\n\nThe resource could not be found.\n", 
            "date_created": "2014-12-23 13:01:32.266752+00:00", 
            "author": "https://api.launchpad.net/1.0/~numansiddique"
        }, 
        {
            "content": "I am not sure if the configuration you are using is correct. I think if you have set enable_security_group = False in neutron/ml2/plugin.ini, it means you are using nova security groups. So you should define security_group_api=nova in nova.conf.\nI am not an expert.  Nova experts can correct me if I am wrong.\n", 
            "date_created": "2014-12-23 13:25:11.930562+00:00", 
            "author": "https://api.launchpad.net/1.0/~numansiddique"
        }, 
        {
            "content": "So there is no way to disable security groups if I don't need them in both nova and neutron?", 
            "date_created": "2014-12-24 17:45:53.260639+00:00", 
            "author": "https://api.launchpad.net/1.0/~scsnow"
        }, 
        {
            "content": "I think you can set \"firewall_driver=neutron.agent.firewall.NoopFirewallDriver\" in neutron.conf or \"firewall_driver= nova.virt.firewall.NoopFirewallDriver\" in nova.conf which basically does nothing.\n\n", 
            "date_created": "2014-12-31 05:50:03.524961+00:00", 
            "author": "https://api.launchpad.net/1.0/~numansiddique"
        }
    ], 
    "closed": "2015-01-29 11:31:42.953159+00:00"
}