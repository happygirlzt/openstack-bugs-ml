{
    "status": "Expired", 
    "last_updated": "2017-05-21 04:17:40.186125+00:00", 
    "description": "Description\n===========\nI am unable to launch an instance which requests for 16vCPUs dedicated (CPU Pinning) and 232 GB of RAM. The request fails all the time with \"Filter NUMATopologyFilter returned 0 hosts\". The blade server has 28 vCPUs available and 240 GB of RAM available. \n\nPaste #603395 - Has the error and exception that I see in nova-all.log. \n\nThe blade server where I am trying to create this instance has the below configuration- \n\nroot@RTPCLABQPS1H-3-1:~# numactl --hardware\navailable: 2 nodes (0-1)\nnode 0 cpus: 0 1 2 3 4 5 6 7 8 9 20 21 22 23 24 25 26 27 28 29\nnode 0 size: 193386 MB\nnode 0 free: 186836 MB\nnode 1 cpus: 10 11 12 13 14 15 16 17 18 19 30 31 32 33 34 35 36 37 38 39\nnode 1 size: 193533 MB\nnode 1 free: 191822 MB\nnode distances:\nnode   0   1\n  0:  10  20\n  1:  20  10\nroot@RTPCLABQPS1H-3-1:~#\n\n\nSteps to reproduce\n==================\n1. Try to create instance using nova, web or heat - with 16 vCPUs and 232 GB RAM\n2. I receive an error that 0 Hosts are returned by NUMATOPOLOGY Filter\n    ~ nova --debug boot - complete log at http://paste.openstack.org/show/603398/\n\n\nExpected result\n===============\nThe instance should be created without any issue because the blade server has 28 vCPUs available and 240 GB RAM.\n\n\nActual result\n=============\nThe instance creation failed with- NUMATopology Filter Returned 0 Hosts\n\n\nEnvironment\n===========\n1. Openstack KILO\nroot@RTPCLABQPS1H-CC-A:/var/log/nova# dpkg -l | grep nova\nii  nova-api                            1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - compute API frontend\nii  nova-cert                           1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - certificate manager\nii  nova-common                         1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - common files\nii  nova-conductor                      1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - conductor service\nii  nova-consoleauth                    1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - Console Authenticator\nii  nova-consoleproxy                   1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - NoVNC proxy\nii  nova-objectstore                    1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - object store\nii  nova-scheduler                      1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - virtual machine scheduler\nii  python-nova                         1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - libraries\nii  python-novaclient                   1:2.23.0-1~u14.04+mos1247              all          client library for OpenStack Compute API\n\n2. Libvirt + KVM Version \nroot@RTPCLABQPS1H-3-1:~# kvm --version\nQEMU emulator version 2.4.0 (Debian 1:2.4+dfsg-ubuntu3), Copyright (c) 2003-2008 Fabrice Bellard\n\n3. Networking Type - Neutron \n\n4.", 
    "tags": [
        "numa"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1674300", 
    "owner": "None", 
    "id": 1674300, 
    "index": 8010, 
    "openned": "2017-03-20 11:55:10.208176+00:00", 
    "created": "2017-03-20 11:55:10.208176+00:00", 
    "title": "Cannot spin an instance because the NUMATopology Filter Returned 0 Hosts", 
    "comments": [
        {
            "content": "Description\n===========\nI am unable to launch an instance which requests for 16vCPUs dedicated (CPU Pinning) and 232 GB of RAM. The request fails all the time with \"Filter NUMATopologyFilter returned 0 hosts\". The blade server has 28 vCPUs available and 240 GB of RAM available. \n\nPaste #603395 - Has the error and exception that I see in nova-all.log. \n\nThe blade server where I am trying to create this instance has the below configuration- \n\nroot@RTPCLABQPS1H-3-1:~# numactl --hardware\navailable: 2 nodes (0-1)\nnode 0 cpus: 0 1 2 3 4 5 6 7 8 9 20 21 22 23 24 25 26 27 28 29\nnode 0 size: 193386 MB\nnode 0 free: 186836 MB\nnode 1 cpus: 10 11 12 13 14 15 16 17 18 19 30 31 32 33 34 35 36 37 38 39\nnode 1 size: 193533 MB\nnode 1 free: 191822 MB\nnode distances:\nnode   0   1\n  0:  10  20\n  1:  20  10\nroot@RTPCLABQPS1H-3-1:~#\n\n\nSteps to reproduce\n==================\n1. Try to create instance using nova, web or heat - with 16 vCPUs and 232 GB RAM\n2. I receive an error that 0 Hosts are returned by NUMATOPOLOGY Filter\n    ~ nova --debug boot - complete log at http://paste.openstack.org/show/603398/\n\n\nExpected result\n===============\nThe instance should be created without any issue because the blade server has 28 vCPUs available and 240 GB RAM.\n\n\nActual result\n=============\nThe instance creation failed with- NUMATopology Filter Returned 0 Hosts\n\n\nEnvironment\n===========\n1. Openstack KILO\nroot@RTPCLABQPS1H-CC-A:/var/log/nova# dpkg -l | grep nova\nii  nova-api                            1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - compute API frontend\nii  nova-cert                           1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - certificate manager\nii  nova-common                         1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - common files\nii  nova-conductor                      1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - conductor service\nii  nova-consoleauth                    1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - Console Authenticator\nii  nova-consoleproxy                   1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - NoVNC proxy\nii  nova-objectstore                    1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - object store\nii  nova-scheduler                      1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - virtual machine scheduler\nii  python-nova                         1:2015.1.1-1~u14.04+mos19695           all          OpenStack Compute - libraries\nii  python-novaclient                   1:2.23.0-1~u14.04+mos1247              all          client library for OpenStack Compute API\n\n2. Libvirt + KVM Version \nroot@RTPCLABQPS1H-3-1:~# kvm --version\nQEMU emulator version 2.4.0 (Debian 1:2.4+dfsg-ubuntu3), Copyright (c) 2003-2008 Fabrice Bellard\n\n3. Networking Type - Neutron \n\n4.", 
            "date_created": "2017-03-20 11:55:10.208176+00:00", 
            "author": "https://api.launchpad.net/1.0/~000-kundan"
        }, 
        {
            "content": "Please provide a flavor which you use. I think there is not enough memory in one NUMA node to boot your VM. (Each has  193 GB of RAM and you need 240 GB). But to ensure we need to get your flavor description.", 
            "date_created": "2017-03-21 14:58:15.861835+00:00", 
            "author": "https://api.launchpad.net/1.0/~snikitin"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2017-05-21 04:17:36.889488+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ], 
    "closed": "2017-05-21 04:17:37.570835+00:00"
}