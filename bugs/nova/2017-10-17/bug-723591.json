{
    "status": "Fix Released", 
    "last_updated": "2011-04-15 08:37:40.322043+00:00", 
    "description": "While calling \"nova-manage network create\" without arguments it creates a lot of networks.\n\nI think the problem is the usage of the default values of some flags in bin/nova-manage in NetworkCommands-->create(). Because I don't set those flags in nova.conf the method creates a lot of useless networks.\n\nI thought that I will receive some information about the possible arguments of create while calling \"nova-manage network create\".  That's the case for example for \"nova-manage user create\". I think all methods called without arguments should print some useful help and not fill up my database with useless stuff. All methods in nova-manage doing the same stuff (creation of something for example) should do it in the same way. \n\n---snip---\nares:~ # nova-manage user create\nPossible wrong number of arguments supplied\nuser create: creates a new user and prints exports\n        arguments: name [access] [secret]\n---snap---  \n\ndefault values used in NetworkCommands-->create()\n---snip---\n        if not fixed_range:\n            fixed_range = FLAGS.fixed_range\n        if not num_networks:\n            num_networks = FLAGS.num_networks\n        if not network_size:\n            network_size = FLAGS.network_size\n        if not vlan_start:\n            vlan_start = FLAGS.vlan_start\n        if not vpn_start:\n            vpn_start = FLAGS.vpn_start\n        if not fixed_range_v6:\n            fixed_range_v6 = FLAGS.fixed_range_v6\n---snap---\n\n\nares:~ # nova-manage network create\n[CTRL+C]\n\nCares:~ # nova-manage network list\nnetwork           \tnetmask        \tstart address  \tDNS            \n192.168.3.0/24    \t255.255.255.0  \t192.168.3.3    \t4.2.2.5        \n10.0.0.0/24       \t255.255.255.0  \t10.0.0.2       \tNone           \n10.0.1.0/24       \t255.255.255.0  \t10.0.1.2       \tNone           \n10.0.2.0/24       \t255.255.255.0  \t10.0.2.2       \tNone           \n10.0.3.0/24       \t255.255.255.0  \t10.0.3.2       \tNone           \n10.0.4.0/24       \t255.255.255.0  \t10.0.4.2       \tNone           \n[...]\n\n\nuse nova;\nselect * from fixed_ips;\n[...]\n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11431 | 10.0.40.166   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11432 | 10.0.40.167   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11433 | 10.0.40.168   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11434 | 10.0.40.169   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11435 | 10.0.40.170   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11436 | 10.0.40.171   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11437 | 10.0.40.172   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11438 | 10.0.40.173   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11439 | 10.0.40.174   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11440 | 10.0.40.175   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11441 | 10.0.40.176   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11442 | 10.0.40.177   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11443 | 10.0.40.178   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11444 | 10.0.40.179   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11445 | 10.0.40.180   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11446 | 10.0.40.181   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11447 | 10.0.40.182   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11448 | 10.0.40.183   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11449 | 10.0.40.184   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11450 | 10.0.40.185   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11451 | 10.0.40.186   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11452 | 10.0.40.187   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11453 | 10.0.40.188   |         47 |        NULL |         0 |      0 |        0 | \n+---------------------+---------------------+------------+---------+-------+---------------+------------+-------------+-----------+--------+----------+", 
    "tags": [], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/723591", 
    "owner": "https://api.launchpad.net/1.0/~jkleinpeter", 
    "id": 723591, 
    "index": 110, 
    "openned": "2011-02-23 09:03:21.335646+00:00", 
    "created": "2011-02-23 09:03:21.335646+00:00", 
    "title": "calling 'nova-manage network create' creates a lot of 10.0.X.0/24 networks", 
    "comments": [
        {
            "content": "While calling \"nova-manage network create\" without arguments it creates a lot of networks.\n\nI think the problem is the usage of the default values of some flags in bin/nova-manage in NetworkCommands-->create(). Because I don't set those flags in nova.conf the method creates a lot of useless networks.\n\nI thought that I will receive some information about the possible arguments of create while calling \"nova-manage network create\".  That's the case for example for \"nova-manage user create\". I think all methods called without arguments should print some useful help and not fill up my database with useless stuff. All methods in nova-manage doing the same stuff (creation of something for example) should do it in the same way. \n\n---snip---\nares:~ # nova-manage user create\nPossible wrong number of arguments supplied\nuser create: creates a new user and prints exports\n        arguments: name [access] [secret]\n---snap---  \n\ndefault values used in NetworkCommands-->create()\n---snip---\n        if not fixed_range:\n            fixed_range = FLAGS.fixed_range\n        if not num_networks:\n            num_networks = FLAGS.num_networks\n        if not network_size:\n            network_size = FLAGS.network_size\n        if not vlan_start:\n            vlan_start = FLAGS.vlan_start\n        if not vpn_start:\n            vpn_start = FLAGS.vpn_start\n        if not fixed_range_v6:\n            fixed_range_v6 = FLAGS.fixed_range_v6\n---snap---\n\n\nares:~ # nova-manage network create\n[CTRL+C]\n\nCares:~ # nova-manage network list\nnetwork           \tnetmask        \tstart address  \tDNS            \n192.168.3.0/24    \t255.255.255.0  \t192.168.3.3    \t4.2.2.5        \n10.0.0.0/24       \t255.255.255.0  \t10.0.0.2       \tNone           \n10.0.1.0/24       \t255.255.255.0  \t10.0.1.2       \tNone           \n10.0.2.0/24       \t255.255.255.0  \t10.0.2.2       \tNone           \n10.0.3.0/24       \t255.255.255.0  \t10.0.3.2       \tNone           \n10.0.4.0/24       \t255.255.255.0  \t10.0.4.2       \tNone           \n[...]\n\n\nuse nova;\nselect * from fixed_ips;\n[...]\n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11431 | 10.0.40.166   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11432 | 10.0.40.167   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11433 | 10.0.40.168   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11434 | 10.0.40.169   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11435 | 10.0.40.170   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11436 | 10.0.40.171   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11437 | 10.0.40.172   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11438 | 10.0.40.173   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11439 | 10.0.40.174   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11440 | 10.0.40.175   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11441 | 10.0.40.176   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11442 | 10.0.40.177   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11443 | 10.0.40.178   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11444 | 10.0.40.179   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11445 | 10.0.40.180   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11446 | 10.0.40.181   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11447 | 10.0.40.182   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11448 | 10.0.40.183   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11449 | 10.0.40.184   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11450 | 10.0.40.185   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11451 | 10.0.40.186   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11452 | 10.0.40.187   |         47 |        NULL |         0 |      0 |        0 | \n| 2011-02-23 08:43:59 | NULL                | NULL       |       0 | 11453 | 10.0.40.188   |         47 |        NULL |         0 |      0 |        0 | \n+---------------------+---------------------+------------+---------+-------+---------------+------------+-------------+-----------+--------+----------+", 
            "date_created": "2011-02-23 09:03:21.335646+00:00", 
            "author": "https://api.launchpad.net/1.0/~berendt"
        }, 
        {
            "content": "fix not commited at the moment, there is a pending merge propsal. I think \"In Progress\" is the correct state.", 
            "date_created": "2011-03-17 23:18:39.964347+00:00", 
            "author": "https://api.launchpad.net/1.0/~berendt"
        }, 
        {
            "content": "Thanks Christian. Wasn't exactly sure which state was best.", 
            "date_created": "2011-03-21 14:11:38.450368+00:00", 
            "author": "https://api.launchpad.net/1.0/~jkleinpeter"
        }, 
        {
            "content": "I added the i18n code around the exception's error message. Glad to know what that bit does now!", 
            "date_created": "2011-03-21 17:42:41.905736+00:00", 
            "author": "https://api.launchpad.net/1.0/~jkleinpeter"
        }
    ], 
    "closed": "2011-04-15 08:37:39.127367+00:00"
}