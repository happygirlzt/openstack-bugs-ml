{
    "status": "Invalid", 
    "last_updated": "2014-12-03 09:52:28.022386+00:00", 
    "description": "When I want to start novnc on controller node I got the following message:\nnova-novncproxy is not running\n\nI'm using OpenStack Folsom with Quantum and OpenVswitch plugin. (I'm using the packages in Folsom Trunk Testing)\nI've a network node that's running:\n- quantum-plugin-openvswitch-agent\n- quantum-l3-agent\n- quantum-dhcp-agent\n\nCloud controller runs:\n- rabbitmq\n- nova-api\n- nova-scheduler\n- nova-keystone\n- nova-consoleauth\n- nova-console\n- quantum-server\n\n\nCompute node runs\n- nova-compute-qemu\n- quantum-plugin-openvswitch-agent\n\n\n\n\nnova.conf controller\n\n[DEFAULT]\n# LOGS/STATE\n#root_helper=sudo nova-rootwrap /etc/nova/rootwrap.conf\nrootwrap_config=/etc/nova/rootwrap.conf\nverbose=True\nlogdir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\n# AUTHENTICATION\nauth_strategy=keystone\n# SCHEDULER\ncompute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler\n\n# VOLUMES\nvolume_group=nova-volumes\nvolume_name_template=volume-%08x\niscsi_helper=tgtadm\n\n# DATABASE\nsql_connection=mysql://nova:pass@controllerIP/nova\n\n#libvirt_vif_driver=nova.virt.libvirt.vif.LibvirtHybirdOVSBridgeDriver\n\n# COMPUTE\nlibvirt_type=qemu\ncompute_driver=libvirt.LibvirtDriver\n#instance_name_template=instance-%08x\napi_paste_config=/etc/nova/api-paste.ini\nallow_resize_to_same_host=True\n\n# APIS\n#osapi_compute_extension=nova.api.openstack.compute.contrib.standard_extensions\n#Bec2_dmz_host= controllerIP\n#s3_host= controllerIP\n\n# NOVNC CONSOLE\nnovnc_enabled=true \nnovncproxy_base_url=http://controllerIP:6080/vnc_auto.html\n# Change vncserver_proxyclient_address and vncserver_listen to match each\n#compute host\n#vncserver_proxyclient_address=\n#vncserver_listen=\n\n# RABBITMQ\nrabbit_host= controllerIP\ncc_host= controllerIP\n# GLANCE\nimage_service=nova.image.glance.GlanceImageService\nglance_api_servers=controllerIP:9292\n\n#Quantum\nnetwork_api_class=nova.network.quantumv2.api.API\nquantum_url=http://controllerIP:9696\nquantum_auth_strategy=keystone\nquantum_admin_tenant_name=service\nquantum_admin_username=quantum\nquantum_admin_password=Pass\nquantum_admin_auth_url=http://controllerIP:35357/v2.0\n\n# needed only for nova-compute\nlibvirt_ovs_bridge=br-int\nlibvirt_vif_type=ethernet\nlibvirt_use_virtio_for_bridges=True\nlibvirt_vif_driver=nova.virt.libvirt.vif.LibvirtOpenVswitchDriver\n\n#[keystone_authtoken]\nauth_host = controllerIP\nauth_port = 35357\nauth_protocol = http\nauth_uri = controllerIP:5000/\nadmin_tenant_name = service\nadmin_user = nova\nadmin_password = PAss\n\n\n\n\n\n\n\n\n\nnova.conf file compute-node\n\n[DEFAULT]\n# LOGS/STATE\n#root_helper=sudo nova-rootwrap /etc/nova/rootwrap.conf\nrootwrap_config=/etc/nova/rootwrap.conf\nverbose=True\nlogdir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\n# AUTHENTICATION\nauth_strategy=keystone\n# SCHEDULER\ncompute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler\n\n# VOLUMES\nvolume_group=nova-volumes\nvolume_name_template=volume-%08x\niscsi_helper=tgtadm\n\n# DATABASE\nsql_connection=mysql://nova:pass@controllerIP/nova\n\n#libvirt_vif_driver=nova.virt.libvirt.vif.LibvirtHybirdOVSBridgeDriver\n\n# COMPUTE\nlibvirt_type=qemu\ncompute_driver=libvirt.LibvirtDriver\n#instance_name_template=instance-%08x\napi_paste_config=/etc/nova/api-paste.ini\nallow_resize_to_same_host=True\n\n# APIS\n#osapi_compute_extension=nova.api.openstack.compute.contrib.standard_extensions\n#Bec2_dmz_host= controllerIP\n#s3_host= controllerIP\n\n# NOVNC CONSOLE\nnovnc_enabled=true \nnovncproxy_base_url=http://controllerIP:6080/vnc_auto.html\n# Change vncserver_proxyclient_address and vncserver_listen to match each\n#compute host\n#vncserver_proxyclient_address=Compute-nodeIP\n#vncserver_listen=Compute-nodeIP\n\n# RABBITMQ\nrabbit_host= controllerIP\ncc_host= controllerIP\n# GLANCE\nimage_service=nova.image.glance.GlanceImageService\nglance_api_servers=controllerIP:9292\n\n#Quantum\nnetwork_api_class=nova.network.quantumv2.api.API\nquantum_url=http://controllerIP:9696\nquantum_auth_strategy=keystone\nquantum_admin_tenant_name=service\nquantum_admin_username=quantum\nquantum_admin_password=Pass\nquantum_admin_auth_url=http://controllerIP:35357/v2.0\n\n# needed only for nova-compute\nlibvirt_ovs_bridge=br-int\nlibvirt_vif_type=ethernet\nlibvirt_use_virtio_for_bridges=True\nlibvirt_vif_driver=nova.virt.libvirt.vif.LibvirtOpenVswitchDriver\n\n#[keystone_authtoken]\nauth_host = controllerIP\nauth_port = 35357\nauth_protocol = http\nauth_uri = controllerIP:5000/\nadmin_tenant_name = service\nadmin_user = nova\nadmin_password = PAss", 
    "tags": [], 
    "importance": "Low", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1066845", 
    "owner": "None", 
    "id": 1066845, 
    "index": 676, 
    "openned": "2012-10-15 12:03:59.347754+00:00", 
    "created": "2012-10-15 12:03:59.347754+00:00", 
    "title": "nova-novncproxy is not running; Suggest: novnc should be Depends", 
    "comments": [
        {
            "content": "When I want to start novnc on controller node I got the following message:\nnova-novncproxy is not running\n\nI'm using OpenStack Folsom with Quantum and OpenVswitch plugin. (I'm using the packages in Folsom Trunk Testing)\nI've a network node that's running:\n- quantum-plugin-openvswitch-agent\n- quantum-l3-agent\n- quantum-dhcp-agent\n\nCloud controller runs:\n- rabbitmq\n- nova-api\n- nova-scheduler\n- nova-keystone\n- nova-consoleauth\n- nova-console\n- quantum-server\n\n\nCompute node runs\n- nova-compute-qemu\n- quantum-plugin-openvswitch-agent\n\n\n\n\nnova.conf controller\n\n[DEFAULT]\n# LOGS/STATE\n#root_helper=sudo nova-rootwrap /etc/nova/rootwrap.conf\nrootwrap_config=/etc/nova/rootwrap.conf\nverbose=True\nlogdir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\n# AUTHENTICATION\nauth_strategy=keystone\n# SCHEDULER\ncompute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler\n\n# VOLUMES\nvolume_group=nova-volumes\nvolume_name_template=volume-%08x\niscsi_helper=tgtadm\n\n# DATABASE\nsql_connection=mysql://nova:pass@controllerIP/nova\n\n#libvirt_vif_driver=nova.virt.libvirt.vif.LibvirtHybirdOVSBridgeDriver\n\n# COMPUTE\nlibvirt_type=qemu\ncompute_driver=libvirt.LibvirtDriver\n#instance_name_template=instance-%08x\napi_paste_config=/etc/nova/api-paste.ini\nallow_resize_to_same_host=True\n\n# APIS\n#osapi_compute_extension=nova.api.openstack.compute.contrib.standard_extensions\n#Bec2_dmz_host= controllerIP\n#s3_host= controllerIP\n\n# NOVNC CONSOLE\nnovnc_enabled=true \nnovncproxy_base_url=http://controllerIP:6080/vnc_auto.html\n# Change vncserver_proxyclient_address and vncserver_listen to match each\n#compute host\n#vncserver_proxyclient_address=\n#vncserver_listen=\n\n# RABBITMQ\nrabbit_host= controllerIP\ncc_host= controllerIP\n# GLANCE\nimage_service=nova.image.glance.GlanceImageService\nglance_api_servers=controllerIP:9292\n\n#Quantum\nnetwork_api_class=nova.network.quantumv2.api.API\nquantum_url=http://controllerIP:9696\nquantum_auth_strategy=keystone\nquantum_admin_tenant_name=service\nquantum_admin_username=quantum\nquantum_admin_password=Pass\nquantum_admin_auth_url=http://controllerIP:35357/v2.0\n\n# needed only for nova-compute\nlibvirt_ovs_bridge=br-int\nlibvirt_vif_type=ethernet\nlibvirt_use_virtio_for_bridges=True\nlibvirt_vif_driver=nova.virt.libvirt.vif.LibvirtOpenVswitchDriver\n\n#[keystone_authtoken]\nauth_host = controllerIP\nauth_port = 35357\nauth_protocol = http\nauth_uri = controllerIP:5000/\nadmin_tenant_name = service\nadmin_user = nova\nadmin_password = PAss\n\n\n\n\n\n\n\n\n\nnova.conf file compute-node\n\n[DEFAULT]\n# LOGS/STATE\n#root_helper=sudo nova-rootwrap /etc/nova/rootwrap.conf\nrootwrap_config=/etc/nova/rootwrap.conf\nverbose=True\nlogdir=/var/log/nova\nstate_path=/var/lib/nova\nlock_path=/var/lock/nova\n# AUTHENTICATION\nauth_strategy=keystone\n# SCHEDULER\ncompute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler\n\n# VOLUMES\nvolume_group=nova-volumes\nvolume_name_template=volume-%08x\niscsi_helper=tgtadm\n\n# DATABASE\nsql_connection=mysql://nova:pass@controllerIP/nova\n\n#libvirt_vif_driver=nova.virt.libvirt.vif.LibvirtHybirdOVSBridgeDriver\n\n# COMPUTE\nlibvirt_type=qemu\ncompute_driver=libvirt.LibvirtDriver\n#instance_name_template=instance-%08x\napi_paste_config=/etc/nova/api-paste.ini\nallow_resize_to_same_host=True\n\n# APIS\n#osapi_compute_extension=nova.api.openstack.compute.contrib.standard_extensions\n#Bec2_dmz_host= controllerIP\n#s3_host= controllerIP\n\n# NOVNC CONSOLE\nnovnc_enabled=true \nnovncproxy_base_url=http://controllerIP:6080/vnc_auto.html\n# Change vncserver_proxyclient_address and vncserver_listen to match each\n#compute host\n#vncserver_proxyclient_address=Compute-nodeIP\n#vncserver_listen=Compute-nodeIP\n\n# RABBITMQ\nrabbit_host= controllerIP\ncc_host= controllerIP\n# GLANCE\nimage_service=nova.image.glance.GlanceImageService\nglance_api_servers=controllerIP:9292\n\n#Quantum\nnetwork_api_class=nova.network.quantumv2.api.API\nquantum_url=http://controllerIP:9696\nquantum_auth_strategy=keystone\nquantum_admin_tenant_name=service\nquantum_admin_username=quantum\nquantum_admin_password=Pass\nquantum_admin_auth_url=http://controllerIP:35357/v2.0\n\n# needed only for nova-compute\nlibvirt_ovs_bridge=br-int\nlibvirt_vif_type=ethernet\nlibvirt_use_virtio_for_bridges=True\nlibvirt_vif_driver=nova.virt.libvirt.vif.LibvirtOpenVswitchDriver\n\n#[keystone_authtoken]\nauth_host = controllerIP\nauth_port = 35357\nauth_protocol = http\nauth_uri = controllerIP:5000/\nadmin_tenant_name = service\nadmin_user = nova\nadmin_password = PAss", 
            "date_created": "2012-10-15 12:03:59.347754+00:00", 
            "author": "https://api.launchpad.net/1.0/~ecj-eleonora"
        }, 
        {
            "content": "Which version are you using?", 
            "date_created": "2012-10-22 13:17:00.309153+00:00", 
            "author": "https://api.launchpad.net/1.0/~zulcss"
        }, 
        {
            "content": "I'm using novnc of the packages in Folsom Trunk Testing\nWhere can I find the version?", 
            "date_created": "2012-10-22 13:32:07.242789+00:00", 
            "author": "https://api.launchpad.net/1.0/~ecj-eleonora"
        }, 
        {
            "content": "nova-novncproxy is not listed in your (Cloud controller runs:) block above. You need to run it if you want to use novncy", 
            "date_created": "2012-10-22 23:46:48.575758+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "I installed nova-novncproxy and restarted the controller node. Doing service novnc start the same error: nova-novncproxy is not running.", 
            "date_created": "2012-10-23 08:54:50.429927+00:00", 
            "author": "https://api.launchpad.net/1.0/~ecj-eleonora"
        }, 
        {
            "content": "This sounds like a packaging issue, not a nova issue.", 
            "date_created": "2012-10-23 22:54:55.466830+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "Hi Eduard\n\nCan you check in /var/log/upstart/nova-novncproxy.log for:\n\nTraceback (most recent call last):\n  File \"/usr/bin/nova-novncproxy\", line 29, in <module>\n    import websockify\nImportError: No module named websockify\n\nI think two dependencies are missing: websockify and novnc.\n", 
            "date_created": "2012-11-15 12:51:34.290436+00:00", 
            "author": "https://api.launchpad.net/1.0/~james-page"
        }, 
        {
            "content": "Hi James, \nThnx for your help but, I can't check that anymore I've changed the package repository and now everything works. The package repository Folsom Trunk Testing from :https://launchpad.net/~openstack-ubuntu-testing/+archive/folsom-trunk-testing \nhas this problem.\nThe packages repository: http://ubuntu-cloud.archive.canonical.com/ubuntu precise-updates/folsom works fine. So the missing dependencies are in the package repository folsom-trunk-testing.", 
            "date_created": "2012-11-16 08:41:12.242158+00:00", 
            "author": "https://api.launchpad.net/1.0/~ecj-eleonora"
        }, 
        {
            "content": "This bug was fixed in the package nova - 1:2013.1~rc2-0ubuntu1\n\n---------------\nnova (1:2013.1~rc2-0ubuntu1) raring; urgency=low\n\n  [ James Page ]\n  * d/control: Promote novnc and websockify to Depends for\n    nova-novncproxy (LP: #1066845).\n\n  [ Chuck Short ]\n  *  New upstream release.\n -- Chuck Short <email address hidden>   Tue, 02 Apr 2013 08:44:39 -0500", 
            "date_created": "2013-04-02 15:55:17.124248+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }, 
        {
            "content": "quantal has seen the end of its life and is no longer receiving any updates. Marking the quantal task for this ticket as \"Won't Fix\".", 
            "date_created": "2014-12-03 09:52:22.147763+00:00", 
            "author": "https://api.launchpad.net/1.0/~r0lf"
        }
    ], 
    "closed": "2012-11-15 12:52:19.120974+00:00"
}