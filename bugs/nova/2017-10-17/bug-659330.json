{
    "status": "Fix Released", 
    "last_updated": "2010-10-12 17:22:05.557916+00:00", 
    "description": "When running the latest tip in trunk I am unable to run an instance. I get the following error in the log files:\n\n2010-10-12 11:35:39-0400 [-] (root): ERROR instance 3732906838: Failed to spawn\n2010-10-12 11:35:39-0400 [-] Traceback (most recent call last):\n2010-10-12 11:35:39-0400 [-]   File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 86, in run_instance\n2010-10-12 11:35:39-0400 [-]     yield self.driver.spawn(instance_ref)\n2010-10-12 11:35:39-0400 [-] AttributeError: 'long' object has no attribute 'startswith'\n2010-10-12 11:35:39-0400 [-] Unhandled error in Deferred:\n2010-10-12 11:35:39-0400 [-] Unhandled Error\n\tTraceback (most recent call last):\n\t  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 76, in _wrap\n\t    return f(*args, **kw)\n\t  File \"/usr/lib/pymodules/python2.6/nova/rpc.py\", line 180, in receive\n\t    d = defer.maybeDeferred(node_func, **node_args)\n\t  File \"/usr/lib/python2.6/dist-packages/twisted/internet/defer.py\", line 125, in maybeDeferred\n\t    result = f(*args, **kw)\n\t  File \"/usr/lib/python2.6/dist-packages/twisted/internet/defer.py\", line 1014, in unwindGenerator\n\t    return _inlineCallbacks(None, f(*args, **kwargs), Deferred())\n\t--- <exception caught here> ---\n\t  File \"/usr/lib/python2.6/dist-packages/twisted/internet/defer.py\", line 891, in _inlineCallbacks\n\t    result = result.throwExceptionIntoGenerator(g)\n\t  File \"/usr/lib/python2.6/dist-packages/twisted/python/failure.py\", line 338, in throwExceptionIntoGenerator\n\t    return g.throw(self.type, self.value, self.tb)\n\t  File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 98, in run_instance\n\t    self._update_state(context, instance_id)\n\t  File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 62, in _update_state\n\t    state = self.driver.get_info(instance_ref.name)['state']\n\t  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt_conn.py\", line 334, in get_info\n\t    virt_dom = self._conn.lookupByName(instance_name)\n\t  File \"/usr/lib/python2.6/dist-packages/libvirt.py\", line 1441, in lookupByName\n\t    ret = libvirtmod.virDomainLookupByName(self._o, name)\n\texceptions.TypeError: virDomainLookupByName() argument 2 must be string or None, not long", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/659330", 
    "owner": "None", 
    "id": 659330, 
    "index": 3213, 
    "openned": "2010-10-12 16:35:12.643558+00:00", 
    "created": "2010-10-12 16:35:12.643558+00:00", 
    "title": "Unable to create an instance.", 
    "comments": [
        {
            "content": "When running the latest tip in trunk I am unable to run an instance. I get the following error in the log files:\n\n2010-10-12 11:35:39-0400 [-] (root): ERROR instance 3732906838: Failed to spawn\n2010-10-12 11:35:39-0400 [-] Traceback (most recent call last):\n2010-10-12 11:35:39-0400 [-]   File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 86, in run_instance\n2010-10-12 11:35:39-0400 [-]     yield self.driver.spawn(instance_ref)\n2010-10-12 11:35:39-0400 [-] AttributeError: 'long' object has no attribute 'startswith'\n2010-10-12 11:35:39-0400 [-] Unhandled error in Deferred:\n2010-10-12 11:35:39-0400 [-] Unhandled Error\n\tTraceback (most recent call last):\n\t  File \"/usr/lib/pymodules/python2.6/nova/exception.py\", line 76, in _wrap\n\t    return f(*args, **kw)\n\t  File \"/usr/lib/pymodules/python2.6/nova/rpc.py\", line 180, in receive\n\t    d = defer.maybeDeferred(node_func, **node_args)\n\t  File \"/usr/lib/python2.6/dist-packages/twisted/internet/defer.py\", line 125, in maybeDeferred\n\t    result = f(*args, **kw)\n\t  File \"/usr/lib/python2.6/dist-packages/twisted/internet/defer.py\", line 1014, in unwindGenerator\n\t    return _inlineCallbacks(None, f(*args, **kwargs), Deferred())\n\t--- <exception caught here> ---\n\t  File \"/usr/lib/python2.6/dist-packages/twisted/internet/defer.py\", line 891, in _inlineCallbacks\n\t    result = result.throwExceptionIntoGenerator(g)\n\t  File \"/usr/lib/python2.6/dist-packages/twisted/python/failure.py\", line 338, in throwExceptionIntoGenerator\n\t    return g.throw(self.type, self.value, self.tb)\n\t  File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 98, in run_instance\n\t    self._update_state(context, instance_id)\n\t  File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 62, in _update_state\n\t    state = self.driver.get_info(instance_ref.name)['state']\n\t  File \"/usr/lib/pymodules/python2.6/nova/virt/libvirt_conn.py\", line 334, in get_info\n\t    virt_dom = self._conn.lookupByName(instance_name)\n\t  File \"/usr/lib/python2.6/dist-packages/libvirt.py\", line 1441, in lookupByName\n\t    ret = libvirtmod.virDomainLookupByName(self._o, name)\n\texceptions.TypeError: virDomainLookupByName() argument 2 must be string or None, not long", 
            "date_created": "2010-10-12 16:35:12.643558+00:00", 
            "author": "https://api.launchpad.net/1.0/~zulcss"
        }, 
        {
            "content": "https://code.launchpad.net/~gundlach/nova/lp659330/+merge/38251 fixes this", 
            "date_created": "2010-10-12 17:22:05.019694+00:00", 
            "author": "https://api.launchpad.net/1.0/~gundlach"
        }
    ], 
    "closed": "2010-10-12 17:22:00.547547+00:00"
}