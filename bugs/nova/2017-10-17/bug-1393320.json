{
    "status": "Invalid", 
    "last_updated": "2015-04-17 09:16:17.329291+00:00", 
    "description": "I am using qpidd instead of rabbitmq in nova-compute and controller node. While starting nova-compute service i see these errors in the nova-compute log.\n\n{\n2014-11-11 12:17:32.844 5214 DEBUG nova.openstack.common.lockutils [-] Semaphore / lock released \"_update_available_resource\" inner /opt/stack/nova/nova/openstack/common/lockutils.py:275\nTraceback (most recent call last):\n\u00a0\u00a0File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/poll.py\", line 115, in wait\n\u00a0\u00a0\u00a0\u00a0listener.cb(fileno)\n\u00a0\u00a0File \"/usr/local/lib/python2.7/dist-packages/eventlet/green/select.py\", line 52, in on_read\n\u00a0\u00a0\u00a0\u00a0current.switch(([original], [], []))\n\u00a0\u00a0File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n\u00a0\u00a0\u00a0\u00a0result = function(*args, **kwargs)\n\u00a0\u00a0File \"/opt/stack/nova/nova/openstack/common/service.py\", line 490, in run_service\n\u00a0\u00a0\u00a0\u00a0service.start()\n\u00a0\u00a0File \"/opt/stack/nova/nova/service.py\", line 181, in start\n\u00a0\u00a0\u00a0\u00a0self.manager.pre_start_hook()\n\u00a0\u00a0File \"/opt/stack/nova/nova/compute/manager.py\", line 1152, in pre_start_hook\n\u00a0\u00a0\u00a0\u00a0self.update_available_resource(nova.context.get_admin_context())\n\u00a0\u00a0File \"/opt/stack/nova/nova/compute/manager.py\", line 5964, in update_available_resource\n\u00a0\u00a0\u00a0\u00a0use_slave=True)\n\u00a0\u00a0File \"/opt/stack/nova/nova/compute/manager.py\", line 5975, in _get_compute_nodes_in_db\n\u00a0\u00a0\u00a0\u00a0use_slave=use_slave)\n\u00a0\u00a0File \"/opt/stack/nova/nova/objects/base.py\", line 153, in wrapper\n\u00a0\u00a0\u00a0\u00a0args, kwargs)\n\u00a0\u00a0File \"/opt/stack/nova/nova/conductor/rpcapi.py\", line 346, in object_class_action\n\u00a0\u00a0\u00a0\u00a0objver=objver, args=args, kwargs=kwargs)\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 150, in call\n\u00a0\u00a0\u00a0\u00a0wait_for_reply=True, timeout=timeout)\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n\u00a0\u00a0\u00a0\u00a0timeout=timeout)\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 412, in send\n\u00a0\u00a0\u00a0\u00a0return self._send(target, ctxt, message, wait_for_reply, timeout)\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 405, in _send\n\u00a0\u00a0\u00a0\u00a0raise result\nIncompatibleObjectVersion_Remote: Version 1.4 of Service is not supported\nTraceback (most recent call last):\n\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n\u00a0\u00a0\u00a0\u00a0incoming.message))\n\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n\u00a0\u00a0\u00a0\u00a0return self._do_dispatch(endpoint, method, ctxt, args)\n\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n\u00a0\u00a0\u00a0\u00a0result = getattr(endpoint, method)(ctxt, **new_args)\n\n\u00a0\u00a0File \"/opt/stack/nova/nova/conductor/manager.py\", line 1043, in object_class_action\n\n\u00a0\u00a0File \"/opt/stack/nova/nova/conductor/manager.py\", line 605, in object_class_action\n\u00a0\u00a0\u00a0\u00a0for t in requested_networks])\n\n\u00a0\u00a0File \"/opt/stack/nova/nova/objects/base.py\", line 224, in obj_class_from_name\n\nIncompatibleObjectVersion: Version 1.4 of Service is not supported\n\nRemoving descriptor: 7\n2014-11-11 12:17:32.897 5214 ERROR nova.openstack.common.threadgroup [-] Version 1.4 of Service is not supported\nTraceback (most recent call last):\n\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n\u00a0\u00a0\u00a0\u00a0incoming.message))\n\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n\u00a0\u00a0\u00a0\u00a0return self._do_dispatch(endpoint, method, ctxt, args)\n\n\u00a0\u00a0File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n\u00a0\u00a0\u00a0\u00a0result = getattr(endpoint, method)(ctxt, **new_args)\n\n\u00a0\u00a0File \"/opt/stack/nova/nova/conductor/manager.py\", line 1043, in object_class_action\n\n\u00a0\u00a0File \"/opt/stack/nova/nova/conductor/manager.py\", line 605, in object_class_action\n\u00a0\u00a0\u00a0\u00a0for t in requested_networks])\n\n\u00a0\u00a0File \"/opt/stack/nova/nova/objects/base.py\", line 224, in obj_class_from_name\n\nIncompatibleObjectVersion: Version 1.4 of Service is not supported\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 125, in wait\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     x.wait()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 47, in wait\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 173, in wait\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/event.py\", line 121, in wait\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 293, in switch\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/service.py\", line 490, in run_service\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     service.start()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/service.py\", line 181, in start\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     self.manager.pre_start_hook()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 1152, in pre_start_hook\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     self.update_available_resource(nova.context.get_admin_context())\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 5964, in update_available_resource\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     use_slave=True)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 5975, in _get_compute_nodes_in_db\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     use_slave=use_slave)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/base.py\", line 153, in wrapper\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     args, kwargs)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/conductor/rpcapi.py\", line 346, in object_class_action\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     objver=objver, args=args, kwargs=kwargs)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 150, in call\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     wait_for_reply=True, timeout=timeout)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     timeout=timeout)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 412, in send\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self._send(target, ctxt, message, wait_for_reply, timeout)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 405, in _send\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     raise result\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup IncompatibleObjectVersion_Remote: Version 1.4 of Service is not supported\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     incoming.message))\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/conductor/manager.py\", line 1043, in object_class_action\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/conductor/manager.py\", line 605, in object_class_action\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     for t in requested_networks])\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/base.py\", line 224, in obj_class_from_name\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup IncompatibleObjectVersion: Version 1.4 of Service is not supported\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n\n}\n\n{\n2014-11-11 12:52:22.670 11938 DEBUG nova.virt.libvirt.driver [-] Starting green dispatch thread _init_events /opt/stack/nova/nova/virt/libvirt/driver.py:668\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/poll.py\", line 115, in wait\n    listener.cb(fileno)\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/green/select.py\", line 52, in on_read\n    current.switch(([original], [], []))\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n    result = function(*args, **kwargs)\n  File \"/opt/stack/nova/nova/openstack/common/service.py\", line 490, in run_service\n    service.start()\n  File \"/opt/stack/nova/nova/service.py\", line 164, in start\n    self.manager.init_host()\n  File \"/opt/stack/nova/nova/compute/manager.py\", line 1128, in init_host\n    context, self.host, expected_attrs=['info_cache'])\n  File \"/opt/stack/nova/nova/objects/base.py\", line 153, in wrapper\n    args, kwargs)\n  File \"/opt/stack/nova/nova/conductor/rpcapi.py\", line 346, in object_class_action\n    objver=objver, args=args, kwargs=kwargs)\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 150, in call\n    wait_for_reply=True, timeout=timeout)\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n    timeout=timeout)\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 412, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout)\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 405, in _send\n    raise result\nIncompatibleObjectVersion_Remote: Version 1.9 of InstanceList is not supported\nTraceback (most recent call last):\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n    incoming.message))\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n    return self._do_dispatch(endpoint, method, ctxt, args)\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n  File \"/opt/stack/nova/nova/conductor/manager.py\", line 1043, in object_class_action\n\n  File \"/opt/stack/nova/nova/conductor/manager.py\", line 605, in object_class_action\n    for t in requested_networks])\n\n  File \"/opt/stack/nova/nova/objects/base.py\", line 224, in obj_class_from_name\n\nIncompatibleObjectVersion: Version 1.9 of InstanceList is not supported\n\nRemoving descriptor: 7\n2014-11-11 12:52:22.798 11938 ERROR nova.openstack.common.threadgroup [-] Version 1.9 of InstanceList is not supported\nTraceback (most recent call last):\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n    incoming.message))\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n    return self._do_dispatch(endpoint, method, ctxt, args)\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n    result = getattr(endpoint, method)(ctxt, **new_args)\n\n  File \"/opt/stack/nova/nova/conductor/manager.py\", line 1043, in object_class_action\n\n  File \"/opt/stack/nova/nova/conductor/manager.py\", line 605, in object_class_action\n    for t in requested_networks])\n\n  File \"/opt/stack/nova/nova/objects/base.py\", line 224, in obj_class_from_name\n\nIncompatibleObjectVersion: Version 1.9 of InstanceList is not supported\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 125, in wait\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     x.wait()\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 47, in wait\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 173, in wait\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/event.py\", line 121, in wait\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 293, in switch\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/service.py\", line 490, in run_service\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     service.start()\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/service.py\", line 164, in start\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     self.manager.init_host()\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 1128, in init_host\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     context, self.host, expected_attrs=['info_cache'])\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/base.py\", line 153, in wrapper\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     args, kwargs)\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/conductor/rpcapi.py\", line 346, in object_class_action\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     objver=objver, args=args, kwargs=kwargs)\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 150, in call\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     wait_for_reply=True, timeout=timeout)\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     timeout=timeout)\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 412, in send\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     return self._send(target, ctxt, message, wait_for_reply, timeout)\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 405, in _send\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     raise result\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup IncompatibleObjectVersion_Remote: Version 1.9 of InstanceList is not supported\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     incoming.message))\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/conductor/manager.py\", line 1043, in object_class_action\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/conductor/manager.py\", line 605, in object_class_action\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup     for t in requested_networks])\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/base.py\", line 224, in obj_class_from_name\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup IncompatibleObjectVersion: Version 1.9 of InstanceList is not supported\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:52:22.798 11938 TRACE nova.openstack.common.threadgroup\nstack@compute11:/home/admin1/devstack_integ/devstack_juno/devstack$\nstack@compute11:/home/admin1/devstack_integ/devstack_juno/devstack$\n                                                                      \n}\n\nWhereas if i use rabbitmq-server the nova-compute is not having the above errors.\n\nChandralekha", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1393320", 
    "owner": "None", 
    "id": 1393320, 
    "index": 6546, 
    "openned": "2014-11-17 07:43:24.321025+00:00", 
    "created": "2014-11-17 07:43:24.321025+00:00", 
    "title": "Juno: Nova compute service cant connect to AMQP server through qpidd whereas there is no issue working with rabbitmq", 
    "comments": [
        {
            "content": "I am using qpidd instead of rabbitmq in nova-compute and controller node. While starting nova-compute service i see these errors in the nova-compute log.\n\n{\n2014-11-11 12:17:32.844 5214 DEBUG nova.openstack.common.lockutils [-] Semaphore / lock released \"_update_available_resource\" inner /opt/stack/nova/nova/openstack/common/lockutils.py:275\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/poll.py\", line 115, in wait\n    listener.cb(fileno)\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/green/select.py\", line 52, in on_read\n    current.switch(([original], [], []))\n  File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n    result = function(*args, **kwargs)\n  File \"/opt/stack/nova/nova/openstack/common/service.py\", line 490, in run_service\n    service.start()\n  File \"/opt/stack/nova/nova/service.py\", line 181, in start\n    self.manager.pre_start_hook()\n  File \"/opt/stack/nova/nova/compute/manager.py\", line 1152, in pre_start_hook\n    self.update_available_resource(nova.context.get_admin_context())\n  File \"/opt/stack/nova/nova/compute/manager.py\", line 5964, in update_available_resource\n    use_slave=True)\n  File \"/opt/stack/nova/nova/compute/manager.py\", line 5975, in _get_compute_nodes_in_db\n    use_slave=use_slave)\n  File \"/opt/stack/nova/nova/objects/base.py\", line 153, in wrapper\n    args, kwargs)\n  File \"/opt/stack/nova/nova/conductor/rpcapi.py\", line 346, in object_class_action\n    objver=objver, args=args, kwargs=kwargs)\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 150, in call\n    wait_for_reply=True, timeout=timeout)\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n    timeout=timeout)\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 412, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout)\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 405, in _send\n    raise result\nIncompatibleObjectVersion_Remote: Version 1.4 of Service is not supported\nTraceback (most recent call last):\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n    incoming.message))\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n    return self._do_dispatch(endpoint, method, ctxt, args)\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n    result = getattr(endpoint, method)(ctxt, **new_args)\n\n  File \"/opt/stack/nova/nova/conductor/manager.py\", line 1043, in object_class_action\n\n  File \"/opt/stack/nova/nova/conductor/manager.py\", line 605, in object_class_action\n    for t in requested_networks])\n\n  File \"/opt/stack/nova/nova/objects/base.py\", line 224, in obj_class_from_name\n\nIncompatibleObjectVersion: Version 1.4 of Service is not supported\n\nRemoving descriptor: 7\n2014-11-11 12:17:32.897 5214 ERROR nova.openstack.common.threadgroup [-] Version 1.4 of Service is not supported\nTraceback (most recent call last):\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n    incoming.message))\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n    return self._do_dispatch(endpoint, method, ctxt, args)\n\n  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n    result = getattr(endpoint, method)(ctxt, **new_args)\n\n  File \"/opt/stack/nova/nova/conductor/manager.py\", line 1043, in object_class_action\n\n  File \"/opt/stack/nova/nova/conductor/manager.py\", line 605, in object_class_action\n    for t in requested_networks])\n\n  File \"/opt/stack/nova/nova/objects/base.py\", line 224, in obj_class_from_name\n\nIncompatibleObjectVersion: Version 1.4 of Service is not supported\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 125, in wait\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     x.wait()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/threadgroup.py\", line 47, in wait\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 173, in wait\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/event.py\", line 121, in wait\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 293, in switch\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/openstack/common/service.py\", line 490, in run_service\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     service.start()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/service.py\", line 181, in start\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     self.manager.pre_start_hook()\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 1152, in pre_start_hook\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     self.update_available_resource(nova.context.get_admin_context())\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 5964, in update_available_resource\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     use_slave=True)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/compute/manager.py\", line 5975, in _get_compute_nodes_in_db\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     use_slave=use_slave)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/base.py\", line 153, in wrapper\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     args, kwargs)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/conductor/rpcapi.py\", line 346, in object_class_action\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     objver=objver, args=args, kwargs=kwargs)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 150, in call\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     wait_for_reply=True, timeout=timeout)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     timeout=timeout)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 412, in send\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self._send(target, ctxt, message, wait_for_reply, timeout)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 405, in _send\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     raise result\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup IncompatibleObjectVersion_Remote: Version 1.4 of Service is not supported\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     incoming.message))\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/conductor/manager.py\", line 1043, in object_class_action\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/conductor/manager.py\", line 605, in object_class_action\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup     for t in requested_networks])\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/nova/nova/objects/base.py\", line 224, in obj_class_from_name\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n                                                                                                                                                      \n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup IncompatibleObjectVersion: Version 1.4 of Service is not supported\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n2014-11-11 12:17:32.897 5214 TRACE nova.openstack.common.threadgroup\n\n\n}\n\n\nWhereas if i use rabbitmq-server the nova-compute is not having the above errors.\n\nChandralekha", 
            "date_created": "2014-11-17 07:43:24.321025+00:00", 
            "author": "https://api.launchpad.net/1.0/~chandra-dolly24"
        }, 
        {
            "content": "", 
            "date_created": "2014-11-17 07:48:54.279091+00:00", 
            "author": "https://api.launchpad.net/1.0/~chandra-dolly24"
        }, 
        {
            "content": "", 
            "date_created": "2014-11-17 07:49:15.449110+00:00", 
            "author": "https://api.launchpad.net/1.0/~chandra-dolly24"
        }, 
        {
            "content": "I don't think this is related to the choice of rabbit vs qpid.\n\nThe exceptions in that log above are showing messages like\n\n  IncompatibleObjectVersion: Version 1.4 of Service is not supported\n\n  IncompatibleObjectVersion: Version 1.9 of InstanceList is not supported\n\nwhich I believe is saying that the code version is out of sync with the version of the database. IOW it looks like you've updated the code, but not run the database migration scripts, or something along those lines.\n\nI'd recommend blowing away your database and re-running devstack from a clean state.\n\nWith the info here this doesn't look like a Nova bug.", 
            "date_created": "2014-11-19 13:13:43.028815+00:00", 
            "author": "https://api.launchpad.net/1.0/~berrange"
        }
    ], 
    "closed": "2015-04-01 15:26:18.458594+00:00"
}