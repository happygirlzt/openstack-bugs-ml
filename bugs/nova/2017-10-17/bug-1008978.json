{
    "status": "Invalid", 
    "last_updated": "2012-11-23 21:24:08.166365+00:00", 
    "description": "Hello:\n\u00a0\u00a0\u00a0\u00a0i deploy openstak with multi node.\n\u00a0\u00a0\u00a0\u00a0control node:    rabbitmq;   keystone;  mysql;  horizon;  nova-api   nova-scheduler   nova-novncproxy   nova-consoleauth and glance\n\u00a0\u00a0\u00a0\u00a0network node:      nove-network  (flatdhcp) nova-api (only metadata service)\n\u00a0\u00a0\u00a0\u00a0compute node:     nova-compute\n\n\u00a0\u00a0\u00a0\u00a0After i launch an instance,i try to view the log of vm through horizon.But it take nearly 20 seconds ....then  i try again by cli command (nova console-log XXX)  and get the same result.\n\u00a0   what was worse, it may appear the timeot error.like this bug https://bugs.launchpad.net/nova/+bug/966767", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1008978", 
    "owner": "None", 
    "id": 1008978, 
    "index": 4127, 
    "openned": "2012-06-05 12:35:11.409399+00:00", 
    "created": "2012-06-05 12:35:11.409399+00:00", 
    "title": " Timed out waiting for RPC response: timed out", 
    "comments": [
        {
            "content": "Hello:\n    i deploy openstak with multi node.\n    control node:    rabbitmq;   keystone;  mysql;  horizon;  nova-api   nova-scheduler   nova-novncproxy   nova-consoleauth and glance\n    network node:      nove-network  (flatdhcp) nova-api (only metadata service)\n    compute node:     nova-compute\n\n    After i launch an instance,i try to view the log of vm through horizon.But it take nearly 20 seconds ....then  i try again by cli command (nova console-log XXX)  and get the same result. \n\n    this is  api.log in control node\n\n2012-06-05 19:53:52 INFO nova.api.openstack.wsgi [req-2269fc51-b05c-4c36-bc1c-a6a37928da84 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] GET http://10.168.3.113:8774/v2/6cd20a72ec4a455a8648d7728975f32e/servers/3\n2012-06-05 19:53:52 DEBUG nova.api.openstack.wsgi [req-2269fc51-b05c-4c36-bc1c-a6a37928da84 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Unrecognized Content-Type provided in request from (pid=6335) get_body /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/api/openstack/wsgi.py:697\n2012-06-05 19:53:52 INFO nova.api.openstack.wsgi [req-2269fc51-b05c-4c36-bc1c-a6a37928da84 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] HTTP exception thrown: The resource could not be found.\n2012-06-05 19:53:52 INFO nova.api.openstack.wsgi [req-2269fc51-b05c-4c36-bc1c-a6a37928da84 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] http://10.168.3.113:8774/v2/6cd20a72ec4a455a8648d7728975f32e/servers/3 returned with HTTP 404\n2012-06-05 19:53:52 INFO nova.api.openstack.wsgi [req-8b70379a-00f5-4b7c-a903-a526e87c02d6 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] GET http://10.168.3.113:8774/v2/6cd20a72ec4a455a8648d7728975f32e/servers/detail\n2012-06-05 19:53:52 DEBUG nova.api.openstack.wsgi [req-8b70379a-00f5-4b7c-a903-a526e87c02d6 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Unrecognized Content-Type provided in request from (pid=6335) get_body /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/api/openstack/wsgi.py:697\n2012-06-05 19:53:52 DEBUG nova.compute.api [req-8b70379a-00f5-4b7c-a903-a526e87c02d6 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Searching by: {'deleted': False, 'project_id': u'6cd20a72ec4a455a8648d7728975f32e'} from (pid=6335) get_all /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/compute/api.py:1057\n2012-06-05 19:53:52 DEBUG nova.api.openstack.common [req-8b70379a-00f5-4b7c-a903-a526e87c02d6 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Generated ACTIVE from vm_state=active task_state=None. from (pid=6335) status_from_state /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/api/openstack/common.py:96\n2012-06-05 19:53:52 DEBUG nova.api.openstack.common [req-8b70379a-00f5-4b7c-a903-a526e87c02d6 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Converting nw_info: [VIF({'network': Network({'bridge': u'br100', 'subnets': [Subnet({'ips': [FixedIP({'meta': {}, 'version': 4, 'type': u'fixed', 'floating_ips': [], 'address': u'10.168.3.153'})], 'version': 4, 'meta': {u'dhcp_server': u'10.168.3.114'}, 'dns': [IP({'meta': {}, 'version': 4, 'type': u'dns', 'address': u'8.8.4.4'})], 'routes': [], 'cidr': u'10.168.0.0/19', 'gateway': IP({'meta': {}, 'version': 4, 'type': u'gateway', 'address': u'10.168.3.114'})}), Subnet({'ips': [], 'version': None, 'meta': {u'dhcp_server': None}, 'dns': [], 'routes': [], 'cidr': None, 'gateway': IP({'meta': {}, 'version': None, 'type': u'gateway', 'address': None})})], 'meta': {u'tenant_id': None, u'should_create_bridge': True, u'bridge_interface': u'eth0'}, 'id': u'b4041965-63b7-45e0-a506-6cfbc1386fb6', 'label': u'private'}), 'meta': {}, 'id': u'2a2fd9f4-0dcc-47e6-a440-49b6caf10632', 'address': u'fa:16:3e:03:4a:55'})] from (pid=6335) get_networks_for_instance_from_nw_info /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/api/openstack/common.py:291\n2012-06-05 19:53:52 DEBUG nova.api.openstack.common [req-8b70379a-00f5-4b7c-a903-a526e87c02d6 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Converted networks: {u'private': {'ips': [FixedIP({'meta': {}, 'version': 4, 'type': u'fixed', 'floating_ips': [], 'address': u'10.168.3.153'})], 'floating_ips': []}} from (pid=6335) get_networks_for_instance_from_nw_info /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/api/openstack/common.py:301\n2012-06-05 19:53:52 DEBUG nova.compute.api [req-8b70379a-00f5-4b7c-a903-a526e87c02d6 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Searching by: {'uuid': [u'2e6c8b3a-961b-48de-a568-b8ea799661e4']} from (pid=6335) get_all /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/compute/api.py:1057\n2012-06-05 19:53:52 DEBUG nova.compute.api [req-8b70379a-00f5-4b7c-a903-a526e87c02d6 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Searching by: {'uuid': [u'2e6c8b3a-961b-48de-a568-b8ea799661e4']} from (pid=6335) get_all /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/compute/api.py:1057\n2012-06-05 19:53:52 INFO nova.api.openstack.wsgi [req-8b70379a-00f5-4b7c-a903-a526e87c02d6 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] http://10.168.3.113:8774/v2/6cd20a72ec4a455a8648d7728975f32e/servers/detail returned with HTTP 200\n2012-06-05 19:53:52 INFO nova.api.openstack.wsgi [req-1f6e439b-5de7-41af-a847-e7471cfc7ec4 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] POST http://10.168.3.113:8774/v2/6cd20a72ec4a455a8648d7728975f32e/servers/2e6c8b3a-961b-48de-a568-b8ea799661e4/action\n2012-06-05 19:53:53 DEBUG nova.rpc.amqp [req-1f6e439b-5de7-41af-a847-e7471cfc7ec4 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Making asynchronous call on compute.nb447.corp.yodao.com ... from (pid=6335) multicall /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/rpc/amqp.py:321\n2012-06-05 19:53:53 DEBUG nova.rpc.amqp [req-1f6e439b-5de7-41af-a847-e7471cfc7ec4 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] MSG_ID is 060a9fe9ff474762959dcc24bff14eb4 from (pid=6335) multicall /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/rpc/amqp.py:324\n\n2012-06-05 19:54:09 INFO nova.api.openstack.wsgi [req-1f6e439b-5de7-41af-a847-e7471cfc7ec4 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] http://10.168.3.113:8774/v2/6cd20a72ec4a455a8648d7728975f32e/servers/2e6c8b3a-961b-48de-a568-b8ea799661e4/action returned with HTTP 200\n\nthis the compute.log in compute node\n\n2012-06-05 19:54:02 DEBUG nova.manager [-] Running periodic task ComputeManager._poll_unconfirmed_resizes from (pid=15794) periodic_tasks /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/manager.py:152\n2012-06-05 19:54:02 DEBUG nova.rpc.amqp [-] received {u'_context_roles': [u'KeystoneServiceAdmin', u'admin', u'KeystoneAdmin'], u'_msg_id': u'060a9fe9ff474762959dcc24bff14eb4', u'_context_read_deleted': u'no', u'_context_request_id': u'req-1f6e439b-5de7-41af-a847-e7471cfc7ec4', u'args': {u'instance_uuid': u'2e6c8b3a-961b-48de-a568-b8ea799661e4', u'tail_length': None}, u'_context_auth_token': '<SANITIZED>', u'_context_is_admin': True, u'_context_project_id': u'6cd20a72ec4a455a8648d7728975f32e', u'_context_timestamp': u'2012-06-05T11:53:52.961339', u'_context_user_id': u'ac148194334b475e8820334b156a532b', u'method': u'get_console_output', u'_context_remote_address': u'10.168.3.113'} from (pid=15794) _safe_log /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/rpc/common.py:160\n2012-06-05 19:54:02 DEBUG nova.rpc.amqp [req-1f6e439b-5de7-41af-a847-e7471cfc7ec4 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] unpacked context: {'user_id': u'ac148194334b475e8820334b156a532b', 'roles': [u'KeystoneServiceAdmin', u'admin', u'KeystoneAdmin'], 'timestamp': '2012-06-05T11:53:52.961339', 'auth_token': '<SANITIZED>', 'remote_address': u'10.168.3.113', 'is_admin': True, 'request_id': u'req-1f6e439b-5de7-41af-a847-e7471cfc7ec4', 'project_id': u'6cd20a72ec4a455a8648d7728975f32e', 'read_deleted': u'no'} from (pid=15794) _safe_log /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/rpc/common.py:160\n2012-06-05 19:54:02 AUDIT nova.compute.manager [req-1f6e439b-5de7-41af-a847-e7471cfc7ec4 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Get console output for instance 2e6c8b3a-961b-48de-a568-b8ea799661e4\n\n2012-06-05 19:54:08 DEBUG nova.utils [req-1f6e439b-5de7-41af-a847-e7471cfc7ec4 ac148194334b475e8820334b156a532b 6cd20a72ec4a455a8648d7728975f32e] Running cmd (subprocess): sudo chown 2006 /var/lib/nova/instances/instance-00000017/console.log from (pid=15794) execute /usr/lib/python2.6/site-packages/nova-2012.1-py2.6.egg/nova/utils.py:219s\n\n what was worse, it may appear the timeot error.like this bug https://bugs.launchpad.net/nova/+bug/966767", 
            "date_created": "2012-06-05 12:35:11.409399+00:00", 
            "author": "https://api.launchpad.net/1.0/~wuzhenle"
        }, 
        {
            "content": "The summary of this bug mentions an rpc timeout, but I don't see that anywhere in your log.  Can you provide a log that shows what error you are getting?", 
            "date_created": "2012-06-07 17:50:11.908158+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "thanks russellb. My logs show that it takes a long time for nova-compute manage the request of command(nova get-vnc-console vm  novnc or nova console-log vm). This is my question https://answers.launchpad.net/nova/+question/199529.Before get the first response, i  try to execute the command again, then it appear the timeout error.Just like this bug https://bugs.launchpad.net/nova/+bug/966767", 
            "date_created": "2012-06-08 03:59:58.484836+00:00", 
            "author": "https://api.launchpad.net/1.0/~wuzhenle"
        }, 
        {
            "content": "", 
            "date_created": "2012-06-08 08:32:20.964989+00:00", 
            "author": "https://api.launchpad.net/1.0/~wuzhenle"
        }, 
        {
            "content": "", 
            "date_created": "2012-06-08 08:32:55.994026+00:00", 
            "author": "https://api.launchpad.net/1.0/~wuzhenle"
        }, 
        {
            "content": "I still don't see the rpc timeout error anywhere in your log ...", 
            "date_created": "2012-08-14 21:44:51.214555+00:00", 
            "author": "https://api.launchpad.net/1.0/~russellb"
        }, 
        {
            "content": "We cannot solve the issue you reported without more information. Could you please provide the requested information ?", 
            "date_created": "2012-09-10 13:23:00.721943+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "Thank you for reminding. Problem had been solved after reboot the compute node. Because I update linux kernel.\r\n------\u539f\u59cb\u6d88\u606f------\r\n\u6765\u81ea\uff1aThierry Carrez\r\n\u53d1\u4ef6\u4eba\uff1a<email address hidden>\r\n\u6536\u4ef6\u4eba\uff1a<email address hidden>\r\n\u7b54\u590d\uff1aBug 1008978\r\n\u4e3b\u9898\uff1a[Bug 1008978] Re:  Timed out waiting for RPC response: timed out\r\n\u53d1\u9001\u65f6\u95f4\uff1a2012\u5e749\u670810\u65e5 \u4e0b\u5348 9:23\r\n\r\nWe cannot solve the issue you reported without more information. Could\r\nyou please provide the requested information ?\r\n\r\n-- \r\nYou received this bug notification because you are subscribed to the bug\r\nreport.\r\nhttps://bugs.launchpad.net/bugs/1008978\r\n\r\nTitle:\r\n   Timed out waiting for RPC response: timed out\r\n\r\nStatus in OpenStack Compute (Nova):\r\n  Incomplete\r\n\r\nBug description:\r\n  Hello:\r\n  \u00a0\u00a0\u00a0\u00a0i deploy openstak with multi node.\r\n  \u00a0\u00a0\u00a0\u00a0control node:    rabbitmq;   keystone;  mysql;  horizon;  nova-api   nova-scheduler   nova-novncproxy   nova-consoleauth and glance\r\n  \u00a0\u00a0\u00a0\u00a0network node:      nove-network  (flatdhcp) nova-api (only metadata service)\r\n  \u00a0\u00a0\u00a0\u00a0compute node:     nova-compute\r\n\r\n  \u00a0\u00a0\u00a0\u00a0After i launch an instance,i try to view the log of vm through horizon.But it take nearly 20 seconds ....then  i try again by cli command (nova console-log XXX)  and get the same result.\r\n  \u00a0   what was worse, it may appear the timeot error.like this bug https://bugs.launchpad.net/nova/+bug/966767\r\n\r\nTo manage notifications about this bug go to:\r\nhttps://bugs.launchpad.net/nova/+bug/1008978/+subscriptions\r\n\r\n\r\n\u53d1\u9001\u81ea\u6211\u7684 BlackBerry\u00ae \u667a\u80fd\u624b\u673a\r\nwww.blackberry.com", 
            "date_created": "2012-09-10 15:06:48+00:00", 
            "author": "https://api.launchpad.net/1.0/~wuzhenle"
        }
    ], 
    "closed": "2012-11-23 21:24:05.459737+00:00"
}