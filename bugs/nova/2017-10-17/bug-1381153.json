{
    "status": "Invalid", 
    "last_updated": "2016-05-16 08:12:41.756799+00:00", 
    "description": "When trying to create a snapshot through horizon from a running instance I get this error:\n\n2014-10-14 17:45:19.602 33435 INFO nova.virt.libvirt.driver [req-4cce8ec4-e5ae-4614-b82a-4aac602aa110 977d2518de7042369d6f9fdf505326d3 89382cc045ad415684985bbfb0a02fee] [instance: 0816d148-d271-42d8-9bba-da78927d0eff] Beginning live snapshot process\n2014-10-14 17:45:19.919 33435 INFO nova.virt.libvirt.driver [req-4cce8ec4-e5ae-4614-b82a-4aac602aa110 977d2518de7042369d6f9fdf505326d3 89382cc045ad415684985bbfb0a02fee] [instance: 0816d148-d271-42d8-9bba-da78927d0eff] Snapshot extracted, beginning image upload\n2014-10-14 17:45:20.167 33435 ERROR oslo.messaging.rpc.dispatcher [-] Exception during message handling: unsupported configuration: block copy is not supported with this QEMU binary\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 88, in wrapped\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     payload)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 71, in wrapped\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 274, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     pass\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 260, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 303, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     e, sys.exc_info())\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 290, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 353, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     % image_id, instance=instance)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 343, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     *args, **kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2736, in snapshot_instance\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     task_states.IMAGE_SNAPSHOT)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2767, in _snapshot_instance\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     update_task_state)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1570, in snapshot\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     image_format)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1664, in _live_snapshot\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     libvirt.VIR_DOMAIN_BLOCK_REBASE_SHALLOW)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 179, in doit\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 139, in proxy_call\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     rv = execute(f,*args,**kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 77, in tworker\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     rv = meth(*args,**kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib64/python2.7/site-packages/libvirt.py\", line 646, in blockRebase\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     if ret == -1: raise libvirtError ('virDomainBlockRebase() failed', dom=self)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher libvirtError: unsupported configuration: block copy is not supported with this QEMU binary\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n2014-10-14 17:45:20.169 33435 ERROR oslo.messaging._drivers.common [-] Returning exception unsupported configuration: block copy is not supported with this QEMU binary to caller\n2014-10-14 17:45:20.169 33435 ERROR oslo.messaging._drivers.common [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\\n    incoming.message))\\n', '  File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt, args)\\n', '  File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt, **new_args)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 88, in wrapped\\n    payload)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 71, in wrapped\\n    return f(self, context, *args, **kw)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 274, in decorated_function\\n    pass\\n', '  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 260, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 303, in decorated_function\\n    e, sys.exc_info())\\n', '  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 290, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 353, in decorated_function\\n    % image_id, instance=instance)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 343, in decorated_function\\n    *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2736, in snapshot_instance\\n    task_states.IMAGE_SNAPSHOT)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2767, in _snapshot_instance\\n    update_task_state)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1570, in snapshot\\n    image_format)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1664, in _live_snapshot\\n    libvirt.VIR_DOMAIN_BLOCK_REBASE_SHALLOW)\\n', '  File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 179, in doit\\n    result = proxy_call(self._autowrap, f, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 139, in proxy_call\\n    rv = execute(f,*args,**kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 77, in tworker\\n    rv = meth(*args,**kwargs)\\n', '  File \"/usr/lib64/python2.7/site-packages/libvirt.py\", line 646, in blockRebase\\n    if ret == -1: raise libvirtError (\\'virDomainBlockRebase() failed\\', dom=self)\\n', 'libvirtError: unsupported configuration: block copy is not supported with this QEMU binary\\n']", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 28, 
    "link": "https://bugs.launchpad.net/nova/+bug/1381153", 
    "owner": "None", 
    "id": 1381153, 
    "index": 6479, 
    "openned": "2014-10-14 16:54:56.280432+00:00", 
    "created": "2014-10-14 16:54:56.280432+00:00", 
    "title": "Cannot create instance live snapshots in Centos7 (icehouse)", 
    "comments": [
        {
            "content": "When trying to create a snapshot through horizon from a running instance I get this error:\n\n2014-10-14 17:45:19.602 33435 INFO nova.virt.libvirt.driver [req-4cce8ec4-e5ae-4614-b82a-4aac602aa110 977d2518de7042369d6f9fdf505326d3 89382cc045ad415684985bbfb0a02fee] [instance: 0816d148-d271-42d8-9bba-da78927d0eff] Beginning live snapshot process\n2014-10-14 17:45:19.919 33435 INFO nova.virt.libvirt.driver [req-4cce8ec4-e5ae-4614-b82a-4aac602aa110 977d2518de7042369d6f9fdf505326d3 89382cc045ad415684985bbfb0a02fee] [instance: 0816d148-d271-42d8-9bba-da78927d0eff] Snapshot extracted, beginning image upload\n2014-10-14 17:45:20.167 33435 ERROR oslo.messaging.rpc.dispatcher [-] Exception during message handling: unsupported configuration: block copy is not supported with this QEMU binary\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 88, in wrapped\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     payload)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 71, in wrapped\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 274, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     pass\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 260, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 303, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     e, sys.exc_info())\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 290, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 353, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     % image_id, instance=instance)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 343, in decorated_function\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     *args, **kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2736, in snapshot_instance\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     task_states.IMAGE_SNAPSHOT)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2767, in _snapshot_instance\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     update_task_state)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1570, in snapshot\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     image_format)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1664, in _live_snapshot\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     libvirt.VIR_DOMAIN_BLOCK_REBASE_SHALLOW)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 179, in doit\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 139, in proxy_call\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     rv = execute(f,*args,**kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 77, in tworker\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     rv = meth(*args,**kwargs)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib64/python2.7/site-packages/libvirt.py\", line 646, in blockRebase\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     if ret == -1: raise libvirtError ('virDomainBlockRebase() failed', dom=self)\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher libvirtError: unsupported configuration: block copy is not supported with this QEMU binary\n2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher \n2014-10-14 17:45:20.169 33435 ERROR oslo.messaging._drivers.common [-] Returning exception unsupported configuration: block copy is not supported with this QEMU binary to caller\n2014-10-14 17:45:20.169 33435 ERROR oslo.messaging._drivers.common [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\\n    incoming.message))\\n', '  File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt, args)\\n', '  File \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt, **new_args)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 88, in wrapped\\n    payload)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 71, in wrapped\\n    return f(self, context, *args, **kw)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 274, in decorated_function\\n    pass\\n', '  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 260, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 303, in decorated_function\\n    e, sys.exc_info())\\n', '  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 290, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 353, in decorated_function\\n    % image_id, instance=instance)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 343, in decorated_function\\n    *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2736, in snapshot_instance\\n    task_states.IMAGE_SNAPSHOT)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2767, in _snapshot_instance\\n    update_task_state)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1570, in snapshot\\n    image_format)\\n', '  File \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1664, in _live_snapshot\\n    libvirt.VIR_DOMAIN_BLOCK_REBASE_SHALLOW)\\n', '  File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 179, in doit\\n    result = proxy_call(self._autowrap, f, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 139, in proxy_call\\n    rv = execute(f,*args,**kwargs)\\n', '  File \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 77, in tworker\\n    rv = meth(*args,**kwargs)\\n', '  File \"/usr/lib64/python2.7/site-packages/libvirt.py\", line 646, in blockRebase\\n    if ret == -1: raise libvirtError (\\'virDomainBlockRebase() failed\\', dom=self)\\n', 'libvirtError: unsupported configuration: block copy is not supported with this QEMU binary\\n']", 
            "date_created": "2014-10-14 16:54:56.280432+00:00", 
            "author": "https://api.launchpad.net/1.0/~pgsousa"
        }, 
        {
            "content": "Perhaps a silly question, but given the error: \n\n'libvirtError: unsupported configuration: block copy is not supported with this QEMU binary\\n']\n\ndo you just need a newer version of qemu on your system?", 
            "date_created": "2014-10-14 23:32:53.158325+00:00", 
            "author": "https://api.launchpad.net/1.0/~cyeoh-0"
        }, 
        {
            "content": "I'm using latest qemu version available from Centos7 repos.", 
            "date_created": "2014-10-15 09:55:45.398423+00:00", 
            "author": "https://api.launchpad.net/1.0/~pgsousa"
        }, 
        {
            "content": "I am seeing this same error on CentOS 7. Software versions are as follows:\n\nbash-4.2# rpm -qa | grep -i qemu\nipxe-roms-qemu-20130517-5.gitc4bce43.el7.noarch\nqemu-img-1.5.3-60.el7_0.10.x86_64\nqemu-kvm-1.5.3-60.el7_0.10.x86_64\nlibvirt-daemon-driver-qemu-1.1.1-29.el7_0.3.x86_64\nqemu-kvm-common-1.5.3-60.el7_0.10.x86_64", 
            "date_created": "2015-01-14 21:09:30.491867+00:00", 
            "author": "https://api.launchpad.net/1.0/~richard-raseley"
        }, 
        {
            "content": "Any updates on that??  Did any body fix it or work around it ?", 
            "date_created": "2015-01-30 11:39:04.972816+00:00", 
            "author": "https://api.launchpad.net/1.0/~bishoysamy"
        }, 
        {
            "content": "Hi,\n\nyou can try newer packages from here to see if it solves it:\n\n[qemu-kvm-rhev]\nname=oVirt rebuilds of qemu-kvm-rhev\nbaseurl=http://resources.ovirt.org/pub/ovirt-3.5/rpm/el7Server/\nmirrorlist=\nhttp://resources.ovirt.org/pub/yum-repo/mirrorlist-ovirt-3.5-el7Server\nenabled=1\nskip_if_unavailable=1\ngpgcheck=0\n\nRegards,\nPedro Sousa\n~\n\nOn Fri, Jan 30, 2015 at 11:39 AM, Bishoy <email address hidden> wrote:\n\n> Any updates on that??  Did any body fix it or work around it ?\n>\n> --\n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/1381153\n>\n> Title:\n>   Cannot create instance live snapshots in Centos7 (icehouse)\n>\n> Status in OpenStack Compute (Nova):\n>   Incomplete\n>\n> Bug description:\n>   When trying to create a snapshot through horizon from a running\n>   instance I get this error:\n>\n>   2014-10-14 17:45:19.602 33435 INFO nova.virt.libvirt.driver\n> [req-4cce8ec4-e5ae-4614-b82a-4aac602aa110 977d2518de7042369d6f9fdf505326d3\n> 89382cc045ad415684985bbfb0a02fee] [instance:\n> 0816d148-d271-42d8-9bba-da78927d0eff] Beginning live snapshot process\n>   2014-10-14 17:45:19.919 33435 INFO nova.virt.libvirt.driver\n> [req-4cce8ec4-e5ae-4614-b82a-4aac602aa110 977d2518de7042369d6f9fdf505326d3\n> 89382cc045ad415684985bbfb0a02fee] [instance:\n> 0816d148-d271-42d8-9bba-da78927d0eff] Snapshot extracted, beginning image\n> upload\n>   2014-10-14 17:45:20.167 33435 ERROR oslo.messaging.rpc.dispatcher [-]\n> Exception during message handling: unsupported configuration: block copy is\n> not supported with this QEMU binary\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n> Traceback (most recent call last):\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 133, in _dispatch_and_reply\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  incoming.message))\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 176, in _dispatch\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  return self._do_dispatch(endpoint, method, ctxt, args)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 122, in _do_dispatch\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  result = getattr(endpoint, method)(ctxt, **new_args)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 88, in wrapped\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  payload)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line\n> 68, in __exit__\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  six.reraise(self.type_, self.value, self.tb)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 71, in wrapped\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  return f(self, context, *args, **kw)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 274, in\n> decorated_function\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  pass\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line\n> 68, in __exit__\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  six.reraise(self.type_, self.value, self.tb)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 260, in\n> decorated_function\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  return function(self, context, *args, **kwargs)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 303, in\n> decorated_function\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     e,\n> sys.exc_info())\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line\n> 68, in __exit__\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  six.reraise(self.type_, self.value, self.tb)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 290, in\n> decorated_function\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  return function(self, context, *args, **kwargs)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 353, in\n> decorated_function\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     %\n> image_id, instance=instance)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line\n> 68, in __exit__\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  six.reraise(self.type_, self.value, self.tb)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 343, in\n> decorated_function\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  *args, **kwargs)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2736, in\n> snapshot_instance\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  task_states.IMAGE_SNAPSHOT)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2767, in\n> _snapshot_instance\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  update_task_state)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1570,\n> in snapshot\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  image_format)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1664,\n> in _live_snapshot\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  libvirt.VIR_DOMAIN_BLOCK_REBASE_SHALLOW)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 179, in doit\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>  result = proxy_call(self._autowrap, f, *args, **kwargs)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 139, in\n> proxy_call\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     rv\n> = execute(f,*args,**kwargs)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 77, in tworker\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     rv\n> = meth(*args,**kwargs)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher   File\n> \"/usr/lib64/python2.7/site-packages/libvirt.py\", line 646, in blockRebase\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher     if\n> ret == -1: raise libvirtError ('virDomainBlockRebase() failed', dom=self)\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n> libvirtError: unsupported configuration: block copy is not supported with\n> this QEMU binary\n>   2014-10-14 17:45:20.167 33435 TRACE oslo.messaging.rpc.dispatcher\n>   2014-10-14 17:45:20.169 33435 ERROR oslo.messaging._drivers.common [-]\n> Returning exception unsupported configuration: block copy is not supported\n> with this QEMU binary to caller\n>   2014-10-14 17:45:20.169 33435 ERROR oslo.messaging._drivers.common [-]\n> ['Traceback (most recent call last):\\n', '  File\n> \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 133, in _dispatch_and_reply\\n    incoming.message))\\n', '  File\n> \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 176, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt,\n> args)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/oslo/messaging/rpc/dispatcher.py\", line\n> 122, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt,\n> **new_args)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 88, in\n> wrapped\\n    payload)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line\n> 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '\n> File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 71, in\n> wrapped\\n    return f(self, context, *args, **kw)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 274, in\n> decorated_function\\n    pass\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line\n> 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '\n> File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 260,\n> in decorated_function\\n    return function(self, context, *args,\n> **kwargs)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 303, in\n> decorated_function\\n    e, sys.exc_info())\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line\n> 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '\n> File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 290,\n> in decorated_function\\n    return function(self, context, *args,\n> **kwargs)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 353, in\n> decorated_function\\n    % image_id, instance=instance)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/openstack/common/excutils.py\", line\n> 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '\n> File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 343,\n> in decorated_function\\n    *args, **kwargs)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2736, in\n> snapshot_instance\\n    task_states.IMAGE_SNAPSHOT)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2767, in\n> _snapshot_instance\\n    update_task_state)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1570,\n> in snapshot\\n    image_format)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/nova/virt/libvirt/driver.py\", line 1664,\n> in _live_snapshot\\n    libvirt.VIR_DOMAIN_BLOCK_REBASE_SHALLOW)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 179, in doit\\n\n>   result = proxy_call(self._autowrap, f, *args, **kwargs)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 139, in\n> proxy_call\\n    rv = execute(f,*args,**kwargs)\\n', '  File\n> \"/usr/lib/python2.7/site-packages/eventlet/tpool.py\", line 77, in\n> tworker\\n    rv = meth(*args,**kwargs)\\n', '  File\n> \"/usr/lib64/python2.7/site-packages/libvirt.py\", line 646, in\n> blockRebase\\n    if ret == -1: raise libvirtError (\\'virDomainBlockRebase()\n> failed\\', dom=self)\\n', 'libvirtError: unsupported configuration: block\n> copy is not supported with this QEMU binary\\n']\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1381153/+subscriptions\n>\n", 
            "date_created": "2015-01-30 11:50:14+00:00", 
            "author": "https://api.launchpad.net/1.0/~pgsousa"
        }, 
        {
            "content": "I followd that link and it fixed for me as well\n\nhttps://www.jrssite.com/wordpress/?p=302\n", 
            "date_created": "2015-01-30 15:33:12.207617+00:00", 
            "author": "https://api.launchpad.net/1.0/~bishoysamy"
        }, 
        {
            "content": "I think in Nova side, we could catch that errors in a nice way for both cli and api.", 
            "date_created": "2015-03-27 07:10:11.697168+00:00", 
            "author": "https://api.launchpad.net/1.0/~academicgareth"
        }, 
        {
            "content": "OK, in looping back around it seems clear that this is a packaging issue (which in my case is RDO), not something at the Nova level.", 
            "date_created": "2015-04-22 18:03:58.732537+00:00", 
            "author": "https://api.launchpad.net/1.0/~richard-raseley"
        }
    ], 
    "closed": "2016-05-16 08:12:39.272223+00:00"
}