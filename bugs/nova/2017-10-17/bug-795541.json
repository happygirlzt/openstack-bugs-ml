{
    "status": "Fix Released", 
    "last_updated": "2012-03-20 11:15:06.744461+00:00", 
    "description": "revno: 1168 \n\nnova-manage vm list fails.\n\nroot@tama:~/workspace/nova-trunk# nova-manage vm list\ninstance   node            type       state      launched            image        kernel       ramdisk       project    user       zone       index\n2011-06-10 22:13:45,708 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/api.pyc'> from (pid=26361) __get_backend /home/nati/workspace/nova-trunk/nova/nova/utils.py:405\nCommand failed, please check log for more info\n2011-06-10 22:13:46,122 CRITICAL nova [-] 'Instance' object has no attribute 'image_id'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1190, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1179, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 645, in list\n(nova): TRACE:     instance['image_id'],\n(nova): TRACE:   File \"/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/models.py\", line 74, in __getitem__\n(nova): TRACE:     return getattr(self, key)\n(nova): TRACE: AttributeError: 'Instance' object has no attribute 'image_id'\n(nova): TRACE:", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/795541", 
    "owner": "https://api.launchpad.net/1.0/~ttx", 
    "id": 795541, 
    "index": 2425, 
    "openned": "2011-06-10 13:18:40.422202+00:00", 
    "created": "2011-06-10 13:18:40.422202+00:00", 
    "title": "nova-manage vm list says  ''Instance' object has no attribute 'image_id''", 
    "comments": [
        {
            "content": "revno: 1168 \n\nnova-manage vm list fails.\n\nroot@tama:~/workspace/nova-trunk# nova-manage vm list\ninstance   node            type       state      launched            image        kernel       ramdisk       project    user       zone       index\n2011-06-10 22:13:45,708 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/api.pyc'> from (pid=26361) __get_backend /home/nati/workspace/nova-trunk/nova/nova/utils.py:405\nCommand failed, please check log for more info\n2011-06-10 22:13:46,122 CRITICAL nova [-] 'Instance' object has no attribute 'image_id'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1190, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1179, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 645, in list\n(nova): TRACE:     instance['image_id'],\n(nova): TRACE:   File \"/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/models.py\", line 74, in __getitem__\n(nova): TRACE:     return getattr(self, key)\n(nova): TRACE: AttributeError: 'Instance' object has no attribute 'image_id'\n(nova): TRACE:", 
            "date_created": "2011-06-10 13:18:40.422202+00:00", 
            "author": "https://api.launchpad.net/1.0/~nati-ueno"
        }, 
        {
            "content": "what euca-describe instances returns ?", 
            "date_created": "2011-06-10 13:27:22.852558+00:00", 
            "author": "https://api.launchpad.net/1.0/~razique"
        }, 
        {
            "content": "This is output.\n\nroot@tama:~/workspace/nova-trunk# euca-describe-instances\nRESERVATION     r-n1b810u9      admin   default\nINSTANCE        i-00000001      ami-13364510    10.0.0.3        10.0.0.3\n   shutdown        None (admin, tama)      0               m1.small\n 2011-06-10T12:22:21Z    nova\nroot@tama:~/workspace/nova-trunk#\n\nI found I faild to launch new instance. I suppose this may cause the bug.\n\n2011/6/10 Razique Mahroua <email address hidden>\n\n> what euca-describe instances returns ?\n>\n> --\n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/795541\n>\n> Title:\n>  nova-manage vm list says  \"'Instance' object has no attribute\n>  'image_id'\"\n>\n> Status in OpenStack Compute (Nova):\n>  New\n>\n> Bug description:\n>  revno: 1168\n>\n>  nova-manage vm list fails.\n>\n>  root@tama:~/workspace/nova-trunk# nova-manage vm list\n>  instance   node            type       state      launched            image\n>        kernel       ramdisk       project    user       zone       index\n>  2011-06-10 22:13:45,708 DEBUG nova.utils [-] backend <module\n> 'nova.db.sqlalchemy.api' from\n> '/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/api.pyc'> from\n> (pid=26361) __get_backend\n> /home/nati/workspace/nova-trunk/nova/nova/utils.py:405\n>  Command failed, please check log for more info\n>  2011-06-10 22:13:46,122 CRITICAL nova [-] 'Instance' object has no\n> attribute 'image_id'\n>  (nova): TRACE: Traceback (most recent call last):\n>  (nova): TRACE:   File\n> \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1190, in\n> <module>\n>  (nova): TRACE:     main()\n>  (nova): TRACE:   File\n> \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1179, in main\n>  (nova): TRACE:     fn(*argv)\n>  (nova): TRACE:   File\n> \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 645, in list\n>  (nova): TRACE:     instance['image_id'],\n>  (nova): TRACE:   File\n> \"/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/models.py\", line\n> 74, in __getitem__\n>  (nova): TRACE:     return getattr(self, key)\n>  (nova): TRACE: AttributeError: 'Instance' object has no attribute\n> 'image_id'\n>  (nova): TRACE:\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/795541/+subscriptions\n>\n\n\n\n-- \nNachi Ueno\nemail:<email address hidden>\ntwitter:http://twitter.com/nati\n", 
            "date_created": "2011-06-10 13:39:49+00:00", 
            "author": "https://api.launchpad.net/1.0/~nati-ueno"
        }, 
        {
            "content": "Yes, it seems that you don't have any running instance. What command do you run in order to launch an instance ?\nWhat  nova-manage service list returns ?", 
            "date_created": "2011-06-10 13:48:33.013257+00:00", 
            "author": "https://api.launchpad.net/1.0/~razique"
        }, 
        {
            "content": "This is output of nova-manage service list.\nroot@tama:~/workspace/nova-trunk# nova-manage service list\n2011-06-10 23:36:01,175 DEBUG nova.utils [-] backend <module\n'nova.db.sqlalchemy.api' from\n'/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/api.pyc'> from\n(pid=28119) __get_backend\n/home/nati/workspace/nova-trunk/nova/nova/utils.py:405\ntama       nova-scheduler enabled  :-) 2011-06-10 14:35:57.122928\ntama       nova-network enabled  :-) 2011-06-10 14:35:55.823992\ntama       nova-compute enabled  :-) 2011-06-10 14:35:59.439948\n\nI launch an instance again.\nnova-manage service list\nroot@tama:~/workspace/nova-trunk# euca-run-instances -k test -t m1.tiny\nami-13364510\n\nroot@tama:~/workspace/nova-trunk# euca-describe-instances\nRESERVATION     r-2cl99v17      admin   default\nINSTANCE        i-00000002      ami-13364510    10.0.0.4        10.0.0.4\n   shutdown        test (admin, tama)      0               m1.small\n 2011-06-10T14:37:04Z    nova\nRESERVATION     r-yuhrq08l      admin   default\nINSTANCE        i-00000003      ami-13364510    10.0.0.5        10.0.0.5\n   running test (admin, tama)      0               m1.tiny\n2011-06-10T14:37:53Z    nova\nRESERVATION     r-n1b810u9      admin   default\nINSTANCE        i-00000001      ami-13364510    10.0.0.3        10.0.0.3\n   shutdown        None (admin, tama)      0               m1.small\n 2011-06-10T12:22:21Z    nova\n\nHowever the output of vm list fails\n\nroot@tama:~/workspace/nova-trunk# nova-manage vm list\ninstance   node            type       state      launched            image\n     kernel       ramdisk       project    user       zone       index\n2011-06-10 23:40:37,712 DEBUG nova.utils [-] backend <module\n'nova.db.sqlalchemy.api' from\n'/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/api.pyc'> from\n(pid=28726) __get_backend\n/home/nati/workspace/nova-trunk/nova/nova/utils.py:405\nCommand failed, please check log for more info\n2011-06-10 23:40:37,825 CRITICAL nova [-] 'Instance' object has no attribute\n'image_id'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File\n\"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1190, in\n<module>\n(nova): TRACE:     main()\n(nova): TRACE:   File\n\"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1179, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File\n\"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 645, in list\n(nova): TRACE:     instance['image_id'],\n(nova): TRACE:   File\n\"/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/models.py\", line\n74, in __getitem__\n(nova): TRACE:     return getattr(self, key)\n(nova): TRACE: AttributeError: 'Instance' object has no attribute 'image_id'\n(nova): TRACE:\n\nNext, I restarted nova environment at all.  However , the result of the vm\nlist failed.\n\nroot@tama:~/workspace/nova-trunk# euca-run-instances -k test -t m1.tiny\nami-13364510                                         KeypairNotFound:\nKeypair %(keypair_name)s not found for user %(user_id)s\nroot@tama:~/workspace/nova-trunk# euca-add-keypair test > test.pem\nroot@tama:~/workspace/nova-trunk# euca-run-instances -k test -t m1.tiny\nami-13364510\nRESERVATION     r-8l9ytuni      admin   default\nINSTANCE        i-00000001      ami-13364510                    scheduling\n   test (admin, None)      0               m1.tiny 2011-06-10T14:44:59Z\n unknown zone\nroot@tama:~/workspace/nova-trunk# euca-describe-instances\nRESERVATION     r-8l9ytuni      admin   default\nINSTANCE        i-00000001      ami-13364510    10.0.0.3        10.0.0.3\n   running test (admin, tama)      0               m1.tiny\n2011-06-10T14:44:59Z    nova\nroot@tama:~/workspace/nova-trunk# nova-manage vm list\ninstance   node            type       state      launched            image\n     kernel       ramdisk       project    user       zone       index\n2011-06-10 23:45:29,200 DEBUG nova.utils [-] backend <module\n'nova.db.sqlalchemy.api' from\n'/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/api.pyc'> from\n(pid=29761) __get_backend\n/home/nati/workspace/nova-trunk/nova/nova/utils.py:405\nCommand failed, please check log for more info\n2011-06-10 23:45:29,312 CRITICAL nova [-] 'Instance' object has no attribute\n'image_id'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File\n\"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1190, in\n<module>\n(nova): TRACE:     main()\n(nova): TRACE:   File\n\"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1179, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File\n\"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 645, in list\n(nova): TRACE:     instance['image_id'],\n(nova): TRACE:   File\n\"/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/models.py\", line\n74, in __getitem__\n(nova): TRACE:     return getattr(self, key)\n(nova): TRACE: AttributeError: 'Instance' object has no attribute 'image_id'\n(nova): TRACE:\nroot@tama:~/workspace/nova-trunk# euca-describe-instances\nRESERVATION     r-8l9ytuni      admin   default\nINSTANCE        i-00000001      ami-13364510    10.0.0.3        10.0.0.3\n   running test (admin, tama)      0               m1.tiny\n2011-06-10T14:44:59Z    nova\n\nIs that OK for your environments?\n\n2011/6/10 Razique Mahroua <email address hidden>\n\n> Yes, it seems that you don't have any running instance. What command do you\n> run in order to launch an instance ?\n> What  nova-manage service list returns ?\n>\n> --\n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/795541\n>\n> Title:\n>  nova-manage vm list says  \"'Instance' object has no attribute\n>  'image_id'\"\n>\n> Status in OpenStack Compute (Nova):\n>  New\n>\n> Bug description:\n>  revno: 1168\n>\n>  nova-manage vm list fails.\n>\n>  root@tama:~/workspace/nova-trunk# nova-manage vm list\n>  instance   node            type       state      launched            image\n>        kernel       ramdisk       project    user       zone       index\n>  2011-06-10 22:13:45,708 DEBUG nova.utils [-] backend <module\n> 'nova.db.sqlalchemy.api' from\n> '/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/api.pyc'> from\n> (pid=26361) __get_backend\n> /home/nati/workspace/nova-trunk/nova/nova/utils.py:405\n>  Command failed, please check log for more info\n>  2011-06-10 22:13:46,122 CRITICAL nova [-] 'Instance' object has no\n> attribute 'image_id'\n>  (nova): TRACE: Traceback (most recent call last):\n>  (nova): TRACE:   File\n> \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1190, in\n> <module>\n>  (nova): TRACE:     main()\n>  (nova): TRACE:   File\n> \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 1179, in main\n>  (nova): TRACE:     fn(*argv)\n>  (nova): TRACE:   File\n> \"/home/nati/workspace/nova-trunk/nova/bin/nova-manage\", line 645, in list\n>  (nova): TRACE:     instance['image_id'],\n>  (nova): TRACE:   File\n> \"/home/nati/workspace/nova-trunk/nova/nova/db/sqlalchemy/models.py\", line\n> 74, in __getitem__\n>  (nova): TRACE:     return getattr(self, key)\n>  (nova): TRACE: AttributeError: 'Instance' object has no attribute\n> 'image_id'\n>  (nova): TRACE:\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/795541/+subscriptions\n>\n\n\n\n-- \nNachi Ueno\nemail:<email address hidden>\ntwitter:http://twitter.com/nati\n", 
            "date_created": "2011-06-10 14:47:04+00:00", 
            "author": "https://api.launchpad.net/1.0/~nati-ueno"
        }, 
        {
            "content": "Revision 1144 renamed image_id to image_ref but missed this reference in nova-manage.", 
            "date_created": "2011-06-27 14:07:20.438071+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "I seem to get the same error  i am using the version - 2012.1-dev (2012.1-LOCALBRANCH:LOCALREVISION)\n\n\ncpnuser@hplacompute03:~$ nova-manage vm list\nCould not read /etc/nova/nova.conf. Re-running with sudo\n[sudo] password for cpnuser:\ninstance   node            type       state      launched                   image     kernel    ramdisk    project    user       zone       index\n2012-03-20 04:04:34,929 DEBUG nova.utils [req-389e873b-01af-4877-83e7-5d2cc1e142dd None None] backend <module 'nova.db.sqlalchemy.api' from '/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.pyc'> from (pid=15074) __get_backend /usr/lib/python2.7/dist-packages/nova/utils.py:587\nCommand failed, please check log for more info\n2012-03-20 04:04:35,122 CRITICAL nova [-] 'NoneType' object has no attribute 'name'\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2372, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 2359, in main\n(nova): TRACE:     fn(*fn_args, **fn_kwargs)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 978, in list\n(nova): TRACE:     instance['instance_type'].name,\n(nova): TRACE: AttributeError: 'NoneType' object has no attribute 'name'\n(nova): TRACE:\n", 
            "date_created": "2012-03-20 11:15:06.098078+00:00", 
            "author": "https://api.launchpad.net/1.0/~janagarajs"
        }
    ], 
    "closed": "2011-09-22 13:39:37.358193+00:00"
}