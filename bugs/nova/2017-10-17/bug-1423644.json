{
    "status": "Won't Fix", 
    "last_updated": "2016-06-18 12:13:03.498365+00:00", 
    "description": "I tried to set my quotas to exactly the hardware specs of my compute node for accurate reporting. My compute node runs on bare metal. After I did this I got quotas exceeded, unable to launch instance. I checked the hypervisor from the web interface and cli. 5 of 12 VCPUs used and 6GB of 16GB used. When you try and change the quotas to match the hardware it errors. From the CLI it reports that quota cant be set to 12 VCPUs because 17 are in use. Same with mem says 17GB are in use. But they arent in use clearly. So the bandaid is to set the quotas really high and then it ignores them and allows you to create instances against the actual nova usage stats. This also causes some failure to launch instance errors, no host is available meaning there arent enough resources even though there are. Im running this as a production environment for my domain so I have spent hundreds of hours chasing my tail. Hope this is helpful for debugging the issue.", 
    "tags": [
        "quotas"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1423644", 
    "owner": "None", 
    "id": 1423644, 
    "index": 6712, 
    "openned": "2015-02-19 18:09:39.542747+00:00", 
    "created": "2015-02-19 18:09:39.542747+00:00", 
    "title": "CPU/MEM usage not accurate. Hits quotas while resources are available", 
    "comments": [
        {
            "content": "I tried to set my quotas to exactly the hardware specs of my compute node for accurate reporting. My compute node runs on bare metal. After I did this I got quotas exceeded, unable to launch instance. I checked the hypervisor from the web interface and cli. 5 of 12 VCPUs used and 6GB of 16GB used. When you try and change the quotas to match the hardware it errors. From the CLI it reports that quota cant be set to 12 VCPUs because 17 are in use. Same with mem says 17GB are in use. But they arent in use clearly. So the bandaid is to set the quotas really high and then it ignores them and allows you to create instances against the actual nova usage stats. This also causes some failure to launch instance errors, no host is available meaning there arent enough resources even though there are. Im running this as a production environment for my domain so I have spent hundreds of hours chasing my tail. Hope this is helpful for debugging the issue.", 
            "date_created": "2015-02-19 18:09:39.542747+00:00", 
            "author": "https://api.launchpad.net/1.0/~greek35t"
        }, 
        {
            "content": "William, what version of OpenStack/Nova? Any specific distribution?", 
            "date_created": "2015-02-20 17:30:37.519063+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "Davanum,\n\nI am running OpenStack Juno. Its running on three pieces of bare metal. \nNova --version returns 2.19.0 on host compute1. This is running over Ubuntu \nserver 14.04 LTS. The systems are up to date. I run an 'apt-get update && \napt-get dist-upgrade' weekly. Please let me know if you need any more \ninformation. Thanks!\n\n\nKing Regards,\n\nWilliam\n\n-----Original Message-----\nFrom: <email address hidden> [mailto:<email address hidden>] On Behalf Of \nDavanum Srinivas (DIMS)\nSent: Friday, February 20, 2015 11:31 AM\nTo: <email address hidden>\nSubject: [Bug 1423644] Re: CPU/MEM usage not accurate. Hits quotas while \nresources are available\n\nWilliam, what version of OpenStack/Nova? Any specific distribution?\n\n** Changed in: nova\n       Status: New => Incomplete\n\n--\nYou received this bug notification because you are subscribed to the bug \nreport.\nhttps://bugs.launchpad.net/bugs/1423644\n\nTitle:\n  CPU/MEM usage not accurate. Hits quotas while resources are available\n\nStatus in OpenStack Compute (Nova):\n  Incomplete\nStatus in Ubuntu:\n  New\n\nBug description:\n  I tried to set my quotas to exactly the hardware specs of my compute\n  node for accurate reporting. My compute node runs on bare metal. After\n  I did this I got quotas exceeded, unable to launch instance. I checked\n  the hypervisor from the web interface and cli. 5 of 12 VCPUs used and\n  6GB of 16GB used. When you try and change the quotas to match the\n  hardware it errors. From the CLI it reports that quota cant be set to\n  12 VCPUs because 17 are in use. Same with mem says 17GB are in use.\n  But they arent in use clearly. So the bandaid is to set the quotas\n  really high and then it ignores them and allows you to create\n  instances against the actual nova usage stats. This also causes some\n  failure to launch instance errors, no host is available meaning there\n  arent enough resources even though there are. Im running this as a\n  production environment for my domain so I have spent hundreds of hours\n  chasing my tail. Hope this is helpful for debugging the issue.\n\nTo manage notifications about this bug go to:\nhttps://bugs.launchpad.net/nova/+bug/1423644/+subscriptions\n", 
            "date_created": "2015-02-20 19:17:03+00:00", 
            "author": "https://api.launchpad.net/1.0/~greek35t"
        }, 
        {
            "content": "Davanum,\n\nI am running OpenStack Juno. Its running on three pieces of bare metal. \nNova --version returns 2.19.0 on host compute1. This is running over Ubuntu \nserver 14.04 LTS. The systems are up to date. I run an 'apt-get update && \napt-get dist-upgrade' weekly. Please let me know if you need any more \ninformation. Thanks!\n\n\nKing Regards,\n\nWilliam\n\n-----Original Message-----\nFrom: <email address hidden> [mailto:<email address hidden>] On Behalf Of \nDavanum Srinivas (DIMS)\nSent: Friday, February 20, 2015 11:31 AM\nTo: <email address hidden>\nSubject: [Bug 1423644] Re: CPU/MEM usage not accurate. Hits quotas while \nresources are available\n\nWilliam, what version of OpenStack/Nova? Any specific distribution?\n\n** Changed in: nova\n       Status: New => Incomplete\n\n--\nYou received this bug notification because you are subscribed to the bug \nreport.\nhttps://bugs.launchpad.net/bugs/1423644\n\nTitle:\n  CPU/MEM usage not accurate. Hits quotas while resources are available\n\nStatus in OpenStack Compute (Nova):\n  Incomplete\nStatus in Ubuntu:\n  New\n\nBug description:\n  I tried to set my quotas to exactly the hardware specs of my compute\n  node for accurate reporting. My compute node runs on bare metal. After\n  I did this I got quotas exceeded, unable to launch instance. I checked\n  the hypervisor from the web interface and cli. 5 of 12 VCPUs used and\n  6GB of 16GB used. When you try and change the quotas to match the\n  hardware it errors. From the CLI it reports that quota cant be set to\n  12 VCPUs because 17 are in use. Same with mem says 17GB are in use.\n  But they arent in use clearly. So the bandaid is to set the quotas\n  really high and then it ignores them and allows you to create\n  instances against the actual nova usage stats. This also causes some\n  failure to launch instance errors, no host is available meaning there\n  arent enough resources even though there are. Im running this as a\n  production environment for my domain so I have spent hundreds of hours\n  chasing my tail. Hope this is helpful for debugging the issue.\n\nTo manage notifications about this bug go to:\nhttps://bugs.launchpad.net/nova/+bug/1423644/+subscriptions\n", 
            "date_created": "2015-02-20 19:23:38+00:00", 
            "author": "https://api.launchpad.net/1.0/~greek35t"
        }, 
        {
            "content": "Davanum,\n\nI am running OpenStack Juno. Its running on three pieces of bare metal. \nNova --version returns 2.19.0 on host compute1. This is running over Ubuntu \nserver 14.04 LTS. The systems are up to date. I run an 'apt-get update && \napt-get dist-upgrade' weekly. Please let me know if you need any more \ninformation. Thanks!\n\nAffects Openstack/Nova\n\nKing Regards,\n\nWilliam\n\n-----Original Message-----\nFrom: <email address hidden> [mailto:<email address hidden>] On Behalf Of \nDavanum Srinivas (DIMS)\nSent: Friday, February 20, 2015 11:31 AM\nTo: <email address hidden>\nSubject: [Bug 1423644] Re: CPU/MEM usage not accurate. Hits quotas while \nresources are available\n\nWilliam, what version of OpenStack/Nova? Any specific distribution?\n\n** Changed in: nova\n       Status: New => Incomplete\n\n--\nYou received this bug notification because you are subscribed to the bug \nreport.\nhttps://bugs.launchpad.net/bugs/1423644\n\nTitle:\n  CPU/MEM usage not accurate. Hits quotas while resources are available\n\nStatus in OpenStack Compute (Nova):\n  Incomplete\nStatus in Ubuntu:\n  New\n\nBug description:\n  I tried to set my quotas to exactly the hardware specs of my compute\n  node for accurate reporting. My compute node runs on bare metal. After\n  I did this I got quotas exceeded, unable to launch instance. I checked\n  the hypervisor from the web interface and cli. 5 of 12 VCPUs used and\n  6GB of 16GB used. When you try and change the quotas to match the\n  hardware it errors. From the CLI it reports that quota cant be set to\n  12 VCPUs because 17 are in use. Same with mem says 17GB are in use.\n  But they arent in use clearly. So the bandaid is to set the quotas\n  really high and then it ignores them and allows you to create\n  instances against the actual nova usage stats. This also causes some\n  failure to launch instance errors, no host is available meaning there\n  arent enough resources even though there are. Im running this as a\n  production environment for my domain so I have spent hundreds of hours\n  chasing my tail. Hope this is helpful for debugging the issue.\n\nTo manage notifications about this bug go to:\nhttps://bugs.launchpad.net/nova/+bug/1423644/+subscriptions\n", 
            "date_created": "2015-02-20 19:26:30+00:00", 
            "author": "https://api.launchpad.net/1.0/~greek35t"
        }, 
        {
            "content": "Do your flavors match up with your barematal node size? If not you will have issues. Also without API calls and logs to figure out whats going on, its very hard to triage this bug.", 
            "date_created": "2015-03-11 20:38:18.525610+00:00", 
            "author": "https://api.launchpad.net/1.0/~jogo"
        }, 
        {
            "content": "@William Kitsos (greek35t):\nReminder: Could you please provide the information Joe Gordon (jogo) asked for in comment #5? You can provide your logs with [1] for example. When you have provided the information, please set the bug status to \"new\". \n\n[1] http://paste.openstack.org/", 
            "date_created": "2015-06-08 12:46:16.762957+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "Cleanup\n=======\n\nThis bug report has the status \"Incomplete\" since more than 30 days\nand it looks like that there are no open reviews for it. To keep\nthe bug list sane, I close this bug with \"won't fix\". This does not\nmean that it is not a valid bug report, it's more to acknowledge that\nno progress can be expected here anymore. You are still free to push a\nnew patch for this bug. If you could reproduce it on the current master\ncode or on a maintained stable branch, please switch it to \"Confirmed\".\n\nJuno has reached its EOL, so it's \"invalid\" for that release.", 
            "date_created": "2016-02-10 16:32:31.635809+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ], 
    "closed": "2016-02-10 16:32:06.179392+00:00"
}