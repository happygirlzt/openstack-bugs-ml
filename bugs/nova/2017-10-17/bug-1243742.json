{
    "status": "Invalid", 
    "last_updated": "2014-09-09 15:38:06.133807+00:00", 
    "description": "if we try to log into instance console during create snapshot of instance we fail. \nnova compute log shows: \n\n2013-10-23 13:46:18.681 3943 DEBUG qpid.messaging.io.ops [-] SENT[4464950]: SessionCompleted(commands=[0-41597]) write_op /usr/lib/python2.6/site-packages/qpid/messaging/driver.py:686\n2013-10-23 13:46:18.687 3943 ERROR nova.openstack.common.rpc.amqp [req-696761cc-53ad-4530-a053-84588eedca6e a660044c9b074450aaa45fba0d641fcc e27aae2598b94dca88cd0408406e0848] Exception during message handling\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 353, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 90, in wrapped\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     payload)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 73, in wrapped\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 243, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     pass\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 229, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 271, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     e, sys.exc_info())\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 258, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 319, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     % image_id, instance=instance)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 309, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     *args, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2293, in snapshot_instance\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     task_states.IMAGE_SNAPSHOT)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2324, in _snapshot_instance\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     update_task_state)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1423, in snapshot\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     expected_state=task_states.IMAGE_PENDING_UPLOAD)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2321, in update_task_state\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     instance.save(expected_task_state=expected_state)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 139, in wrapper\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     ctxt, self, fn.__name__, args, kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/conductor/rpcapi.py\", line 497, in object_action\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     objmethod=objmethod, args=args, kwargs=kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpcclient.py\", line 85, in call\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return self._invoke(self.proxy.call, ctxt, method, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpcclient.py\", line 63, in _invoke\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return cast_or_call(ctxt, msg, **self.kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/rpc/proxy.py\", line 130, in call\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     exc.info, real_topic, msg.get('method'))\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp Timeout: Timeout while waiting on RPC response - topic: \"conductor\", RPC method: \"object_action\" info: \"<unknown>\"\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp \n2013-10-23 13:46:18.691 3943 DEBUG qpid.messaging.io.raw [-] SENT[4464950]: '\\x0f\\x01\\x00\\x19\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x04\\n\\x01\\x00\\x07\\x00\\x010\\x00\\x00\\x00\\x00\\x01\\x0f\\x00\\x00\\x1a\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\n\\x01\\x00\\x0\n0\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\xa2}' writeable /usr/lib/python2.6/site-packages/qpid/messaging/driver.py:480", 
    "tags": [
        "console"
    ], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1243742", 
    "owner": "None", 
    "id": 1243742, 
    "index": 5492, 
    "openned": "2013-10-23 15:08:02.915024+00:00", 
    "created": "2013-10-23 15:08:02.915024+00:00", 
    "title": "fail to start vnc during instance create snapshot ", 
    "comments": [
        {
            "content": "if we try to log into instance console during create snapshot of instance we fail. \nnova compute log shows: \n\n2013-10-23 13:46:18.681 3943 DEBUG qpid.messaging.io.ops [-] SENT[4464950]: SessionCompleted(commands=[0-41597]) write_op /usr/lib/python2.6/site-packages/qpid/messaging/driver.py:686\n2013-10-23 13:46:18.687 3943 ERROR nova.openstack.common.rpc.amqp [req-696761cc-53ad-4530-a053-84588eedca6e a660044c9b074450aaa45fba0d641fcc e27aae2598b94dca88cd0408406e0848] Exception during message handling\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 353, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 90, in wrapped\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     payload)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/exception.py\", line 73, in wrapped\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 243, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     pass\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 229, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 271, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     e, sys.exc_info())\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 258, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 319, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     % image_id, instance=instance)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 309, in decorated_function\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     *args, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2293, in snapshot_instance\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     task_states.IMAGE_SNAPSHOT)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2324, in _snapshot_instance\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     update_task_state)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py\", line 1423, in snapshot\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     expected_state=task_states.IMAGE_PENDING_UPLOAD)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/compute/manager.py\", line 2321, in update_task_state\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     instance.save(expected_task_state=expected_state)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/objects/base.py\", line 139, in wrapper\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     ctxt, self, fn.__name__, args, kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/conductor/rpcapi.py\", line 497, in object_action\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     objmethod=objmethod, args=args, kwargs=kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpcclient.py\", line 85, in call\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return self._invoke(self.proxy.call, ctxt, method, **kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/rpcclient.py\", line 63, in _invoke\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     return cast_or_call(ctxt, msg, **self.kwargs)\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/rpc/proxy.py\", line 130, in call\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp     exc.info, real_topic, msg.get('method'))\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp Timeout: Timeout while waiting on RPC response - topic: \"conductor\", RPC method: \"object_action\" info: \"<unknown>\"\n2013-10-23 13:46:18.687 3943 TRACE nova.openstack.common.rpc.amqp \n2013-10-23 13:46:18.691 3943 DEBUG qpid.messaging.io.raw [-] SENT[4464950]: '\\x0f\\x01\\x00\\x19\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x04\\n\\x01\\x00\\x07\\x00\\x010\\x00\\x00\\x00\\x00\\x01\\x0f\\x00\\x00\\x1a\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\n\\x01\\x00\\x0\n0\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\xa2}' writeable /usr/lib/python2.6/site-packages/qpid/messaging/driver.py:480", 
            "date_created": "2013-10-23 15:08:02.915024+00:00", 
            "author": "https://api.launchpad.net/1.0/~dron-3"
        }, 
        {
            "content": "Is this still a problem?  I don't know if this should be tagged with 'console' or 'unified-objects', or if there is more to debug here.", 
            "date_created": "2013-11-23 20:54:19.661188+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Super old bug, marking as invalid", 
            "date_created": "2014-09-09 15:37:58.951830+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }
    ], 
    "closed": "2014-09-09 15:38:03.908542+00:00"
}