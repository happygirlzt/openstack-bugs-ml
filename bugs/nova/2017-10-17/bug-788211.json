{
    "status": "Invalid", 
    "last_updated": "2011-06-06 18:21:43.632206+00:00", 
    "description": "Running rev 1105, getting an internal server error on instance create:\n\n2011-05-25 15:38:23,497 DEBUG nova.rpc [-] received {'_context_request_id': 'QGWA2YLH38NG5N9VJ9XS', '_context_read_deleted': False, 'args': {'instance_id': 565, 'instance_type': {'rxtx_quota': 0, 'deleted_at': None, 'name': 'm1.tiny', 'deleted': False, 'created_at': None, 'updated_at': None, 'memory_mb': 512, 'vcpus': 1, 'rxtx_cap': 0, 'swap': 0, 'flavorid': 1, 'id': 2, 'local_gb': 0}, 'injected_files': [], 'availability_zone': None}, '_context_is_admin': True, '_context_timestamp': '2011-05-25T15:38:22Z', '_context_user': 'admin', 'method': 'run_instance', '_context_project': 'openstack', '_context_remote_address': None} from (pid=30345) _receive /usr/lib/pymodules/python2.6/nova/rpc.py:177\n2011-05-25 15:38:23,497 DEBUG nova.rpc [-] unpacked context: {'timestamp': '2011-05-25T15:38:22Z', 'remote_address': None, 'project': 'openstack', 'is_admin': True, 'user': 'admin', 'request_id': 'QGWA2YLH38NG5N9VJ9XS', 'read_deleted': False} from (pid=30345) _unpack_context /usr/lib/pymodules/python2.6/nova/rpc.py:350\n2011-05-25 15:38:26,098 AUDIT nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] instance 565: starting...\n2011-05-25 15:38:26,213 DEBUG nova.rpc [-] Making asynchronous call on network.z1-api1 ... from (pid=30345) call /usr/lib/pymodules/python2.6/nova/rpc.py:370\n2011-05-25 15:38:26,213 DEBUG nova.rpc [-] MSG_ID is 2c3439247b934603975e7fbe43aaf8e2 from (pid=30345) call /usr/lib/pymodules/python2.6/nova/rpc.py:373\n2011-05-25 15:38:26,697 DEBUG nova.rpc [-] received {'_context_request_id': 'QGWA2YLH38NG5N9VJ9XS', '_context_read_deleted': False, 'args': {'instance_id': 565, 'new_pass': 'EqTxRNPXtXf9MdvH'}, '_context_is_admin': True, '_context_timestamp': '2011-05-25T15:38:22Z', '_context_user': 'admin', 'method': 'set_admin_password', '_context_project': 'openstack', '_context_remote_address': None} from (pid=30345) _receive /usr/lib/pymodules/python2.6/nova/rpc.py:177\n2011-05-25 15:38:26,698 DEBUG nova.rpc [-] unpacked context: {'timestamp': '2011-05-25T15:38:22Z', 'remote_address': None, 'project': 'openstack', 'is_admin': True, 'user': 'admin', 'request_id': 'QGWA2YLH38NG5N9VJ9XS', 'read_deleted': False} from (pid=30345) _unpack_context /usr/lib/pymodules/python2.6/nova/rpc.py:350\n2011-05-25 15:38:26,698 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: decorating: |<function set_admin_password at 0x2c21758>|\n2011-05-25 15:38:26,699 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: arguments: |<nova.compute.manager.ComputeManager object at 0x2b20050>| |<nova.context.RequestContext object at 0x3e99410>| |565|\n2011-05-25 15:38:26,699 DEBUG nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] instance 565: getting locked state from (pid=30345) get_lock /usr/lib/pymodules/python2.6/nova/compute/manager.py:741\n2011-05-25 15:38:26,750 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: locked: |False|\n2011-05-25 15:38:26,750 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: admin: |True|\n2011-05-25 15:38:26,750 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: executing: |<function set_admin_password at 0x2c21758>|\n2011-05-25 15:38:26,806 ERROR nova.compute.manager [-] Instance '565' failed to spawn. Is virtualization enabled in the BIOS? Details: Internal Server error: \n(nova.compute.manager): TRACE: Traceback (most recent call last):\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 256, in run_instance\n(nova.compute.manager): TRACE:     self.driver.spawn(instance_ref)\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi_conn.py\", line 199, in spawn\n(nova.compute.manager): TRACE:     self._vmops.spawn(instance)\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi/vmops.py\", line 117, in spawn\n(nova.compute.manager): TRACE:     vdi_uuid = self._create_disk(instance)\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi/vmops.py\", line 111, in _create_disk\n(nova.compute.manager): TRACE:     disk_image_type = VMHelper.determine_disk_image_type(instance)\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi/vm_utils.py\", line 528, in determine_disk_image_type\n(nova.compute.manager): TRACE:     image_type = determine_from_glance()\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi/vm_utils.py\", line 512, in determine_from_glance\n(nova.compute.manager): TRACE:     meta = client.get_image_meta(instance.image_id)\n(nova.compute.manager): TRACE:   File \"/usr/local/lib/python2.6/dist-packages/glance/client.py\", line 235, in get_image_meta\n(nova.compute.manager): TRACE:     res = self.do_request(\"HEAD\", \"/images/%s\" % image_id)\n(nova.compute.manager): TRACE:   File \"/usr/local/lib/python2.6/dist-packages/glance/client.py\", line 161, in do_request\n(nova.compute.manager): TRACE:     raise Exception(\"Internal Server error: %s\" % res.read())\n(nova.compute.manager): TRACE: Exception: Internal Server error: \n(nova.compute.manager): TRACE: \n2011-05-25 15:38:52,875 DEBUG nova.manager [-] Notifying Schedulers of capabilities ... from (pid=30345) periodic_tasks /usr/lib/pymodules/python2.6/nova/manager.py:111\n2011-05-25 15:38:52,875 DEBUG nova.rpc [-] Making asynchronous fanout cast... from (pid=30345) fanout_cast /usr/lib/pymodules/python2.6/nova/rpc.py:421\n2011-05-25 15:38:52,875 INFO nova.rpc [-] Creating \"scheduler_fanout\" fanout exchange\n2011-05-25 15:38:55,228 INFO nova.virt.xenapi.vm_utils [-] (VM_UTILS) xenserver vm state -> |Running|\n2011-05-25 15:38:55,229 INFO nova.virt.xenapi.vm_utils [-] (VM_UTILS) xenapi power_state -> |1|\n2011-05-25 15:38:55,503 INFO nova.compute.manager [-] Found instance 'instance-00000235' in DB but no VM. State=8, so setting state to shutoff.\n2011-05-25 15:38:55,503 INFO nova.compute.manager [-] DB/VM state mismatch. Changing state from '8' to '5'", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/788211", 
    "owner": "None", 
    "id": 788211, 
    "index": 3421, 
    "openned": "2011-05-25 15:58:46.569316+00:00", 
    "created": "2011-05-25 15:58:46.569316+00:00", 
    "title": "Internal Server Errror from Compute on Create", 
    "comments": [
        {
            "content": "Running rev 1105, getting an internal server error on instance create:\n\n2011-05-25 15:38:23,497 DEBUG nova.rpc [-] received {'_context_request_id': 'QGWA2YLH38NG5N9VJ9XS', '_context_read_deleted': False, 'args': {'instance_id': 565, 'instance_type': {'rxtx_quota': 0, 'deleted_at': None, 'name': 'm1.tiny', 'deleted': False, 'created_at': None, 'updated_at': None, 'memory_mb': 512, 'vcpus': 1, 'rxtx_cap': 0, 'swap': 0, 'flavorid': 1, 'id': 2, 'local_gb': 0}, 'injected_files': [], 'availability_zone': None}, '_context_is_admin': True, '_context_timestamp': '2011-05-25T15:38:22Z', '_context_user': 'admin', 'method': 'run_instance', '_context_project': 'openstack', '_context_remote_address': None} from (pid=30345) _receive /usr/lib/pymodules/python2.6/nova/rpc.py:177\n2011-05-25 15:38:23,497 DEBUG nova.rpc [-] unpacked context: {'timestamp': '2011-05-25T15:38:22Z', 'remote_address': None, 'project': 'openstack', 'is_admin': True, 'user': 'admin', 'request_id': 'QGWA2YLH38NG5N9VJ9XS', 'read_deleted': False} from (pid=30345) _unpack_context /usr/lib/pymodules/python2.6/nova/rpc.py:350\n2011-05-25 15:38:26,098 AUDIT nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] instance 565: starting...\n2011-05-25 15:38:26,213 DEBUG nova.rpc [-] Making asynchronous call on network.z1-api1 ... from (pid=30345) call /usr/lib/pymodules/python2.6/nova/rpc.py:370\n2011-05-25 15:38:26,213 DEBUG nova.rpc [-] MSG_ID is 2c3439247b934603975e7fbe43aaf8e2 from (pid=30345) call /usr/lib/pymodules/python2.6/nova/rpc.py:373\n2011-05-25 15:38:26,697 DEBUG nova.rpc [-] received {'_context_request_id': 'QGWA2YLH38NG5N9VJ9XS', '_context_read_deleted': False, 'args': {'instance_id': 565, 'new_pass': 'EqTxRNPXtXf9MdvH'}, '_context_is_admin': True, '_context_timestamp': '2011-05-25T15:38:22Z', '_context_user': 'admin', 'method': 'set_admin_password', '_context_project': 'openstack', '_context_remote_address': None} from (pid=30345) _receive /usr/lib/pymodules/python2.6/nova/rpc.py:177\n2011-05-25 15:38:26,698 DEBUG nova.rpc [-] unpacked context: {'timestamp': '2011-05-25T15:38:22Z', 'remote_address': None, 'project': 'openstack', 'is_admin': True, 'user': 'admin', 'request_id': 'QGWA2YLH38NG5N9VJ9XS', 'read_deleted': False} from (pid=30345) _unpack_context /usr/lib/pymodules/python2.6/nova/rpc.py:350\n2011-05-25 15:38:26,698 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: decorating: |<function set_admin_password at 0x2c21758>|\n2011-05-25 15:38:26,699 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: arguments: |<nova.compute.manager.ComputeManager object at 0x2b20050>| |<nova.context.RequestContext object at 0x3e99410>| |565|\n2011-05-25 15:38:26,699 DEBUG nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] instance 565: getting locked state from (pid=30345) get_lock /usr/lib/pymodules/python2.6/nova/compute/manager.py:741\n2011-05-25 15:38:26,750 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: locked: |False|\n2011-05-25 15:38:26,750 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: admin: |True|\n2011-05-25 15:38:26,750 INFO nova.compute.manager [QGWA2YLH38NG5N9VJ9XS admin openstack] check_instance_lock: executing: |<function set_admin_password at 0x2c21758>|\n2011-05-25 15:38:26,806 ERROR nova.compute.manager [-] Instance '565' failed to spawn. Is virtualization enabled in the BIOS? Details: Internal Server error: \n(nova.compute.manager): TRACE: Traceback (most recent call last):\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/manager.py\", line 256, in run_instance\n(nova.compute.manager): TRACE:     self.driver.spawn(instance_ref)\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi_conn.py\", line 199, in spawn\n(nova.compute.manager): TRACE:     self._vmops.spawn(instance)\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi/vmops.py\", line 117, in spawn\n(nova.compute.manager): TRACE:     vdi_uuid = self._create_disk(instance)\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi/vmops.py\", line 111, in _create_disk\n(nova.compute.manager): TRACE:     disk_image_type = VMHelper.determine_disk_image_type(instance)\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi/vm_utils.py\", line 528, in determine_disk_image_type\n(nova.compute.manager): TRACE:     image_type = determine_from_glance()\n(nova.compute.manager): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/virt/xenapi/vm_utils.py\", line 512, in determine_from_glance\n(nova.compute.manager): TRACE:     meta = client.get_image_meta(instance.image_id)\n(nova.compute.manager): TRACE:   File \"/usr/local/lib/python2.6/dist-packages/glance/client.py\", line 235, in get_image_meta\n(nova.compute.manager): TRACE:     res = self.do_request(\"HEAD\", \"/images/%s\" % image_id)\n(nova.compute.manager): TRACE:   File \"/usr/local/lib/python2.6/dist-packages/glance/client.py\", line 161, in do_request\n(nova.compute.manager): TRACE:     raise Exception(\"Internal Server error: %s\" % res.read())\n(nova.compute.manager): TRACE: Exception: Internal Server error: \n(nova.compute.manager): TRACE: \n2011-05-25 15:38:52,875 DEBUG nova.manager [-] Notifying Schedulers of capabilities ... from (pid=30345) periodic_tasks /usr/lib/pymodules/python2.6/nova/manager.py:111\n2011-05-25 15:38:52,875 DEBUG nova.rpc [-] Making asynchronous fanout cast... from (pid=30345) fanout_cast /usr/lib/pymodules/python2.6/nova/rpc.py:421\n2011-05-25 15:38:52,875 INFO nova.rpc [-] Creating \"scheduler_fanout\" fanout exchange\n2011-05-25 15:38:55,228 INFO nova.virt.xenapi.vm_utils [-] (VM_UTILS) xenserver vm state -> |Running|\n2011-05-25 15:38:55,229 INFO nova.virt.xenapi.vm_utils [-] (VM_UTILS) xenapi power_state -> |1|\n2011-05-25 15:38:55,503 INFO nova.compute.manager [-] Found instance 'instance-00000235' in DB but no VM. State=8, so setting state to shutoff.\n2011-05-25 15:38:55,503 INFO nova.compute.manager [-] DB/VM state mismatch. Changing state from '8' to '5'", 
            "date_created": "2011-05-25 15:58:46.569316+00:00", 
            "author": "https://api.launchpad.net/1.0/~antonym"
        }, 
        {
            "content": "Related to running an old version of glance.", 
            "date_created": "2011-06-06 18:21:42.775089+00:00", 
            "author": "https://api.launchpad.net/1.0/~antonym"
        }
    ], 
    "closed": "2011-06-06 18:21:24.471993+00:00"
}