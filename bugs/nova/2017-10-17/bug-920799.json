{
    "status": "Invalid", 
    "last_updated": "2012-01-27 18:19:11.561283+00:00", 
    "description": "jpipes@uberbox:~/repos/tempest$ curl -v http://192.168.1.98:8774/v2.0/extensions\n* About to connect() to 192.168.1.98 port 8774 (#0)\n*   Trying 192.168.1.98... connected\n* Connected to 192.168.1.98 (192.168.1.98) port 8774 (#0)\n> GET /v2.0/extensions HTTP/1.1\n> User-Agent: curl/7.21.6 (x86_64-pc-linux-gnu) libcurl/7.21.6 OpenSSL/1.0.0e zlib/1.2.3.4 libidn/1.22 librtmp/2.3\n> Host: 192.168.1.98:8774\n> Accept: */*\n> \n< HTTP/1.1 300 Multiple Choices\n< Content-Type: application/json\n< Content-Length: 328\n< Date: Tue, 24 Jan 2012 03:02:16 GMT\n< \n* Connection #0 to host 192.168.1.98 left intact\n* Closing connection #0\n{\"choices\": [{\"status\": \"CURRENT\", \"media-types\": [{\"base\": \"application/xml\", \"type\": \"application/vnd.openstack.compute+xml;version=2\"}, {\"base\": \"application/json\", \"type\": \"application/vnd.openstack.compute+json;version=2\"}], \"id\": \"v2.0\", \"links\": [{\"href\": \"http://192.168.1.98:8774/v2/v2.0/extensions\", \"rel\": \"self\"}]}]}\n\nNote that the href is \"http://192.168.1.98:8774/v2/v2.0/extensions when it should be \"http://192.168.1.98:8774/v2/extensions\n\nAnd when I try to get the list of extensions:\n\njpipes@uberbox:~/repos/tempest$ curl -v -H \"X-Auth-Token: servicetoken\" http://192.168.1.98:8774/v2/extensions\n* About to connect() to 192.168.1.98 port 8774 (#0)\n*   Trying 192.168.1.98... connected\n* Connected to 192.168.1.98 (192.168.1.98) port 8774 (#0)\n> GET /v2/extensions HTTP/1.1\n> User-Agent: curl/7.21.6 (x86_64-pc-linux-gnu) libcurl/7.21.6 OpenSSL/1.0.0e zlib/1.2.3.4 libidn/1.22 librtmp/2.3\n> Host: 192.168.1.98:8774\n> Accept: */*\n> X-Auth-Token: servicetoken\n> \n< HTTP/1.1 404 Not Found\n< Content-Length: 154\n< Content-Type: text/html; charset=UTF-8\n< Date: Tue, 24 Jan 2012 03:03:10 GMT\n< \n<html>\n <head>\n  <title>404 Not Found</title>\n </head>\n <body>\n  <h1>404 Not Found</h1>\n  The resource could not be found.<br /><br />\n\n\n\n </body>\n* Connection #0 to host 192.168.1.98 left intact\n* Closing connection #0\n</html>\n\nHow are users supposed to query for extensions?\n\nCheers,\n-jay", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/920799", 
    "owner": "None", 
    "id": 920799, 
    "index": 3770, 
    "openned": "2012-01-24 03:12:27.469203+00:00", 
    "created": "2012-01-24 03:12:27.469203+00:00", 
    "title": "300 Multiple Choices contains incorrect links", 
    "comments": [
        {
            "content": "jpipes@uberbox:~/repos/tempest$ curl -v http://192.168.1.98:8774/v2.0/extensions\n* About to connect() to 192.168.1.98 port 8774 (#0)\n*   Trying 192.168.1.98... connected\n* Connected to 192.168.1.98 (192.168.1.98) port 8774 (#0)\n> GET /v2.0/extensions HTTP/1.1\n> User-Agent: curl/7.21.6 (x86_64-pc-linux-gnu) libcurl/7.21.6 OpenSSL/1.0.0e zlib/1.2.3.4 libidn/1.22 librtmp/2.3\n> Host: 192.168.1.98:8774\n> Accept: */*\n> \n< HTTP/1.1 300 Multiple Choices\n< Content-Type: application/json\n< Content-Length: 328\n< Date: Tue, 24 Jan 2012 03:02:16 GMT\n< \n* Connection #0 to host 192.168.1.98 left intact\n* Closing connection #0\n{\"choices\": [{\"status\": \"CURRENT\", \"media-types\": [{\"base\": \"application/xml\", \"type\": \"application/vnd.openstack.compute+xml;version=2\"}, {\"base\": \"application/json\", \"type\": \"application/vnd.openstack.compute+json;version=2\"}], \"id\": \"v2.0\", \"links\": [{\"href\": \"http://192.168.1.98:8774/v2/v2.0/extensions\", \"rel\": \"self\"}]}]}\n\nNote that the href is \"http://192.168.1.98:8774/v2/v2.0/extensions when it should be \"http://192.168.1.98:8774/v2/extensions\n\nAnd when I try to get the list of extensions:\n\njpipes@uberbox:~/repos/tempest$ curl -v -H \"X-Auth-Token: servicetoken\" http://192.168.1.98:8774/v2/extensions\n* About to connect() to 192.168.1.98 port 8774 (#0)\n*   Trying 192.168.1.98... connected\n* Connected to 192.168.1.98 (192.168.1.98) port 8774 (#0)\n> GET /v2/extensions HTTP/1.1\n> User-Agent: curl/7.21.6 (x86_64-pc-linux-gnu) libcurl/7.21.6 OpenSSL/1.0.0e zlib/1.2.3.4 libidn/1.22 librtmp/2.3\n> Host: 192.168.1.98:8774\n> Accept: */*\n> X-Auth-Token: servicetoken\n> \n< HTTP/1.1 404 Not Found\n< Content-Length: 154\n< Content-Type: text/html; charset=UTF-8\n< Date: Tue, 24 Jan 2012 03:03:10 GMT\n< \n<html>\n <head>\n  <title>404 Not Found</title>\n </head>\n <body>\n  <h1>404 Not Found</h1>\n  The resource could not be found.<br /><br />\n\n\n\n </body>\n* Connection #0 to host 192.168.1.98 left intact\n* Closing connection #0\n</html>\n\nHow are users supposed to query for extensions?\n\nCheers,\n-jay", 
            "date_created": "2012-01-24 03:12:27.469203+00:00", 
            "author": "https://api.launchpad.net/1.0/~jaypipes"
        }, 
        {
            "content": "This is the correct behavior. When user requests a url without a valid version, it will build the valid versioned urls and return them in the 300 response. That's why your invalid request for 'v2.0'is being stacked on top of a valid version 'v2'.\n\nAs for requesting extensions, you need to put your tenant in the URI. We decided to place the extensions resource under the tenant so we can return different responses based on what the user has access to (however that isn't implemented yet)", 
            "date_created": "2012-01-27 18:19:10.897319+00:00", 
            "author": "https://api.launchpad.net/1.0/~bcwaldon"
        }
    ], 
    "closed": "2012-01-27 18:17:10.448649+00:00"
}