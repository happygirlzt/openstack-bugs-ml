{
    "status": "Invalid", 
    "last_updated": "2014-04-19 09:01:43.262521+00:00", 
    "description": "when I edit the /etc/hosts file on the controller node, the openstack get down,and the log of nova-manage.log is:\n2014-04-16 09:56:38.768 4369 TRACE nova Traceback (most recent call last):\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/bin/nova-manage\", line 1263, in <module>\n2014-04-16 09:56:38.768 4369 TRACE nova     main()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/bin/nova-manage\", line 1255, in main\n2014-04-16 09:56:38.768 4369 TRACE nova     fn(*fn_args, **fn_kwargs)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/bin/nova-manage\", line 657, in list\n2014-04-16 09:56:38.768 4369 TRACE nova     services = db.service_get_all(ctxt)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 132, in service_get_all\n2014-04-16 09:56:38.768 4369 TRACE nova     return IMPL.service_get_all(context, disabled)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 97, in wrapper\n2014-04-16 09:56:38.768 4369 TRACE nova     return f(*args, **kwargs)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 362, in service_get_all\n2014-04-16 09:56:38.768 4369 TRACE nova     query = model_query(context, models.Service)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 178, in model_query\n2014-04-16 09:56:38.768 4369 TRACE nova     session = kwargs.get('session') or get_session()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 325, in get_session\n2014-04-16 09:56:38.768 4369 TRACE nova     engine = get_engine()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 446, in get_engine\n2014-04-16 09:56:38.768 4369 TRACE nova     _ENGINE = create_engine(CONF.sql_connection)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 547, in create_engine\n2014-04-16 09:56:38.768 4369 TRACE nova     engine.connect()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 2471, in connect\n2014-04-16 09:56:38.768 4369 TRACE nova     return self._connection_cls(self, **kwargs)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 878, in __init__\n2014-04-16 09:56:38.768 4369 TRACE nova     self.__connection = connection or engine.raw_connection()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 2557, in raw_connection\n2014-04-16 09:56:38.768 4369 TRACE nova     return self.pool.unique_connection()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 184, in unique_connection\n2014-04-16 09:56:38.768 4369 TRACE nova     return _ConnectionFairy(self).checkout()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 401, in __init__\n2014-04-16 09:56:38.768 4369 TRACE nova     rec = self._connection_record = pool._do_get()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 746, in _do_get\n2014-04-16 09:56:38.768 4369 TRACE nova     con = self._create_connection()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 189, in _create_connection\n2014-04-16 09:56:38.768 4369 TRACE nova     return _ConnectionRecord(self)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 282, in __init__\n2014-04-16 09:56:38.768 4369 TRACE nova     self.connection = self.__connect()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 344, in __connect\n2014-04-16 09:56:38.768 4369 TRACE nova     connection = self.__pool._creator()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/strategies.py\", line 80, in connect\n2014-04-16 09:56:38.768 4369 TRACE nova     return dialect.connect(*cargs, **cparams)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 281, in connect\n2014-04-16 09:56:38.768 4369 TRACE nova     return self.dbapi.connect(*cargs, **cparams)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/MySQLdb/__init__.py\", line 81, in Connect\n2014-04-16 09:56:38.768 4369 TRACE nova     return Connection(*args, **kwargs)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/MySQLdb/connections.py\", line 187, in __init__\n2014-04-16 09:56:38.768 4369 TRACE nova     super(Connection, self).__init__(*args, **kwargs2)\n2014-04-16 09:56:38.768 4369 TRACE nova OperationalError: (OperationalError) (1045, \"Access denied for user 'novaUser'@'compute1' (using password: YES)\") None None\n\nthe problem is not simply about the openstack, it is about the mysql or other database. we need to delete the default user from the corresponding database to avoid the possible trap.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1309379", 
    "owner": "None", 
    "id": 1309379, 
    "index": 6045, 
    "openned": "2014-04-18 07:41:28.227541+00:00", 
    "created": "2014-04-18 07:41:28.227541+00:00", 
    "title": "can not connect to the database", 
    "comments": [
        {
            "content": "when I edit the /etc/hosts file on the controller node, the openstack get down,and the log of nova-manage.log is:\n2014-04-16 09:56:38.768 4369 TRACE nova Traceback (most recent call last):\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/bin/nova-manage\", line 1263, in <module>\n2014-04-16 09:56:38.768 4369 TRACE nova     main()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/bin/nova-manage\", line 1255, in main\n2014-04-16 09:56:38.768 4369 TRACE nova     fn(*fn_args, **fn_kwargs)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/bin/nova-manage\", line 657, in list\n2014-04-16 09:56:38.768 4369 TRACE nova     services = db.service_get_all(ctxt)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 132, in service_get_all\n2014-04-16 09:56:38.768 4369 TRACE nova     return IMPL.service_get_all(context, disabled)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 97, in wrapper\n2014-04-16 09:56:38.768 4369 TRACE nova     return f(*args, **kwargs)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 362, in service_get_all\n2014-04-16 09:56:38.768 4369 TRACE nova     query = model_query(context, models.Service)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 178, in model_query\n2014-04-16 09:56:38.768 4369 TRACE nova     session = kwargs.get('session') or get_session()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 325, in get_session\n2014-04-16 09:56:38.768 4369 TRACE nova     engine = get_engine()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 446, in get_engine\n2014-04-16 09:56:38.768 4369 TRACE nova     _ENGINE = create_engine(CONF.sql_connection)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 547, in create_engine\n2014-04-16 09:56:38.768 4369 TRACE nova     engine.connect()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 2471, in connect\n2014-04-16 09:56:38.768 4369 TRACE nova     return self._connection_cls(self, **kwargs)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 878, in __init__\n2014-04-16 09:56:38.768 4369 TRACE nova     self.__connection = connection or engine.raw_connection()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 2557, in raw_connection\n2014-04-16 09:56:38.768 4369 TRACE nova     return self.pool.unique_connection()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 184, in unique_connection\n2014-04-16 09:56:38.768 4369 TRACE nova     return _ConnectionFairy(self).checkout()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 401, in __init__\n2014-04-16 09:56:38.768 4369 TRACE nova     rec = self._connection_record = pool._do_get()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 746, in _do_get\n2014-04-16 09:56:38.768 4369 TRACE nova     con = self._create_connection()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 189, in _create_connection\n2014-04-16 09:56:38.768 4369 TRACE nova     return _ConnectionRecord(self)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 282, in __init__\n2014-04-16 09:56:38.768 4369 TRACE nova     self.connection = self.__connect()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/pool.py\", line 344, in __connect\n2014-04-16 09:56:38.768 4369 TRACE nova     connection = self.__pool._creator()\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/strategies.py\", line 80, in connect\n2014-04-16 09:56:38.768 4369 TRACE nova     return dialect.connect(*cargs, **cparams)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 281, in connect\n2014-04-16 09:56:38.768 4369 TRACE nova     return self.dbapi.connect(*cargs, **cparams)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/MySQLdb/__init__.py\", line 81, in Connect\n2014-04-16 09:56:38.768 4369 TRACE nova     return Connection(*args, **kwargs)\n2014-04-16 09:56:38.768 4369 TRACE nova   File \"/usr/lib/python2.7/dist-packages/MySQLdb/connections.py\", line 187, in __init__\n2014-04-16 09:56:38.768 4369 TRACE nova     super(Connection, self).__init__(*args, **kwargs2)\n2014-04-16 09:56:38.768 4369 TRACE nova OperationalError: (OperationalError) (1045, \"Access denied for user 'novaUser'@'compute1' (using password: YES)\") None None\n\nthe problem is not simply about the openstack, it is about the mysql or other database. we need to delete the default user from the corresponding database to avoid the possible trap.", 
            "date_created": "2014-04-18 07:41:28.227541+00:00", 
            "author": "https://api.launchpad.net/1.0/~ynuzgw"
        }
    ], 
    "closed": "2014-04-19 09:01:41.472030+00:00"
}