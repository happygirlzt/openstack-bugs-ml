{
    "status": "Invalid", 
    "last_updated": "2013-04-03 15:01:31.459246+00:00", 
    "description": "Trying to create a volume using this command:\n\nnova volume-create --image-id 9542ab1e-3602-4940-86d3-1e7593c32ed7 --display-name \"something\" 50\n\nThe nova-volume.log shows:\n\n2012-11-01 17:16:58 DEBUG nova.volume.manager [req-67d0a83a-b014-400f-b63f-169bef91a432 4629023da94042e5ab9b1fab79ddc2ce b73867eacaa64a90a77e16aa5cc86686] volume volume-4e7657a5-3e03-495b-a48f-9dcab7a5f8ca: creating lv of size 50G from (pid=1592) create_volume /usr/lib/python2.7/dist-packages/nova/volume/manager.py:137\n2012-11-01 17:16:58 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/volume/manager.py\", line 166, in create_volume\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     volume_ref['id'], {'status': 'error'})\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/volume/manager.py\", line 150, in create_volume\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     image_location = image_service.get_location(context, image_id)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 210, in get_location\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     _reraise_translated_image_exception(image_id)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 208, in get_location\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     image_meta = client.call(context, 2, 'get', image_id)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 138, in call\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     return getattr(client.images, method)(*args, **kwargs)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/glanceclient/v2/images.py\", line 54, in get\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     resp, body = self.http_client.json_request('GET', url)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/glanceclient/common/http.py\", line 174, in json_request\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     resp, body_iter = self._http_request(url, method, **kwargs)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/glanceclient/common/http.py\", line 158, in _http_request\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     raise exc.from_response(resp)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp HTTPInternalServerError: HTTPInternalServerError (HTTP 500)\n\n\nThe glance api.log and the apache error.log shows nothing in relation to this. I'm not sure how to further debug it.\n\nI'm using Folsom on Ubuntu 12.04.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1074061", 
    "owner": "None", 
    "id": 1074061, 
    "index": 4447, 
    "openned": "2013-01-11 01:29:03.358382+00:00", 
    "created": "2012-11-01 16:53:28.204806+00:00", 
    "title": "Creating a volume out of an image using the nova api fails", 
    "comments": [
        {
            "content": "Trying to create a volume using this command:\n\nnova volume-create --image-id 9542ab1e-3602-4940-86d3-1e7593c32ed7 --display-name \"something\" 50\n\nThe nova-volume.log shows:\n\n2012-11-01 17:16:58 DEBUG nova.volume.manager [req-67d0a83a-b014-400f-b63f-169bef91a432 4629023da94042e5ab9b1fab79ddc2ce b73867eacaa64a90a77e16aa5cc86686] volume volume-4e7657a5-3e03-495b-a48f-9dcab7a5f8ca: creating lv of size 50G from (pid=1592) create_volume /usr/lib/python2.7/dist-packages/nova/volume/manager.py:137\n2012-11-01 17:16:58 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/volume/manager.py\", line 166, in create_volume\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     volume_ref['id'], {'status': 'error'})\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/volume/manager.py\", line 150, in create_volume\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     image_location = image_service.get_location(context, image_id)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 210, in get_location\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     _reraise_translated_image_exception(image_id)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 208, in get_location\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     image_meta = client.call(context, 2, 'get', image_id)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/image/glance.py\", line 138, in call\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     return getattr(client.images, method)(*args, **kwargs)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/glanceclient/v2/images.py\", line 54, in get\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     resp, body = self.http_client.json_request('GET', url)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/glanceclient/common/http.py\", line 174, in json_request\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     resp, body_iter = self._http_request(url, method, **kwargs)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/glanceclient/common/http.py\", line 158, in _http_request\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp     raise exc.from_response(resp)\n2012-11-01 17:16:58 TRACE nova.openstack.common.rpc.amqp HTTPInternalServerError: HTTPInternalServerError (HTTP 500)\n\n\nThe glance api.log and the apache error.log shows nothing in relation to this. I'm not sure how to further debug it.\n\nI'm using Folsom on Ubuntu 12.04.", 
            "date_created": "2012-11-01 16:53:28.204806+00:00", 
            "author": "https://api.launchpad.net/1.0/~balboah"
        }, 
        {
            "content": "So it looks like this is actually a nova-volume issue, not a Cinder issue.  Not sure why you're unable to reach Glance though... no issues with nova boot or other glance interactions?", 
            "date_created": "2013-01-08 05:59:31.444471+00:00", 
            "author": "https://api.launchpad.net/1.0/~john-griffith"
        }, 
        {
            "content": "This bug lacks the necessary information to effectively reproduce and fix it, therefore it has been closed. Feel free to reopen the bug by providing the requested information and set the bug status back to ''New''.\n", 
            "date_created": "2013-03-18 11:39:01.154700+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "Check this discussion:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=888241", 
            "date_created": "2013-04-03 10:50:41.097219+00:00", 
            "author": "https://api.launchpad.net/1.0/~belussi-pl"
        }, 
        {
            "content": "Based on the discussion you referenced, this would be classified as a packstack  but and not a Cinder or Nova bug.  Unless there's some additional detail I'm missing, it seems this has been identified as an issue with how packstack is (or more accurately is NOT) initializing the Glance DataBase.", 
            "date_created": "2013-04-03 15:01:15.311519+00:00", 
            "author": "https://api.launchpad.net/1.0/~john-griffith"
        }
    ], 
    "closed": "2013-03-18 11:39:10.134965+00:00"
}