{
    "status": "Invalid", 
    "last_updated": "2016-11-16 17:09:32.434106+00:00", 
    "description": "We add the scenario to test multiple volume attaching in rally, however it fails when attaching the volume again. \npatch: https://review.openstack.org/#/c/351445/\n\n2016-11-13 06:57:22.923770 | 2016-11-13 06:57:22.923 | 2016-11-13 06:57:22.901 21660 INFO rally.task.runner [-] Task 6886d84b-b604-46b8-b4d0-eb4f06a70c7e | ITER: 1 START\n2016-11-13 06:57:34.034978 | 2016-11-13 06:57:34.034 | 2016-11-13 06:57:34.032 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_HN4l6vy3_0-2. Status changed: BUILD => ACTIVE in 9.22075796127\n2016-11-13 06:57:34.163520 | 2016-11-13 06:57:34.162 | 2016-11-13 06:57:34.160 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_HN4l6vy3_0-1. Status changed: BUILD => ACTIVE in 0.127621889114\n2016-11-13 06:57:36.627807 | 2016-11-13 06:57:36.627 | 2016-11-13 06:57:36.623 21660 WARNING rally.common.logging [-] 'wait_for' is deprecated in Rally v0.1.2: Use wait_for_status instead.\n2016-11-13 06:57:37.360947 | 2016-11-13 06:57:37.359 | 2016-11-13 06:57:37.357 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_a349YoA7. Status changed: AVAILABLE => ATTACHING in 0.157130002975\n2016-11-13 06:57:45.793247 | 2016-11-13 06:57:45.787 | 2016-11-13 06:57:45.784 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_a349YoA7. Status changed: ATTACHING => IN-USE in 8.42752099037\n2016-11-13 06:57:46.387422 | 2016-11-13 06:57:46.386 | 2016-11-13 06:57:46.383 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_a349YoA7. Status changed: AVAILABLE => ATTACHING in 0.157689094543\n2016-11-13 07:01:07.961952 | 2016-11-13 07:01:07.961 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner [-] Rally tired waiting for Volume s_rally_6886d84b_a349YoA7:6f92d96a-4d80-4d4b-88bc-d88143c9b20a to become ('IN-USE') current status ATTACHING\n2016-11-13 07:01:07.963962 | 2016-11-13 07:01:07.963 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner Traceback (most recent call last):\n2016-11-13 07:01:07.965875 | 2016-11-13 07:01:07.965 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/task/runner.py\", line 73, in _run_scenario_once\n2016-11-13 07:01:07.969149 | 2016-11-13 07:01:07.968 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     getattr(scenario_inst, method_name)(**scenario_kwargs)\n2016-11-13 07:01:07.971123 | 2016-11-13 07:01:07.970 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/plugins/openstack/scenarios/nova/servers.py\", line 975, in run\n2016-11-13 07:01:07.972949 | 2016-11-13 07:01:07.972 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     attachment = self._attach_volume(server, volume)\n2016-11-13 07:01:07.974537 | 2016-11-13 07:01:07.974 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/task/atomic.py\", line 84, in func_atomic_actions\n2016-11-13 07:01:07.976387 | 2016-11-13 07:01:07.975 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     f = func(self, *args, **kwargs)\n2016-11-13 07:01:07.978897 | 2016-11-13 07:01:07.978 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/plugins/openstack/scenarios/nova/utils.py\", line 685, in _attach_volume\n2016-11-13 07:01:07.981709 | 2016-11-13 07:01:07.981 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     CONF.benchmark.nova_server_resize_revert_poll_interval)\n2016-11-13 07:01:07.983398 | 2016-11-13 07:01:07.982 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/task/utils.py\", line 251, in wait_for_status\n2016-11-13 07:01:07.985791 | 2016-11-13 07:01:07.985 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     resource_status=get_status(resource))\n2016-11-13 07:01:07.988318 | 2016-11-13 07:01:07.987 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner TimeoutException: Rally tired waiting for Volume s_rally_6886d84b_a349YoA7:6f92d96a-4d80-4d4b-88bc-d88143c9b20a to become ('IN-USE') current status ATTACHING\n2016-11-13 07:01:07.990264 | 2016-11-13 07:01:07.989 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner \n2016-11-13 07:01:07.992710 | 2016-11-13 07:01:07.992 | 2016-11-13 07:01:07.959 21660 INFO rally.task.runner [-] Task 6886d84b-b604-46b8-b4d0-eb4f06a70c7e | ITER: 1 END: Error TimeoutException: Rally tired waiting for Volume s_rally_6886d84b_a349YoA7:6f92d96a-4d80-4d4b-88bc-d88143c9b20a to become ('IN-USE') current status ATTACHING", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1641476", 
    "owner": "None", 
    "id": 1641476, 
    "index": 7796, 
    "openned": "2016-11-14 02:27:55.147555+00:00", 
    "created": "2016-11-14 02:27:55.147555+00:00", 
    "title": "multiple attach volume fails", 
    "comments": [
        {
            "content": "We add the scenario to test multiple volume attaching in rally, however it fails when attaching the volume again. \npatch: https://review.openstack.org/#/c/351445/\n\n2016-11-13 06:57:22.923770 | 2016-11-13 06:57:22.923 | 2016-11-13 06:57:22.901 21660 INFO rally.task.runner [-] Task 6886d84b-b604-46b8-b4d0-eb4f06a70c7e | ITER: 1 START\n2016-11-13 06:57:34.034978 | 2016-11-13 06:57:34.034 | 2016-11-13 06:57:34.032 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_HN4l6vy3_0-2. Status changed: BUILD => ACTIVE in 9.22075796127\n2016-11-13 06:57:34.163520 | 2016-11-13 06:57:34.162 | 2016-11-13 06:57:34.160 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_HN4l6vy3_0-1. Status changed: BUILD => ACTIVE in 0.127621889114\n2016-11-13 06:57:36.627807 | 2016-11-13 06:57:36.627 | 2016-11-13 06:57:36.623 21660 WARNING rally.common.logging [-] 'wait_for' is deprecated in Rally v0.1.2: Use wait_for_status instead.\n2016-11-13 06:57:37.360947 | 2016-11-13 06:57:37.359 | 2016-11-13 06:57:37.357 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_a349YoA7. Status changed: AVAILABLE => ATTACHING in 0.157130002975\n2016-11-13 06:57:45.793247 | 2016-11-13 06:57:45.787 | 2016-11-13 06:57:45.784 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_a349YoA7. Status changed: ATTACHING => IN-USE in 8.42752099037\n2016-11-13 06:57:46.387422 | 2016-11-13 06:57:46.386 | 2016-11-13 06:57:46.383 21660 RALLYDEBUG rally.task.utils [-] Waiting for resource s_rally_6886d84b_a349YoA7. Status changed: AVAILABLE => ATTACHING in 0.157689094543\n2016-11-13 07:01:07.961952 | 2016-11-13 07:01:07.961 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner [-] Rally tired waiting for Volume s_rally_6886d84b_a349YoA7:6f92d96a-4d80-4d4b-88bc-d88143c9b20a to become ('IN-USE') current status ATTACHING\n2016-11-13 07:01:07.963962 | 2016-11-13 07:01:07.963 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner Traceback (most recent call last):\n2016-11-13 07:01:07.965875 | 2016-11-13 07:01:07.965 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/task/runner.py\", line 73, in _run_scenario_once\n2016-11-13 07:01:07.969149 | 2016-11-13 07:01:07.968 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     getattr(scenario_inst, method_name)(**scenario_kwargs)\n2016-11-13 07:01:07.971123 | 2016-11-13 07:01:07.970 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/plugins/openstack/scenarios/nova/servers.py\", line 975, in run\n2016-11-13 07:01:07.972949 | 2016-11-13 07:01:07.972 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     attachment = self._attach_volume(server, volume)\n2016-11-13 07:01:07.974537 | 2016-11-13 07:01:07.974 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/task/atomic.py\", line 84, in func_atomic_actions\n2016-11-13 07:01:07.976387 | 2016-11-13 07:01:07.975 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     f = func(self, *args, **kwargs)\n2016-11-13 07:01:07.978897 | 2016-11-13 07:01:07.978 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/plugins/openstack/scenarios/nova/utils.py\", line 685, in _attach_volume\n2016-11-13 07:01:07.981709 | 2016-11-13 07:01:07.981 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     CONF.benchmark.nova_server_resize_revert_poll_interval)\n2016-11-13 07:01:07.983398 | 2016-11-13 07:01:07.982 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner   File \"/opt/stack/new/rally/rally/task/utils.py\", line 251, in wait_for_status\n2016-11-13 07:01:07.985791 | 2016-11-13 07:01:07.985 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner     resource_status=get_status(resource))\n2016-11-13 07:01:07.988318 | 2016-11-13 07:01:07.987 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner TimeoutException: Rally tired waiting for Volume s_rally_6886d84b_a349YoA7:6f92d96a-4d80-4d4b-88bc-d88143c9b20a to become ('IN-USE') current status ATTACHING\n2016-11-13 07:01:07.990264 | 2016-11-13 07:01:07.989 | 2016-11-13 07:01:07.958 21660 ERROR rally.task.runner \n2016-11-13 07:01:07.992710 | 2016-11-13 07:01:07.992 | 2016-11-13 07:01:07.959 21660 INFO rally.task.runner [-] Task 6886d84b-b604-46b8-b4d0-eb4f06a70c7e | ITER: 1 END: Error TimeoutException: Rally tired waiting for Volume s_rally_6886d84b_a349YoA7:6f92d96a-4d80-4d4b-88bc-d88143c9b20a to become ('IN-USE') current status ATTACHING", 
            "date_created": "2016-11-14 02:27:55.147555+00:00", 
            "author": "https://api.launchpad.net/1.0/~chen-haibing1"
        }, 
        {
            "content": "Nova does not yet support multiple attachments for volumes, see:\n\nhttps://blueprints.launchpad.net/nova/+spec/multi-attach-volume", 
            "date_created": "2016-11-16 17:09:32.024381+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }
    ], 
    "closed": "2016-11-16 17:09:02.125333+00:00"
}