{
    "status": "Invalid", 
    "last_updated": "2012-10-22 23:44:09.759222+00:00", 
    "description": "I've set up a single installation of OpenStack with the default packages from Ubuntu 12.04 on host with 4GB ram. Every time i launched an instance with 4096MB ram in the flavor the instance would pass the scheduler validation (i'm using the filter scheduler) and then fail to spawn with the error output below in nova-compute log. My guess is that there isn't enough memory available due to the other services being installed on the same machine.\n\n2012-05-28 16:20:25 ERROR nova.compute.manager [req-1c725f9c-acae-47c4-b5ae-9ed5d2d9830c 9494d025721c4d7bb28a16fa796f9414 04282e9aff474d2383bb4d4417673e0a] [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] Instance failed to spawn\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] Traceback (most recent call last):\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 592, in _spawn\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     self._legacy_nw_info(network_info), block_device_info)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 114, in wrapped\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     return f(*args, **kw)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 922, in spawn\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     self._create_new_domain(xml)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 1575, in _create_new_domain\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     domain.createWithFlags(launch_flags)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/libvirt.py\", line 581, in createWithFlags\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     if ret == -1: raise libvirtError ('virDomainCreateWithFlags() failed', dom=self)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] libvirtError: Unable to read from monitor: Connection reset by peer\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] \n2012-05-28 16:20:25 DEBUG nova.compute.manager [req-1c725f9c-acae-47c4-b5ae-9ed5d2d9830c 9494d025721c4d7bb28a16fa796f9414 04282e9aff474d2383bb4d4417673e0a] [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] Deallocating network for instance from (pid=23518) _deallocate_network /usr/lib/python2.7/dist-packages/nova/compute/manager.py:616\n2012-05-28 16:20:25 DEBUG nova.rpc.amqp [req-1c725f9c-acae-47c4-b5ae-9ed5d2d9830c 9494d025721c4d7bb28a16fa796f9414 04282e9aff474d2383bb4d4417673e0a] Making asynchronous cast on network... from (pid=23518) cast /usr/lib/python2.7/dist-packages/nova/rpc/amqp.py:346\n2012-05-28 16:20:26 ERROR nova.rpc.amqp [req-1c725f9c-acae-47c4-b5ae-9ed5d2d9830c 9494d025721c4d7bb28a16fa796f9414 04282e9aff474d2383bb4d4417673e0a] Exception during message handling\n2012-05-28 16:20:26 TRACE nova.rpc.amqp Traceback (most recent call last):\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/rpc/amqp.py\", line 252, in _process_data\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     rval = node_func(context=ctxt, **node_args)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 114, in wrapped\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 177, in decorated_function\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     sys.exc_info())\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 171, in decorated_function\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     return function(self, context, instance_uuid, *args, **kwargs)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 651, in run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     do_run_instance()\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/utils.py\", line 945, in inner\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     retval = f(*args, **kwargs)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 650, in do_run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._run_instance(context, instance_uuid, **kwargs)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 451, in _run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._set_instance_error_state(context, instance_uuid)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 432, in _run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._deallocate_network(context, instance)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 429, in _run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     injected_files, admin_password)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 592, in _spawn\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._legacy_nw_info(network_info), block_device_info)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 114, in wrapped\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 922, in spawn\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._create_new_domain(xml)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 1575, in _create_new_domain\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     domain.createWithFlags(launch_flags)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/libvirt.py\", line 581, in createWithFlags\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     if ret == -1: raise libvirtError ('virDomainCreateWithFlags() failed', dom=self)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp libvirtError: Unable to read from monitor: Connection reset by peer", 
    "tags": [
        "compute", 
        "failed", 
        "instance", 
        "launch", 
        "nova", 
        "schedule"
    ], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1006322", 
    "owner": "None", 
    "id": 1006322, 
    "index": 4118, 
    "openned": "2012-05-30 10:15:32.785774+00:00", 
    "created": "2012-05-30 10:15:32.785774+00:00", 
    "title": "Instance launch fails when memory is equal to the max memory of the host", 
    "comments": [
        {
            "content": "I've set up a single installation of OpenStack with the default packages from Ubuntu 12.04 on host with 4GB ram. Every time i launched an instance with 4096MB ram in the flavor the instance would pass the scheduler validation (i'm using the filter scheduler) and then fail to spawn with the error output below in nova-compute log. My guess is that there isn't enough memory available due to the other services being installed on the same machine.\n\n2012-05-28 16:20:25 ERROR nova.compute.manager [req-1c725f9c-acae-47c4-b5ae-9ed5d2d9830c 9494d025721c4d7bb28a16fa796f9414 04282e9aff474d2383bb4d4417673e0a] [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] Instance failed to spawn\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] Traceback (most recent call last):\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 592, in _spawn\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     self._legacy_nw_info(network_info), block_device_info)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 114, in wrapped\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     return f(*args, **kw)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 922, in spawn\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     self._create_new_domain(xml)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 1575, in _create_new_domain\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     domain.createWithFlags(launch_flags)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]   File \"/usr/lib/python2.7/dist-packages/libvirt.py\", line 581, in createWithFlags\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7]     if ret == -1: raise libvirtError ('virDomainCreateWithFlags() failed', dom=self)\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] libvirtError: Unable to read from monitor: Connection reset by peer\n2012-05-28 16:20:25 TRACE nova.compute.manager [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] \n2012-05-28 16:20:25 DEBUG nova.compute.manager [req-1c725f9c-acae-47c4-b5ae-9ed5d2d9830c 9494d025721c4d7bb28a16fa796f9414 04282e9aff474d2383bb4d4417673e0a] [instance: 10d7c8e0-e05b-4e57-b722-dab5771261b7] Deallocating network for instance from (pid=23518) _deallocate_network /usr/lib/python2.7/dist-packages/nova/compute/manager.py:616\n2012-05-28 16:20:25 DEBUG nova.rpc.amqp [req-1c725f9c-acae-47c4-b5ae-9ed5d2d9830c 9494d025721c4d7bb28a16fa796f9414 04282e9aff474d2383bb4d4417673e0a] Making asynchronous cast on network... from (pid=23518) cast /usr/lib/python2.7/dist-packages/nova/rpc/amqp.py:346\n2012-05-28 16:20:26 ERROR nova.rpc.amqp [req-1c725f9c-acae-47c4-b5ae-9ed5d2d9830c 9494d025721c4d7bb28a16fa796f9414 04282e9aff474d2383bb4d4417673e0a] Exception during message handling\n2012-05-28 16:20:26 TRACE nova.rpc.amqp Traceback (most recent call last):\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/rpc/amqp.py\", line 252, in _process_data\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     rval = node_func(context=ctxt, **node_args)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 114, in wrapped\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 177, in decorated_function\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     sys.exc_info())\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 171, in decorated_function\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     return function(self, context, instance_uuid, *args, **kwargs)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 651, in run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     do_run_instance()\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/utils.py\", line 945, in inner\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     retval = f(*args, **kwargs)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 650, in do_run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._run_instance(context, instance_uuid, **kwargs)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 451, in _run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._set_instance_error_state(context, instance_uuid)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 432, in _run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._deallocate_network(context, instance)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self.gen.next()\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 429, in _run_instance\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     injected_files, admin_password)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 592, in _spawn\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._legacy_nw_info(network_info), block_device_info)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 114, in wrapped\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     return f(*args, **kw)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 922, in spawn\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     self._create_new_domain(xml)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/connection.py\", line 1575, in _create_new_domain\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     domain.createWithFlags(launch_flags)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/libvirt.py\", line 581, in createWithFlags\n2012-05-28 16:20:26 TRACE nova.rpc.amqp     if ret == -1: raise libvirtError ('virDomainCreateWithFlags() failed', dom=self)\n2012-05-28 16:20:26 TRACE nova.rpc.amqp libvirtError: Unable to read from monitor: Connection reset by peer", 
            "date_created": "2012-05-30 10:15:32.785774+00:00", 
            "author": "https://api.launchpad.net/1.0/~leanderbb"
        }, 
        {
            "content": "I'm not convinced this is a nova issue.  Libvirt should support launching vms larger than available memory if swap is available. I have done it many times.", 
            "date_created": "2012-05-31 18:47:41.367231+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "And if it can't in your setup, then you can force the scheduler to fail properly by reducing the ram_allocation_ratio flag so that the ram filter will reject the instance.", 
            "date_created": "2012-05-31 18:48:30.911867+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }, 
        {
            "content": "This issue still exists in the folsom release. When i try to create a vm  m1.small flavor via the dashboard ,it fails with this message in the nova-compute.log . \n---\n2012-10-20 23:14:12 ERROR nova.compute.manager [req-d725491c-a37a-467a-ae9a-5d9bea3c1377 20d579c1b5974709a8731470fb14022c a0d9893507bb42d699ef873d673286c7] [instance: eadc5df8-473a-48b5-9204-efadcd460afb] Instance failed to spawn\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb] Traceback (most recent call last):\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 743, in _spawn\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     block_device_info)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 117, in wrapped\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     temp_level, payload)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     self.gen.next()\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 92, in wrapped\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     return f(*args, **kw)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 1062, in spawn\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     block_device_info)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 1888, in _create_domain_and_network\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     domain = self._create_domain(xml)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/driver.py\", line 1867, in _create_domain\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     domain.createWithFlags(launch_flags)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 187, in doit\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     result = proxy_call(self._autowrap, f, *args, **kwargs)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 147, in proxy_call\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     rv = execute(f,*args,**kwargs)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/eventlet/tpool.py\", line 76, in tworker\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     rv = meth(*args,**kwargs)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]   File \"/usr/lib/python2.7/dist-packages/libvirt.py\", line 650, in createWithFlags\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb]     if ret == -1: raise libvirtError ('virDomainCreateWithFlags() failed', dom=self)\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb] libvirtError: internal error process exited while connecting to monitor: char device redirected to /dev/pts/15\n2012-10-20 23:14:12 TRACE nova.compute.manager [instance: eadc5df8-473a-48b5-9204-efadcd460afb] qemu: at most 2047 MB RAM can be simulated\n\n----\nAny thoughts what might be going on ? \n\n", 
            "date_created": "2012-10-21 04:18:14.146634+00:00", 
            "author": "https://api.launchpad.net/1.0/~surajsub"
        }, 
        {
            "content": "if you have no swap, set:\n\nram_allocation_ratio=1.0\n\nYou can also adjust the amount of ram the scheduler reserves for the host via:\n\nreserved_host_memory_mb=512 # defaults to 512\n\nThe issue you are seeing is because the default ram_allocation_ratio is 1.5, i.e. it will overcommit ram which will fail if you have no swap setup on your host.", 
            "date_created": "2012-10-22 23:44:09.042719+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }
    ], 
    "closed": "2012-05-31 18:48:40.240430+00:00"
}