{
    "status": "Invalid", 
    "last_updated": "2012-11-29 10:01:58.532109+00:00", 
    "description": "Nova bzr rev 11395\n\nConfig: multi-zone mode (with distributed scheduler), 2 zones: 1 parent without compute and 1 child with compute\n\nThe list servers command on OSAPI fails on the parent zone:\n\nNova API log of parent zone:\n\n2011-11-10 14:15:29,476 ERROR nova.api.openstack [-] Caught error: Uncaught Zone redirection exception\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/__init__.py\", line 62, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1053, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1022, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/local/lib/python2.7/dist-packages/keystone-2012.1-py2.7.egg/keystone/middleware/auth_token.py\", line 205, in __call__\n(nova.api.openstack): TRACE:     return self._forward_request(env, start_response, proxy_headers)\n(nova.api.openstack): TRACE:   File \"/usr/local/lib/python2.7/dist-packages/keystone-2012.1-py2.7.egg/keystone/middleware/auth_token.py\", line 337, in _forward_request\n(nova.api.openstack): TRACE:     return self.app(env, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 569, in __call__\n(nova.api.openstack): TRACE:     action_result = self.dispatch(request, action, args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 598, in dispatch\n(nova.api.openstack): TRACE:     return controller_method(req=request, **action_args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 150, in process\n(nova.api.openstack): TRACE:     res = handler(req, res, body)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/contrib/extended_status.py\", line 88, in _extended_status_handler\n(nova.api.openstack): TRACE:     _get_and_extend_all(context, body)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/contrib/extended_status.py\", line 68, in _get_and_extend_all\n(nova.api.openstack): TRACE:     inst_ref = compute_api.routing_get(context, server['id'])\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/scheduler/api.py\", line 320, in wrapped_f\n(nova.api.openstack): TRACE:     item_uuid)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/scheduler/api.py\", line 291, in _route_to_child_zones\n(nova.api.openstack): TRACE:     raise RedirectResult(self.unmarshall_result(result))\n(nova.api.openstack): TRACE: RedirectResult: Uncaught Zone redirection exception\n(nova.api.openstack): TRACE:\n\n\nNo error log in the child zone, the server list was correctly return to the parent zone.\n\nI can fixed that if I remove the Extended Status Admin OSAPI from the contrib folder in the parent zone (only in the parent zone, I let this extension in the child zone).", 
    "tags": [
        "zone"
    ], 
    "importance": "Medium", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/888546", 
    "owner": "None", 
    "id": 888546, 
    "index": 2641, 
    "openned": "2011-11-10 13:24:40.245118+00:00", 
    "created": "2011-11-10 13:24:40.245118+00:00", 
    "title": "Extended Status Admin API extension fails in multi-zone mode", 
    "comments": [
        {
            "content": "Nova bzr rev 11395\n\nConfig: multi-zone mode (with distributed scheduler), 2 zones: 1 parent without compute and 1 child with compute\n\nThe list servers command on OSAPI fails on the parent zone:\n\nNova API log of parent zone:\n\n2011-11-10 14:15:29,476 ERROR nova.api.openstack [-] Caught error: Uncaught Zone redirection exception\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/__init__.py\", line 62, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1053, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/request.py\", line 1022, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/local/lib/python2.7/dist-packages/keystone-2012.1-py2.7.egg/keystone/middleware/auth_token.py\", line 205, in __call__\n(nova.api.openstack): TRACE:     return self._forward_request(env, start_response, proxy_headers)\n(nova.api.openstack): TRACE:   File \"/usr/local/lib/python2.7/dist-packages/keystone-2012.1-py2.7.egg/keystone/middleware/auth_token.py\", line 337, in _forward_request\n(nova.api.openstack): TRACE:     return self.app(env, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.7/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 569, in __call__\n(nova.api.openstack): TRACE:     action_result = self.dispatch(request, action, args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py\", line 598, in dispatch\n(nova.api.openstack): TRACE:     return controller_method(req=request, **action_args)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 150, in process\n(nova.api.openstack): TRACE:     res = handler(req, res, body)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/contrib/extended_status.py\", line 88, in _extended_status_handler\n(nova.api.openstack): TRACE:     _get_and_extend_all(context, body)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/contrib/extended_status.py\", line 68, in _get_and_extend_all\n(nova.api.openstack): TRACE:     inst_ref = compute_api.routing_get(context, server['id'])\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/scheduler/api.py\", line 320, in wrapped_f\n(nova.api.openstack): TRACE:     item_uuid)\n(nova.api.openstack): TRACE:   File \"/usr/lib/python2.7/dist-packages/nova/scheduler/api.py\", line 291, in _route_to_child_zones\n(nova.api.openstack): TRACE:     raise RedirectResult(self.unmarshall_result(result))\n(nova.api.openstack): TRACE: RedirectResult: Uncaught Zone redirection exception\n(nova.api.openstack): TRACE:\n\n\nNo error log in the child zone, the server list was correctly return to the parent zone.\n\nI can fixed that if I remove the Extended Status Admin OSAPI from the contrib folder in the parent zone (only in the parent zone, I let this extension in the child zone).", 
            "date_created": "2011-11-10 13:24:40.245118+00:00", 
            "author": "https://api.launchpad.net/1.0/~ethuleau"
        }, 
        {
            "content": "Should this be closed now since zones have been removed from nova?", 
            "date_created": "2012-11-28 21:55:01.116690+00:00", 
            "author": "https://api.launchpad.net/1.0/~sorrison"
        }, 
        {
            "content": "I put it to invalid. It's no more useful.", 
            "date_created": "2012-11-29 10:01:57.689693+00:00", 
            "author": "https://api.launchpad.net/1.0/~ethuleau"
        }
    ], 
    "closed": "2012-11-29 09:52:42.935148+00:00"
}