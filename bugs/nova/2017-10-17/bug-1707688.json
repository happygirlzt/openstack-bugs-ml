{
    "status": "Expired", 
    "last_updated": "2017-09-30 04:17:43.797946+00:00", 
    "description": "http://logs.openstack.org/85/486585/1/gate/gate-tempest-dsvm-neutron-dvr-ubuntu-xenial/acc8282/logs/screen-n-cpu.txt.gz#_2017-07-28_08_35_03_006\n\n2017-07-28 08:35:03.006 1542 ERROR os_vif [req-398df22e-6d9b-4203-b2a9-1d7bc2011939 tempest-TestVolumeBootPattern-1767728258 tempest-TestVolumeBootPattern-1767728258] Failed to plug vif VIFBridge(active=False,address=fa:16:3e:fa:58:82,bridge_name='qbrd3b698dd-61',has_traffic_filtering=True,id=d3b698dd-61b1-4cf6-8967-5f57b204bcc1,network=Network(4cec1154-d5c3-4b79-9172-a20f55ea2c03),plugin='ovs',port_profile=VIFPortProfileBase,preserve_on_delete=False,vif_name='tapd3b698dd-61')\n2017-07-28 08:35:03.006 1542 ERROR os_vif Traceback (most recent call last):\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/os_vif/__init__.py\", line 80, in plug\n2017-07-28 08:35:03.006 1542 ERROR os_vif     plugin.plug(vif, instance_info)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/vif_plug_ovs/ovs.py\", line 170, in plug\n2017-07-28 08:35:03.006 1542 ERROR os_vif     self._plug_bridge(vif, instance_info)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/vif_plug_ovs/ovs.py\", line 133, in _plug_bridge\n2017-07-28 08:35:03.006 1542 ERROR os_vif     linux_net.ensure_bridge(vif.bridge_name)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/oslo_privsep/priv_context.py\", line 205, in _wrap\n2017-07-28 08:35:03.006 1542 ERROR os_vif     return self.channel.remote_call(name, args, kwargs)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/oslo_privsep/daemon.py\", line 177, in remote_call\n2017-07-28 08:35:03.006 1542 ERROR os_vif     result = self.send_recv((Message.CALL.value, name, args, kwargs))\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/oslo_privsep/comm.py\", line 160, in send_recv\n2017-07-28 08:35:03.006 1542 ERROR os_vif     self.writer.send((myid, msg))\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/oslo_privsep/comm.py\", line 55, in send\n2017-07-28 08:35:03.006 1542 ERROR os_vif     self.writesock.sendall(buf)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 385, in sendall\n2017-07-28 08:35:03.006 1542 ERROR os_vif     tail = self.send(data, flags)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 379, in send\n2017-07-28 08:35:03.006 1542 ERROR os_vif     return self._send_loop(self.fd.send, data, flags)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 366, in _send_loop\n2017-07-28 08:35:03.006 1542 ERROR os_vif     return send_method(data, *args)\n2017-07-28 08:35:03.006 1542 ERROR os_vif error: [Errno 32] Broken pipe\n2017-07-28 08:35:03.006 1542 ERROR os_vif \n2017-07-28 08:35:03.007 1542 ERROR nova.virt.libvirt.driver [req-398df22e-6d9b-4203-b2a9-1d7bc2011939 tempest-TestVolumeBootPattern-1767728258 tempest-TestVolumeBootPattern-1767728258] [instance: dffc7798-8ac8-4de6-9991-4930c5805208] Failed to start libvirt guest\n\nLooking at libvirtd log, there is nothing that would immediately suggest what happened, but for the reference, that's what I see there:\n\n2017-07-28 08:35:03.689+0000: 11804: debug : virThreadJobSet:96 : Thread 11804 (virNetServerHandleJob) is now running job remoteDispatchConnectGetLibVersion\n2017-07-28 08:35:03.689+0000: 11804: debug : virThreadJobClear:121 : Thread 11804 (virNetServerHandleJob) finished job remoteDispatchConnectGetLibVersion with ret=0\n2017-07-28 08:35:03.689+0000: 11807: debug : virThreadJobSet:96 : Thread 11807 (virNetServerHandleJob) is now running job remoteDispatchDomainLookupByName\n2017-07-28 08:35:03.689+0000: 11807: debug : qemuDomainLookupByName:1595 : Domain not found: no domain with matching name 'instance-00000081'\n2017-07-28 08:35:03.689+0000: 11807: debug : virThreadJobClear:121 : Thread 11807 (virNetServerHandleJob) finished job remoteDispatchDomainLookupByName with ret=-1\n2017-07-28 08:35:03.697+0000: 11802: debug : virThreadJobSet:96 : Thread 11802 (virNetServerHandleJob) is now running job remoteDispatchConnectGetLibVersion\n2017-07-28 08:35:03.697+0000: 11802: debug : virThreadJobClear:121 : Thread 11802 (virNetServerHandleJob) finished job remoteDispatchConnectGetLibVersion with ret=0\n2017-07-28 08:35:03.698+0000: 11806: debug : virThreadJobSet:96 : Thread 11806 (virNetServerHandleJob) is now running job remoteDispatchDomainLookupByName\n2017-07-28 08:35:03.698+0000: 11806: debug : qemuDomainLookupByName:1595 : Domain not found: no domain with matching name 'instance-00000081'\n2017-07-28 08:35:03.698+0000: 11806: debug : virThreadJobClear:121 : Thread 11806 (virNetServerHandleJob) finished job remoteDispatchDomainLookupByName with ret=-1\n2017-07-28 08:35:03.698+0000: 11810: debug : virThreadJobSet:96 : Thread 11810 (virNetServerHandleJob) is now running job remoteDispatchConnectGetLibVersion\n2017-07-28 08:35:03.698+0000: 11810: debug : virThreadJobClear:121 : Thread 11810 (virNetServerHandleJob) finished job remoteDispatchConnectGetLibVersion with ret=0\n2017-07-28 08:35:03.699+0000: 11804: debug : virThreadJobSet:96 : Thread 11804 (virNetServerHandleJob) is now running job remoteDispatchDomainLookupByName\n2017-07-28 08:35:03.699+0000: 11804: debug : qemuDomainLookupByName:1595 : Domain not found: no domain with matching name 'instance-00000081'\n2017-07-28 08:35:03.699+0000: 11804: debug : virThreadJobClear:121 : Thread 11804 (virNetServerHandleJob) finished job remoteDispatchDomainLookupByName with ret=-1\n2017-07-28 08:35:03.857+0000: 11801: debug : virThreadJobSet:96 : Thread 11801 (virNetServerHandleJob) is now running job remoteDispatchConnectGetLibVersion\n2017-07-28 08:35:03.857+0000: 11801: debug : virThreadJobClear:121 : Thread 11801 (virNetServerHandleJob) finished job remoteDispatchConnectGetLibVersion with ret=0\n2017-07-28 08:35:03.858+0000: 11808: debug : virThreadJobSet:96 : Thread 11808 (virNetServerHandleJob) is now running job remoteDispatchDomainLookupByName\n2017-07-28 08:35:03.858+0000: 11808: debug : qemuDomainLookupByName:1595 : Domain not found: no domain with matching name 'instance-00000081'\n2017-07-28 08:35:03.858+0000: 11808: debug : virThreadJobClear:121 : Thread 11808 (virNetServerHandleJob) finished job remoteDispatchDomainLookupByName with ret=-1\n\nThis is Ocata.", 
    "tags": [
        "gate-failure", 
        "os-vif", 
        "privsep"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1707688", 
    "owner": "None", 
    "id": 1707688, 
    "index": 8232, 
    "openned": "2017-07-31 17:22:37.816270+00:00", 
    "created": "2017-07-31 17:22:37.816270+00:00", 
    "title": "'error: [Errno 32] Broken pipe' when plugging OVS VIF into an instance", 
    "comments": [
        {
            "content": "http://logs.openstack.org/85/486585/1/gate/gate-tempest-dsvm-neutron-dvr-ubuntu-xenial/acc8282/logs/screen-n-cpu.txt.gz#_2017-07-28_08_35_03_006\n\n2017-07-28 08:35:03.006 1542 ERROR os_vif [req-398df22e-6d9b-4203-b2a9-1d7bc2011939 tempest-TestVolumeBootPattern-1767728258 tempest-TestVolumeBootPattern-1767728258] Failed to plug vif VIFBridge(active=False,address=fa:16:3e:fa:58:82,bridge_name='qbrd3b698dd-61',has_traffic_filtering=True,id=d3b698dd-61b1-4cf6-8967-5f57b204bcc1,network=Network(4cec1154-d5c3-4b79-9172-a20f55ea2c03),plugin='ovs',port_profile=VIFPortProfileBase,preserve_on_delete=False,vif_name='tapd3b698dd-61')\n2017-07-28 08:35:03.006 1542 ERROR os_vif Traceback (most recent call last):\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/os_vif/__init__.py\", line 80, in plug\n2017-07-28 08:35:03.006 1542 ERROR os_vif     plugin.plug(vif, instance_info)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/vif_plug_ovs/ovs.py\", line 170, in plug\n2017-07-28 08:35:03.006 1542 ERROR os_vif     self._plug_bridge(vif, instance_info)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/vif_plug_ovs/ovs.py\", line 133, in _plug_bridge\n2017-07-28 08:35:03.006 1542 ERROR os_vif     linux_net.ensure_bridge(vif.bridge_name)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/oslo_privsep/priv_context.py\", line 205, in _wrap\n2017-07-28 08:35:03.006 1542 ERROR os_vif     return self.channel.remote_call(name, args, kwargs)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/oslo_privsep/daemon.py\", line 177, in remote_call\n2017-07-28 08:35:03.006 1542 ERROR os_vif     result = self.send_recv((Message.CALL.value, name, args, kwargs))\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/oslo_privsep/comm.py\", line 160, in send_recv\n2017-07-28 08:35:03.006 1542 ERROR os_vif     self.writer.send((myid, msg))\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/oslo_privsep/comm.py\", line 55, in send\n2017-07-28 08:35:03.006 1542 ERROR os_vif     self.writesock.sendall(buf)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 385, in sendall\n2017-07-28 08:35:03.006 1542 ERROR os_vif     tail = self.send(data, flags)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 379, in send\n2017-07-28 08:35:03.006 1542 ERROR os_vif     return self._send_loop(self.fd.send, data, flags)\n2017-07-28 08:35:03.006 1542 ERROR os_vif   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenio/base.py\", line 366, in _send_loop\n2017-07-28 08:35:03.006 1542 ERROR os_vif     return send_method(data, *args)\n2017-07-28 08:35:03.006 1542 ERROR os_vif error: [Errno 32] Broken pipe\n2017-07-28 08:35:03.006 1542 ERROR os_vif \n2017-07-28 08:35:03.007 1542 ERROR nova.virt.libvirt.driver [req-398df22e-6d9b-4203-b2a9-1d7bc2011939 tempest-TestVolumeBootPattern-1767728258 tempest-TestVolumeBootPattern-1767728258] [instance: dffc7798-8ac8-4de6-9991-4930c5805208] Failed to start libvirt guest\n\nLooking at libvirtd log, there is nothing that would immediately suggest what happened, but for the reference, that's what I see there:\n\n2017-07-28 08:35:03.689+0000: 11804: debug : virThreadJobSet:96 : Thread 11804 (virNetServerHandleJob) is now running job remoteDispatchConnectGetLibVersion\n2017-07-28 08:35:03.689+0000: 11804: debug : virThreadJobClear:121 : Thread 11804 (virNetServerHandleJob) finished job remoteDispatchConnectGetLibVersion with ret=0\n2017-07-28 08:35:03.689+0000: 11807: debug : virThreadJobSet:96 : Thread 11807 (virNetServerHandleJob) is now running job remoteDispatchDomainLookupByName\n2017-07-28 08:35:03.689+0000: 11807: debug : qemuDomainLookupByName:1595 : Domain not found: no domain with matching name 'instance-00000081'\n2017-07-28 08:35:03.689+0000: 11807: debug : virThreadJobClear:121 : Thread 11807 (virNetServerHandleJob) finished job remoteDispatchDomainLookupByName with ret=-1\n2017-07-28 08:35:03.697+0000: 11802: debug : virThreadJobSet:96 : Thread 11802 (virNetServerHandleJob) is now running job remoteDispatchConnectGetLibVersion\n2017-07-28 08:35:03.697+0000: 11802: debug : virThreadJobClear:121 : Thread 11802 (virNetServerHandleJob) finished job remoteDispatchConnectGetLibVersion with ret=0\n2017-07-28 08:35:03.698+0000: 11806: debug : virThreadJobSet:96 : Thread 11806 (virNetServerHandleJob) is now running job remoteDispatchDomainLookupByName\n2017-07-28 08:35:03.698+0000: 11806: debug : qemuDomainLookupByName:1595 : Domain not found: no domain with matching name 'instance-00000081'\n2017-07-28 08:35:03.698+0000: 11806: debug : virThreadJobClear:121 : Thread 11806 (virNetServerHandleJob) finished job remoteDispatchDomainLookupByName with ret=-1\n2017-07-28 08:35:03.698+0000: 11810: debug : virThreadJobSet:96 : Thread 11810 (virNetServerHandleJob) is now running job remoteDispatchConnectGetLibVersion\n2017-07-28 08:35:03.698+0000: 11810: debug : virThreadJobClear:121 : Thread 11810 (virNetServerHandleJob) finished job remoteDispatchConnectGetLibVersion with ret=0\n2017-07-28 08:35:03.699+0000: 11804: debug : virThreadJobSet:96 : Thread 11804 (virNetServerHandleJob) is now running job remoteDispatchDomainLookupByName\n2017-07-28 08:35:03.699+0000: 11804: debug : qemuDomainLookupByName:1595 : Domain not found: no domain with matching name 'instance-00000081'\n2017-07-28 08:35:03.699+0000: 11804: debug : virThreadJobClear:121 : Thread 11804 (virNetServerHandleJob) finished job remoteDispatchDomainLookupByName with ret=-1\n2017-07-28 08:35:03.857+0000: 11801: debug : virThreadJobSet:96 : Thread 11801 (virNetServerHandleJob) is now running job remoteDispatchConnectGetLibVersion\n2017-07-28 08:35:03.857+0000: 11801: debug : virThreadJobClear:121 : Thread 11801 (virNetServerHandleJob) finished job remoteDispatchConnectGetLibVersion with ret=0\n2017-07-28 08:35:03.858+0000: 11808: debug : virThreadJobSet:96 : Thread 11808 (virNetServerHandleJob) is now running job remoteDispatchDomainLookupByName\n2017-07-28 08:35:03.858+0000: 11808: debug : qemuDomainLookupByName:1595 : Domain not found: no domain with matching name 'instance-00000081'\n2017-07-28 08:35:03.858+0000: 11808: debug : virThreadJobClear:121 : Thread 11808 (virNetServerHandleJob) finished job remoteDispatchDomainLookupByName with ret=-1\n\nThis is Ocata.", 
            "date_created": "2017-07-31 17:22:37.816270+00:00", 
            "author": "https://api.launchpad.net/1.0/~ihar-hrachyshka"
        }, 
        {
            "content": "That looks like a privsep issue? Any idea if the privsep daemon is still running in those cases?", 
            "date_created": "2017-07-31 20:56:21.807075+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2017-09-30 04:17:40.149648+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ], 
    "closed": "2017-09-30 04:17:41.398871+00:00"
}