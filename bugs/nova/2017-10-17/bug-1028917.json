{
    "status": "Invalid", 
    "last_updated": "2012-07-29 00:05:20.982897+00:00", 
    "description": "I update the new code of nova.But when I delete an instance,the amqp is error and if you operate deleting action more times,it can delete the instance.Note.the code before 7.12 is ok.\nThe error imformation is :\n2012-07-25 21:33:28 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/exception.py\", line 117, in wrapped\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/exception.py\", line 92, in wrapped\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 185, in decorated_function\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     function(self, context, instance_uuid, *args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 209, in decorated_function\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     sys.exc_info())\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 203, in decorated_function\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return function(self, context, instance_uuid, *args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 878, in terminate_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     do_terminate_instance()\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/utils.py\", line 679, in inner\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     retval = f(*args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 871, in do_terminate_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self._delete_instance(context, instance)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 848, in _delete_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self._shutdown_instance(context, instance)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 806, in _shutdown_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self._deallocate_network(context, instance)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 753, in _deallocate_network\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.network_api.deallocate_for_instance(context, instance)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/api.py\", line 241, in deallocate_for_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     'args': args})\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/__init__.py\", line 100, in call\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return _get_impl().call(cfg.CONF, context, topic, msg, timeout)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/impl_kombu.py\", line 712, in call\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     rpc_amqp.get_connection_pool(conf, Connection))\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 368, in call\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     rv = list(rv)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 336, in __iter__\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     raise result\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp ProcessExecutionError_Remote: Unexpected error while running command.\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Command: sudo nova-rootwrap /etc/nova/rootwrap.conf dhcp_release br100 172.168.1.66 fa:16:3e:06:2d:8b\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Exit code: 1\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Stdout: ''\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Stderr: 'Traceback (most recent call last):\\n  File \"/usr/local/bin/nova-rootwrap\", line 5, in <module>\\n    pkg_resources.run_script(\\'nova==2012.2\\', \\'nova-rootwrap\\')\\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 499, in run_script\\n    self.require(requires)[0].run_script(script_name, ns)\\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 1235, in run_script\\n    execfile(script_filename, namespace, namespace)\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/EGG-INFO/scripts/nova-rootwrap\", line 80, in <module>\\n    env=filtermatch.get_environment(userargs))\\n  File \"/usr/lib/python2.7/subprocess.py\", line 679, in __init__\\n    errread, errwrite)\\n  File \"/usr/lib/python2.7/subprocess.py\", line 1249, in _execute_child\\n    raise child_exception\\nOSError: [Errno 2] No such file or directory\\n'\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return func(self, context, *args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 387, in deallocate_for_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     super(FloatingIP, self).deallocate_for_instance(context, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return func(self, context, *args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 990, in deallocate_for_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.deallocate_fixed_ip(context, fixed_ip['address'], **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 252, in deallocate_fixed_ip\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     address)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 1297, in deallocate_fixed_ip\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.driver.release_dhcp(dev, address, vif['address'])\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/linux_net.py\", line 649, in release_dhcp\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     utils.execute('dhcp_release', dev, address, mac_address, run_as_root=True)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/utils.py\", line 191, in execute\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     cmd=' '.join(cmd))\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp ProcessExecutionError: Unexpected error while running command.\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Command: sudo nova-rootwrap /etc/nova/rootwrap.conf dhcp_release br100 172.168.1.66 fa:16:3e:06:2d:8b\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Exit code: 1\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Stdout: ''\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Stderr: 'Traceback (most recent call last):\\n  File \"/usr/local/bin/nova-rootwrap\", line 5, in <module>\\n    pkg_resources.run_script(\\'nova==2012.2\\', \\'nova-rootwrap\\')\\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 499, in run_script\\n    self.require(requires)[0].run_script(script_name, ns)\\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 1235, in run_script\\n    execfile(script_filename, namespace, namespace)\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/EGG-INFO/scripts/nova-rootwrap\", line 80, in <module>\\n    env=filtermatch.get_environment(userargs))\\n  File \"/usr/lib/python2.7/subprocess.py\", line 679, in __init__\\n    errread, errwrite)\\n  File \"/usr/lib/python2.7/subprocess.py\", line 1249, in _execute_child\\n    raise child_exception\\nOSError: [Errno 2] No such file or directory\\n'\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:39 INFO nova.virt.libvirt.driver [-] Compute_service record updated for opc-OptiPlex-990 \n raise child_exception\\nOSError: [Errno 2] No such file or directory\\n'\n2012-07-25 21:34:51 INFO nova.virt.libvirt.driver [-] Compute_service record updated for opc-OptiPlex-990 \n2012-07-25 21:34:51 INFO nova.compute.manager [-] Updating host status", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1028917", 
    "owner": "None", 
    "id": 1028917, 
    "index": 4238, 
    "openned": "2012-07-25 13:42:14.866150+00:00", 
    "created": "2012-07-25 13:42:14.866150+00:00", 
    "title": "The amqp run error when delete an instance", 
    "comments": [
        {
            "content": "I update the new code of nova.But when I delete an instance,the amqp is error and if you operate deleting action more times,it can delete the instance.Note.the code before 7.12 is ok.\nThe error imformation is :\n2012-07-25 21:33:28 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/exception.py\", line 117, in wrapped\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/exception.py\", line 92, in wrapped\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 185, in decorated_function\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     function(self, context, instance_uuid, *args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 209, in decorated_function\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     sys.exc_info())\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 203, in decorated_function\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return function(self, context, instance_uuid, *args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 878, in terminate_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     do_terminate_instance()\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/utils.py\", line 679, in inner\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     retval = f(*args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 871, in do_terminate_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self._delete_instance(context, instance)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 848, in _delete_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self._shutdown_instance(context, instance)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 806, in _shutdown_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self._deallocate_network(context, instance)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/compute/manager.py\", line 753, in _deallocate_network\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.network_api.deallocate_for_instance(context, instance)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/api.py\", line 241, in deallocate_for_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     'args': args})\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/__init__.py\", line 100, in call\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return _get_impl().call(cfg.CONF, context, topic, msg, timeout)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/impl_kombu.py\", line 712, in call\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     rpc_amqp.get_connection_pool(conf, Connection))\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 368, in call\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     rv = list(rv)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 336, in __iter__\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     raise result\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp ProcessExecutionError_Remote: Unexpected error while running command.\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Command: sudo nova-rootwrap /etc/nova/rootwrap.conf dhcp_release br100 172.168.1.66 fa:16:3e:06:2d:8b\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Exit code: 1\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Stdout: ''\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Stderr: 'Traceback (most recent call last):\\n  File \"/usr/local/bin/nova-rootwrap\", line 5, in <module>\\n    pkg_resources.run_script(\\'nova==2012.2\\', \\'nova-rootwrap\\')\\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 499, in run_script\\n    self.require(requires)[0].run_script(script_name, ns)\\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 1235, in run_script\\n    execfile(script_filename, namespace, namespace)\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/EGG-INFO/scripts/nova-rootwrap\", line 80, in <module>\\n    env=filtermatch.get_environment(userargs))\\n  File \"/usr/lib/python2.7/subprocess.py\", line 679, in __init__\\n    errread, errwrite)\\n  File \"/usr/lib/python2.7/subprocess.py\", line 1249, in _execute_child\\n    raise child_exception\\nOSError: [Errno 2] No such file or directory\\n'\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/amqp.py\", line 275, in _process_data\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return func(self, context, *args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 387, in deallocate_for_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     super(FloatingIP, self).deallocate_for_instance(context, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 262, in wrapped\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     return func(self, context, *args, **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 990, in deallocate_for_instance\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.deallocate_fixed_ip(context, fixed_ip['address'], **kwargs)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 252, in deallocate_fixed_ip\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     address)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/manager.py\", line 1297, in deallocate_fixed_ip\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     self.driver.release_dhcp(dev, address, vif['address'])\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/network/linux_net.py\", line 649, in release_dhcp\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     utils.execute('dhcp_release', dev, address, mac_address, run_as_root=True)\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp   File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/nova/utils.py\", line 191, in execute\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp     cmd=' '.join(cmd))\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp ProcessExecutionError: Unexpected error while running command.\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Command: sudo nova-rootwrap /etc/nova/rootwrap.conf dhcp_release br100 172.168.1.66 fa:16:3e:06:2d:8b\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Exit code: 1\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Stdout: ''\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp Stderr: 'Traceback (most recent call last):\\n  File \"/usr/local/bin/nova-rootwrap\", line 5, in <module>\\n    pkg_resources.run_script(\\'nova==2012.2\\', \\'nova-rootwrap\\')\\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 499, in run_script\\n    self.require(requires)[0].run_script(script_name, ns)\\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 1235, in run_script\\n    execfile(script_filename, namespace, namespace)\\n  File \"/usr/local/lib/python2.7/dist-packages/nova-2012.2-py2.7.egg/EGG-INFO/scripts/nova-rootwrap\", line 80, in <module>\\n    env=filtermatch.get_environment(userargs))\\n  File \"/usr/lib/python2.7/subprocess.py\", line 679, in __init__\\n    errread, errwrite)\\n  File \"/usr/lib/python2.7/subprocess.py\", line 1249, in _execute_child\\n    raise child_exception\\nOSError: [Errno 2] No such file or directory\\n'\n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:28 TRACE nova.openstack.common.rpc.amqp \n2012-07-25 21:33:39 INFO nova.virt.libvirt.driver [-] Compute_service record updated for opc-OptiPlex-990 \n raise child_exception\\nOSError: [Errno 2] No such file or directory\\n'\n2012-07-25 21:34:51 INFO nova.virt.libvirt.driver [-] Compute_service record updated for opc-OptiPlex-990 \n2012-07-25 21:34:51 INFO nova.compute.manager [-] Updating host status", 
            "date_created": "2012-07-25 13:42:14.866150+00:00", 
            "author": "https://api.launchpad.net/1.0/~eelilei"
        }, 
        {
            "content": "It looks like you dont have dhcp_release installed.", 
            "date_created": "2012-07-29 00:05:17.805819+00:00", 
            "author": "https://api.launchpad.net/1.0/~zulcss"
        }
    ], 
    "closed": "2012-07-29 00:05:19.202342+00:00"
}