{
    "status": "Expired", 
    "last_updated": "2017-06-17 04:17:41.627996+00:00", 
    "description": "Description\n===========\nUsing python-novaclient, I call nova.servers.create() and then poll with nova.servers.get() until my new instance has a private IP assigned. Occasionally the client raises an error instead:\n\nConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\n\nI don't see any indication in the nova cloud controller logs as to what the failure may be.\n\n\n\nSteps to reproduce\n==================\n* I used nova.servers.create() to create a server\n* I used nova.servers.get() to check if the new server was ready to use.\n* nova.servers.get() failed with an error:\nConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\n\nExpected result\n===============\nI expected the server to come up in ACTIVE state and have a private IP assigned.\n\nActual result\n=============\nThe nova client throw a connection error.\n\nEnvironment\n===========\nI'm running nova on newton:\n\nii  nova-api-os-compute              2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - OpenStack Compute API frontend\nii  nova-cert                        2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - certificate management\nii  nova-common                      2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - common files\nii  nova-conductor                   2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - conductor service\nii  nova-scheduler                   2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - virtual machine scheduler\nii  python-nova                      2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute Python libraries\n\n2. Which hypervisor did you use?\nlibvirt + kvm\nii  libvirt-bin                          1.3.1-1ubuntu10.6                   amd64        programs for the libvirt library\nii  libvirt0:amd64                       1.3.1-1ubuntu10.6                   amd64        library for interfacing with different virtualization systems\nii  nova-compute-libvirt                 2:14.0.1-0ubuntu1~cloud0            all          OpenStack Compute - compute node libvirt support\nii  python-libvirt                       1.3.1-1ubuntu1                      amd64        libvirt Python bindings\n\n\n2. Which storage type did you use?\nceph, but with no attached volumes - not really using it here.\n\n3. Which networking type did you use?\nneutron with openvswitch", 
    "tags": [
        "oil", 
        "oil-guestos-fail"
    ], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1660670", 
    "owner": "None", 
    "id": 1660670, 
    "index": 7914, 
    "openned": "2017-01-31 16:02:02.705652+00:00", 
    "created": "2017-01-31 16:02:02.705652+00:00", 
    "title": "ConnectionError: ('Connection aborted.', BadStatusLine('''',))", 
    "comments": [
        {
            "content": "Description\n===========\nUsing python-novaclient, I call nova.servers.create() and then poll with nova.servers.get() until my new instance has a private IP assigned. Occasionally the client raises an error instead:\n\nConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\n\nI don't see any indication in the nova cloud controller logs as to what the failure may be.\n\n\n\nSteps to reproduce\n==================\n* I used nova.servers.create() to create a server\n* I used nova.servers.get() to check if the new server was ready to use.\n* nova.servers.get() failed with an error:\nConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\n\nExpected result\n===============\nI expected the server to come up in ACTIVE state and have a private IP assigned.\n\nActual result\n=============\nThe nova client throw a connection error.\n\nEnvironment\n===========\nI'm running nova on newton:\n\nii  nova-api-os-compute              2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - OpenStack Compute API frontend\nii  nova-cert                        2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - certificate management\nii  nova-common                      2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - common files\nii  nova-conductor                   2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - conductor service\nii  nova-scheduler                   2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute - virtual machine scheduler\nii  python-nova                      2:14.0.1-0ubuntu1~cloud0           all          OpenStack Compute Python libraries\n\n2. Which hypervisor did you use?\nlibvirt + kvm\nii  libvirt-bin                          1.3.1-1ubuntu10.6                   amd64        programs for the libvirt library\nii  libvirt0:amd64                       1.3.1-1ubuntu10.6                   amd64        library for interfacing with different virtualization systems\nii  nova-compute-libvirt                 2:14.0.1-0ubuntu1~cloud0            all          OpenStack Compute - compute node libvirt support\nii  python-libvirt                       1.3.1-1ubuntu1                      amd64        libvirt Python bindings\n\n\n2. Which storage type did you use?\nceph, but with no attached volumes - not really using it here.\n\n3. Which networking type did you use?\nneutron with openvswitch", 
            "date_created": "2017-01-31 16:02:02.705652+00:00", 
            "author": "https://api.launchpad.net/1.0/~jason-hobbs"
        }, 
        {
            "content": "", 
            "date_created": "2017-01-31 16:02:02.705652+00:00", 
            "author": "https://api.launchpad.net/1.0/~jason-hobbs"
        }, 
        {
            "content": "Are you using devstack? That's a failure from keystoneauth1 and I believe it's related to TLS, we've seen the same things in our CI runs, i.e.:\n\nhttp://status.openstack.org//elastic-recheck/index.html#1630664", 
            "date_created": "2017-01-31 21:42:40.361811+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "No, this is deployed on physical machines, with some services bare metal\nand some in LXD containers.\n\nThanks for the keystoneauth1 tip - I will look that direction next time I\nhit this.\n\nOn Tue, Jan 31, 2017 at 3:42 PM, Matt Riedemann <email address hidden> wrote:\n\n> Are you using devstack? That's a failure from keystoneauth1 and I\n> believe it's related to TLS, we've seen the same things in our CI runs,\n> i.e.:\n>\n> http://status.openstack.org//elastic-recheck/index.html#1630664\n>\n> --\n> You received this bug notification because you are subscribed to the bug\n> report.\n> https://bugs.launchpad.net/bugs/1660670\n>\n> Title:\n>   ConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\n>\n> Status in OpenStack Compute (nova):\n>   New\n>\n> Bug description:\n>   Description\n>   ===========\n>   Using python-novaclient, I call nova.servers.create() and then poll with\n> nova.servers.get() until my new instance has a private IP assigned.\n> Occasionally the client raises an error instead:\n>\n>   ConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\n>\n>   I don't see any indication in the nova cloud controller logs as to\n>   what the failure may be.\n>\n>\n>   Steps to reproduce\n>   ==================\n>   * I used nova.servers.create() to create a server\n>   * I used nova.servers.get() to check if the new server was ready to use.\n>   * nova.servers.get() failed with an error:\n>   ConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\n>\n>   Expected result\n>   ===============\n>   I expected the server to come up in ACTIVE state and have a private IP\n> assigned.\n>\n>   Actual result\n>   =============\n>   The nova client throw a connection error.\n>\n>   Environment\n>   ===========\n>   I'm running nova on newton:\n>\n>   ii  nova-api-os-compute              2:14.0.1-0ubuntu1~cloud0\n>  all          OpenStack Compute - OpenStack Compute API frontend\n>   ii  nova-cert                        2:14.0.1-0ubuntu1~cloud0\n>  all          OpenStack Compute - certificate management\n>   ii  nova-common                      2:14.0.1-0ubuntu1~cloud0\n>  all          OpenStack Compute - common files\n>   ii  nova-conductor                   2:14.0.1-0ubuntu1~cloud0\n>  all          OpenStack Compute - conductor service\n>   ii  nova-scheduler                   2:14.0.1-0ubuntu1~cloud0\n>  all          OpenStack Compute - virtual machine scheduler\n>   ii  python-nova                      2:14.0.1-0ubuntu1~cloud0\n>  all          OpenStack Compute Python libraries\n>\n>   2. Which hypervisor did you use?\n>   libvirt + kvm\n>   ii  libvirt-bin                          1.3.1-1ubuntu10.6\n>      amd64        programs for the libvirt library\n>   ii  libvirt0:amd64                       1.3.1-1ubuntu10.6\n>      amd64        library for interfacing with different virtualization\n> systems\n>   ii  nova-compute-libvirt                 2:14.0.1-0ubuntu1~cloud0\n>     all          OpenStack Compute - compute node libvirt support\n>   ii  python-libvirt                       1.3.1-1ubuntu1\n>     amd64        libvirt Python bindings\n>\n>\n>   2. Which storage type did you use?\n>   ceph, but with no attached volumes - not really using it here.\n>\n>   3. Which networking type did you use?\n>   neutron with openvswitch\n>\n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/1660670/+subscriptions\n>\n", 
            "date_created": "2017-01-31 22:22:22+00:00", 
            "author": "https://api.launchpad.net/1.0/~jason-hobbs"
        }, 
        {
            "content": "This kind of error is a requests level connect issue, the socket basically isn't getting created. We've seen it a bit in the gate, but no idea how why.", 
            "date_created": "2017-04-17 12:58:36.397981+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2017-06-17 04:17:38.857832+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ], 
    "closed": "2017-06-17 04:17:39.163963+00:00"
}