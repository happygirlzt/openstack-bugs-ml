{
    "status": "In Progress", 
    "last_updated": "2017-10-04 12:21:07.070917+00:00", 
    "description": "When we use tox to generate \"policy.yaml.sample\", the \"default\" policy is not included in the file. The default rule is enforced when a requested rule is not found. I think it's necessary for our project.\n\nBy the way, I tried to use \"policy.yaml\" generated by nova in horizon. And horizon can't show the \"Admin->Instances\" panel. I found this panel need a rule called \"compute:get_all\". I found the default policy file in horizon called \"nova_policy.json\" has \"default\" rule. So it can work well.\n\nSo I think we should add this \"default\" rule when we generate \"policy.yaml.sample\" in nova.", 
    "tags": [
        "in-stable-ocata", 
        "ocata-backport-potential"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1703066", 
    "owner": "None", 
    "id": 1703066, 
    "index": 8208, 
    "openned": "2017-07-08 03:02:31.566430+00:00", 
    "created": "2017-07-08 03:02:31.566430+00:00", 
    "title": " Add 'default' rule when generate policy.yaml.sample", 
    "comments": [
        {
            "content": "When we use tox to generate policy.yaml.sample, the \"default\" policy is not\nincluded in the file. The default rule is enforced when a requested rule is\nnot found. I think it's necessary for our project.", 
            "date_created": "2017-07-08 03:02:31.566430+00:00", 
            "author": "https://api.launchpad.net/1.0/~damonl1"
        }, 
        {
            "content": "Please review: https://review.openstack.org/#/c/481443/", 
            "date_created": "2017-07-08 03:15:51.801986+00:00", 
            "author": "https://api.launchpad.net/1.0/~damonl1"
        }, 
        {
            "content": "compute:get_all doesn't exist in nova policy anymore:\n\nhttps://docs.openstack.org/nova/latest/sample_policy.html\n\nSo this actually sounds like a Horizon bug.", 
            "date_created": "2017-07-13 18:13:48.281455+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "There is no compute:get_all in horizon's default nova_policy.json either:\n\nhttps://github.com/openstack/horizon/blob/master/openstack_dashboard/conf/nova_policy.json\n\nWhich version of Horizon are you using?", 
            "date_created": "2017-07-13 18:15:50.580022+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Horizon is hard-coded the old rule:\n\nhttps://github.com/openstack/horizon/blob/master/openstack_dashboard/dashboards/admin/instances/panel.py#L29", 
            "date_created": "2017-07-13 18:17:50.598230+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/483501", 
            "date_created": "2017-07-13 18:28:17.694305+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/483501\nCommitted: https://git.openstack.org/cgit/openstack/horizon/commit/?id=69c81b16e07b67ba0a0bc8e1f55049e7987c5b8c\nSubmitter: Jenkins\nBranch:    master\n\ncommit 69c81b16e07b67ba0a0bc8e1f55049e7987c5b8c\nAuthor: Rob Cresswell <email address hidden>\nDate:   Thu Jul 13 19:27:22 2017 +0100\n\n    Fix an incorrect policy rule in Admin > Instances\n    \n    Change-Id: I765ae0c36d19c88138fbea9545a2ca4791377ffb\n    Closes-Bug: #1703066\n", 
            "date_created": "2017-07-13 19:39:47.726750+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/ocata\nReview: https://review.openstack.org/483531", 
            "date_created": "2017-07-13 19:51:04.977274+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/483531\nCommitted: https://git.openstack.org/cgit/openstack/horizon/commit/?id=9aa0915eb85c6b12676b789741a6964d43a60e28\nSubmitter: Jenkins\nBranch:    stable/ocata\n\ncommit 9aa0915eb85c6b12676b789741a6964d43a60e28\nAuthor: Rob Cresswell <email address hidden>\nDate:   Thu Jul 13 19:27:22 2017 +0100\n\n    Fix an incorrect policy rule in Admin > Instances\n    \n    Change-Id: I765ae0c36d19c88138fbea9545a2ca4791377ffb\n    Closes-Bug: #1703066\n    (cherry picked from commit 69c81b16e07b67ba0a0bc8e1f55049e7987c5b8c)\n", 
            "date_created": "2017-07-18 16:24:52.324495+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Found open reviews for this bug in gerrit, setting to In Progress. \n\nreview: https://review.openstack.org/481443 in branch: master\n", 
            "date_created": "2017-07-24 14:48:01.791884+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "This issue was fixed in the openstack/horizon 12.0.0.0b3 development milestone.", 
            "date_created": "2017-07-27 20:57:54.988559+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Damon Li (<email address hidden>) on branch: master\nReview: https://review.openstack.org/481443", 
            "date_created": "2017-08-25 10:04:18.244300+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/horizon 11.0.4 release.", 
            "date_created": "2017-10-04 12:21:06.375476+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ]
}