{
    "status": "Fix Released", 
    "last_updated": "2017-06-11 22:33:56.295281+00:00", 
    "description": "I lanch an instance according to doc:https://docs.openstack.org/ocata/install-guide-rdo/launch-instance-selfservice.html; Dependce has been matched:\n\n\nopenstack flavor list\n+----+---------+-----+------+-----------+-------+-----------+\n| ID | Name    | RAM | Disk | Ephemeral | VCPUs | Is Public |\n+----+---------+-----+------+-----------+-------+-----------+\n| 0  | m1.nano |  64 |    1 |         0 |     1 | True      |\n+----+---------+-----+------+-----------+-------+-----------+\n\nEnvironment:\nopenstack-nova-common-15.0.3-2.el7.noarch\nStorage is local disk.\n\nBut I got the following exception,I'll be very appreceate if anyone can fix it.\n\n2017-06-09 18:11:34.384 2714 INFO nova.api.openstack.wsgi [req-3f03f365-939a-4f39-b3e9-486b85aaea18 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] HTTP \u5f02\u5e38\u629b\u51fa\uff1a\u4e91\u4e3b\u673a\u7c7b\u578b m1.nano \u6ca1\u6709\u627e\u5230\u3002\n2017-06-09 18:11:34.387 2714 INFO nova.osapi_compute.wsgi.server [req-3f03f365-939a-4f39-b3e9-486b85aaea18 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"GET /v2.1/flavors/m1.nano HTTP/1.1\" status: 404 len: 470 time: 0.0577080\n2017-06-09 18:11:34.442 2714 INFO nova.api.openstack.wsgi [req-135167cd-4698-4a92-82fd-3b6f3c74ed7d 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] HTTP \u5f02\u5e38\u629b\u51fa\uff1a\u4e91\u4e3b\u673a\u7c7b\u578b m1.nano \u6ca1\u6709\u627e\u5230\u3002\n2017-06-09 18:11:34.443 2714 INFO nova.osapi_compute.wsgi.server [req-135167cd-4698-4a92-82fd-3b6f3c74ed7d 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"GET /v2.1/flavors/m1.nano HTTP/1.1\" status: 404 len: 470 time: 0.0523901\n2017-06-09 18:11:34.494 2714 INFO nova.osapi_compute.wsgi.server [req-056f68e2-390d-4e08-84f2-026220dadd3e 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"GET /v2.1/flavors HTTP/1.1\" status: 200 len: 520 time: 0.0470800\n2017-06-09 18:11:34.537 2714 INFO nova.osapi_compute.wsgi.server [req-0f09f59e-950c-4913-944a-b04add664ed2 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"GET /v2.1/flavors/0 HTTP/1.1\" status: 200 len: 686 time: 0.0316770\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions [req-30bc50f8-ee53-487b-8194-2849c517e274 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] \u5728API\u65b9\u6cd5\u4e2d\u53d1\u751f\u672a\u9884\u6599\u7684\u5f02\u5e38\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 338, in wrapped\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 642, in create\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     **create_kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 154, in inner\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1613, in create\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1170, in _create_instance\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     image_id, boot_meta = self._get_image(context, image_href)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 806, in _get_image\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     image = self.image_api.get(context, image_href)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/api.py\", line 95, in get\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     show_deleted=show_deleted)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 468, in show\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     _reraise_translated_image_exception(image_id)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 1050, in _reraise_translated_image_exception\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     six.reraise(type(new_exc), new_exc, exc_trace)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 466, in show\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     image = self._client.call(context, 2, 'get', image_id)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 164, in call\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     version)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 149, in _create_onetime_client\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     self.api_servers = get_api_servers()\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 114, in get_api_servers\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     for api_server in CONF.glance.api_servers:\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions TypeError: 'NoneType' object is not iterable\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions\n2017-06-09 18:11:34.860 2714 INFO nova.api.openstack.wsgi [req-30bc50f8-ee53-487b-8194-2849c517e274 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] HTTP \u5f02\u5e38\u629b\u51fa\uff1a\u53d1\u751f\u610f\u5916 API \u9519\u8bef\u3002\u8bf7\u5728 http://bugs.launchpad.net/nova/ \u5904\u62a5\u544a\u6b64\u9519\u8bef\uff0c\u5e76\u4e14\u9644\u4e0a Nova API \u65e5\u5fd7\uff08\u5982\u679c\u53ef\u80fd\uff09\u3002\n<type 'exceptions.TypeError'>\n2017-06-09 18:11:34.861 2714 INFO nova.osapi_compute.wsgi.server [req-30bc50f8-ee53-487b-8194-2849c517e274 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"POST /v2.1/servers HTTP/1.1\" status: 500 len: 666 time: 0.0585129", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1696972", 
    "owner": "None", 
    "id": 1696972, 
    "index": 8159, 
    "openned": "2017-06-09 11:16:00.924566+00:00", 
    "created": "2017-06-09 11:16:00.924566+00:00", 
    "title": "host type 'm1.nano' not found when lanch instance", 
    "comments": [
        {
            "content": "I lanch an instance according to doc:https://docs.openstack.org/ocata/install-guide-rdo/launch-instance-selfservice.html; Dependce has been matched:\n\n\nopenstack flavor list\n+----+---------+-----+------+-----------+-------+-----------+\n| ID | Name    | RAM | Disk | Ephemeral | VCPUs | Is Public |\n+----+---------+-----+------+-----------+-------+-----------+\n| 0  | m1.nano |  64 |    1 |         0 |     1 | True      |\n+----+---------+-----+------+-----------+-------+-----------+\n\nEnvironment:\nopenstack-nova-common-15.0.3-2.el7.noarch\nStorage is local disk.\n\nBut I got the following exception,I'll be very appreceate if anyone can fix it.\n\n2017-06-09 18:11:34.384 2714 INFO nova.api.openstack.wsgi [req-3f03f365-939a-4f39-b3e9-486b85aaea18 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] HTTP \u5f02\u5e38\u629b\u51fa\uff1a\u4e91\u4e3b\u673a\u7c7b\u578b m1.nano \u6ca1\u6709\u627e\u5230\u3002\n2017-06-09 18:11:34.387 2714 INFO nova.osapi_compute.wsgi.server [req-3f03f365-939a-4f39-b3e9-486b85aaea18 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"GET /v2.1/flavors/m1.nano HTTP/1.1\" status: 404 len: 470 time: 0.0577080\n2017-06-09 18:11:34.442 2714 INFO nova.api.openstack.wsgi [req-135167cd-4698-4a92-82fd-3b6f3c74ed7d 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] HTTP \u5f02\u5e38\u629b\u51fa\uff1a\u4e91\u4e3b\u673a\u7c7b\u578b m1.nano \u6ca1\u6709\u627e\u5230\u3002\n2017-06-09 18:11:34.443 2714 INFO nova.osapi_compute.wsgi.server [req-135167cd-4698-4a92-82fd-3b6f3c74ed7d 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"GET /v2.1/flavors/m1.nano HTTP/1.1\" status: 404 len: 470 time: 0.0523901\n2017-06-09 18:11:34.494 2714 INFO nova.osapi_compute.wsgi.server [req-056f68e2-390d-4e08-84f2-026220dadd3e 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"GET /v2.1/flavors HTTP/1.1\" status: 200 len: 520 time: 0.0470800\n2017-06-09 18:11:34.537 2714 INFO nova.osapi_compute.wsgi.server [req-0f09f59e-950c-4913-944a-b04add664ed2 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"GET /v2.1/flavors/0 HTTP/1.1\" status: 200 len: 686 time: 0.0316770\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions [req-30bc50f8-ee53-487b-8194-2849c517e274 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] \u5728API\u65b9\u6cd5\u4e2d\u53d1\u751f\u672a\u9884\u6599\u7684\u5f02\u5e38\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py\", line 338, in wrapped\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py\", line 108, in wrapper\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py\", line 642, in create\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     **create_kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/hooks.py\", line 154, in inner\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1613, in create\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 1170, in _create_instance\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     image_id, boot_meta = self._get_image(context, image_href)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/compute/api.py\", line 806, in _get_image\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     image = self.image_api.get(context, image_href)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/api.py\", line 95, in get\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     show_deleted=show_deleted)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 468, in show\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     _reraise_translated_image_exception(image_id)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 1050, in _reraise_translated_image_exception\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     six.reraise(type(new_exc), new_exc, exc_trace)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 466, in show\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     image = self._client.call(context, 2, 'get', image_id)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 164, in call\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     version)\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 149, in _create_onetime_client\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     self.api_servers = get_api_servers()\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 114, in get_api_servers\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions     for api_server in CONF.glance.api_servers:\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions TypeError: 'NoneType' object is not iterable\n2017-06-09 18:11:34.858 2714 ERROR nova.api.openstack.extensions\n2017-06-09 18:11:34.860 2714 INFO nova.api.openstack.wsgi [req-30bc50f8-ee53-487b-8194-2849c517e274 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] HTTP \u5f02\u5e38\u629b\u51fa\uff1a\u53d1\u751f\u610f\u5916 API \u9519\u8bef\u3002\u8bf7\u5728 http://bugs.launchpad.net/nova/ \u5904\u62a5\u544a\u6b64\u9519\u8bef\uff0c\u5e76\u4e14\u9644\u4e0a Nova API \u65e5\u5fd7\uff08\u5982\u679c\u53ef\u80fd\uff09\u3002\n<type 'exceptions.TypeError'>\n2017-06-09 18:11:34.861 2714 INFO nova.osapi_compute.wsgi.server [req-30bc50f8-ee53-487b-8194-2849c517e274 516cf2cbbe7a46cebee2c50a7ff0764c 0bd7f00e71f8494bb227621f058d926d - default default] 10.0.2.4 \"POST /v2.1/servers HTTP/1.1\" status: 500 len: 666 time: 0.0585129", 
            "date_created": "2017-06-09 11:16:00.924566+00:00", 
            "author": "https://api.launchpad.net/1.0/~xiaotie"
        }, 
        {
            "content": "As said in the exception, looks like your value for [glance]/api_servers option is None.\nCould you please verify this configuration option ?", 
            "date_created": "2017-06-09 13:05:21.624520+00:00", 
            "author": "https://api.launchpad.net/1.0/~sylvain-bauza"
        }, 
        {
            "content": "Related fix proposed to branch: master\nReview: https://review.openstack.org/472685", 
            "date_created": "2017-06-09 13:44:00.657062+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Thanks bauza,this post fix the problem, and I saw docs has been updated.", 
            "date_created": "2017-06-11 22:33:55.055143+00:00", 
            "author": "https://api.launchpad.net/1.0/~xiaotie"
        }
    ], 
    "closed": "2017-06-11 22:32:58.859178+00:00"
}