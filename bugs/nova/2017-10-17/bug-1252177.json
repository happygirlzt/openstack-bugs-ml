{
    "status": "Fix Released", 
    "last_updated": "2014-04-17 09:02:23.306546+00:00", 
    "description": "We create aggregate without availability-zone by nova-client, the log as below:\nREQ: curl -i http://cloudcontroller:8774/v2/5fbc0de7642a47729bfdfa7cb17166e2/os-aggregates -X POST -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: MIILpgYJKoZIhvcNAQcCoIILlzCCC5MCAQExCTAHBgUrDgMCGjCCCn8GCSqGSIb3DQEHAaCCCnAEggpseyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0xMS0xOFQwNzo0OToxNS4xMDU4MjQiLCAiZXhwaXJlcyI6ICIyMDEzLTExLTE5VDA3OjQ5OjE1WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogbnVsbCwgImVuYWJsZWQiOiB0cnVlLCAiaWQiOiAiNWZiYzBkZTc2NDJhNDc3MjliZmRmYTdjYjE3MTY2ZTIiLCAibmFtZSI6ICJhZG1pbiJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo4Nzc0L3YyLzVmYmMwZGU3NjQyYTQ3NzI5YmZkZmE3Y2IxNzE2NmUyIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo4Nzc0L3YyLzVmYmMwZGU3NjQyYTQ3NzI5YmZkZmE3Y2IxNzE2NmUyIiwgImlkIjogIjc4ZjIxZjRjYzM4MjQ1N2VhNDMzNWE2ODEyNTY0NzhjIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjg3NzQvdjIvNWZiYzBkZTc2NDJhNDc3MjliZmRmYTdjYjE3MTY2ZTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjk2OTYvIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo5Njk2LyIsICJpZCI6ICIzZWQyNjhlNTJmZWU0MTRmYjNhNjU5YjllNTY3ZTM4NyIsICJwdWJsaWNVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo5Njk2LyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJuZXR3b3JrIiwgIm5hbWUiOiAicXVhbnR1bSJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6MzMzMyIsICJpZCI6ICIzYjA0ZGQ5OWIwNWI0MTBjOWE2ODk1MDkwN2ZhMTQxYSIsICJwdWJsaWNVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjozMzMzIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogInMzIiwgIm5hbWUiOiAiczMifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjkyOTIiLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjkyOTIiLCAiaWQiOiAiODE5ZWY0YzI2ZWIwNDY2OGJhMjFlMzFiNzYxZTJiZjciLCAicHVibGljVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6OTI5MiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJpbWFnZSIsICJuYW1lIjogImdsYW5jZSJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6ODc3Ni92MS81ZmJjMGRlNzY0MmE0NzcyOWJmZGZhN2NiMTcxNjZlMiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6ODc3Ni92MS81ZmJjMGRlNzY0MmE0NzcyOWJmZGZhN2NiMTcxNjZlMiIsICJpZCI6ICIxNGY5ODRjYjJlMmI0NTM0ODc0MTQ2ZjE0NmRjOGYxYSIsICJwdWJsaWNVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo4Nzc2L3YxLzVmYmMwZGU3NjQyYTQ3NzI5YmZkZmE3Y2IxNzE2NmUyIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogInZvbHVtZSIsICJuYW1lIjogImNpbmRlciJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6ODc3My9zZXJ2aWNlcy9DbG91ZCIsICJpZCI6ICI3ODBiZGJlMDY0OTM0OWY3YjQ5OGMxM2ZjMmMxNjk4OCIsICJwdWJsaWNVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo4NzczL3NlcnZpY2VzL0Nsb3VkIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogImVjMiIsICJuYW1lIjogImVjMiJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6NTAwMC92Mi4wIiwgImlkIjogIjRhZGE2MTc3NTdjODQxNjdhNGUyZDU4NTA3NDQ5ZTZiIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjUwMDAvdjIuMCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJpZGVudGl0eSIsICJuYW1lIjogImtleXN0b25lIn1dLCAidXNlciI6IHsidXNlcm5hbWUiOiAiYWRtaW4iLCAicm9sZXNfbGlua3MiOiBbXSwgImlkIjogImIzYWE0ZDJkNjVlNTQwMjI5Njk4OTRhMzQxMDE4ODg1IiwgInJvbGVzIjogW3sibmFtZSI6ICJhZG1pbiJ9XSwgIm5hbWUiOiAiYWRtaW4ifSwgIm1ldGFkYXRhIjogeyJpc19hZG1pbiI6IDAsICJyb2xlcyI6IFsiMWVhYThhZmY2ZTZlNGI5Yjg2ZWQ2YWFiMjE3ZDFiYTIiXX19fTGB-zCB-AIBATBcMFcxCzAJBgNVBAYTAlVTMQ4wDAYDVQQIEwVVbnNldDEOMAwGA1UEBxMFVW5zZXQxDjAMBgNVBAoTBVVuc2V0MRgwFgYDVQQDEw93d3cuZXhhbXBsZS5jb20CAQEwBwYFKw4DAhowDQYJKoZIhvcNAQEBBQAEgYBNymYJ8-+Jn7i39Veti7alzrb3U9PKlhiZhc2TEnF5CXxHlRRZaM816GnlimgnVNTxYtft7ey1eUXGq2ZpA-q49AKPuYASDXlk-pobOFy6Vg+f-+CqA-+xdRJcrt4GO-054a4GLiDopPV9wHMn4o5UYIARJbKUydoqgBRxRbAfWg==\" -d '{\"aggregate\": {\"name\": \"name1\", \"availability_zone\": null}}'\n\nRESP: [200] CaseInsensitiveDict({'date': 'Mon, 18 Nov 2013 07:49:15 GMT', 'content-length': '170', 'content-type': 'application/json', 'x-compute-request-id': 'req-f6b11fd5-0602-43d4-b878-a335eb9ff401'})\nRESP BODY: {\"aggregate\": {\"name\": \"name1\", \"availability_zone\": null, \"deleted\": false, \"created_at\": \"2013-11-18T07:49:15.000000\", \"updated_at\": null, \"deleted_at\": null, \"id\": 1}}\n\n\nIt means we can aggregate without availability-zone, but we still need create with argument \"availability_zone\": null.\n\nWe can make it optional in the request.", 
    "tags": [
        "api"
    ], 
    "importance": "Undecided", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/1252177", 
    "owner": "https://api.launchpad.net/1.0/~xuhj", 
    "id": 1252177, 
    "index": 5558, 
    "openned": "2013-11-18 07:54:01.409129+00:00", 
    "created": "2013-11-18 07:54:01.409129+00:00", 
    "title": "The argument availability_zone of create aggregate should be optional", 
    "comments": [
        {
            "content": "We create aggregate without availability-zone by nova-client, the log as below:\nREQ: curl -i http://cloudcontroller:8774/v2/5fbc0de7642a47729bfdfa7cb17166e2/os-aggregates -X POST -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: MIILpgYJKoZIhvcNAQcCoIILlzCCC5MCAQExCTAHBgUrDgMCGjCCCn8GCSqGSIb3DQEHAaCCCnAEggpseyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0xMS0xOFQwNzo0OToxNS4xMDU4MjQiLCAiZXhwaXJlcyI6ICIyMDEzLTExLTE5VDA3OjQ5OjE1WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogbnVsbCwgImVuYWJsZWQiOiB0cnVlLCAiaWQiOiAiNWZiYzBkZTc2NDJhNDc3MjliZmRmYTdjYjE3MTY2ZTIiLCAibmFtZSI6ICJhZG1pbiJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo4Nzc0L3YyLzVmYmMwZGU3NjQyYTQ3NzI5YmZkZmE3Y2IxNzE2NmUyIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo4Nzc0L3YyLzVmYmMwZGU3NjQyYTQ3NzI5YmZkZmE3Y2IxNzE2NmUyIiwgImlkIjogIjc4ZjIxZjRjYzM4MjQ1N2VhNDMzNWE2ODEyNTY0NzhjIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjg3NzQvdjIvNWZiYzBkZTc2NDJhNDc3MjliZmRmYTdjYjE3MTY2ZTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjk2OTYvIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo5Njk2LyIsICJpZCI6ICIzZWQyNjhlNTJmZWU0MTRmYjNhNjU5YjllNTY3ZTM4NyIsICJwdWJsaWNVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo5Njk2LyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJuZXR3b3JrIiwgIm5hbWUiOiAicXVhbnR1bSJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6MzMzMyIsICJpZCI6ICIzYjA0ZGQ5OWIwNWI0MTBjOWE2ODk1MDkwN2ZhMTQxYSIsICJwdWJsaWNVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjozMzMzIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogInMzIiwgIm5hbWUiOiAiczMifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjkyOTIiLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjkyOTIiLCAiaWQiOiAiODE5ZWY0YzI2ZWIwNDY2OGJhMjFlMzFiNzYxZTJiZjciLCAicHVibGljVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6OTI5MiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJpbWFnZSIsICJuYW1lIjogImdsYW5jZSJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6ODc3Ni92MS81ZmJjMGRlNzY0MmE0NzcyOWJmZGZhN2NiMTcxNjZlMiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6ODc3Ni92MS81ZmJjMGRlNzY0MmE0NzcyOWJmZGZhN2NiMTcxNjZlMiIsICJpZCI6ICIxNGY5ODRjYjJlMmI0NTM0ODc0MTQ2ZjE0NmRjOGYxYSIsICJwdWJsaWNVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo4Nzc2L3YxLzVmYmMwZGU3NjQyYTQ3NzI5YmZkZmE3Y2IxNzE2NmUyIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogInZvbHVtZSIsICJuYW1lIjogImNpbmRlciJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6ODc3My9zZXJ2aWNlcy9DbG91ZCIsICJpZCI6ICI3ODBiZGJlMDY0OTM0OWY3YjQ5OGMxM2ZjMmMxNjk4OCIsICJwdWJsaWNVUkwiOiAiaHR0cDovL2Nsb3VkY29udHJvbGxlcjo4NzczL3NlcnZpY2VzL0Nsb3VkIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogImVjMiIsICJuYW1lIjogImVjMiJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly9jbG91ZGNvbnRyb2xsZXI6NTAwMC92Mi4wIiwgImlkIjogIjRhZGE2MTc3NTdjODQxNjdhNGUyZDU4NTA3NDQ5ZTZiIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vY2xvdWRjb250cm9sbGVyOjUwMDAvdjIuMCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJpZGVudGl0eSIsICJuYW1lIjogImtleXN0b25lIn1dLCAidXNlciI6IHsidXNlcm5hbWUiOiAiYWRtaW4iLCAicm9sZXNfbGlua3MiOiBbXSwgImlkIjogImIzYWE0ZDJkNjVlNTQwMjI5Njk4OTRhMzQxMDE4ODg1IiwgInJvbGVzIjogW3sibmFtZSI6ICJhZG1pbiJ9XSwgIm5hbWUiOiAiYWRtaW4ifSwgIm1ldGFkYXRhIjogeyJpc19hZG1pbiI6IDAsICJyb2xlcyI6IFsiMWVhYThhZmY2ZTZlNGI5Yjg2ZWQ2YWFiMjE3ZDFiYTIiXX19fTGB-zCB-AIBATBcMFcxCzAJBgNVBAYTAlVTMQ4wDAYDVQQIEwVVbnNldDEOMAwGA1UEBxMFVW5zZXQxDjAMBgNVBAoTBVVuc2V0MRgwFgYDVQQDEw93d3cuZXhhbXBsZS5jb20CAQEwBwYFKw4DAhowDQYJKoZIhvcNAQEBBQAEgYBNymYJ8-+Jn7i39Veti7alzrb3U9PKlhiZhc2TEnF5CXxHlRRZaM816GnlimgnVNTxYtft7ey1eUXGq2ZpA-q49AKPuYASDXlk-pobOFy6Vg+f-+CqA-+xdRJcrt4GO-054a4GLiDopPV9wHMn4o5UYIARJbKUydoqgBRxRbAfWg==\" -d '{\"aggregate\": {\"name\": \"name1\", \"availability_zone\": null}}'\n\nRESP: [200] CaseInsensitiveDict({'date': 'Mon, 18 Nov 2013 07:49:15 GMT', 'content-length': '170', 'content-type': 'application/json', 'x-compute-request-id': 'req-f6b11fd5-0602-43d4-b878-a335eb9ff401'})\nRESP BODY: {\"aggregate\": {\"name\": \"name1\", \"availability_zone\": null, \"deleted\": false, \"created_at\": \"2013-11-18T07:49:15.000000\", \"updated_at\": null, \"deleted_at\": null, \"id\": 1}}\n\n\nIt means we can aggregate without availability-zone, but we still need create with argument \"availability_zone\": null.\n\nWe can make it optional in the request.", 
            "date_created": "2013-11-18 07:54:01.409129+00:00", 
            "author": "https://api.launchpad.net/1.0/~xuhj"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/43061\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=eb7d75457f6def06dfef62b0590502e05e7602f5\nSubmitter: Jenkins\nBranch:    master\n\ncommit eb7d75457f6def06dfef62b0590502e05e7602f5\nAuthor: He Jie Xu <email address hidden>\nDate:   Wed Aug 21 14:27:42 2013 +0800\n\n    Make availability_zone optional in create for aggregates\n    \n    As the novaclient's help message, we can create aggregate without\n    availability_zone. But the api didn't allow it, so this patch make\n    it optional.\n    \n    Closes-bug: 1252177\n    \n    DocImpact\n    \n    Change-Id: I64629d71648900bf5be554d9afa4ae47d6b651d0\n", 
            "date_created": "2014-01-22 11:24:47.960085+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2014-01-22 16:19:57.241493+00:00"
}