{
    "status": "Invalid", 
    "last_updated": "2012-09-18 10:11:57.247391+00:00", 
    "description": "Description:\n\nGET /limits is not returning \"Rate Limits\" in the Response body.\n\nExpected result:\n\nBoth Absolute limits and Rate Limits details should be returned in the response body of \"GET /limits\" call.\n\nActual Result:\nOnly Absolute Limits details are returned.\n\nLOG\n---------\n\n\n[umamaheshk@HPOpenstackVM16 ~/source/csbu-qa-dev/nova/tests]$./apitool.py GET limits\nREQ: curl -i http://15.184.83.251:5000/v2.0/tokens -X POST -H \"Content-Type: application/json\" -H \"User-Agent: python-novaclient\"\n\nREQ BODY: {\"auth\": {\"tenantName\": \"demo\", \"passwordCredentials\": {\"username\": \"ps_demo\", \"password\": \"ps@123\"}}}\n\nREQ BODY: {\"auth\": {\"tenantName\": \"demo\", \"passwordCredentials\": {\"username\": \"ps_demo\", \"password\": \"ps@123\"}}}\n\nRESP:{'date': 'Fri, 03 Aug 2012 13:20:42 GMT', 'vary': 'X-Auth-Token', 'content-length': '2488', 'status': '200', 'content-type': 'application/json'} {\"access\": {\"token\": {\"expires\": \"2012-08-04T13:20:42Z\", \"id\": \"1d9f234892e541b4b78d6181066435a1\", \"tenant\": {\"enabled\": true, \"id\": \"9f391448c51d4ac5bd12b937de085abd\", \"name\": \"demo\", \"description\": null}}, \"serviceCatalog\": [{\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd\", \"internalURL\": \"http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd\"}], \"endpoints_links\": [], \"type\": \"compute\", \"name\": \"Compute Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:3333\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:3333\", \"internalURL\": \"http://15.184.83.251:3333\"}], \"endpoints_links\": [], \"type\": \"s3\", \"name\": \"S3 Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:9292\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:9292\", \"internalURL\": \"http://15.184.83.251:9292\"}], \"endpoints_links\": [], \"type\": \"image\", \"name\": \"Image Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:8776/v1/9f391448c51d4ac5bd12b937de085abd\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:8776/v1/9f391448c51d4ac5bd12b937de085abd\", \"internalURL\": \"http://15.184.83.251:8776/v1/9f391448c51d4ac5bd12b937de085abd\"}], \"endpoints_links\": [], \"type\": \"volume\", \"name\": \"Volume Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:8773/services/Admin\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:8773/services/Cloud\", \"internalURL\": \"http://15.184.83.251:8773/services/Cloud\"}], \"endpoints_links\": [], \"type\": \"ec2\", \"name\": \"EC2 Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:8080/\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:8080/v1/AUTH_9f391448c51d4ac5bd12b937de085abd\", \"internalURL\": \"http://15.184.83.251:8080/v1/AUTH_9f391448c51d4ac5bd12b937de085abd\"}], \"endpoints_links\": [], \"type\": \"object-store\", \"name\": \"Swift Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:35357/v2.0\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:5000/v2.0\", \"internalURL\": \"http://15.184.83.251:5000/v2.0\"}], \"endpoints_links\": [], \"type\": \"identity\", \"name\": \"Identity Service\"}], \"user\": {\"username\": \"ps_demo\", \"roles_links\": [], \"id\": \"a5d7d2a826f54ec881970251f53c4c2f\", \"roles\": [{\"id\": \"e99fe38860154d09a0ade1ac031c9b0f\", \"name\": \"anotherrole\"}, {\"id\": \"1618d5e30cd6497786a94c9e1c2301c7\", \"name\": \"Member\"}], \"name\": \"ps_demo\"}}}\n\nREQ: curl -i http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd/limits?fresh=1344018998.86 -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"X-Auth-Token: 1d9f234892e541b4b78d6181066435a1\"\n\nREQ: curl -i http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd/limits?fresh=1344018998.86 -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"X-Auth-Token: 1d9f234892e541b4b78d6181066435a1\"\n\nRESP:{'status': '200', 'content-length': '484', 'content-location': u'http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd/limits?fresh=1344018998.86', 'x-compute-request-id': 'req-a1ed0b71-9c08-4528-82d7-a8f2e81ef32f', 'date': 'Fri, 03 Aug 2012 13:20:44 GMT', 'content-type': 'application/json'} {\"limits\": {\"rate\": [], \"absolute\": {\"maxServerMeta\": 128, \"maxTotalInstances\": 10, \"maxPersonality\": 5, \"maxImageMeta\": 128, \"maxPersonalitySize\": 10240, \"totalVolumesUsed\": 0, \"totalCoresUsed\": 0, \"maxTotalKeypairs\": 100, \"totalRAMUsed\": 0, \"maxTotalVolumes\": 10, \"totalInstancesUsed\": 0, \"totalVolumeGigabytesUsed\": 0, \"maxTotalCores\": 20, \"totalSecurityGroupsUsed\": 1, \"maxTotalFloatingIps\": 10, \"totalKeyPairsUsed\": 0, \"maxTotalVolumeGigabytes\": 1000, \"maxTotalRAMSize\": 51200}}}\n\nRESP:{'status': '200', 'content-length': '484', 'content-location': u'http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd/limits?fresh=1344018998.86', 'x-compute-request-id': 'req-a1ed0b71-9c08-4528-82d7-a8f2e81ef32f', 'date': 'Fri, 03 Aug 2012 13:20:44 GMT', 'content-type': 'application/json'} {\"limits\": {\"rate\": [], \"absolute\": {\"maxServerMeta\": 128, \"maxTotalInstances\": 10, \"maxPersonality\": 5, \"maxImageMeta\": 128, \"maxPersonalitySize\": 10240, \"totalVolumesUsed\": 0, \"totalCoresUsed\": 0, \"maxTotalKeypairs\": 100, \"totalRAMUsed\": 0, \"maxTotalVolumes\": 10, \"totalInstancesUsed\": 0, \"totalVolumeGigabytesUsed\": 0, \"maxTotalCores\": 20, \"totalSecurityGroupsUsed\": 1, \"maxTotalFloatingIps\": 10, \"totalKeyPairsUsed\": 0, \"maxTotalVolumeGigabytes\": 1000, \"maxTotalRAMSize\": 51200}}}\n\n--- START OF RESPONSE ---\n{   u'limits': {   u'absolute': {   u'maxImageMeta': 128,\n                                    u'maxPersonality': 5,\n                                    u'maxPersonalitySize': 10240,\n                                    u'maxServerMeta': 128,\n                                    u'maxTotalCores': 20,\n                                    u'maxTotalFloatingIps': 10,\n                                    u'maxTotalInstances': 10,\n                                    u'maxTotalKeypairs': 100,\n                                    u'maxTotalRAMSize': 51200,\n                                    u'maxTotalVolumeGigabytes': 1000,\n                                    u'maxTotalVolumes': 10,\n                                    u'totalCoresUsed': 0,\n                                    u'totalInstancesUsed': 0,\n                                    u'totalKeyPairsUsed': 0,\n                                    u'totalRAMUsed': 0,\n                                    u'totalSecurityGroupsUsed': 1,\n                                    u'totalVolumeGigabytesUsed': 0,\n                                    u'totalVolumesUsed': 0},\n                   u'rate': []}}\n--- ENF OF RESPONSE ---\n[umamaheshk@HPOpenstackVM16 ~/source/csbu-qa-dev/nova/tests]$", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1032628", 
    "owner": "None", 
    "id": 1032628, 
    "index": 4276, 
    "openned": "2012-08-03 13:21:13.316497+00:00", 
    "created": "2012-08-03 13:21:13.316497+00:00", 
    "title": "GET Limits extension is not returning Rate Limit details", 
    "comments": [
        {
            "content": "Description:\n\nGET /limits is not returning \"Rate Limits\" in the Response body.\n\nExpected result:\n\nBoth Absolute limits and Rate Limits details should be returned in the response body of \"GET /limits\" call.\n\nActual Result:\nOnly Absolute Limits details are returned.\n\nLOG\n---------\n\n\n[umamaheshk@HPOpenstackVM16 ~/source/csbu-qa-dev/nova/tests]$./apitool.py GET limits\nREQ: curl -i http://15.184.83.251:5000/v2.0/tokens -X POST -H \"Content-Type: application/json\" -H \"User-Agent: python-novaclient\"\n\nREQ BODY: {\"auth\": {\"tenantName\": \"demo\", \"passwordCredentials\": {\"username\": \"ps_demo\", \"password\": \"ps@123\"}}}\n\nREQ BODY: {\"auth\": {\"tenantName\": \"demo\", \"passwordCredentials\": {\"username\": \"ps_demo\", \"password\": \"ps@123\"}}}\n\nRESP:{'date': 'Fri, 03 Aug 2012 13:20:42 GMT', 'vary': 'X-Auth-Token', 'content-length': '2488', 'status': '200', 'content-type': 'application/json'} {\"access\": {\"token\": {\"expires\": \"2012-08-04T13:20:42Z\", \"id\": \"1d9f234892e541b4b78d6181066435a1\", \"tenant\": {\"enabled\": true, \"id\": \"9f391448c51d4ac5bd12b937de085abd\", \"name\": \"demo\", \"description\": null}}, \"serviceCatalog\": [{\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd\", \"internalURL\": \"http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd\"}], \"endpoints_links\": [], \"type\": \"compute\", \"name\": \"Compute Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:3333\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:3333\", \"internalURL\": \"http://15.184.83.251:3333\"}], \"endpoints_links\": [], \"type\": \"s3\", \"name\": \"S3 Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:9292\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:9292\", \"internalURL\": \"http://15.184.83.251:9292\"}], \"endpoints_links\": [], \"type\": \"image\", \"name\": \"Image Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:8776/v1/9f391448c51d4ac5bd12b937de085abd\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:8776/v1/9f391448c51d4ac5bd12b937de085abd\", \"internalURL\": \"http://15.184.83.251:8776/v1/9f391448c51d4ac5bd12b937de085abd\"}], \"endpoints_links\": [], \"type\": \"volume\", \"name\": \"Volume Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:8773/services/Admin\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:8773/services/Cloud\", \"internalURL\": \"http://15.184.83.251:8773/services/Cloud\"}], \"endpoints_links\": [], \"type\": \"ec2\", \"name\": \"EC2 Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:8080/\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:8080/v1/AUTH_9f391448c51d4ac5bd12b937de085abd\", \"internalURL\": \"http://15.184.83.251:8080/v1/AUTH_9f391448c51d4ac5bd12b937de085abd\"}], \"endpoints_links\": [], \"type\": \"object-store\", \"name\": \"Swift Service\"}, {\"endpoints\": [{\"adminURL\": \"http://15.184.83.251:35357/v2.0\", \"region\": \"RegionOne\", \"publicURL\": \"http://15.184.83.251:5000/v2.0\", \"internalURL\": \"http://15.184.83.251:5000/v2.0\"}], \"endpoints_links\": [], \"type\": \"identity\", \"name\": \"Identity Service\"}], \"user\": {\"username\": \"ps_demo\", \"roles_links\": [], \"id\": \"a5d7d2a826f54ec881970251f53c4c2f\", \"roles\": [{\"id\": \"e99fe38860154d09a0ade1ac031c9b0f\", \"name\": \"anotherrole\"}, {\"id\": \"1618d5e30cd6497786a94c9e1c2301c7\", \"name\": \"Member\"}], \"name\": \"ps_demo\"}}}\n\nREQ: curl -i http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd/limits?fresh=1344018998.86 -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"X-Auth-Token: 1d9f234892e541b4b78d6181066435a1\"\n\nREQ: curl -i http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd/limits?fresh=1344018998.86 -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"X-Auth-Token: 1d9f234892e541b4b78d6181066435a1\"\n\nRESP:{'status': '200', 'content-length': '484', 'content-location': u'http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd/limits?fresh=1344018998.86', 'x-compute-request-id': 'req-a1ed0b71-9c08-4528-82d7-a8f2e81ef32f', 'date': 'Fri, 03 Aug 2012 13:20:44 GMT', 'content-type': 'application/json'} {\"limits\": {\"rate\": [], \"absolute\": {\"maxServerMeta\": 128, \"maxTotalInstances\": 10, \"maxPersonality\": 5, \"maxImageMeta\": 128, \"maxPersonalitySize\": 10240, \"totalVolumesUsed\": 0, \"totalCoresUsed\": 0, \"maxTotalKeypairs\": 100, \"totalRAMUsed\": 0, \"maxTotalVolumes\": 10, \"totalInstancesUsed\": 0, \"totalVolumeGigabytesUsed\": 0, \"maxTotalCores\": 20, \"totalSecurityGroupsUsed\": 1, \"maxTotalFloatingIps\": 10, \"totalKeyPairsUsed\": 0, \"maxTotalVolumeGigabytes\": 1000, \"maxTotalRAMSize\": 51200}}}\n\nRESP:{'status': '200', 'content-length': '484', 'content-location': u'http://15.184.83.251:8774/v2/9f391448c51d4ac5bd12b937de085abd/limits?fresh=1344018998.86', 'x-compute-request-id': 'req-a1ed0b71-9c08-4528-82d7-a8f2e81ef32f', 'date': 'Fri, 03 Aug 2012 13:20:44 GMT', 'content-type': 'application/json'} {\"limits\": {\"rate\": [], \"absolute\": {\"maxServerMeta\": 128, \"maxTotalInstances\": 10, \"maxPersonality\": 5, \"maxImageMeta\": 128, \"maxPersonalitySize\": 10240, \"totalVolumesUsed\": 0, \"totalCoresUsed\": 0, \"maxTotalKeypairs\": 100, \"totalRAMUsed\": 0, \"maxTotalVolumes\": 10, \"totalInstancesUsed\": 0, \"totalVolumeGigabytesUsed\": 0, \"maxTotalCores\": 20, \"totalSecurityGroupsUsed\": 1, \"maxTotalFloatingIps\": 10, \"totalKeyPairsUsed\": 0, \"maxTotalVolumeGigabytes\": 1000, \"maxTotalRAMSize\": 51200}}}\n\n--- START OF RESPONSE ---\n{   u'limits': {   u'absolute': {   u'maxImageMeta': 128,\n                                    u'maxPersonality': 5,\n                                    u'maxPersonalitySize': 10240,\n                                    u'maxServerMeta': 128,\n                                    u'maxTotalCores': 20,\n                                    u'maxTotalFloatingIps': 10,\n                                    u'maxTotalInstances': 10,\n                                    u'maxTotalKeypairs': 100,\n                                    u'maxTotalRAMSize': 51200,\n                                    u'maxTotalVolumeGigabytes': 1000,\n                                    u'maxTotalVolumes': 10,\n                                    u'totalCoresUsed': 0,\n                                    u'totalInstancesUsed': 0,\n                                    u'totalKeyPairsUsed': 0,\n                                    u'totalRAMUsed': 0,\n                                    u'totalSecurityGroupsUsed': 1,\n                                    u'totalVolumeGigabytesUsed': 0,\n                                    u'totalVolumesUsed': 0},\n                   u'rate': []}}\n--- ENF OF RESPONSE ---\n[umamaheshk@HPOpenstackVM16 ~/source/csbu-qa-dev/nova/tests]$", 
            "date_created": "2012-08-03 13:21:13.316497+00:00", 
            "author": "https://api.launchpad.net/1.0/~rajalakshmi-ganesan"
        }, 
        {
            "content": "I am getting rate limit details using devstack on current trunk, is this valid or does your user just not have any rate limits somehow?", 
            "date_created": "2012-08-09 19:14:58.271418+00:00", 
            "author": "https://api.launchpad.net/1.0/~alex-meade"
        }, 
        {
            "content": "Seems to work fine for me too.  Any more details Rajalakshmi?\n\n  $> curl -i http://192.168.122.253:8774/v2/d1863861b00f431c8907f495344b9e60/limits -X GET -H \"X-Auth-Project-Id: demo\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: 27fa43221eea44c3aa42d6507bb5009c\" 2>&1 | grep '^{' | python -m json.tool\n  {\n    \"limits\": {\n        \"absolute\": {\n            ....\n        }, \n        \"rate\": [\n            {\n                \"limit\": [\n                    {\n                        \"next-available\": \"2012-08-22T20:15:08Z\", \n                        \"remaining\": 9, \n                        \"unit\": \"MINUTE\", \n                        \"value\": 10, \n                        \"verb\": \"POST\"\n                    }, \n                   ...\n                ], \n                \"regex\": \".*\", \n                \"uri\": \"*\"\n\n", 
            "date_created": "2012-08-22 20:28:44.921240+00:00", 
            "author": "https://api.launchpad.net/1.0/~markmc"
        }, 
        {
            "content": "Hi Meade/McLoughlin,\n\nYes you are right. Rate Limits was disabled in the environment where I encountered this. Thus GET /limits did not return \"Rate Limits\" in the Response body.\n\nThanks your your inputs.\n", 
            "date_created": "2012-09-18 10:11:56.553776+00:00", 
            "author": "https://api.launchpad.net/1.0/~rajalakshmi-ganesan"
        }
    ], 
    "closed": "2012-09-18 10:07:06.207773+00:00"
}