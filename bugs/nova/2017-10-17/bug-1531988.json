{
    "status": "Fix Released", 
    "last_updated": "2016-04-05 16:32:00.042545+00:00", 
    "description": "Failures like this:\n\nhttp://logs.openstack.org/26/224726/16/gate/gate-nova-python34/1dda5ee/console.html#_2016-01-07_18_17_49_116\n\n2016-01-07 18:17:49.115 | nova.tests.unit.virt.vmwareapi.test_configdrive.ConfigDriveTestCase.test_create_vm_without_config_drive\n2016-01-07 18:17:49.115 | -------------------------------------------------------------------------------------------------------\n2016-01-07 18:17:49.115 | \n2016-01-07 18:17:49.115 | Captured traceback:\n2016-01-07 18:17:49.115 | ~~~~~~~~~~~~~~~~~~~\n2016-01-07 18:17:49.115 |     b'Traceback (most recent call last):'\n2016-01-07 18:17:49.115 |     b'  File \"/home/jenkins/workspace/gate-nova-python34/.tox/py34/lib/python3.4/site-packages/mock/mock.py\", line 1305, in patched'\n2016-01-07 18:17:49.115 |     b'    return func(*args, **keywargs)'\n2016-01-07 18:17:49.115 |     b'  File \"/home/jenkins/workspace/gate-nova-python34/nova/tests/unit/virt/vmwareapi/test_configdrive.py\", line 89, in setUp'\n2016-01-07 18:17:49.116 |     b'    metadata = image_service.show(context, image_id)'\n2016-01-07 18:17:49.116 |     b'  File \"/home/jenkins/workspace/gate-nova-python34/nova/tests/unit/image/fake.py\", line 184, in show'\n2016-01-07 18:17:49.116 |     b'    raise exception.ImageNotFound(image_id=image_id)'\n2016-01-07 18:17:49.116 |     b'nova.exception.ImageNotFound: Image 70a599e0-31e7-49b7-b260-868f441e862b could not be found.'\n2016-01-07 18:17:49.116 |     b''\n2016-01-07 18:17:49.116 | \n2016-01-07 18:17:49.116 | Captured pythonlogging:\n2016-01-07 18:17:49.116 | ~~~~~~~~~~~~~~~~~~~~~~~\n2016-01-07 18:17:49.116 |     b'2016-01-07 18:02:26,578 INFO [oslo_vmware.api] Successfully established new session; session ID is 3818e.'\n2016-01-07 18:17:49.116 |     b'2016-01-07 18:02:26,579 INFO [nova.virt.vmwareapi.driver] VMware vCenter version: 5.1.0'\n2016-01-07 18:17:49.116 |     b'2016-01-07 18:02:26,587 WARNING [nova.tests.unit.image.fake] Unable to find image id 70a599e0-31e7-49b7-b260-868f441e862b.  Have images: {}'\n2016-01-07 18:17:49.116 |     b''\n\nHave been showing up a lot recently in the py34 job for nova:\n\nhttp://logstash.openstack.org/#dashboard/file/logstash.json?query=message%3A%5C%22b'%20%20%20%20raise%20exception.ImageNotFound(image_id%3Dimage_id)'%5C%22%20AND%20tags%3A%5C%22console%5C%22%20AND%20build_name%3A%5C%22gate-nova-python34%5C%22\n\nA lot of them were in the vmwareapi driver tests which dims blacklisted for py34 yesterday:\n\nhttps://review.openstack.org/#/c/264368/\n\nBut we're still hitting them.\n\nI have a change up to stop using the stubs.Set (mox) calls with the fake image service stub out code here:\n\nhttps://review.openstack.org/#/c/264393/\n\nThis bug is for tracking those failures in elastic-recheck so we can get them off the uncategorized bugs page.", 
    "tags": [
        "mox", 
        "py34", 
        "testing"
    ], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1531988", 
    "owner": "https://api.launchpad.net/1.0/~mriedem", 
    "id": 1531988, 
    "index": 1860, 
    "openned": "2016-01-07 20:48:58.209061+00:00", 
    "created": "2016-01-07 20:48:58.209061+00:00", 
    "title": "py34 tests that use the stubbed out fake image service race fail a lot", 
    "comments": [
        {
            "content": "Failures like this:\n\nhttp://logs.openstack.org/26/224726/16/gate/gate-nova-python34/1dda5ee/console.html#_2016-01-07_18_17_49_116\n\n2016-01-07 18:17:49.115 | nova.tests.unit.virt.vmwareapi.test_configdrive.ConfigDriveTestCase.test_create_vm_without_config_drive\n2016-01-07 18:17:49.115 | -------------------------------------------------------------------------------------------------------\n2016-01-07 18:17:49.115 | \n2016-01-07 18:17:49.115 | Captured traceback:\n2016-01-07 18:17:49.115 | ~~~~~~~~~~~~~~~~~~~\n2016-01-07 18:17:49.115 |     b'Traceback (most recent call last):'\n2016-01-07 18:17:49.115 |     b'  File \"/home/jenkins/workspace/gate-nova-python34/.tox/py34/lib/python3.4/site-packages/mock/mock.py\", line 1305, in patched'\n2016-01-07 18:17:49.115 |     b'    return func(*args, **keywargs)'\n2016-01-07 18:17:49.115 |     b'  File \"/home/jenkins/workspace/gate-nova-python34/nova/tests/unit/virt/vmwareapi/test_configdrive.py\", line 89, in setUp'\n2016-01-07 18:17:49.116 |     b'    metadata = image_service.show(context, image_id)'\n2016-01-07 18:17:49.116 |     b'  File \"/home/jenkins/workspace/gate-nova-python34/nova/tests/unit/image/fake.py\", line 184, in show'\n2016-01-07 18:17:49.116 |     b'    raise exception.ImageNotFound(image_id=image_id)'\n2016-01-07 18:17:49.116 |     b'nova.exception.ImageNotFound: Image 70a599e0-31e7-49b7-b260-868f441e862b could not be found.'\n2016-01-07 18:17:49.116 |     b''\n2016-01-07 18:17:49.116 | \n2016-01-07 18:17:49.116 | Captured pythonlogging:\n2016-01-07 18:17:49.116 | ~~~~~~~~~~~~~~~~~~~~~~~\n2016-01-07 18:17:49.116 |     b'2016-01-07 18:02:26,578 INFO [oslo_vmware.api] Successfully established new session; session ID is 3818e.'\n2016-01-07 18:17:49.116 |     b'2016-01-07 18:02:26,579 INFO [nova.virt.vmwareapi.driver] VMware vCenter version: 5.1.0'\n2016-01-07 18:17:49.116 |     b'2016-01-07 18:02:26,587 WARNING [nova.tests.unit.image.fake] Unable to find image id 70a599e0-31e7-49b7-b260-868f441e862b.  Have images: {}'\n2016-01-07 18:17:49.116 |     b''\n\nHave been showing up a lot recently in the py34 job for nova:\n\nhttp://logstash.openstack.org/#dashboard/file/logstash.json?query=message%3A%5C%22b'%20%20%20%20raise%20exception.ImageNotFound(image_id%3Dimage_id)'%5C%22%20AND%20tags%3A%5C%22console%5C%22%20AND%20build_name%3A%5C%22gate-nova-python34%5C%22\n\nA lot of them were in the vmwareapi driver tests which dims blacklisted for py34 yesterday:\n\nhttps://review.openstack.org/#/c/264368/\n\nBut we're still hitting them.\n\nI have a change up to stop using the stubs.Set (mox) calls with the fake image service stub out code here:\n\nhttps://review.openstack.org/#/c/264393/\n\nThis bug is for tracking those failures in elastic-recheck so we can get them off the uncategorized bugs page.", 
            "date_created": "2016-01-07 20:48:58.209061+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "This doesn't have any hit anymore in logstash. I close this bug report and remove the bug signature in elastic-recheck.", 
            "date_created": "2016-04-05 16:27:53.189074+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }, 
        {
            "content": "Removal of the bug signature with: https://review.openstack.org/#/c/301810/", 
            "date_created": "2016-04-05 16:31:59.561056+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ], 
    "closed": "2016-04-05 16:27:48.144709+00:00"
}