{
    "status": "Fix Released", 
    "last_updated": "2017-06-16 12:18:39.193564+00:00", 
    "description": "With some Cinder backends (specifically those that provide multiple LUNs over the same IQN), XenServer cannot attach multiple disks to a VM.\n\nOpenstack  kilo version nova-compute 2015.1.1-1.el7\n\nLogs from nova-compute after attaching second volume to xenserver host:\n\n2015-11-12 18:36:50.250 996 ERROR nova.virt.block_device [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] [instance: 901b2692-e337-4358-80df-8408ce626352] Driver failed to attach volume a7ce4570-e35b-4db8-9502-8c33e790280a at /dev/xvdc\n...\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     session.call_xenapi(\"SR.scan\", sr_ref)\n...\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352] Failure: ['SR_BACKEND_FAILURE_40', '', 'The SR scan failed  [opterr=[\\'INTERNAL_ERROR\\', \\'Db_exn.Uniqueness_constraint_violation(\"VDI\", \"uuid\", \"70b87c59-e01a-be46-6f43-d927e3871669\")\\']]', '']\n\nReproduction steps\n\n1. create first cinder volume on storage array - seen with a storwize 7000. (cinder create)\n2. attach that volume to instance VM reside on xenserver host (first volume attached ok). (nova volume-attach)\n3. create second cinder volume on storage array.\n4. attach second cinder volume to instance VM on the same xenserver host as in step 2.\n5. attach second volume failed\n\nExpected result:\n\nSecond volume attached ok and gets available to VM instance", 
    "tags": [
        "in-stable-liberty", 
        "volumes", 
        "xenserver"
    ], 
    "importance": "Medium", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/1515672", 
    "owner": "https://api.launchpad.net/1.0/~bob-ball", 
    "id": 1515672, 
    "index": 4381, 
    "openned": "2015-11-12 15:56:00.129856+00:00", 
    "created": "2015-11-12 15:56:00.129856+00:00", 
    "title": "XenServer attach second Cinder volume failed", 
    "comments": [
        {
            "content": "1. Openstack  kilo version nova-compute 2015.1.1-1.el7\n\nlogs from nova-compute after attaching second volume to xenserver host:\n\n2015-11-12 18:36:42.614 996 DEBUG oslo_concurrency.lockutils [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] Lock \"901b2692-e337-4358-80df-8408ce626352\" acquired by \"do_attach_volume\" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:444\n2015-11-12 18:36:42.615 996 INFO nova.compute.manager [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] [instance: 901b2692-e337-4358-80df-8408ce626352] Attaching volume a7ce4570-e35b-4db8-9502-8c33e790280a to /dev/xvdc\n2015-11-12 18:36:42.616 996 DEBUG keystoneclient.session [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] REQ: curl -g -i -X GET http://cinder:8776/v2/596095f4da8b4eddbfbbe1774e762bf4/volumes/a7ce4570-e35b-4db8-9502-8c33e790280a -H \"User-Agent: python-cinderclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}a3783c05f22bbd142afdbf7dfdc6bef77588687a\" _http_log_request /usr/lib/python2.7/site-packages/keystoneclient/session.py:195\n2015-11-12 18:36:42.787 996 DEBUG keystoneclient.session [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] RESP: [200] content-length: 931 x-compute-request-id: req-9cc1ca80-d8db-49fe-b99e-97a0f667bd04 connection: keep-alive date: Thu, 12 Nov 2015 15:36:42 GMT content-type: application/json x-openstack-request-id: req-9cc1ca80-d8db-49fe-b99e-97a0f667bd04 \nRESP BODY: {\"volume\": {\"attachments\": [], \"links\": [{\"href\": \"http://cinder:8776/v2/596095f4da8b4eddbfbbe1774e762bf4/volumes/a7ce4570-e35b-4db8-9502-8c33e790280a\", \"rel\": \"self\"}, {\"href\": \"http://cinder:8776/596095f4da8b4eddbfbbe1774e762bf4/volumes/a7ce4570-e35b-4db8-9502-8c33e790280a\", \"rel\": \"bookmark\"}], \"availability_zone\": \"xen-test\", \"encrypted\": false, \"os-volume-replication:extended_status\": null, \"volume_type\": null, \"snapshot_id\": null, \"id\": \"a7ce4570-e35b-4db8-9502-8c33e790280a\", \"size\": 10, \"user_id\": \"cb348d90ade04049b30e2d41a985e2d4\", \"os-vol-tenant-attr:tenant_id\": \"596095f4da8b4eddbfbbe1774e762bf4\", \"metadata\": {\"readonly\": \"False\"}, \"status\": \"attaching\", \"description\": null, \"multiattach\": false, \"source_volid\": null, \"consistencygroup_id\": null, \"name\": \"test_tyryry\", \"bootable\": \"false\", \"created_at\": \"2015-11-11T14:31:46.000000\", \"os-volume-replication:driver_data\": null, \"replication_status\": \"disabled\"}}\n _http_log_response /usr/lib/python2.7/site-packages/keystoneclient/session.py:224\n2015-11-12 18:36:42.788 996 DEBUG keystoneclient.session [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] REQ: curl -g -i -X POST http://cinder:8776/v2/596095f4da8b4eddbfbbe1774e762bf4/volumes/a7ce4570-e35b-4db8-9502-8c33e790280a/action -H \"User-Agent: python-cinderclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}a3783c05f22bbd142afdbf7dfdc6bef77588687a\" -d '{\"os-initialize_connection\": {\"connector\": {\"ip\": \"xen-r0304.openstack.local\", \"initiator\": \"iqn.2015-06.com.example:5d183874\", \"host\": \"xen-r0304.openstack.local\"}}}' _http_log_request /usr/lib/python2.7/site-packages/keystoneclient/session.py:195\n2015-11-12 18:36:44.312 996 DEBUG keystoneclient.session [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] RESP: [200] content-length: 305 x-compute-request-id: req-88108cb4-5fdb-44fd-b681-9f9c31f46355 connection: keep-alive date: Thu, 12 Nov 2015 15:36:44 GMT content-type: application/json x-openstack-request-id: req-88108cb4-5fdb-44fd-b681-9f9c31f46355 \nRESP BODY: {\"connection_info\": {\"driver_volume_type\": \"iscsi\", \"data\": {\"qos_specs\": null, \"target_iqn\": \"iqn.1986-03.com.ibm:2145.storwizev7000-mh.node1\", \"target_discovered\": false, \"volume_id\": \"a7ce4570-e35b-4db8-9502-8c33e790280a\", \"target_lun\": 1, \"access_mode\": \"rw\", \"target_portal\": \"172.30.133.125:3260\"}}}\n _http_log_response /usr/lib/python2.7/site-packages/keystoneclient/session.py:224\n2015-11-12 18:36:44.318 996 DEBUG nova.virt.xenapi.volume_utils [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] (vol_id,host,port,iqn): (a7ce4570-e35b-4db8-9502-8c33e790280a,172.30.133.125,3260,iqn.1986-03.com.ibm:2145.storwizev7000-mh.node1) _parse_volume_info /usr/lib/python2.7/site-packages/nova/virt/xenapi/volume_utils.py:80\n2015-11-12 18:36:44.324 996 DEBUG nova.virt.xenapi.volume_utils [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] Introducing SR tempSR-a7ce4570-e35b-4db8-9502-8c33e790280a introduce_sr /usr/lib/python2.7/site-packages/nova/virt/xenapi/volume_utils.py:119\n2015-11-12 18:36:44.336 996 DEBUG nova.virt.xenapi.volume_utils [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] Creating PBD for SR introduce_sr /usr/lib/python2.7/site-packages/nova/virt/xenapi/volume_utils.py:129\n2015-11-12 18:36:44.359 996 DEBUG nova.virt.xenapi.volume_utils [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] Plugging SR introduce_sr /usr/lib/python2.7/site-packages/nova/virt/xenapi/volume_utils.py:132\n2015-11-12 18:36:50.250 996 ERROR nova.virt.block_device [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] [instance: 901b2692-e337-4358-80df-8408ce626352] Driver failed to attach volume a7ce4570-e35b-4db8-9502-8c33e790280a at /dev/xvdc\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352] Traceback (most recent call last):\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/block_device.py\", line 253, in attach\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     device_type=self['device_type'], encryption=encryption)\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/driver.py\", line 410, in attach_volume\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     mountpoint)\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/volumeops.py\", line 46, in attach_volume\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     instance_name, dev_number, hotplug)\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/volumeops.py\", line 59, in _attach_volume\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     instance_name)\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/volumeops.py\", line 90, in _connect_to_volume_provider\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     self._session, sr_uuid, sr_label, sr_params)\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/volume_utils.py\", line 135, in introduce_sr\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     session.call_xenapi(\"SR.scan\", sr_ref)\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/client/session.py\", line 196, in call_xenapi\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     return session.xenapi_request(method, args)\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/XenAPI.py\", line 133, in xenapi_request\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     result = _parse_result(getattr(self, methodname)(*full_params))\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/XenAPI.py\", line 203, in _parse_result\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352]     raise Failure(result['ErrorDescription'])\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352] Failure: ['SR_BACKEND_FAILURE_40', '', 'The SR scan failed  [opterr=[\\'INTERNAL_ERROR\\', \\'Db_exn.Uniqueness_constraint_violation(\"VDI\", \"uuid\", \"70b87c59-e01a-be46-6f43-d927e3871669\")\\']]', '']\n2015-11-12 18:36:50.250 996 TRACE nova.virt.block_device [instance: 901b2692-e337-4358-80df-8408ce626352] \n2015-11-12 18:36:50.252 996 DEBUG keystoneclient.session [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] REQ: curl -g -i -X POST http://cinder:8776/v2/596095f4da8b4eddbfbbe1774e762bf4/volumes/a7ce4570-e35b-4db8-9502-8c33e790280a/action -H \"User-Agent: python-cinderclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}a3783c05f22bbd142afdbf7dfdc6bef77588687a\" -d '{\"os-terminate_connection\": {\"connector\": {\"ip\": \"xen-r0304.openstack.local\", \"initiator\": \"iqn.2015-06.com.example:5d183874\", \"host\": \"xen-r0304.openstack.local\"}}}' _http_log_request /usr/lib/python2.7/site-packages/keystoneclient/session.py:195\n2015-11-12 18:36:51.783 996 DEBUG keystoneclient.session [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] RESP: [202] date: Thu, 12 Nov 2015 15:36:51 GMT connection: keep-alive content-type: text/html; charset=UTF-8 content-length: 0 x-openstack-request-id: req-3b57b55c-bc10-4eee-aac7-3283ecd9bd19 _http_log_response /usr/lib/python2.7/site-packages/keystoneclient/session.py:224\n2015-11-12 18:36:51.831 996 ERROR nova.compute.manager [req-42ee1d90-2e83-41d3-aaec-3f928170b60d cb348d90ade04049b30e2d41a985e2d4 596095f4da8b4eddbfbbe1774e762bf4 - - -] [instance: 901b2692-e337-4358-80df-8408ce626352] Failed to attach a7ce4570-e35b-4db8-9502-8c33e790280a at /dev/xvdc\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352] Traceback (most recent call last):\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 4778, in _attach_volume\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     do_check_attach=False, do_driver_attach=True)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/block_device.py\", line 49, in wrapped\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     ret_val = method(obj, context, *args, **kwargs)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/block_device.py\", line 262, in attach\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     connector)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/oslo_utils/excutils.py\", line 85, in __exit__\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     six.reraise(self.type_, self.value, self.tb)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/block_device.py\", line 253, in attach\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     device_type=self['device_type'], encryption=encryption)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/driver.py\", line 410, in attach_volume\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     mountpoint)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/volumeops.py\", line 46, in attach_volume\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     instance_name, dev_number, hotplug)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/volumeops.py\", line 59, in _attach_volume\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     instance_name)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/volumeops.py\", line 90, in _connect_to_volume_provider\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     self._session, sr_uuid, sr_label, sr_params)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/volume_utils.py\", line 135, in introduce_sr\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     session.call_xenapi(\"SR.scan\", sr_ref)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/nova/virt/xenapi/client/session.py\", line 196, in call_xenapi\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     return session.xenapi_request(method, args)\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/XenAPI.py\", line 133, in xenapi_request\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     result = _parse_result(getattr(self, methodname)(*full_params))\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]   File \"/usr/lib/python2.7/site-packages/XenAPI.py\", line 203, in _parse_result\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]     raise Failure(result['ErrorDescription'])\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352] Failure: ['SR_BACKEND_FAILURE_40', '', 'The SR scan failed  [opterr=[\\'INTERNAL_ERROR\\', \\'Db_exn.Uniqueness_constraint_violation(\"VDI\", \"uuid\", \"70b87c59-e01a-be46-6f43-d927e3871669\")\\']]', '']\n2015-11-12 18:36:51.831 996 TRACE nova.compute.manager [instance: 901b2692-e337-4358-80df-8408ce626352]\n\n3. Reproduce step\n\n1. create first cinder volume on storage array. (cinder create)\n2. attach that volume to instance VM reside on xenserver host (first volume attached ok). (nova volume-attach)\n3. create second cinder volume on storage array.\n4. attach second cinder volume to instance VM on the same xenserver host as in step 2.\n5. attach second volume failed \n\nExpected result:\n\nSecond volume attached ok and gets available to VM instance", 
            "date_created": "2015-11-12 15:56:00.129856+00:00", 
            "author": "https://api.launchpad.net/1.0/~snasonov"
        }, 
        {
            "content": "Bugfix at https://review.openstack.org/#/c/244789/", 
            "date_created": "2015-11-12 17:51:26.197386+00:00", 
            "author": "https://api.launchpad.net/1.0/~bob-ball"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/244789\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=5bd222e8d854ca7f03ee6936454ee57e0d6e1a78\nSubmitter: Jenkins\nBranch:    master\n\ncommit 5bd222e8d854ca7f03ee6936454ee57e0d6e1a78\nAuthor: Bob Ball <email address hidden>\nDate:   Thu Nov 12 17:46:38 2015 +0000\n\n    XenAPI: Cope with more Cinder backends\n    \n    Some Cinder backends (e.g. storwize 7000) expose multiple LUNs for a single\n    SR connection from the XenServer host.  Since the SR UUID was based on the\n    'volume' ID, which is unique per volume, multiple SRs would be connecting\n    to the same array when multiple volumes are exposed.\n    \n    This fixes the issue by making sure that we only connect to the array once\n    for each (host,port,IQN) tuple, and we can re-use the SR for as many LUNs\n    are presented.\n    \n    Change-Id: I6a1eb22fcfde8e3f5c069be54f5e7c91b0f2fec1\n    Closes-Bug: 1515672\n", 
            "date_created": "2016-01-09 04:20:22.556426+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 13.0.0.0b2 development milestone.", 
            "date_created": "2016-01-21 13:42:55.433610+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "Fix proposed to branch: stable/liberty\nReview: https://review.openstack.org/272695", 
            "date_created": "2016-01-26 18:49:23.438392+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/kilo\nReview: https://review.openstack.org/277982", 
            "date_created": "2016-02-09 17:31:15.709338+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/272695\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=deacf0efefcd9c0eaa99bf0b1836504d84c6800b\nSubmitter: Jenkins\nBranch:    stable/liberty\n\ncommit deacf0efefcd9c0eaa99bf0b1836504d84c6800b\nAuthor: Bob Ball <email address hidden>\nDate:   Thu Nov 12 17:46:38 2015 +0000\n\n    XenAPI: Cope with more Cinder backends\n    \n    Some Cinder backends (e.g. storwize 7000) expose multiple LUNs for a single\n    SR connection from the XenServer host.  Since the SR UUID was based on the\n    'volume' ID, which is unique per volume, multiple SRs would be connecting\n    to the same array when multiple volumes are exposed.\n    \n    This fixes the issue by making sure that we only connect to the array once\n    for each (host,port,IQN) tuple, and we can re-use the SR for as many LUNs\n    are presented.\n    \n    Change-Id: I6a1eb22fcfde8e3f5c069be54f5e7c91b0f2fec1\n    Closes-Bug: 1515672\n    (cherry picked from commit 5bd222e8d854ca7f03ee6936454ee57e0d6e1a78)\n", 
            "date_created": "2016-02-15 18:51:02.615947+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This issue was fixed in the openstack/nova 12.0.2 release.", 
            "date_created": "2016-03-07 14:18:35.283989+00:00", 
            "author": "https://api.launchpad.net/1.0/~doug-hellmann"
        }, 
        {
            "content": "Change abandoned by Dave Walker (<email address hidden>) on branch: stable/kilo\nReview: https://review.openstack.org/277982\nReason: Kilo is now approaching EOL.  We are in freeze pending the final release and no freeze exception has been raised.  Therefore I am abandoning this change, if it is required in the release - please restore and raise a request.  Thanks", 
            "date_created": "2016-05-06 13:12:29.244402+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2016-01-09 04:20:20.130199+00:00"
}