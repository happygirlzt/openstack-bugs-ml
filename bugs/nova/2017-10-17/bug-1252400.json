{
    "status": "Fix Released", 
    "last_updated": "2014-04-17 09:09:38.766284+00:00", 
    "description": "The propset key 'summary.accessible' is not always present in property-sets. Use .get('summary.accessible') instead of ['summary.accessible']\n\n\n2013-11-18 09:28:02.501 AUDIT nova.compute.resource_tracker [-] Auditing locally available compute resources\n2013-11-18 09:28:06.571 ERROR nova.openstack.common.periodic_task [-] Error during ComputeManager.update_available_resource: 'summary.accessible'\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task Traceback (most recent call last):\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/openstack/common/periodic_task.py\", line 180, in run_periodic_tasks\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     task(self, context)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/compute/manager.py\", line 4854, in update_available_resource\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     rt.update_available_resource(context)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/openstack/common/lockutils.py\", line 246, in inner\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     return f(*args, **kwargs)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/compute/resource_tracker.py\", line 274, in update_available_resource\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     resources = self.driver.get_available_resource(self.nodename)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/driver.py\", line 578, in get_available_resource\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     host_stats = vc_state.get_host_stats(refresh=True)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/host.py\", line 162, in get_host_stats\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     self.update_status()\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/host.py\", line 170, in update_status\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     self._cluster)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/vm_util.py\", line 885, in get_datastore_ref_and_name\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     results = _get_datastore_ref_and_name(data_stores, datastore_regex)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/vm_util.py\", line 846, in _get_datastore_ref_and_name\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     propset_dict['summary.accessible']):\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task KeyError: 'summary.accessible'\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task", 
    "tags": [
        "havana-backport-potential", 
        "low-hanging-fruit", 
        "vmware"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1252400", 
    "owner": "https://api.launchpad.net/1.0/~rgerganov", 
    "id": 1252400, 
    "index": 1067, 
    "openned": "2013-11-18 17:34:48.464087+00:00", 
    "created": "2013-11-18 17:34:48.464087+00:00", 
    "title": "VMware: propSet KeyError: 'summary.accessible'", 
    "comments": [
        {
            "content": "The propset key 'summary.accessible' is not always present in property-sets. Use .get('summary.accessible') instead of ['summary.accessible']\n\n\n2013-11-18 09:28:02.501 AUDIT nova.compute.resource_tracker [-] Auditing locally available compute resources\n2013-11-18 09:28:06.571 ERROR nova.openstack.common.periodic_task [-] Error during ComputeManager.update_available_resource: 'summary.accessible'\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task Traceback (most recent call last):\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/openstack/common/periodic_task.py\", line 180, in run_periodic_tasks\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     task(self, context)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/compute/manager.py\", line 4854, in update_available_resource\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     rt.update_available_resource(context)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/openstack/common/lockutils.py\", line 246, in inner\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     return f(*args, **kwargs)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/compute/resource_tracker.py\", line 274, in update_available_resource\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     resources = self.driver.get_available_resource(self.nodename)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/driver.py\", line 578, in get_available_resource\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     host_stats = vc_state.get_host_stats(refresh=True)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/host.py\", line 162, in get_host_stats\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     self.update_status()\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/host.py\", line 170, in update_status\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     self._cluster)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/vm_util.py\", line 885, in get_datastore_ref_and_name\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     results = _get_datastore_ref_and_name(data_stores, datastore_regex)\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task   File \"/opt/stack/nova/nova/virt/vmwareapi/vm_util.py\", line 846, in _get_datastore_ref_and_name\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task     propset_dict['summary.accessible']):\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task KeyError: 'summary.accessible'\n2013-11-18 09:28:06.571 TRACE nova.openstack.common.periodic_task", 
            "date_created": "2013-11-18 17:34:48.464087+00:00", 
            "author": "https://api.launchpad.net/1.0/~hartsock"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/57519", 
            "date_created": "2013-11-20 20:17:04.822272+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/57519\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=350731e008e62d6e019332b039ee722c67b7f171\nSubmitter: Jenkins\nBranch:    master\n\ncommit 350731e008e62d6e019332b039ee722c67b7f171\nAuthor: Radoslav Gerganov <email address hidden>\nDate:   Wed Nov 20 22:11:28 2013 +0200\n\n    VMware: use .get() to access 'summary.accessible'\n    \n    the key 'summary.accessible' is not always present in\n    property-sets hence use .get() instead of []\n    \n    Change-Id: Ia291b39d1322c486be13f677a816168b501de3fb\n    Closes-Bug: 1252400\n", 
            "date_created": "2014-02-06 08:14:25.775837+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2014-03-05 13:15:00.042737+00:00"
}