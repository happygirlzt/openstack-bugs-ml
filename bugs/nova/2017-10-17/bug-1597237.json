{
    "status": "Invalid", 
    "last_updated": "2016-07-01 12:00:59.807711+00:00", 
    "description": "I'm installing OpenStack Liberty on Ubuntu 14.04 to get OpenStack and MidoNet up and running, nova image-list and nova endpoints work fine, but nova service-list returns the following error:\n\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'sqlalchemy.exc.OperationalError'> (HTTP 500) (Request-ID: req-...)\n\nThis is the nova-api.log file:\n2016-06-29 11:44:37.331 2070 INFO nova.osapi_compute.wsgi.server [req-5f633b2e-0251-4274-8233-efd74f39e26f 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/c3f3f423740546a7b0095e15f34db99c/os$\n2016-06-29 11:44:44.606 2069 INFO nova.osapi_compute.wsgi.server [req-5aa1e4c3-aa60-4fb4-aecf-38e26430f25d 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 tim$\n2016-06-29 11:44:49.404 2065 INFO nova.osapi_compute.wsgi.server [req-31cd18c4-2471-4adf-92d3-e44b7b238376 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 tim$\n2016-06-29 11:44:49.723 2065 INFO nova.osapi_compute.wsgi.server [req-89c7dffd-5d7f-41ef-8188-27013a7cf059 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/c3f3f423740546a7b0095e15f34db99c/im$\n2016-06-29 11:49:53.786 2069 INFO nova.osapi_compute.wsgi.server [req-4dadce44-e6f4-4420-9ed6-a75563d6ac03 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 tim$\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions [req-0977797e-613e-44e3-bdf7-f210a99c4de1 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] Unexpected exception in API method\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/services.py\", line 188, in index\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     _services = self._get_services_list(req)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/services.py\", line 80, in _get_services_list\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     _services = self._get_services(req)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/services.py\", line 44, in _get_services\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     _services = self.host_api.service_get_all(context, set_zones=True)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 3497, in service_get_all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     set_zones=set_zones)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 171, in wrapper\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/objects/service.py\", line 313, in get_all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     db_services = db.service_get_all(context, disabled=disabled)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 115, in service_get_all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return IMPL.service_get_all(context, disabled)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 449, in service_get_all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return query.all()\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2399, in all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return list(self)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2516, in __iter__\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return self._execute_and_instances(context)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2531, in _execute_and_instances\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     result = conn.execute(querycontext.statement, self._params)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return meth(self, multiparams, params)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return connection._execute_clauseelement(self, multiparams, params)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     compiled_sql, distilled_params\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     context)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1337, in _handle_dbapi_exception\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     util.raise_from_cause(newraise, exc_info)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 199, in raise_from_cause\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     reraise(type(exception), exception, tb=exc_tb)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     context)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     cursor.execute(statement, parameters)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions OperationalError: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.updated_at AS services_updated_at,$\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions\n2016-06-29 11:49:53.960 2069 INFO nova.api.openstack.wsgi [req-0977797e-613e-44e3-bdf7-f210a99c4de1 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] HTTP exception thrown: Unexpected API Error. Please report this$\n<class 'sqlalchemy.exc.OperationalError'>\n2016-06-29 11:49:53.961 2069 INFO nova.osapi_compute.wsgi.server [req-0977797e-613e-44e3-bdf7-f210a99c4de1 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/c3f3f423740546a7b0095e15f34db99c/os$\n\nPlease help me.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1597237", 
    "owner": "None", 
    "id": 1597237, 
    "index": 7571, 
    "openned": "2016-06-29 09:10:06.429633+00:00", 
    "created": "2016-06-29 09:10:06.429633+00:00", 
    "title": "nova service-list error 500", 
    "comments": [
        {
            "content": "I'm installing OpenStack Liberty on Ubuntu 14.04 to get OpenStack and MidoNet up and running, nova image-list and nova endpoints work fine, but nova service-list returns the following error:\n\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'sqlalchemy.exc.OperationalError'> (HTTP 500) (Request-ID: req-...)\n\nThis is the nova-api.log file:\n2016-06-29 11:44:37.331 2070 INFO nova.osapi_compute.wsgi.server [req-5f633b2e-0251-4274-8233-efd74f39e26f 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/c3f3f423740546a7b0095e15f34db99c/os$\n2016-06-29 11:44:44.606 2069 INFO nova.osapi_compute.wsgi.server [req-5aa1e4c3-aa60-4fb4-aecf-38e26430f25d 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 tim$\n2016-06-29 11:44:49.404 2065 INFO nova.osapi_compute.wsgi.server [req-31cd18c4-2471-4adf-92d3-e44b7b238376 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 tim$\n2016-06-29 11:44:49.723 2065 INFO nova.osapi_compute.wsgi.server [req-89c7dffd-5d7f-41ef-8188-27013a7cf059 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/c3f3f423740546a7b0095e15f34db99c/im$\n2016-06-29 11:49:53.786 2069 INFO nova.osapi_compute.wsgi.server [req-4dadce44-e6f4-4420-9ed6-a75563d6ac03 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/ HTTP/1.1\" status: 200 len: 572 tim$\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions [req-0977797e-613e-44e3-bdf7-f210a99c4de1 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] Unexpected exception in API method\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/services.py\", line 188, in index\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     _services = self._get_services_list(req)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/services.py\", line 80, in _get_services_list\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     _services = self._get_services(req)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/services.py\", line 44, in _get_services\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     _services = self.host_api.service_get_all(context, set_zones=True)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 3497, in service_get_all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     set_zones=set_zones)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 171, in wrapper\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/objects/service.py\", line 313, in get_all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     db_services = db.service_get_all(context, disabled=disabled)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 115, in service_get_all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return IMPL.service_get_all(context, disabled)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 449, in service_get_all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return query.all()\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2399, in all\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return list(self)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2516, in __iter__\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return self._execute_and_instances(context)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2531, in _execute_and_instances\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     result = conn.execute(querycontext.statement, self._params)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return meth(self, multiparams, params)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     return connection._execute_clauseelement(self, multiparams, params)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     compiled_sql, distilled_params\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     context)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1337, in _handle_dbapi_exception\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     util.raise_from_cause(newraise, exc_info)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 199, in raise_from_cause\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     reraise(type(exception), exception, tb=exc_tb)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     context)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions     cursor.execute(statement, parameters)\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions OperationalError: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.updated_at AS services_updated_at,$\n2016-06-29 11:49:53.957 2069 ERROR nova.api.openstack.extensions\n2016-06-29 11:49:53.960 2069 INFO nova.api.openstack.wsgi [req-0977797e-613e-44e3-bdf7-f210a99c4de1 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] HTTP exception thrown: Unexpected API Error. Please report this$\n<class 'sqlalchemy.exc.OperationalError'>\n2016-06-29 11:49:53.961 2069 INFO nova.osapi_compute.wsgi.server [req-0977797e-613e-44e3-bdf7-f210a99c4de1 2fef13dec3c84026aff7cd82ba8f25a9 c3f3f423740546a7b0095e15f34db99c - - -] 10.10.10.11 \"GET /v2/c3f3f423740546a7b0095e15f34db99c/os$\n\nPlease help me.", 
            "date_created": "2016-06-29 09:10:06.429633+00:00", 
            "author": "https://api.launchpad.net/1.0/~fuegoel"
        }, 
        {
            "content": "sqlite3.OperationalError means you did not configure you database for mysql during setup, and it is defaulting to an sqlite3 database that doesn't exist. This is a configuration error during setup. Please go back through the install manual and make sure to be careful around the database setup section.", 
            "date_created": "2016-07-01 12:00:59.138900+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }
    ], 
    "closed": "2016-07-01 11:59:53.662191+00:00"
}