{
    "status": "Fix Released", 
    "last_updated": "2011-09-22 13:37:41.944133+00:00", 
    "description": "It appears that test_service.py changes in 1156 depend on a later version of python-mox than is required in pip-requires.\n\nI am not sure if this should be fixed by simply updating tools/pip-requires or by changing the way we use mox.\n\nTest error output:\n\n\n======================================================================\nERROR: test_compute_can_update_available_resource (nova.tests.test_service.ServiceTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/markw/devel/openstack/reviews/snapshot-volume/nova/tests/test_service.py\", line 334, in test_compute_can_update_available_resource\n    {'wait': wait_func})\nTypeError: CreateMock() takes exactly 2 arguments (3 given)\n\n======================================================================\nERROR: test_compute_can_update_available_resource (nova.tests.test_service.ServiceTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/markw/devel/openstack/reviews/snapshot-volume/nova/test.py\", line 94, in tearDown\n    self.mox.VerifyAll()\n  File \"/home/markw/devel/openstack/nova/.nova-venv/lib/python2.6/site-packages/mox.py\", line 197, in VerifyAll\n    mock_obj._Verify()\n  File \"/home/markw/devel/openstack/nova/.nova-venv/lib/python2.6/site-packages/mox.py\", line 344, in _Verify\n    raise ExpectedMethodCallsError(self._expected_calls_queue)\nExpectedMethodCallsError: Verify: Expected methods never called:\n  0.  __call__(new=<IgnoreArg>) -> None\n\n======================================================================\nERROR: test_create (nova.tests.test_service.ServiceTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/markw/devel/openstack/reviews/snapshot-volume/nova/tests/test_service.py\", line 144, in test_create\n    {'wait': wait_func})\nTypeError: CreateMock() takes exactly 2 arguments (3 given)\n\n======================================================================\nERROR: test_create (nova.tests.test_service.ServiceTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/markw/devel/openstack/reviews/snapshot-volume/nova/test.py\", line 94, in tearDown\n    self.mox.VerifyAll()\n  File \"/home/markw/devel/openstack/nova/.nova-venv/lib/python2.6/site-packages/mox.py\", line 197, in VerifyAll\n    mock_obj._Verify()\n  File \"/home/markw/devel/openstack/nova/.nova-venv/lib/python2.6/site-packages/mox.py\", line 344, in _Verify\n    raise ExpectedMethodCallsError(self._expected_calls_queue)\nExpectedMethodCallsError: Verify: Expected methods never called:\n  0.  __call__(new=<IgnoreArg>) -> None\n\n----------------------------------------------------------------------\nRan 781 tests in 437.221s\n\nFAILED (errors=4)", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/789205", 
    "owner": "https://api.launchpad.net/1.0/~bcwaldon", 
    "id": 789205, 
    "index": 3424, 
    "openned": "2011-05-27 16:16:08.498146+00:00", 
    "created": "2011-05-27 16:16:08.498146+00:00", 
    "title": "test_service.py tests fail because of incompatible use of mox", 
    "comments": [
        {
            "content": "It appears that test_service.py changes in 1156 depend on a later version of python-mox than is required in pip-requires.\n\nI am not sure if this should be fixed by simply updating tools/pip-requires or by changing the way we use mox.\n\nTest error output:\n\n\n======================================================================\nERROR: test_compute_can_update_available_resource (nova.tests.test_service.ServiceTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/markw/devel/openstack/reviews/snapshot-volume/nova/tests/test_service.py\", line 334, in test_compute_can_update_available_resource\n    {'wait': wait_func})\nTypeError: CreateMock() takes exactly 2 arguments (3 given)\n\n======================================================================\nERROR: test_compute_can_update_available_resource (nova.tests.test_service.ServiceTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/markw/devel/openstack/reviews/snapshot-volume/nova/test.py\", line 94, in tearDown\n    self.mox.VerifyAll()\n  File \"/home/markw/devel/openstack/nova/.nova-venv/lib/python2.6/site-packages/mox.py\", line 197, in VerifyAll\n    mock_obj._Verify()\n  File \"/home/markw/devel/openstack/nova/.nova-venv/lib/python2.6/site-packages/mox.py\", line 344, in _Verify\n    raise ExpectedMethodCallsError(self._expected_calls_queue)\nExpectedMethodCallsError: Verify: Expected methods never called:\n  0.  __call__(new=<IgnoreArg>) -> None\n\n======================================================================\nERROR: test_create (nova.tests.test_service.ServiceTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/markw/devel/openstack/reviews/snapshot-volume/nova/tests/test_service.py\", line 144, in test_create\n    {'wait': wait_func})\nTypeError: CreateMock() takes exactly 2 arguments (3 given)\n\n======================================================================\nERROR: test_create (nova.tests.test_service.ServiceTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/markw/devel/openstack/reviews/snapshot-volume/nova/test.py\", line 94, in tearDown\n    self.mox.VerifyAll()\n  File \"/home/markw/devel/openstack/nova/.nova-venv/lib/python2.6/site-packages/mox.py\", line 197, in VerifyAll\n    mock_obj._Verify()\n  File \"/home/markw/devel/openstack/nova/.nova-venv/lib/python2.6/site-packages/mox.py\", line 344, in _Verify\n    raise ExpectedMethodCallsError(self._expected_calls_queue)\nExpectedMethodCallsError: Verify: Expected methods never called:\n  0.  __call__(new=<IgnoreArg>) -> None\n\n----------------------------------------------------------------------\nRan 781 tests in 437.221s\n\nFAILED (errors=4)", 
            "date_created": "2011-05-27 16:16:08.498146+00:00", 
            "author": "https://api.launchpad.net/1.0/~markwash"
        }
    ], 
    "closed": "2011-09-22 13:37:40.922927+00:00"
}