{
    "status": "Invalid", 
    "last_updated": "2011-07-17 19:24:14.975516+00:00", 
    "description": "This is similar to https://bugs.launchpad.net/nova/+bug/740810\n\nI have troubleshooting also at http://paste.openstack.org/show/1842/\n\nIt seems that when I enter the following command:\n\nnova-manage network create 10.0.1.64/27 1 10\n\nIt thinks the cidr is 0.0.0.1/24\n\nroot@d64-controller:~# cat /var/log/nova/nova-manage.log \n2011-07-05 14:45:01,618 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.pyc'> from (pid=6800) __get_backend /usr/lib/pymodules/python2.6/nova/utils.py:417\n2011-07-05 14:45:02,280 CRITICAL nova [-] index out range for address range size\n\nmysql> select * from networks\\G\n*************************** 1. row ***************************\n         created_at: 2011-07-05 19:45:01\n         updated_at: NULL\n         deleted_at: NULL\n            deleted: 0\n                 id: 1\n           injected: 0\n               cidr: 0.0.0.1/24\n            netmask: 255.255.255.0\n             bridge: xenbr0\n            gateway: 0.0.0.1\n          broadcast: 0.0.0.255\n                dns: 8.8.4.4\n               vlan: NULL\n vpn_public_address: NULL\n    vpn_public_port: NULL\nvpn_private_address: NULL\n         dhcp_start: 0.0.0.2\n         project_id: NULL\n               host: NULL\n            cidr_v6: NULL\n         gateway_v6: NULL\n              label: 10.0.1.64/27_0\n         netmask_v6: NULL\n   bridge_interface: NULL\n1 row in set (0.01 sec)\n\n\nmysql> select * from fixed_ips limit 3\\G\n*************************** 1. row ***************************\n          created_at: 2011-07-05 19:45:01\n          updated_at: NULL\n          deleted_at: NULL\n             deleted: 0\n                  id: 1\n             address: 0.0.0.0\n          network_id: 1\n         instance_id: NULL\n           allocated: 0\n              leased: 0\n            reserved: 1\nvirtual_interface_id: NULL\n*************************** 2. row ***************************\n          created_at: 2011-07-05 19:45:01\n          updated_at: NULL\n          deleted_at: NULL\n             deleted: 0\n                  id: 2\n             address: 0.0.0.1\n          network_id: 1\n         instance_id: NULL\n           allocated: 0\n              leased: 0\n            reserved: 1\nvirtual_interface_id: NULL\n*************************** 3. row ***************************\n          created_at: 2011-07-05 19:45:01\n          updated_at: NULL\n          deleted_at: NULL\n             deleted: 0\n                  id: 3\n             address: 0.0.0.2\n          network_id: 1\n         instance_id: NULL\n           allocated: 0\n              leased: 0\n            reserved: 0\nvirtual_interface_id: NULL\n3 rows in set (0.00 sec)\n\n\nFrom nova-manage.log:\n2011-07-05 14:45:01,618 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.pyc'> from (pid=6800) __get_backend /usr/lib/pymodules/python2.6/nova/utils.py:417\n2011-07-05 14:45:02,280 CRITICAL nova [-] index out range for address range size!\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 1276, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 1265, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 611, in create\n(nova): TRACE:     bridge_interface=bridge_interface)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 558, in create_networks\n(nova): TRACE:     cidr = '%s/%s' % (fixed_net[start], significant_bits)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/netaddr/ip/__init__.py\", line 917, in __getitem__\n(nova): TRACE:     raise IndexError('index out range for address range size!')\n(nova): TRACE: IndexError: index out range for address range size!\n(nova): TRACE: \n\nNothing logged in nova-network.log\n\nNothing logged in nova-api.log", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 18, 
    "link": "https://bugs.launchpad.net/nova/+bug/806168", 
    "owner": "None", 
    "id": 806168, 
    "index": 3457, 
    "openned": "2011-07-05 20:22:21.599401+00:00", 
    "created": "2011-07-05 20:22:21.599401+00:00", 
    "title": "nova-manage create network does not use network specified on command line", 
    "comments": [
        {
            "content": "This is similar to https://bugs.launchpad.net/nova/+bug/740810\n\nI have troubleshooting also at http://paste.openstack.org/show/1842/\n\nIt seems that when I enter the following command:\n\nnova-manage network create 10.0.1.64/27 1 10\n\nIt thinks the cidr is 0.0.0.1/24\n\nroot@d64-controller:~# cat /var/log/nova/nova-manage.log \n2011-07-05 14:45:01,618 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.pyc'> from (pid=6800) __get_backend /usr/lib/pymodules/python2.6/nova/utils.py:417\n2011-07-05 14:45:02,280 CRITICAL nova [-] index out range for address range size\n\nmysql> select * from networks\\G\n*************************** 1. row ***************************\n         created_at: 2011-07-05 19:45:01\n         updated_at: NULL\n         deleted_at: NULL\n            deleted: 0\n                 id: 1\n           injected: 0\n               cidr: 0.0.0.1/24\n            netmask: 255.255.255.0\n             bridge: xenbr0\n            gateway: 0.0.0.1\n          broadcast: 0.0.0.255\n                dns: 8.8.4.4\n               vlan: NULL\n vpn_public_address: NULL\n    vpn_public_port: NULL\nvpn_private_address: NULL\n         dhcp_start: 0.0.0.2\n         project_id: NULL\n               host: NULL\n            cidr_v6: NULL\n         gateway_v6: NULL\n              label: 10.0.1.64/27_0\n         netmask_v6: NULL\n   bridge_interface: NULL\n1 row in set (0.01 sec)\n\n\nmysql> select * from fixed_ips limit 3\\G\n*************************** 1. row ***************************\n          created_at: 2011-07-05 19:45:01\n          updated_at: NULL\n          deleted_at: NULL\n             deleted: 0\n                  id: 1\n             address: 0.0.0.0\n          network_id: 1\n         instance_id: NULL\n           allocated: 0\n              leased: 0\n            reserved: 1\nvirtual_interface_id: NULL\n*************************** 2. row ***************************\n          created_at: 2011-07-05 19:45:01\n          updated_at: NULL\n          deleted_at: NULL\n             deleted: 0\n                  id: 2\n             address: 0.0.0.1\n          network_id: 1\n         instance_id: NULL\n           allocated: 0\n              leased: 0\n            reserved: 1\nvirtual_interface_id: NULL\n*************************** 3. row ***************************\n          created_at: 2011-07-05 19:45:01\n          updated_at: NULL\n          deleted_at: NULL\n             deleted: 0\n                  id: 3\n             address: 0.0.0.2\n          network_id: 1\n         instance_id: NULL\n           allocated: 0\n              leased: 0\n            reserved: 0\nvirtual_interface_id: NULL\n3 rows in set (0.00 sec)\n\n\nFrom nova-manage.log:\n2011-07-05 14:45:01,618 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.pyc'> from (pid=6800) __get_backend /usr/lib/pymodules/python2.6/nova/utils.py:417\n2011-07-05 14:45:02,280 CRITICAL nova [-] index out range for address range size!\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 1276, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 1265, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 611, in create\n(nova): TRACE:     bridge_interface=bridge_interface)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 558, in create_networks\n(nova): TRACE:     cidr = '%s/%s' % (fixed_net[start], significant_bits)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/netaddr/ip/__init__.py\", line 917, in __getitem__\n(nova): TRACE:     raise IndexError('index out range for address range size!')\n(nova): TRACE: IndexError: index out range for address range size!\n(nova): TRACE: \n\nNothing logged in nova-network.log\n\nNothing logged in nova-api.log", 
            "date_created": "2011-07-05 20:22:21.599401+00:00", 
            "author": "https://api.launchpad.net/1.0/~cblument"
        }, 
        {
            "content": "Can't reproduce that.\r\n\r\n$ sudo nova-manage network create 10.0.1.64/27 1 10\r\n$ sudo nova-manage network list\r\nnetwork           \tnetmask        \tstart address  \tDNS            \r\n10.0.1.64/29      \t255.255.255.248\t10.0.1.67      \tNone\r\n\r\nWhat version are you using ? On what OS ?", 
            "date_created": "2011-07-08 10:22:05.060425+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "With trunk you need to add a label.\n\nnova-manage network create public 10.0.1.64/27 1 10\n\nSorry for the confusion caused by the parameters changing.\n\nOn Jul 5, 2011, at 1:22 PM, Chris Blumentritt wrote:\n\n> Public bug reported:\n> \n> This is similar to https://bugs.launchpad.net/nova/+bug/740810\n> \n> I have troubleshooting also at http://paste.openstack.org/show/1842/\n> \n> It seems that when I enter the following command:\n> \n> nova-manage network create 10.0.1.64/27 1 10\n> \n> It thinks the cidr is 0.0.0.1/24\n> \n> root@d64-controller:~# cat /var/log/nova/nova-manage.log \n> 2011-07-05 14:45:01,618 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.pyc'> from (pid=6800) __get_backend /usr/lib/pymodules/python2.6/nova/utils.py:417\n> 2011-07-05 14:45:02,280 CRITICAL nova [-] index out range for address range size\n> \n> mysql> select * from networks\\G\n> *************************** 1. row ***************************\n>         created_at: 2011-07-05 19:45:01\n>         updated_at: NULL\n>         deleted_at: NULL\n>            deleted: 0\n>                 id: 1\n>           injected: 0\n>               cidr: 0.0.0.1/24\n>            netmask: 255.255.255.0\n>             bridge: xenbr0\n>            gateway: 0.0.0.1\n>          broadcast: 0.0.0.255\n>                dns: 8.8.4.4\n>               vlan: NULL\n> vpn_public_address: NULL\n>    vpn_public_port: NULL\n> vpn_private_address: NULL\n>         dhcp_start: 0.0.0.2\n>         project_id: NULL\n>               host: NULL\n>            cidr_v6: NULL\n>         gateway_v6: NULL\n>              label: 10.0.1.64/27_0\n>         netmask_v6: NULL\n>   bridge_interface: NULL\n> 1 row in set (0.01 sec)\n> \n> \n> mysql> select * from fixed_ips limit 3\\G\n> *************************** 1. row ***************************\n>          created_at: 2011-07-05 19:45:01\n>          updated_at: NULL\n>          deleted_at: NULL\n>             deleted: 0\n>                  id: 1\n>             address: 0.0.0.0\n>          network_id: 1\n>         instance_id: NULL\n>           allocated: 0\n>              leased: 0\n>            reserved: 1\n> virtual_interface_id: NULL\n> *************************** 2. row ***************************\n>          created_at: 2011-07-05 19:45:01\n>          updated_at: NULL\n>          deleted_at: NULL\n>             deleted: 0\n>                  id: 2\n>             address: 0.0.0.1\n>          network_id: 1\n>         instance_id: NULL\n>           allocated: 0\n>              leased: 0\n>            reserved: 1\n> virtual_interface_id: NULL\n> *************************** 3. row ***************************\n>          created_at: 2011-07-05 19:45:01\n>          updated_at: NULL\n>          deleted_at: NULL\n>             deleted: 0\n>                  id: 3\n>             address: 0.0.0.2\n>          network_id: 1\n>         instance_id: NULL\n>           allocated: 0\n>              leased: 0\n>            reserved: 0\n> virtual_interface_id: NULL\n> 3 rows in set (0.00 sec)\n> \n> \n>> From nova-manage.log:\n> 2011-07-05 14:45:01,618 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.pyc'> from (pid=6800) __get_backend /usr/lib/pymodules/python2.6/nova/utils.py:417\n> 2011-07-05 14:45:02,280 CRITICAL nova [-] index out range for address range size!\n> (nova): TRACE: Traceback (most recent call last):\n> (nova): TRACE:   File \"/usr/bin/nova-manage\", line 1276, in <module>\n> (nova): TRACE:     main()\n> (nova): TRACE:   File \"/usr/bin/nova-manage\", line 1265, in main\n> (nova): TRACE:     fn(*argv)\n> (nova): TRACE:   File \"/usr/bin/nova-manage\", line 611, in create\n> (nova): TRACE:     bridge_interface=bridge_interface)\n> (nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 558, in create_networks\n> (nova): TRACE:     cidr = '%s/%s' % (fixed_net[start], significant_bits)\n> (nova): TRACE:   File \"/usr/lib/pymodules/python2.6/netaddr/ip/__init__.py\", line 917, in __getitem__\n> (nova): TRACE:     raise IndexError('index out range for address range size!')\n> (nova): TRACE: IndexError: index out range for address range size!\n> (nova): TRACE: \n> \n> Nothing logged in nova-network.log\n> \n> Nothing logged in nova-api.log\n> \n> ** Affects: nova\n>     Importance: Undecided\n>         Status: New\n> \n> -- \n> You received this bug notification because you are a member of Nova Bug\n> Team, which is subscribed to OpenStack Compute (nova).\n> https://bugs.launchpad.net/bugs/806168\n> \n> Title:\n>  nova-manage create network does not use network specified on command\n>  line\n> \n> Status in OpenStack Compute (Nova):\n>  New\n> \n> Bug description:\n>  This is similar to https://bugs.launchpad.net/nova/+bug/740810\n> \n>  I have troubleshooting also at http://paste.openstack.org/show/1842/\n> \n>  It seems that when I enter the following command:\n> \n>  nova-manage network create 10.0.1.64/27 1 10\n> \n>  It thinks the cidr is 0.0.0.1/24\n> \n>  root@d64-controller:~# cat /var/log/nova/nova-manage.log \n>  2011-07-05 14:45:01,618 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.pyc'> from (pid=6800) __get_backend /usr/lib/pymodules/python2.6/nova/utils.py:417\n>  2011-07-05 14:45:02,280 CRITICAL nova [-] index out range for address range size\n> \n>  mysql> select * from networks\\G\n>  *************************** 1. row ***************************\n>           created_at: 2011-07-05 19:45:01\n>           updated_at: NULL\n>           deleted_at: NULL\n>              deleted: 0\n>                   id: 1\n>             injected: 0\n>                 cidr: 0.0.0.1/24\n>              netmask: 255.255.255.0\n>               bridge: xenbr0\n>              gateway: 0.0.0.1\n>            broadcast: 0.0.0.255\n>                  dns: 8.8.4.4\n>                 vlan: NULL\n>   vpn_public_address: NULL\n>      vpn_public_port: NULL\n>  vpn_private_address: NULL\n>           dhcp_start: 0.0.0.2\n>           project_id: NULL\n>                 host: NULL\n>              cidr_v6: NULL\n>           gateway_v6: NULL\n>                label: 10.0.1.64/27_0\n>           netmask_v6: NULL\n>     bridge_interface: NULL\n>  1 row in set (0.01 sec)\n> \n> \n>  mysql> select * from fixed_ips limit 3\\G\n>  *************************** 1. row ***************************\n>            created_at: 2011-07-05 19:45:01\n>            updated_at: NULL\n>            deleted_at: NULL\n>               deleted: 0\n>                    id: 1\n>               address: 0.0.0.0\n>            network_id: 1\n>           instance_id: NULL\n>             allocated: 0\n>                leased: 0\n>              reserved: 1\n>  virtual_interface_id: NULL\n>  *************************** 2. row ***************************\n>            created_at: 2011-07-05 19:45:01\n>            updated_at: NULL\n>            deleted_at: NULL\n>               deleted: 0\n>                    id: 2\n>               address: 0.0.0.1\n>            network_id: 1\n>           instance_id: NULL\n>             allocated: 0\n>                leased: 0\n>              reserved: 1\n>  virtual_interface_id: NULL\n>  *************************** 3. row ***************************\n>            created_at: 2011-07-05 19:45:01\n>            updated_at: NULL\n>            deleted_at: NULL\n>               deleted: 0\n>                    id: 3\n>               address: 0.0.0.2\n>            network_id: 1\n>           instance_id: NULL\n>             allocated: 0\n>                leased: 0\n>              reserved: 0\n>  virtual_interface_id: NULL\n>  3 rows in set (0.00 sec)\n> \n> \n>  From nova-manage.log:\n>  2011-07-05 14:45:01,618 DEBUG nova.utils [-] backend <module 'nova.db.sqlalchemy.api' from '/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.pyc'> from (pid=6800) __get_backend /usr/lib/pymodules/python2.6/nova/utils.py:417\n>  2011-07-05 14:45:02,280 CRITICAL nova [-] index out range for address range size!\n>  (nova): TRACE: Traceback (most recent call last):\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 1276, in <module>\n>  (nova): TRACE:     main()\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 1265, in main\n>  (nova): TRACE:     fn(*argv)\n>  (nova): TRACE:   File \"/usr/bin/nova-manage\", line 611, in create\n>  (nova): TRACE:     bridge_interface=bridge_interface)\n>  (nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/network/manager.py\", line 558, in create_networks\n>  (nova): TRACE:     cidr = '%s/%s' % (fixed_net[start], significant_bits)\n>  (nova): TRACE:   File \"/usr/lib/pymodules/python2.6/netaddr/ip/__init__.py\", line 917, in __getitem__\n>  (nova): TRACE:     raise IndexError('index out range for address range size!')\n>  (nova): TRACE: IndexError: index out range for address range size!\n>  (nova): TRACE: \n> \n>  Nothing logged in nova-network.log\n> \n>  Nothing logged in nova-api.log\n> \n> To manage notifications about this bug go to:\n> https://bugs.launchpad.net/nova/+bug/806168/+subscriptions\n\n", 
            "date_created": "2011-07-08 19:37:22+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }
    ], 
    "closed": "2011-07-17 19:24:14.122521+00:00"
}