{
    "status": "Invalid", 
    "last_updated": "2014-09-19 21:33:00.222540+00:00", 
    "description": "Saw a check job fail because of this:\n\nhttp://logs.openstack.org/07/119807/4/check/check-tempest-dsvm-neutron-full/0f94eb8/logs/screen-n-cpu.txt.gz#_2014-09-18_08_44_46_864\n\nLogstash query:\n\nmessage:\"TypeError: compute_node_get_all_by_host() takes exactly 2 arguments (3 given)\" AND tags:\"screen-n-cpu.txt\"\n\n6 hits in the last 7 days, check jobs, all failures\n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwiVHlwZUVycm9yOiBjb21wdXRlX25vZGVfZ2V0X2FsbF9ieV9ob3N0KCkgdGFrZXMgZXhhY3RseSAyIGFyZ3VtZW50cyAoMyBnaXZlbilcIiBBTkQgdGFnczpcInNjcmVlbi1uLWNwdS50eHRcIiIsImZpZWxkcyI6WyJidWlsZF9zaG9ydF91dWlkIl0sIm9mZnNldCI6MCwidGltZWZyYW1lIjoiNjA0ODAwIiwiZ3JhcGhtb2RlIjoiY291bnQiLCJ0aW1lIjp7InVzZXJfaW50ZXJ2YWwiOjB9LCJzdGFtcCI6MTQxMTE2MTMyMTAwMX0=\n\nTrace:\n\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/openstack/common/threadgroup.py\", line 125, in wait\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     x.wait()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/openstack/common/threadgroup.py\", line 47, in wait\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 173, in wait\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/event.py\", line 121, in wait\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 293, in switch\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/openstack/common/service.py\", line 490, in run_service\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     service.start()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/service.py\", line 181, in start\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     self.manager.pre_start_hook()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 1152, in pre_start_hook\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     self.update_available_resource(nova.context.get_admin_context())\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 5920, in update_available_resource\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     compute_nodes_in_db = self._get_compute_nodes_in_db(context)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 5931, in _get_compute_nodes_in_db\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     use_slave=use_slave)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/objects/base.py\", line 153, in wrapper\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     args, kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/conductor/rpcapi.py\", line 341, in object_class_action\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     objver=objver, args=args, kwargs=kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 152, in call\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     retry=self.retry)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     timeout=timeout, retry=retry)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 408, in send\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     retry=retry)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 399, in _send\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     raise result\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup TypeError: compute_node_get_all_by_host() takes exactly 2 arguments (3 given)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup \n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/conductor/manager.py\", line 400, in _object_dispatch\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return getattr(target, method)(context, *args, **kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup \n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/objects/base.py\", line 155, in wrapper\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     result = fn(cls, context, *args, **kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup \n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/objects/compute_node.py\", line 185, in get_all_by_host\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     db_computes = db.compute_node_get_all_by_host(context, host, use_slave)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup \n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup TypeError: compute_node_get_all_by_host() takes exactly 2 arguments (3 given)", 
    "tags": [
        "compute"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1371798", 
    "owner": "None", 
    "id": 1371798, 
    "index": 6436, 
    "openned": "2014-09-19 21:16:47.705145+00:00", 
    "created": "2014-09-19 21:16:47.705145+00:00", 
    "title": "TypeError: compute_node_get_all_by_host() takes exactly 2 arguments (3 given)", 
    "comments": [
        {
            "content": "Saw a check job fail because of this:\n\nhttp://logs.openstack.org/07/119807/4/check/check-tempest-dsvm-neutron-full/0f94eb8/logs/screen-n-cpu.txt.gz#_2014-09-18_08_44_46_864\n\nLogstash query:\n\nmessage:\"TypeError: compute_node_get_all_by_host() takes exactly 2 arguments (3 given)\" AND tags:\"screen-n-cpu.txt\"\n\n6 hits in the last 7 days, check jobs, all failures\n\nhttp://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwiVHlwZUVycm9yOiBjb21wdXRlX25vZGVfZ2V0X2FsbF9ieV9ob3N0KCkgdGFrZXMgZXhhY3RseSAyIGFyZ3VtZW50cyAoMyBnaXZlbilcIiBBTkQgdGFnczpcInNjcmVlbi1uLWNwdS50eHRcIiIsImZpZWxkcyI6WyJidWlsZF9zaG9ydF91dWlkIl0sIm9mZnNldCI6MCwidGltZWZyYW1lIjoiNjA0ODAwIiwiZ3JhcGhtb2RlIjoiY291bnQiLCJ0aW1lIjp7InVzZXJfaW50ZXJ2YWwiOjB9LCJzdGFtcCI6MTQxMTE2MTMyMTAwMX0=\n\nTrace:\n\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/openstack/common/threadgroup.py\", line 125, in wait\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     x.wait()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/openstack/common/threadgroup.py\", line 47, in wait\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return self.thread.wait()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 173, in wait\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return self._exit_event.wait()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/event.py\", line 121, in wait\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return hubs.get_hub().switch()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 293, in switch\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return self.greenlet.switch()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 212, in main\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     result = function(*args, **kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/openstack/common/service.py\", line 490, in run_service\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     service.start()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/service.py\", line 181, in start\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     self.manager.pre_start_hook()\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 1152, in pre_start_hook\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     self.update_available_resource(nova.context.get_admin_context())\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 5920, in update_available_resource\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     compute_nodes_in_db = self._get_compute_nodes_in_db(context)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/compute/manager.py\", line 5931, in _get_compute_nodes_in_db\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     use_slave=use_slave)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/objects/base.py\", line 153, in wrapper\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     args, kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/conductor/rpcapi.py\", line 341, in object_class_action\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     objver=objver, args=args, kwargs=kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/rpc/client.py\", line 152, in call\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     retry=self.retry)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/transport.py\", line 90, in _send\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     timeout=timeout, retry=retry)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 408, in send\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     retry=retry)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/usr/local/lib/python2.7/dist-packages/oslo/messaging/_drivers/amqpdriver.py\", line 399, in _send\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     raise result\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup TypeError: compute_node_get_all_by_host() takes exactly 2 arguments (3 given)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup Traceback (most recent call last):\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup \n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/conductor/manager.py\", line 400, in _object_dispatch\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     return getattr(target, method)(context, *args, **kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup \n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/objects/base.py\", line 155, in wrapper\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     result = fn(cls, context, *args, **kwargs)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup \n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup   File \"/opt/stack/new/nova/nova/objects/compute_node.py\", line 185, in get_all_by_host\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup     db_computes = db.compute_node_get_all_by_host(context, host, use_slave)\n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup \n2014-09-18 08:44:46.864 31775 TRACE nova.openstack.common.threadgroup TypeError: compute_node_get_all_by_host() takes exactly 2 arguments (3 given)", 
            "date_created": "2014-09-19 21:16:47.705145+00:00", 
            "author": "https://api.launchpad.net/1.0/~melwitt"
        }, 
        {
            "content": "Ignore me, this was from the change itself.", 
            "date_created": "2014-09-19 21:32:55.846288+00:00", 
            "author": "https://api.launchpad.net/1.0/~melwitt"
        }
    ], 
    "closed": "2014-09-19 21:32:57.656152+00:00"
}