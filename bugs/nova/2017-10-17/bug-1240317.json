{
    "status": "Won't Fix", 
    "last_updated": "2016-02-10 16:04:32.003813+00:00", 
    "description": "when i try to resize my instance alter live migrate(block_migrate).i found some error message in nova-compute.log on my compute node.\nerror message:\n2013-10-15 18:52:09.276 ERROR nova.compute.manager [req-8b4330c7-1ea6-404a-ad0d-4f064e6b9643 None None] [instance: 28b509bb-dfe9-4793-a9f8-b121ab16aa6c] t3.uuzu.idc is not a valid node managed by this compute host.. Setting instance vm_state to ERROR\n2013-10-15 18:52:09.445 ERROR nova.openstack.common.rpc.amqp [req-8b4330c7-1ea6-404a-ad0d-4f064e6b9643 None None] Exception during message handling\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 430, in _process_data\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/dispatcher.py\", line 133, in dispatch\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 117, in wrapped\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 94, in wrapped\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 260, in decorated_function\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     function(self, context, *args, **kwargs)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 237, in decorated_function\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     e, sys.exc_info())\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 224, in decorated_function\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2050, in confirm_resize\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     rt = self._get_resource_tracker(migration['source_node'])\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 361, in _get_resource_tracker\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     raise exception.NovaException(msg)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp NovaException: t3.uuzu.idc is not a valid node managed by this compute host.\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp \n\nI found the instance is on the new host t3.uuzu.idc. but the status is ERROR. \nVersion is Grizzly.", 
    "tags": [
        "compute", 
        "live-migration", 
        "resize"
    ], 
    "importance": "Medium", 
    "heat": 18, 
    "link": "https://bugs.launchpad.net/nova/+bug/1240317", 
    "owner": "None", 
    "id": 1240317, 
    "index": 3652, 
    "openned": "2013-10-16 03:22:11.635319+00:00", 
    "created": "2013-10-16 03:22:11.635319+00:00", 
    "title": "can't resize after live migrate(block_migrate)", 
    "comments": [
        {
            "content": "when i try to resize my instance alter live migrate(block_migrate).i found some error message in nova-compute.log on my compute node.\nerror message:\n2013-10-15 18:52:09.276 ERROR nova.compute.manager [req-8b4330c7-1ea6-404a-ad0d-4f064e6b9643 None None] [instance: 28b509bb-dfe9-4793-a9f8-b121ab16aa6c] t3.uuzu.idc is not a valid node managed by this compute host.. Setting instance vm_state to ERROR\n2013-10-15 18:52:09.445 ERROR nova.openstack.common.rpc.amqp [req-8b4330c7-1ea6-404a-ad0d-4f064e6b9643 None None] Exception during message handling\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/amqp.py\", line 430, in _process_data\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/rpc/dispatcher.py\", line 133, in dispatch\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 117, in wrapped\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 94, in wrapped\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 260, in decorated_function\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     function(self, context, *args, **kwargs)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 237, in decorated_function\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     e, sys.exc_info())\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 224, in decorated_function\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 2050, in confirm_resize\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     rt = self._get_resource_tracker(migration['source_node'])\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 361, in _get_resource_tracker\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp     raise exception.NovaException(msg)\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp NovaException: t3.uuzu.idc is not a valid node managed by this compute host.\n2013-10-15 18:52:09.445 17864 TRACE nova.openstack.common.rpc.amqp \n\nI found the instance is on the new host t3.uuzu.idc. but the status is ERROR. \nVersion is Grizzly.", 
            "date_created": "2013-10-16 03:22:11.635319+00:00", 
            "author": "https://api.launchpad.net/1.0/~jglyq1982"
        }, 
        {
            "content": "Are there any errors in the nova scheduler log?  Are there any different errors listed in the instance fault property for the instance?", 
            "date_created": "2013-11-16 20:50:44.517838+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Asking for more information from user.", 
            "date_created": "2013-11-18 19:34:22.664100+00:00", 
            "author": "https://api.launchpad.net/1.0/~melwitt"
        }, 
        {
            "content": "Any update on this?", 
            "date_created": "2014-07-15 01:27:32.479680+00:00", 
            "author": "https://api.launchpad.net/1.0/~h-tanizawa"
        }, 
        {
            "content": "Long incomplete bug, please reopen if you can provide the new info.", 
            "date_created": "2014-09-18 12:41:00.181463+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "2014-10-01 22:50:22.612 24766 ERROR nova.compute.manager [req-c7c8f643-6b3a-4ca2-99c6-be252dc12b87 fba8a3983484473ebb5caf6af441c282 04d61c2227bc448397fcbf035dd76890] [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25] Setting instance vm_state to ERROR\n2014-10-01 22:50:22.612 24766 TRACE nova.compute.manager [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25] Traceback (most recent call last):\n2014-10-01 22:50:22.612 24766 TRACE nova.compute.manager [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 5538, in _error_out_instance_on_exception\n2014-10-01 22:50:22.612 24766 TRACE nova.compute.manager [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25]     yield\n2014-10-01 22:50:22.612 24766 TRACE nova.compute.manager [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 3117, in _confirm_resize\n2014-10-01 22:50:22.612 24766 TRACE nova.compute.manager [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25]     rt = self._get_resource_tracker(migration.source_node)\n2014-10-01 22:50:22.612 24766 TRACE nova.compute.manager [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25]   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 613, in _get_resource_tracker\n2014-10-01 22:50:22.612 24766 TRACE nova.compute.manager [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25]     \"compute host.\") % nodename)\n2014-10-01 22:50:22.612 24766 TRACE nova.compute.manager [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25] NovaException: compute2 is not a valid node managed by this compute host.\n2014-10-01 22:50:22.612 24766 TRACE nova.compute.manager [instance: fbefc220-0ef0-4c4d-a06d-31709e022e25] \n2014-10-01 22:50:22.747 24766 ERROR oslo.messaging.rpc.dispatcher [-] Exception during message handling: compute2 is not a valid node managed by this compute host.\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher Traceback (most recent call last):\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     incoming.message))\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     return self._do_dispatch(endpoint, method, ctxt, args)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     result = getattr(endpoint, method)(ctxt, **new_args)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 88, in wrapped\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     payload)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 71, in wrapped\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     return f(self, context, *args, **kw)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 333, in decorated_function\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     function(self, context, *args, **kwargs)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 309, in decorated_function\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     e, sys.exc_info())\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     six.reraise(self.type_, self.value, self.tb)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 296, in decorated_function\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     return function(self, context, *args, **kwargs)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 3088, in confirm_resize\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     do_confirm_resize(context, instance, migration.id)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/lockutils.py\", line 249, in inner\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     return f(*args, **kwargs)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 3086, in do_confirm_resize\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     migration=migration)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 3117, in _confirm_resize\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     rt = self._get_resource_tracker(migration.source_node)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher   File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 613, in _get_resource_tracker\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher     \"compute host.\") % nodename)\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher NovaException: compute2 is not a valid node managed by this compute host.\n2014-10-01 22:50:22.747 24766 TRACE oslo.messaging.rpc.dispatcher \n2014-10-01 22:50:22.750 24766 ERROR oslo.messaging._drivers.common [-] Returning exception compute2 is not a valid node managed by this compute host. to caller\n2014-10-01 22:50:22.751 24766 ERROR oslo.messaging._drivers.common [-] ['Traceback (most recent call last):\\n', '  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 133, in _dispatch_and_reply\\n    incoming.message))\\n', '  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 176, in _dispatch\\n    return self._do_dispatch(endpoint, method, ctxt, args)\\n', '  File \"/usr/lib/python2.7/dist-packages/oslo/messaging/rpc/dispatcher.py\", line 122, in _do_dispatch\\n    result = getattr(endpoint, method)(ctxt, **new_args)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 88, in wrapped\\n    payload)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/exception.py\", line 71, in wrapped\\n    return f(self, context, *args, **kw)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 333, in decorated_function\\n    function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 309, in decorated_function\\n    e, sys.exc_info())\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/excutils.py\", line 68, in __exit__\\n    six.reraise(self.type_, self.value, self.tb)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 296, in decorated_function\\n    return function(self, context, *args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 3088, in confirm_resize\\n    do_confirm_resize(context, instance, migration.id)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/openstack/common/lockutils.py\", line 249, in inner\\n    return f(*args, **kwargs)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 3086, in do_confirm_resize\\n    migration=migration)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 3117, in _confirm_resize\\n    rt = self._get_resource_tracker(migration.source_node)\\n', '  File \"/usr/lib/python2.7/dist-packages/nova/compute/manager.py\", line 613, in _get_resource_tracker\\n    \"compute host.\") % nodename)\\n', 'NovaException: compute2 is not a valid node managed by this compute host.\\n']", 
            "date_created": "2014-10-02 00:21:56.227286+00:00", 
            "author": "https://api.launchpad.net/1.0/~reyaram-alcantara"
        }, 
        {
            "content": "I forgot to add the destination compute current resource avialability:\n\n2014-10-02 06:51:52.006 4020 AUDIT nova.compute.resource_tracker [-] Updating from migration 269e5088-4570-48f0-a6a6-a914e9b06afa\n2014-10-02 06:51:52.007 4020 AUDIT nova.compute.resource_tracker [-] Free ram (MB): 107889\n2014-10-02 06:51:52.008 4020 AUDIT nova.compute.resource_tracker [-] Free disk (GB): 107\n2014-10-02 06:51:52.008 4020 AUDIT nova.compute.resource_tracker [-] Free VCPUS: 22\n2014-10-02 06:51:52.040 4020 INFO nova.compute.resource_tracker [-] Compute_service record updated for compute2:compute2\n\nHere is also the services manage by Nova:\n\nBinary           Host                                 Zone             Status     State Updated_At\nnova-consoleauth controller1                          internal         enabled    :-)   2014-10-02 00:24:23\nnova-conductor   controller1                          internal         enabled    :-)   2014-10-02 00:24:17\nnova-cert        controller1                          internal         enabled    :-)   2014-10-02 00:24:24\nnova-scheduler   controller1                          internal         enabled    :-)   2014-10-02 00:24:21\nnova-compute     compute1                             nova             enabled    :-)   2014-10-02 00:24:22\nnova-network     compute1                             internal         enabled    :-)   2014-10-02 00:24:21\nnova-compute     compute2                             nova             enabled    :-)   2014-10-02 00:24:26\nnova-network     compute2                             internal         enabled    :-)   2014-10-02 00:24:16\nnova-compute     compute3                             nova             enabled    :-)   2014-10-02 00:24:16\nnova-network     compute3                             internal         enabled    :-)   2014-10-02 00:24:20\nnova-compute     compute4                             nova             enabled    :-)   2014-10-02 00:24:25\nnova-network     compute4                             internal         enabled    :-)   2014-10-02 00:24:19\nnova-compute     compute5                             nova             enabled    :-)   2014-10-02 00:24:25\nnova-network     compute5                             internal         enabled    :-)   2014-10-02 00:24:22\nnova-compute     compute6                             nova             enabled    :-)   2014-10-02 00:24:18\nnova-network     compute6                             internal         enabled    :-)   2014-10-02 00:24:20\nnova-compute     compute7                             nova             enabled    :-)   2014-10-02 00:24:24\nnova-network     compute7                             internal         enabled    :-)   2014-10-02 00:24:25", 
            "date_created": "2014-10-02 00:25:08.517100+00:00", 
            "author": "https://api.launchpad.net/1.0/~reyaram-alcantara"
        }, 
        {
            "content": "The bug seems to be valid, the driver is incorrectly reporting the node as unavailable", 
            "date_created": "2014-10-02 09:11:11.466936+00:00", 
            "author": "https://api.launchpad.net/1.0/~sylvain-bauza"
        }, 
        {
            "content": "hi , I 'd like to mark this as incomplete because I can not reproduce it with your step in my environment.\n\ntaget@liyong:/opt/stack/nova$ git log \ncommit 183cd88cb2f9781b53f71b6b161df401c286c9ff\nMerge: 3ee98a6 2833f8c\nAuthor: Jenkins <email address hidden>\nDate:   Sun Jul 26 13:34:34 2015 +0000\n\n    Merge \"remove _rescan_iscsi from disconnect_volume_multipath_iscsi\"\n\n\ntaget@liyong:/opt/stack$ nova live-migration  test1 liyong2 --block-migrate\ntaget@liyong:/opt/stack$ nova show test1\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| 192_net network                      | 192.168.0.32                                                   |\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-SRV-ATTR:host                 | liyong2                                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | liyong2                                                        |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000061                                              |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2015-08-28T07:00:41.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2015-08-28T07:00:31Z                                           |\n| flavor                               | m1.tiny (1)                                                    |\n| hostId                               | 7a2a33df86ec0a0aa08ab1337c6adf00e80573c5cefd403b05a02ceb       |\n| id                                   | e00e9012-2832-4256-b820-ec5ae4769dd8                           |\n| image                                | cirros-0.3.2-x86_64-uec (93169d18-1bb2-45f7-861c-6735ef687db9) |\n| key_name                             | -                                                              |\n| metadata                             | {}                                                             |\n| name                                 | test1                                                          |\n| os-extended-volumes:volumes_attached | []                                                             |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | ACTIVE                                                         |\n| tenant_id                            | 52a0ee83fb524376bd603547aea415a3                               |\n| updated                              | 2015-08-28T07:02:19Z                                           |\n| user_id                              | bea64c5634ae4f079c1c69ed29a68242                               |\n+--------------------------------------+----------------------------------------------------------------+\n\ntaget@liyong:/opt/stack$ nova resize test1 2\ntaget@liyong:/opt/stack$ nova list\n+--------------------------------------+-------+--------+------------------+-------------+----------+\n| ID                                   | Name  | Status | Task State       | Power State | Networks |\n+--------------------------------------+-------+--------+------------------+-------------+----------+\n| e00e9012-2832-4256-b820-ec5ae4769dd8 | test1 | RESIZE | resize_migrating | Running     |          |\n+--------------------------------------+-------+--------+------------------+-------------+----------+\ntaget@liyong:/opt/stack$ nova list\n+--------------------------------------+-------+--------+---------------+-------------+----------+\n| ID                                   | Name  | Status | Task State    | Power State | Networks |\n+--------------------------------------+-------+--------+---------------+-------------+----------+\n| e00e9012-2832-4256-b820-ec5ae4769dd8 | test1 | RESIZE | resize_finish | Running     |          |\n+--------------------------------------+-------+--------+---------------+-------------+----------+\ntaget@liyong:/opt/stack$ nova show test1\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| 192_net network                      | 192.168.0.32                                                   |\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-SRV-ATTR:host                 | liyong                                                         |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | liyong                                                         |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000061                                              |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | resized                                                        |\n| OS-SRV-USG:launched_at               | 2015-08-28T07:03:52.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2015-08-28T07:00:31Z                                           |\n| flavor                               | m1.small (2)                                                   |\n| hostId                               | 055c6f457079f44ab2328e541b09f610708c9aab18689588777e3e3e       |\n| id                                   | e00e9012-2832-4256-b820-ec5ae4769dd8                           |\n| image                                | cirros-0.3.2-x86_64-uec (93169d18-1bb2-45f7-861c-6735ef687db9) |\n| key_name                             | -                                                              |\n| metadata                             | {}                                                             |\n| name                                 | test1                                                          |\n| os-extended-volumes:volumes_attached | []                                                             |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | VERIFY_RESIZE                                                  |\n| tenant_id                            | 52a0ee83fb524376bd603547aea415a3                               |\n| updated                              | 2015-08-28T07:03:52Z                                           |\n| user_id                              | bea64c5634ae4f079c1c69ed29a68242                               |\n+--------------------------------------+----------------------------------------------------------------+\ntaget@liyong:/opt/stack$ nova resize-revert test1\ntaget@liyong:/opt/stack$ nova show test1\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| 192_net network                      | 192.168.0.32                                                   |\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-SRV-ATTR:host                 | liyong2                                                        |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | liyong2                                                        |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000061                                              |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2015-08-28T07:04:19.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2015-08-28T07:00:31Z                                           |\n| flavor                               | m1.tiny (1)                                                    |\n| hostId                               | 7a2a33df86ec0a0aa08ab1337c6adf00e80573c5cefd403b05a02ceb       |\n| id                                   | e00e9012-2832-4256-b820-ec5ae4769dd8                           |\n| image                                | cirros-0.3.2-x86_64-uec (93169d18-1bb2-45f7-861c-6735ef687db9) |\n| key_name                             | -                                                              |\n| metadata                             | {}                                                             |\n| name                                 | test1                                                          |\n| os-extended-volumes:volumes_attached | []                                                             |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | ACTIVE                                                         |\n| tenant_id                            | 52a0ee83fb524376bd603547aea415a3                               |\n| updated                              | 2015-08-28T07:04:19Z                                           |\n| user_id                              | bea64c5634ae4f079c1c69ed29a68242                               |\n+--------------------------------------+----------------------------------------------------------------+\ntaget@liyong:/opt/stack$ nova resize test1 3\ntaget@liyong:/opt/stack$ nova list\n+--------------------------------------+-------+--------+------------------+-------------+----------+\n| ID                                   | Name  | Status | Task State       | Power State | Networks |\n+--------------------------------------+-------+--------+------------------+-------------+----------+\n| e00e9012-2832-4256-b820-ec5ae4769dd8 | test1 | RESIZE | resize_migrating | Running     |          |\n+--------------------------------------+-------+--------+------------------+-------------+----------+\ntaget@liyong:/opt/stack$ nova list\n+--------------------------------------+-------+--------+-----------------+-------------+----------+\n| ID                                   | Name  | Status | Task State      | Power State | Networks |\n+--------------------------------------+-------+--------+-----------------+-------------+----------+\n| e00e9012-2832-4256-b820-ec5ae4769dd8 | test1 | RESIZE | resize_migrated | Running     |          |\n+--------------------------------------+-------+--------+-----------------+-------------+----------+\ntaget@liyong:/opt/stack$ nova list\n+--------------------------------------+-------+--------+---------------+-------------+----------+\n| ID                                   | Name  | Status | Task State    | Power State | Networks |\n+--------------------------------------+-------+--------+---------------+-------------+----------+\n| e00e9012-2832-4256-b820-ec5ae4769dd8 | test1 | RESIZE | resize_finish | Running     |          |\n+--------------------------------------+-------+--------+---------------+-------------+----------+\ntaget@liyong:/opt/stack$ nova resei^C\ntaget@liyong:/opt/stack$ nova help | grep resize\n    resize                      Resize a server.\n    resize-confirm              Confirm a previous resize.\n    resize-revert               Revert a previous resize (and return to the\ntaget@liyong:/opt/stack$ nova resize-confirm test1\ntaget@liyong:/opt/stack$ nova list\n+--------------------------------------+-------+--------+------------+-------------+----------+\n| ID                                   | Name  | Status | Task State | Power State | Networks |\n+--------------------------------------+-------+--------+------------+-------------+----------+\n| e00e9012-2832-4256-b820-ec5ae4769dd8 | test1 | ACTIVE | -          | Running     |          |\n+--------------------------------------+-------+--------+------------+-------------+----------+\ntaget@liyong:/opt/stack$ nova show test1\n+--------------------------------------+----------------------------------------------------------------+\n| Property                             | Value                                                          |\n+--------------------------------------+----------------------------------------------------------------+\n| 192_net network                      | 192.168.0.32                                                   |\n| OS-DCF:diskConfig                    | MANUAL                                                         |\n| OS-EXT-AZ:availability_zone          | nova                                                           |\n| OS-EXT-SRV-ATTR:host                 | liyong                                                         |\n| OS-EXT-SRV-ATTR:hypervisor_hostname  | liyong                                                         |\n| OS-EXT-SRV-ATTR:instance_name        | instance-00000061                                              |\n| OS-EXT-STS:power_state               | 1                                                              |\n| OS-EXT-STS:task_state                | -                                                              |\n| OS-EXT-STS:vm_state                  | active                                                         |\n| OS-SRV-USG:launched_at               | 2015-08-28T07:04:52.000000                                     |\n| OS-SRV-USG:terminated_at             | -                                                              |\n| accessIPv4                           |                                                                |\n| accessIPv6                           |                                                                |\n| config_drive                         |                                                                |\n| created                              | 2015-08-28T07:00:31Z                                           |\n| flavor                               | m1.medium (3)                                                  |\n| hostId                               | 055c6f457079f44ab2328e541b09f610708c9aab18689588777e3e3e       |\n| id                                   | e00e9012-2832-4256-b820-ec5ae4769dd8                           |\n| image                                | cirros-0.3.2-x86_64-uec (93169d18-1bb2-45f7-861c-6735ef687db9) |\n| key_name                             | -                                                              |\n| metadata                             | {}                                                             |\n| name                                 | test1                                                          |\n| os-extended-volumes:volumes_attached | []                                                             |\n| progress                             | 0                                                              |\n| security_groups                      | default                                                        |\n| status                               | ACTIVE                                                         |\n| tenant_id                            | 52a0ee83fb524376bd603547aea415a3                               |\n| updated                              | 2015-08-28T07:05:16Z                                           |\n| user_id                              | bea64c5634ae4f079c1c69ed29a68242                               |\n+--------------------------------------+----------------------------------------------------------------+\n", 
            "date_created": "2015-08-28 07:08:15.618068+00:00", 
            "author": "https://api.launchpad.net/1.0/~taget-9"
        }, 
        {
            "content": "Cleanup\n=======\n\nThis bug report has the status \"Incomplete\" since more than 30 days\nand it looks like that there are no open reviews for it. To keep\nthe bug list sane, I close this bug with \"won't fix\". This does not\nmean that it is not a valid bug report, it's more to acknowledge that\nno progress can be expected here anymore. You are still free to push a\nnew patch for this bug. If you could reproduce it on the current master\ncode or on a maintained stable branch, please switch it to \"Confirmed\".", 
            "date_created": "2016-02-10 16:04:31.367927+00:00", 
            "author": "https://api.launchpad.net/1.0/~mzoeller"
        }
    ], 
    "closed": "2016-02-10 16:04:09.070692+00:00"
}