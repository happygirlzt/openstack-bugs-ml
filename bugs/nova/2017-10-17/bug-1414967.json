{
    "status": "Invalid", 
    "last_updated": "2015-02-10 09:23:33.023819+00:00", 
    "description": "Now we are testing nova v2.1 API on the gate *without* neutron.\nIf enabling both v2.1 API and neutron, test_slaac_from_os and test_dhcp6_stateless_from_os will fail.\n\nhttp://logs.openstack.org/03/139903/4/check/check-tempest-dsvm-neutron-full/3697e41/logs/testr_results.html.gz\n\nTraceback (most recent call last):\n  File \"tempest/test.py\", line 112, in wrapper\n    return f(self, *func_args, **func_kwargs)\n  File \"tempest/scenario/test_network_v6.py\", line 151, in test_dhcp6_stateless_from_os\n    self._prepare_and_test(address6_mode='dhcpv6-stateless')\n  File \"tempest/scenario/test_network_v6.py\", line 118, in _prepare_and_test\n    ssh1, srv1 = self.prepare_server()\n  File \"tempest/scenario/test_network_v6.py\", line 107, in prepare_server\n    srv = self.create_server(create_kwargs=create_kwargs)\n  File \"tempest/scenario/manager.py\", line 190, in create_server\n    **create_kwargs)\n  File \"tempest/services/compute/json/servers_client.py\", line 87, in create_server\n    resp, body = self.post('servers', post_body)\n  File \"/usr/local/lib/python2.7/dist-packages/tempest_lib/common/rest_client.py\", line 168, in post\n    return self.request('POST', url, extra_headers, headers, body)\n  File \"tempest/common/service_client.py\", line 67, in request\n    raise exceptions.BadRequest(ex)\nBadRequest: Bad request\nDetails: Bad request\nDetails: {u'code': 400, u'message': u\"Invalid input for field/attribute 0. Value: {u'tenant_id': u'9d3ba5d5126a4762a34ed937affcac32', u'security_group_rules': [{u'remote_group_id': None, u'direction': u'egress', u'protocol': None, u'ethertype': u'IPv4', u'port_range_max': None, u'security_group_id': u'64bb364b-ce81-419a-9dfc-42ceff3d38df', u'tenant_id': u'9d3ba5d5126a4762a34ed937affcac32', u'port_range_min': None, u'remote_ip_prefix': None, u'id': u'49684079-30d5-40af-a3d7-50e8d36f7836'}, {u'remote_group_id': None, u'direction': u'egress', u'protocol': None, u'ethertype': u'IPv6', u'port_range_max': None, u'security_group_id': u'64bb364b-ce81-419a-9dfc-42ceff3d38df', u'tenant_id': u'9d3ba5d5126a4762a34ed937affcac32', u'port_range_min': None, u'remote_ip_prefix': None, u'id': u'04cd8976-0994-4411-b407-0d093f4376f7'}], u'id': u'64bb364b-ce81-419a-9dfc-42ceff3d38df', u'name': u'secgroup-smoke-1781250592', u'description': u'secgroup-smoke-1781250592 description'}. Additional properties are not allowed (u'tenant_id', u'id', u'security_group_rules', u'description' were unexpected)\"}\nTraceback (most recent call last):\n_StringException: Empty attachments:\n  stderr\n  stdout", 
    "tags": [], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1414967", 
    "owner": "https://api.launchpad.net/1.0/~ghanshyammann", 
    "id": 1414967, 
    "index": 1674, 
    "openned": "2015-01-27 09:58:25.748257+00:00", 
    "created": "2015-01-27 09:58:25.748257+00:00", 
    "title": "test_slaac_from_os fails on nova v2.1 API", 
    "comments": [
        {
            "content": "Now we are testing nova v2.1 API on the gate *without* neutron.\nIf enabling both v2.1 API and neutron, test_slaac_from_os and test_dhcp6_stateless_from_os will fail.\n\nhttp://logs.openstack.org/03/139903/4/check/check-tempest-dsvm-neutron-full/3697e41/logs/testr_results.html.gz\n\nTraceback (most recent call last):\n  File \"tempest/test.py\", line 112, in wrapper\n    return f(self, *func_args, **func_kwargs)\n  File \"tempest/scenario/test_network_v6.py\", line 151, in test_dhcp6_stateless_from_os\n    self._prepare_and_test(address6_mode='dhcpv6-stateless')\n  File \"tempest/scenario/test_network_v6.py\", line 118, in _prepare_and_test\n    ssh1, srv1 = self.prepare_server()\n  File \"tempest/scenario/test_network_v6.py\", line 107, in prepare_server\n    srv = self.create_server(create_kwargs=create_kwargs)\n  File \"tempest/scenario/manager.py\", line 190, in create_server\n    **create_kwargs)\n  File \"tempest/services/compute/json/servers_client.py\", line 87, in create_server\n    resp, body = self.post('servers', post_body)\n  File \"/usr/local/lib/python2.7/dist-packages/tempest_lib/common/rest_client.py\", line 168, in post\n    return self.request('POST', url, extra_headers, headers, body)\n  File \"tempest/common/service_client.py\", line 67, in request\n    raise exceptions.BadRequest(ex)\nBadRequest: Bad request\nDetails: Bad request\nDetails: {u'code': 400, u'message': u\"Invalid input for field/attribute 0. Value: {u'tenant_id': u'9d3ba5d5126a4762a34ed937affcac32', u'security_group_rules': [{u'remote_group_id': None, u'direction': u'egress', u'protocol': None, u'ethertype': u'IPv4', u'port_range_max': None, u'security_group_id': u'64bb364b-ce81-419a-9dfc-42ceff3d38df', u'tenant_id': u'9d3ba5d5126a4762a34ed937affcac32', u'port_range_min': None, u'remote_ip_prefix': None, u'id': u'49684079-30d5-40af-a3d7-50e8d36f7836'}, {u'remote_group_id': None, u'direction': u'egress', u'protocol': None, u'ethertype': u'IPv6', u'port_range_max': None, u'security_group_id': u'64bb364b-ce81-419a-9dfc-42ceff3d38df', u'tenant_id': u'9d3ba5d5126a4762a34ed937affcac32', u'port_range_min': None, u'remote_ip_prefix': None, u'id': u'04cd8976-0994-4411-b407-0d093f4376f7'}], u'id': u'64bb364b-ce81-419a-9dfc-42ceff3d38df', u'name': u'secgroup-smoke-1781250592', u'description': u'secgroup-smoke-1781250592 description'}. Additional properties are not allowed (u'tenant_id', u'id', u'security_group_rules', u'description' were unexpected)\"}\nTraceback (most recent call last):\n_StringException: Empty attachments:\n  stderr\n  stdout", 
            "date_created": "2015-01-27 09:58:25.748257+00:00", 
            "author": "https://api.launchpad.net/1.0/~oomichi"
        }, 
        {
            "content": " As Nova V2.1 is much strict about API inputs,  create server request accept only sec grp name (https://github.com/openstack/nova/blob/master/nova/api/openstack/compute/schemas/v3/security_groups.py).\n\n\"test_slaac_from_os\" pass complete security group (name, id, rules etc) in create server request and fails.\n\nI think nothing from Nova side, tempest tests need to be fixed", 
            "date_created": "2015-01-29 05:41:05.921059+00:00", 
            "author": "https://api.launchpad.net/1.0/~ghanshyammann"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/151117", 
            "date_created": "2015-01-29 06:12:12.647443+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/151117\nCommitted: https://git.openstack.org/cgit/openstack/tempest/commit/?id=fc5e0c75fa7c20c62974e2fd6e66087d67707928\nSubmitter: Jenkins\nBranch:    master\n\ncommit fc5e0c75fa7c20c62974e2fd6e66087d67707928\nAuthor: ghanshyam <email address hidden>\nDate:   Thu Jan 29 15:09:40 2015 +0900\n\n    Fix create server request in test_network_v6\n    \n    As Nova V2.1 is much strict about API inputs, Security group name\n    only is accepted on create server request as a security group\n    parameter.\n    \n    test_network_v6 passes complete security group (name, id, rules etc)\n    in create server request and fails for Nova V2.1.\n    \n    Closes-Bug: #1414967\n    \n    Change-Id: I45adde0c7c4134ea087427f23f2e45d7ec9c88e7\n", 
            "date_created": "2015-01-30 06:20:56.615372+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2015-01-29 06:33:16.669167+00:00"
}