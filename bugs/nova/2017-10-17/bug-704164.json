{
    "status": "Invalid", 
    "last_updated": "2011-04-01 12:52:44.746927+00:00", 
    "description": "Using the OpenStack API the Create function fails with a \"list index out of range\" error. This has been tried with multiple ImageID and FlavorIDs (numbers, strings etc)\n\nOS: Ubuntu 10.10\nNova Version: 2011.1~bzr569-0ubuntu0ppa1~maverick3\nModifications: None\n\nRequest:\n\nPOST /v1.0/servers HTTP/1.1\nX-Auth-Token: 9683e742c697f263a0d843e7f8b344c1d27dd549\n\n{\n   \"server\": {\n       \"name\": \"mike-test\",\n       \"imageId\": \"ami-tty\",\n       \"flavorId\": \"m1.small\"\n   }\n}\n\nResponse:\n\nHTTP/1.1 500 Internal Server Error\nContent-Type: text/html; charset=UTF-8\nContent-Length: 69\nDate: Mon, 17 Jan 2011 21:20:17 GMT\nConnection: close\n\n{\"computeFault\": {\"message\": \"list index out of range\", \"code\": 500}}\n\n\nnova-api.log:\n\n\n(nova.api.openstack 2011.1-workspace:tarmac-20110115022500-fcgl1yga6csc221i): ERROR [N/A] Caught error: list index out of range\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/__init__.py\", line 73, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 919, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 887, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/wsgi.py\", line 265, in __call__\n(nova.api.openstack): TRACE:     result = method(**arg_dict)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/servers.py\", line 146, in create\n(nova.api.openstack): TRACE:     req.environ['nova.context'])[0]\n(nova.api.openstack): TRACE: IndexError: list index out of range\n(nova.api.openstack): TRACE:\n\nAdditonal info:\nResults from images/flavors details \n\nGET /images/detail\n{\"images\": [{\"status\": \"active\", \"id\": 4498728160366123684, \"name\": \"nova/tty-kernel\"}, {\"status\": \"active\", \"id\": 9076875775488977738, \"name\": \"nova/tty\"}, {\"status\": \"active\", \"id\": 472304719163701353, \"name\": \"nova/tty-ramdisk\"}]}\n\nGET /flavors/detail\n{\"flavors\": [{\"disk\": 40, \"ram\": 4096, \"name\": \"m1.medium\", \"id\": 3}, {\"disk\": 0, \"ram\": 512, \"name\": \"m1.tiny\", \"id\": 1}, {\"disk\": 80, \"ram\": 8192, \"name\": \"m1.large\", \"id\": 4}, {\"disk\": 160, \"ram\": 16384, \"name\": \"m1.xlarge\", \"id\": 5}, {\"disk\": 20, \"ram\": 2048, \"name\": \"m1.small\", \"id\": 2}]}", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/704164", 
    "owner": "None", 
    "id": 704164, 
    "index": 3269, 
    "openned": "2011-01-17 21:30:10.330871+00:00", 
    "created": "2011-01-17 21:30:10.330871+00:00", 
    "title": "OpenStack API Create function fails with index out of range", 
    "comments": [
        {
            "content": "Using the OpenStack API the Create function fails with a \"list index out of range\" error. This has been tried with multiple ImageID and FlavorIDs (numbers, strings etc)\n\nOS: Ubuntu 10.10\nNova Version: 2011.1~bzr569-0ubuntu0ppa1~maverick3\nModifications: None\n\nRequest:\n\nPOST /v1.0/servers HTTP/1.1\nX-Auth-Token: 9683e742c697f263a0d843e7f8b344c1d27dd549\n\n{\n   \"server\": {\n       \"name\": \"mike-test\",\n       \"imageId\": \"ami-tty\",\n       \"flavorId\": \"m1.small\"\n   }\n}\n\nResponse:\n\nHTTP/1.1 500 Internal Server Error\nContent-Type: text/html; charset=UTF-8\nContent-Length: 69\nDate: Mon, 17 Jan 2011 21:20:17 GMT\nConnection: close\n\n{\"computeFault\": {\"message\": \"list index out of range\", \"code\": 500}}\n\n\nnova-api.log:\n\n\n(nova.api.openstack 2011.1-workspace:tarmac-20110115022500-fcgl1yga6csc221i): ERROR [N/A] Caught error: list index out of range\n(nova.api.openstack): TRACE: Traceback (most recent call last):\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/__init__.py\", line 73, in __call__\n(nova.api.openstack): TRACE:     return req.get_response(self.application)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 919, in get_response\n(nova.api.openstack): TRACE:     application, catch_exc_info=False)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/request.py\", line 887, in call_application\n(nova.api.openstack): TRACE:     app_iter = application(self.environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/routes/middleware.py\", line 131, in __call__\n(nova.api.openstack): TRACE:     response = self.app(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 159, in __call__\n(nova.api.openstack): TRACE:     return resp(environ, start_response)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 147, in __call__\n(nova.api.openstack): TRACE:     resp = self.call_func(req, *args, **self.kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/webob/dec.py\", line 208, in call_func\n(nova.api.openstack): TRACE:     return self.func(req, *args, **kwargs)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/wsgi.py\", line 265, in __call__\n(nova.api.openstack): TRACE:     result = method(**arg_dict)\n(nova.api.openstack): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/api/openstack/servers.py\", line 146, in create\n(nova.api.openstack): TRACE:     req.environ['nova.context'])[0]\n(nova.api.openstack): TRACE: IndexError: list index out of range\n(nova.api.openstack): TRACE:\n\nAdditonal info:\nResults from images/flavors details \n\nGET /images/detail\n{\"images\": [{\"status\": \"active\", \"id\": 4498728160366123684, \"name\": \"nova/tty-kernel\"}, {\"status\": \"active\", \"id\": 9076875775488977738, \"name\": \"nova/tty\"}, {\"status\": \"active\", \"id\": 472304719163701353, \"name\": \"nova/tty-ramdisk\"}]}\n\nGET /flavors/detail\n{\"flavors\": [{\"disk\": 40, \"ram\": 4096, \"name\": \"m1.medium\", \"id\": 3}, {\"disk\": 0, \"ram\": 512, \"name\": \"m1.tiny\", \"id\": 1}, {\"disk\": 80, \"ram\": 8192, \"name\": \"m1.large\", \"id\": 4}, {\"disk\": 160, \"ram\": 16384, \"name\": \"m1.xlarge\", \"id\": 5}, {\"disk\": 20, \"ram\": 2048, \"name\": \"m1.small\", \"id\": 2}]}", 
            "date_created": "2011-01-17 21:30:10.330871+00:00", 
            "author": "https://api.launchpad.net/1.0/~jordanrinke"
        }, 
        {
            "content": "It looks like this is failing because the key pair is missing. The existing Openstack API controller for Bexar requires a key pair to be present before a POST to create is usable.\n\nCan you try sourcing your novarc file and then running a manual 'euca-add-keypair' command and see if that gets you past this issue?", 
            "date_created": "2011-02-04 01:56:08.250116+00:00", 
            "author": "https://api.launchpad.net/1.0/~dan-prince"
        }, 
        {
            "content": "@JordanRinke: any chance you could provide the requested information ? We can't really make progress on this without your input.", 
            "date_created": "2011-03-16 10:59:35.725282+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }, 
        {
            "content": "The current OS API 'server create' logic handles this particular case so this bug should be fixed/closed?", 
            "date_created": "2011-04-01 02:38:43.943931+00:00", 
            "author": "https://api.launchpad.net/1.0/~blamar"
        }, 
        {
            "content": "Closing as Invalid, following last comment. Please reopen if you can still reproduce the issue.", 
            "date_created": "2011-04-01 12:52:42.567862+00:00", 
            "author": "https://api.launchpad.net/1.0/~ttx"
        }
    ], 
    "closed": "2011-04-01 12:52:43.495558+00:00"
}