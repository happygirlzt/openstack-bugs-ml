{
    "status": "Invalid", 
    "last_updated": "2014-08-23 05:49:16.220726+00:00", 
    "description": "I am creating a VM snapshot using nova CLI - \n\nSet of operations and error are as below -\n\n\n1. nova cli help ===>\n\n[raies@localhost cli_services]$ nova help image-create\nusage: nova image-create [--show] [--poll] <server> <name>\n\nCreate a new image by taking a snapshot of a running server.\n\nPositional arguments:\n  <server>  Name or ID of server.\n  <name>    Name of snapshot.\n\nOptional arguments:\n  --show    Print image info.\n  --poll    Report the snapshot progress and poll until image creation is\n            complete.\n[raies@localhost cli_services]$\n\n\n\n2. \n[raies@localhost cli_services]$ nova list\n+--------------------------------------+-------------+--------+------------+-------------+-------------------+\n| ID                                   | Name        | Status | Task State | Power State | Networks          |\n+--------------------------------------+-------------+--------+------------+-------------+-------------------+\n| 238eb266-5837-4544-a626-287cb3ca98c3 | test-server | ACTIVE | -          | Running     | public=172.24.4.3 |\n+--------------------------------------+-------------+--------+------------+-------------+-------------------+\n\n3. \nwhen used optional argument (--poll) - \n\n[raies@localhost cli_services]$ nova --poll image-create 238eb266-5837-4544-a626-287cb3ca98c3 test-snapshot\nusage: nova [--version] [--debug] [--os-cache] [--timings]\n            [--timeout <seconds>] [--os-auth-token OS_AUTH_TOKEN]\n            [--os-username <auth-user-name>] [--os-user-id <auth-user-id>]\n            [--os-password <auth-password>]\n            [--os-tenant-name <auth-tenant-name>]\n            [--os-tenant-id <auth-tenant-id>] [--os-auth-url <auth-url>]\n            [--os-region-name <region-name>] [--os-auth-system <auth-system>]\n            [--service-type <service-type>] [--service-name <service-name>]\n            [--volume-service-name <volume-service-name>]\n            [--endpoint-type <endpoint-type>]\n            [--os-compute-api-version <compute-api-ver>]\n            [--os-cacert <ca-certificate>] [--insecure]\n            [--bypass-url <bypass-url>]\n            <subcommand> ...\nerror: unrecognized arguments: --poll\n\n\n4. \nwhen used optional argument --show - \n\n\n[raies@localhost cli_services]$ nova --show image-create 238eb266-5837-4544-a626-287cb3ca98c3 test-snapshot\nusage: nova [--version] [--debug] [--os-cache] [--timings]\n            [--timeout <seconds>] [--os-auth-token OS_AUTH_TOKEN]\n            [--os-username <auth-user-name>] [--os-user-id <auth-user-id>]\n            [--os-password <auth-password>]\n            [--os-tenant-name <auth-tenant-name>]\n            [--os-tenant-id <auth-tenant-id>] [--os-auth-url <auth-url>]\n            [--os-region-name <region-name>] [--os-auth-system <auth-system>]\n            [--service-type <service-type>] [--service-name <service-name>]\n            [--volume-service-name <volume-service-name>]\n            [--endpoint-type <endpoint-type>]\n            [--os-compute-api-version <compute-api-ver>]\n            [--os-cacert <ca-certificate>] [--insecure]\n            [--bypass-url <bypass-url>]\n            <subcommand> ...\nerror: unrecognized arguments: --show\nTry 'nova help ' for more information.\n\n5. \nWhen tried with no optional argument - \n\n[raies@localhost cli_services]$ nova image-create 238eb266-5837-4544-a626-287cb3ca98c3 test-snapshot\n\n[raies@localhost cli_services]$ \n[raies@localhost cli_services]$ \n[raies@localhost cli_services]$ \n[raies@localhost cli_services]$ nova image-list\n+--------------------------------------+---------------------------------+--------+--------------------------------------+\n| ID                                   | Name                            | Status | Server                               |\n+--------------------------------------+---------------------------------+--------+--------------------------------------+\n| 5f785211-590c-48aa-b64c-c9a6a9b60aad | Fedora-x86_64-20-20140618-sda   | ACTIVE |                                      |\n| 4c5838f1-fce5-422d-a411-401d79f6250a | cirros-0.3.2-x86_64-uec         | ACTIVE |                                      |\n| b17aa5bf-eed2-4792-8ecb-5e161d0d3aa2 | cirros-0.3.2-x86_64-uec-kernel  | ACTIVE |                                      |\n| 238742ef-7739-4e0b-9f58-d609f9994ff5 | cirros-0.3.2-x86_64-uec-ramdisk | ACTIVE |                                      |\n| c0b1cff7-9251-4b91-a121-2d3c69d8a0fc | test-snapshot                   | SAVING | 238eb266-5837-4544-a626-287cb3ca98c3 |\n+--------------------------------------+---------------------------------+--------+--------------------------------------+\n\ni.e successful\n\n\nSo the problem is we cannot create snapshot if we are using optional arguments with nova image-create CLI.", 
    "tags": [], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1359092", 
    "owner": "None", 
    "id": 1359092, 
    "index": 1575, 
    "openned": "2014-08-20 08:04:52.537166+00:00", 
    "created": "2014-08-20 08:04:52.537166+00:00", 
    "title": "During snapshot create using nova CLI, unable to use optional arguments", 
    "comments": [
        {
            "content": "I am creating a VM snapshot using nova CLI - \n\nSet of operations and error are as below -\n\n\n1. nova cli help ===>\n\n[raies@localhost cli_services]$ nova help image-create\nusage: nova image-create [--show] [--poll] <server> <name>\n\nCreate a new image by taking a snapshot of a running server.\n\nPositional arguments:\n  <server>  Name or ID of server.\n  <name>    Name of snapshot.\n\nOptional arguments:\n  --show    Print image info.\n  --poll    Report the snapshot progress and poll until image creation is\n            complete.\n[raies@localhost cli_services]$\n\n\n\n2. \n[raies@localhost cli_services]$ nova list\n+--------------------------------------+-------------+--------+------------+-------------+-------------------+\n| ID                                   | Name        | Status | Task State | Power State | Networks          |\n+--------------------------------------+-------------+--------+------------+-------------+-------------------+\n| 238eb266-5837-4544-a626-287cb3ca98c3 | test-server | ACTIVE | -          | Running     | public=172.24.4.3 |\n+--------------------------------------+-------------+--------+------------+-------------+-------------------+\n\n3. \nwhen used optional argument (--poll) - \n\n[raies@localhost cli_services]$ nova --poll image-create 238eb266-5837-4544-a626-287cb3ca98c3 test-snapshot\nusage: nova [--version] [--debug] [--os-cache] [--timings]\n            [--timeout <seconds>] [--os-auth-token OS_AUTH_TOKEN]\n            [--os-username <auth-user-name>] [--os-user-id <auth-user-id>]\n            [--os-password <auth-password>]\n            [--os-tenant-name <auth-tenant-name>]\n            [--os-tenant-id <auth-tenant-id>] [--os-auth-url <auth-url>]\n            [--os-region-name <region-name>] [--os-auth-system <auth-system>]\n            [--service-type <service-type>] [--service-name <service-name>]\n            [--volume-service-name <volume-service-name>]\n            [--endpoint-type <endpoint-type>]\n            [--os-compute-api-version <compute-api-ver>]\n            [--os-cacert <ca-certificate>] [--insecure]\n            [--bypass-url <bypass-url>]\n            <subcommand> ...\nerror: unrecognized arguments: --poll\n\n\n4. \nwhen used optional argument --show - \n\n\n[raies@localhost cli_services]$ nova --show image-create 238eb266-5837-4544-a626-287cb3ca98c3 test-snapshot\nusage: nova [--version] [--debug] [--os-cache] [--timings]\n            [--timeout <seconds>] [--os-auth-token OS_AUTH_TOKEN]\n            [--os-username <auth-user-name>] [--os-user-id <auth-user-id>]\n            [--os-password <auth-password>]\n            [--os-tenant-name <auth-tenant-name>]\n            [--os-tenant-id <auth-tenant-id>] [--os-auth-url <auth-url>]\n            [--os-region-name <region-name>] [--os-auth-system <auth-system>]\n            [--service-type <service-type>] [--service-name <service-name>]\n            [--volume-service-name <volume-service-name>]\n            [--endpoint-type <endpoint-type>]\n            [--os-compute-api-version <compute-api-ver>]\n            [--os-cacert <ca-certificate>] [--insecure]\n            [--bypass-url <bypass-url>]\n            <subcommand> ...\nerror: unrecognized arguments: --show\nTry 'nova help ' for more information.\n\n5. \nWhen tried with no optional argument - \n\n[raies@localhost cli_services]$ nova image-create 238eb266-5837-4544-a626-287cb3ca98c3 test-snapshot\n\n[raies@localhost cli_services]$ \n[raies@localhost cli_services]$ \n[raies@localhost cli_services]$ \n[raies@localhost cli_services]$ nova image-list\n+--------------------------------------+---------------------------------+--------+--------------------------------------+\n| ID                                   | Name                            | Status | Server                               |\n+--------------------------------------+---------------------------------+--------+--------------------------------------+\n| 5f785211-590c-48aa-b64c-c9a6a9b60aad | Fedora-x86_64-20-20140618-sda   | ACTIVE |                                      |\n| 4c5838f1-fce5-422d-a411-401d79f6250a | cirros-0.3.2-x86_64-uec         | ACTIVE |                                      |\n| b17aa5bf-eed2-4792-8ecb-5e161d0d3aa2 | cirros-0.3.2-x86_64-uec-kernel  | ACTIVE |                                      |\n| 238742ef-7739-4e0b-9f58-d609f9994ff5 | cirros-0.3.2-x86_64-uec-ramdisk | ACTIVE |                                      |\n| c0b1cff7-9251-4b91-a121-2d3c69d8a0fc | test-snapshot                   | SAVING | 238eb266-5837-4544-a626-287cb3ca98c3 |\n+--------------------------------------+---------------------------------+--------+--------------------------------------+\n\ni.e successful\n\n\nSo the problem is we cannot create snapshot if we are using optional arguments with nova image-create CLI.", 
            "date_created": "2014-08-20 08:04:52.537166+00:00", 
            "author": "https://api.launchpad.net/1.0/~raiesmh08"
        }, 
        {
            "content": "I can't seem to run \"nova --all flavor-list\" or \"nova --extra-specs flavor-list\" either", 
            "date_created": "2014-08-20 13:41:00.005110+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "\nHi,\n\noptional parameter \"--show\" is working.\ntest:~$ nova image-create --show test testimage\n+-------------------------------------+--------------------------------------+\n| Property                            | Value                                |\n+-------------------------------------+--------------------------------------+\n| OS-EXT-IMG-SIZE:size                | 0                                    |\n| created                             | 2014-08-22T11:44:56Z                 |\n| id                                  | 68445664-576f-45a4-a7ac-ecd472937a0c |\n| metadata base_image_ref             | 40eff67b-0104-4c5a-af1c-4f9a4e442dd3 |\n| metadata image_type                 | snapshot                             |\n| metadata instance_type_ephemeral_gb | 0                                    |\n| metadata instance_type_flavorid     | 42                                   |\n| metadata instance_type_id           | 6                                    |\n| metadata instance_type_memory_mb    | 64                                   |\n| metadata instance_type_name         | m1.nano                              |\n| metadata instance_type_root_gb      | 0                                    |\n| metadata instance_type_rxtx_factor  | 1.0                                  |\n| metadata instance_type_swap         | 0                                    |\n| metadata instance_type_vcpus        | 1                                    |\n| metadata instance_uuid              | 27f32d43-3b92-4be3-8b39-33530ff2a578 |\n| metadata kernel_id                  | 7cd2185d-5ba9-4db4-a176-042221e38470 |\n| metadata ramdisk_id                 | 6d9cf3d5-250d-40a6-a0ac-f0dc130d8f38 |\n| metadata user_id                    | 8cb8167ced3a49c78177e88894fb8265     |\n| minDisk                             | 0                                    |\n| minRam                              | 0                                    |\n| name                                | testimage                            |\n| progress                            | 25                                   |\n| server                              | 27f32d43-3b92-4be3-8b39-33530ff2a578 |\n| status                              | SAVING                               |\n| updated                             | 2014-08-22T11:44:56Z                 |\n+-------------------------------------+--------------------------------------+\n\nBut \"--pool\" is giving error.\ntest:~$ nova image-create --pool test testimage1\nusage: nova [--version] [--debug] [--os-cache] [--timings]\n            [--timeout <seconds>] [--os-auth-token OS_AUTH_TOKEN]\n            [--os-username <auth-user-name>] [--os-user-id <auth-user-id>]\n            [--os-password <auth-password>]\n            [--os-tenant-name <auth-tenant-name>]\n            [--os-tenant-id <auth-tenant-id>] [--os-auth-url <auth-url>]\n            [--os-region-name <region-name>] [--os-auth-system <auth-system>]\n            [--service-type <service-type>] [--service-name <service-name>]\n            [--volume-service-name <volume-service-name>]\n            [--endpoint-type <endpoint-type>]\n            [--os-compute-api-version <compute-api-ver>]\n            [--os-cacert <ca-certificate>] [--insecure]\n            [--bypass-url <bypass-url>]\n            <subcommand> ...\nerror: unrecognized arguments: --pool\n", 
            "date_created": "2014-08-22 12:50:40.345457+00:00", 
            "author": "https://api.launchpad.net/1.0/~sushma-korati"
        }, 
        {
            "content": "Hi Shushma -\n\nYes, you are right --show/--poll will come after action and it will work.\n\nFYI - you have used --pool, otherwise it will also work.\n\nThanks :)\n\nMaking it invalid", 
            "date_created": "2014-08-22 13:16:29.417904+00:00", 
            "author": "https://api.launchpad.net/1.0/~raiesmh08"
        }, 
        {
            "content": "\nAhh.. my mistake, even \"poll\" option is also working.. \nThis means there will no changes in the server side. Making it \"invalid\".\n", 
            "date_created": "2014-08-23 05:48:52.832087+00:00", 
            "author": "https://api.launchpad.net/1.0/~sushma-korati"
        }
    ], 
    "closed": "2014-08-23 05:49:07.590684+00:00"
}