{
    "status": "Invalid", 
    "last_updated": "2015-11-19 16:57:52.619291+00:00", 
    "description": "I'm unable to launch instances via CLI or Horizon. I can get the same errors in nova-api.log via CLI or Horizon as well.\n\nI'm running openstack liberty on Ubuntu Server 14.04.03 LTS. All on a single server.\n\nroot@ubuntu:~/openstack# dpkg -l | grep nova\nii  nova-api                             2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - API frontend\nii  nova-cert                            2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - certificate management\nii  nova-common                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - common files\nii  nova-compute                         2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node base\nii  nova-compute-kvm                     2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node (KVM)\nii  nova-compute-libvirt                 2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node libvirt support\nii  nova-conductor                       2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                     2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                      2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                       2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                    2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API\nroot@ubuntu:~/openstack#\n\nFrom the nova-api.log file:\n\n2015-11-17 21:12:56.080 5593 DEBUG nova.api.openstack.compute.servers [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] Running _create_extension_point for <Extension: name=SecurityGroups, alias=os-security-groups, version=1> _create_extension_point /usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py:700\n2015-11-17 21:12:56.080 5593 DEBUG nova.api.openstack.compute.servers [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] Running _create_extension_point for <Extension: name=ConfigDrive, alias=os-config-drive, version=1> _create_extension_point /usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py:700\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] Unexpected exception in API method\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 611, in create\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     **create_kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 149, in inner\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1581, in create\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1181, in _create_instance\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 923, in _validate_and_build_base_options\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     requested_networks, max_count)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 533, in _check_requested_networks\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     max_count)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/api.py\", line 49, in wrapped\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return func(self, context, *args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/api.py\", line 396, in validate_networks\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     requested_networks)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/rpcapi.py\", line 204, in validate_networks\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return self.client.call(ctxt, 'validate_networks', networks=networks)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\", line 403, in call\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return self.prepare().call(ctxt, method, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\", line 158, in call\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     retry=self.retry)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/transport.py\", line 90, in _send\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     timeout=timeout, retry=retry)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 431, in send\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     retry=retry)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 420, in _send\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     result = self._waiter.wait(msg_id, timeout)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 318, in wait\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     message = self.waiters.get(msg_id, timeout=timeout)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 223, in get\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     'to message ID %s' % msg_id)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions MessagingTimeout: Timed out waiting for a reply to message ID 40ed7a93d4cf436f9445b0b40ba792bb\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions \n2015-11-17 21:13:56.176 5593 INFO nova.api.openstack.wsgi [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\n2015-11-17 21:13:56.177 5593 DEBUG nova.api.openstack.wsgi [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] Returning 500 to user: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> __call__ /usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py:1175\n2015-11-17 21:13:56.177 5593 INFO nova.osapi_compute.wsgi.server [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] 127.0.0.1 \"POST /v2/c11ee164bbd64687b3a74332932fb2b2/servers HTTP/1.1\" status: 500 len: 447 time: 60.1016970\n\nSteps to reproduce:\n\n# nova --debug boot --flavor m1.tiny --image cirros --nic net-id=449947fc-2ea4-4460-b360-e2531ed4f1bf --security-group default --key-name mykey private-instance\n\nINCLUDE PROPER VALUES FOR '--nic net-id=<uuid>' AND '--key-name <key_name>'\n\nThis is the requests that end up with an HTTP 500 response:\n\nDEBUG (session:198) REQ: curl -g -i -X POST http://localhost:8774/v2/c4d347d211154f2cb5f8248680bbb1e0/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}3cc67efba6261353fbb66342a38c9a289b81aa2e\" -d '{\"server\": {\"name\": \"private-instance\", \"imageRef\": \"275a16f7-20d3-4dc7-9247-ffce74646dcf\", \"key_name\": \"mykey\", \"flavorRef\": \"1\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"449947fc-2ea4-4460-b360-e2531ed4f1bf\"}], \"security_groups\": [{\"name\": \"default\"}]}}'\n\nHere is the response and other debug output:\n\nDEBUG (connectionpool:385) \"POST /v2/c4d347d211154f2cb5f8248680bbb1e0/servers HTTP/1.1\" 500 216\nDEBUG (session:215) RESP: [500] Date: Tue, 17 Nov 2015 21:31:05 GMT Connection: keep-alive Content-Type: application/json; charset=UTF-8 Content-Length: 216 X-Compute-Request-Id: req-b92cdadb-d135-4099-bdb6-d41218c1cb6d \nRESP BODY: {\"computeFault\": {\"message\": \"Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\", \"code\": 500}}\n\nDEBUG (shell:905) Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> (HTTP 500) (Request-ID: req-b92cdadb-d135-4099-bdb6-d41218c1cb6d)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 903, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 830, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/shell.py\", line 520, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 942, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 540, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/base.py\", line 169, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/dist-packages/keystoneclient/adapter.py\", line 176, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/client.py\", line 93, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> (HTTP 500) (Request-ID: req-b92cdadb-d135-4099-bdb6-d41218c1cb6d)\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> (HTTP 500) (Request-ID: req-b92cdadb-d135-4099-bdb6-d41218c1cb6d)\n\nExpected result:\n\nInstance is launched without error.\n\nActual result:\n\nInstance does not launch and the reported errors are observed in the nova-api.log file.", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1517224", 
    "owner": "None", 
    "id": 1517224, 
    "index": 7121, 
    "openned": "2015-11-17 21:44:20.298188+00:00", 
    "created": "2015-11-17 21:44:20.298188+00:00", 
    "title": "Unable to launch instances via CLI or Horizon", 
    "comments": [
        {
            "content": "I'm unable to launch instances via CLI or Horizon. I can get the same errors in nova-api.log via CLI or Horizon as well.\n\nI'm running openstack liberty on Ubuntu Server 14.04.03 LTS. All on a single server.\n\nroot@ubuntu:~/openstack# dpkg -l | grep nova\nii  nova-api                             2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - API frontend\nii  nova-cert                            2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - certificate management\nii  nova-common                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - common files\nii  nova-compute                         2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node base\nii  nova-compute-kvm                     2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node (KVM)\nii  nova-compute-libvirt                 2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - compute node libvirt support\nii  nova-conductor                       2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - conductor service\nii  nova-consoleauth                     2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                      2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                       2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute - virtual machine scheduler\nii  python-nova                          2:12.0.0-0ubuntu2~cloud0              all          OpenStack Compute Python libraries\nii  python-novaclient                    2:2.30.1-1~cloud0                     all          client library for OpenStack Compute API\nroot@ubuntu:~/openstack#\n\nFrom the nova-api.log file:\n\n2015-11-17 21:12:56.080 5593 DEBUG nova.api.openstack.compute.servers [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] Running _create_extension_point for <Extension: name=SecurityGroups, alias=os-security-groups, version=1> _create_extension_point /usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py:700\n2015-11-17 21:12:56.080 5593 DEBUG nova.api.openstack.compute.servers [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] Running _create_extension_point for <Extension: name=ConfigDrive, alias=os-config-drive, version=1> _create_extension_point /usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py:700\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] Unexpected exception in API method\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/validation/__init__.py\", line 73, in wrapper\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 611, in create\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     **create_kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/hooks.py\", line 149, in inner\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1581, in create\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     check_server_group_quota=check_server_group_quota)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 1181, in _create_instance\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     auto_disk_config, reservation_id, max_count)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 923, in _validate_and_build_base_options\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     requested_networks, max_count)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 533, in _check_requested_networks\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     max_count)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/api.py\", line 49, in wrapped\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return func(self, context, *args, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/api.py\", line 396, in validate_networks\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     requested_networks)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/network/rpcapi.py\", line 204, in validate_networks\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return self.client.call(ctxt, 'validate_networks', networks=networks)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\", line 403, in call\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     return self.prepare().call(ctxt, method, **kwargs)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/rpc/client.py\", line 158, in call\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     retry=self.retry)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/transport.py\", line 90, in _send\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     timeout=timeout, retry=retry)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 431, in send\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     retry=retry)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 420, in _send\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     result = self._waiter.wait(msg_id, timeout)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 318, in wait\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     message = self.waiters.get(msg_id, timeout=timeout)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_messaging/_drivers/amqpdriver.py\", line 223, in get\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions     'to message ID %s' % msg_id)\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions MessagingTimeout: Timed out waiting for a reply to message ID 40ed7a93d4cf436f9445b0b40ba792bb\n2015-11-17 21:13:56.175 5593 ERROR nova.api.openstack.extensions \n2015-11-17 21:13:56.176 5593 INFO nova.api.openstack.wsgi [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\n2015-11-17 21:13:56.177 5593 DEBUG nova.api.openstack.wsgi [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] Returning 500 to user: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> __call__ /usr/lib/python2.7/dist-packages/nova/api/openstack/wsgi.py:1175\n2015-11-17 21:13:56.177 5593 INFO nova.osapi_compute.wsgi.server [req-f428c8c4-56ba-4b8f-970d-84041ebe50db 2a6bd03d76754e35af693c2f24a18ecd c11ee164bbd64687b3a74332932fb2b2 - - -] 127.0.0.1 \"POST /v2/c11ee164bbd64687b3a74332932fb2b2/servers HTTP/1.1\" status: 500 len: 447 time: 60.1016970\n\nSteps to reproduce:\n\n# nova --debug boot --flavor m1.tiny --image cirros --nic net-id=449947fc-2ea4-4460-b360-e2531ed4f1bf --security-group default --key-name mykey private-instance\n\nINCLUDE PROPER VALUES FOR '--nic net-id=<uuid>' AND '--key-name <key_name>'\n\nThis is the requests that end up with an HTTP 500 response:\n\nDEBUG (session:198) REQ: curl -g -i -X POST http://localhost:8774/v2/c4d347d211154f2cb5f8248680bbb1e0/servers -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}3cc67efba6261353fbb66342a38c9a289b81aa2e\" -d '{\"server\": {\"name\": \"private-instance\", \"imageRef\": \"275a16f7-20d3-4dc7-9247-ffce74646dcf\", \"key_name\": \"mykey\", \"flavorRef\": \"1\", \"max_count\": 1, \"min_count\": 1, \"networks\": [{\"uuid\": \"449947fc-2ea4-4460-b360-e2531ed4f1bf\"}], \"security_groups\": [{\"name\": \"default\"}]}}'\n\nHere is the response and other debug output:\n\nDEBUG (connectionpool:385) \"POST /v2/c4d347d211154f2cb5f8248680bbb1e0/servers HTTP/1.1\" 500 216\nDEBUG (session:215) RESP: [500] Date: Tue, 17 Nov 2015 21:31:05 GMT Connection: keep-alive Content-Type: application/json; charset=UTF-8 Content-Length: 216 X-Compute-Request-Id: req-b92cdadb-d135-4099-bdb6-d41218c1cb6d \nRESP BODY: {\"computeFault\": {\"message\": \"Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class 'oslo_messaging.exceptions.MessagingTimeout'>\", \"code\": 500}}\n\nDEBUG (shell:905) Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> (HTTP 500) (Request-ID: req-b92cdadb-d135-4099-bdb6-d41218c1cb6d)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 903, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/shell.py\", line 830, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/shell.py\", line 520, in do_boot\n    server = cs.servers.create(*boot_args, **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 942, in create\n    **boot_kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/v2/servers.py\", line 540, in _boot\n    return_raw=return_raw, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/base.py\", line 169, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/dist-packages/keystoneclient/adapter.py\", line 176, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/novaclient/client.py\", line 93, in request\n    raise exceptions.from_response(resp, body, url, method)\nClientException: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> (HTTP 500) (Request-ID: req-b92cdadb-d135-4099-bdb6-d41218c1cb6d)\nERROR (ClientException): Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_messaging.exceptions.MessagingTimeout'> (HTTP 500) (Request-ID: req-b92cdadb-d135-4099-bdb6-d41218c1cb6d)\n\nExpected result:\n\nInstance is launched without error.\n\nActual result:\n\nInstance does not launch and the reported errors are observed in the nova-api.log file.", 
            "date_created": "2015-11-17 21:44:20.298188+00:00", 
            "author": "https://api.launchpad.net/1.0/~dtravers"
        }, 
        {
            "content": "", 
            "date_created": "2015-11-18 19:17:14.213860+00:00", 
            "author": "https://api.launchpad.net/1.0/~dtravers"
        }, 
        {
            "content": "I went through my nova.conf configuration file and realized that I was missing the following entries:\n\n[DEFAULT]\n...\nnetwork_api_class = nova.network.neutronv2.api.API\nsecurity_group_api = neutron\nlinuxnet_interface_driver = nova.network.linux_net.NeutronLinuxBridgeInterfaceDriver\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\n\nI used the following guide to get my openstack environment setup:\n\nhttp://docs.openstack.org/liberty/install-guide-ubuntu/nova-controller-install.html\n\nI got past the HTTP 500 error after I added those missing lines to nova.conf and restarted nova services.\n\nIn other words, this bug is  now invalid as it appears it was a configuration issue on my end.", 
            "date_created": "2015-11-19 16:55:43.165126+00:00", 
            "author": "https://api.launchpad.net/1.0/~dtravers"
        }, 
        {
            "content": "Changed status of bug to \"Invalid\" since this seems to be a configuration issue.", 
            "date_created": "2015-11-19 16:57:49.693278+00:00", 
            "author": "https://api.launchpad.net/1.0/~dtravers"
        }
    ], 
    "closed": "2015-11-19 16:57:50.722882+00:00"
}