{
    "status": "Invalid", 
    "last_updated": "2014-05-19 17:34:40.152056+00:00", 
    "description": "This is what you get if you type 'nova-mange service list' and you didn't source the rc file.\n\n[root@mycomputenode ~]# nova-manage service list\nCommand failed, please check log for more info\n2014-05-19 10:40:14.959 26210 CRITICAL nova [req-264c46e5-d5e0-4587-b929-302a51a42f25 None None] (OperationalError) (1045, \"Access denied for user 'nova'@'mycomputenode' (using password: NO)\") None None\n2014-05-19 10:40:14.959 26210 TRACE nova Traceback (most recent call last):\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/bin/nova-manage\", line 10, in <module>\n2014-05-19 10:40:14.959 26210 TRACE nova     sys.exit(main())\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/cmd/manage.py\", line 1377, in main\n2014-05-19 10:40:14.959 26210 TRACE nova     ret = fn(*fn_args, **fn_kwargs)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/cmd/manage.py\", line 687, in list\n2014-05-19 10:40:14.959 26210 TRACE nova     services = db.service_get_all(ctxt)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/db/api.py\", line 133, in service_get_all\n2014-05-19 10:40:14.959 26210 TRACE nova     return IMPL.service_get_all(context, disabled)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 108, in wrapper\n2014-05-19 10:40:14.959 26210 TRACE nova     return f(*args, **kwargs)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 401, in service_get_all\n2014-05-19 10:40:14.959 26210 TRACE nova     query = model_query(context, models.Service)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 190, in model_query\n2014-05-19 10:40:14.959 26210 TRACE nova     session = kwargs.get('session') or get_session()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 423, in get_session\n2014-05-19 10:40:14.959 26210 TRACE nova     engine = get_engine(sqlite_fk=sqlite_fk, slave_engine=slave_session)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 561, in get_engine\n2014-05-19 10:40:14.959 26210 TRACE nova     sqlite_fk=sqlite_fk)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 676, in create_engine\n2014-05-19 10:40:14.959 26210 TRACE nova     engine.connect()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/base.py\", line 2472, in connect\n2014-05-19 10:40:14.959 26210 TRACE nova     return self._connection_cls(self, **kwargs)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/base.py\", line 878, in __init__\n2014-05-19 10:40:14.959 26210 TRACE nova     self.__connection = connection or engine.raw_connection()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/base.py\", line 2558, in raw_connection\n2014-05-19 10:40:14.959 26210 TRACE nova     return self.pool.unique_connection()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 183, in unique_connection\n2014-05-19 10:40:14.959 26210 TRACE nova     return _ConnectionFairy(self).checkout()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 387, in __init__\n2014-05-19 10:40:14.959 26210 TRACE nova     rec = self._connection_record = pool._do_get()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 741, in _do_get\n2014-05-19 10:40:14.959 26210 TRACE nova     con = self._create_connection()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 188, in _create_connection\n2014-05-19 10:40:14.959 26210 TRACE nova     return _ConnectionRecord(self)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 270, in __init__\n2014-05-19 10:40:14.959 26210 TRACE nova     self.connection = self.__connect()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 330, in __connect\n2014-05-19 10:40:14.959 26210 TRACE nova     connection = self.__pool._creator()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/strategies.py\", line 80, in connect\n2014-05-19 10:40:14.959 26210 TRACE nova     return dialect.connect(*cargs, **cparams)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/default.py\", line 281, in connect\n2014-05-19 10:40:14.959 26210 TRACE nova     return self.dbapi.connect(*cargs, **cparams)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/MySQLdb/__init__.py\", line 81, in Connect\n2014-05-19 10:40:14.959 26210 TRACE nova     return Connection(*args, **kwargs)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/MySQLdb/connections.py\", line 187, in __init__\n2014-05-19 10:40:14.959 26210 TRACE nova     super(Connection, self).__init__(*args, **kwargs2)\n2014-05-19 10:40:14.959 26210 TRACE nova OperationalError: (OperationalError) (1045, \"Access denied for user 'nova'@'mycomputenode' (using password: NO)\") None None\n2014-05-19 10:40:14.959 26210 TRACE nova\n\n\nShouldn't you get an error like  \"ERROR: You must provide a username via either --os-username or env[OS_USERNAME]\", instead of getting the whole stack trace?\n\nCheers,\nDaniel.", 
    "tags": [
        "nova-manage"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1320797", 
    "owner": "None", 
    "id": 1320797, 
    "index": 6121, 
    "openned": "2014-05-19 08:46:31.801196+00:00", 
    "created": "2014-05-19 08:46:31.801196+00:00", 
    "title": "'Nova-mange service list' command returns an error trace", 
    "comments": [
        {
            "content": "This is what you get if you type 'nova-mange service list' and you didn't source the rc file.\n\n[root@mycomputenode ~]# nova-manage service list\nCommand failed, please check log for more info\n2014-05-19 10:40:14.959 26210 CRITICAL nova [req-264c46e5-d5e0-4587-b929-302a51a42f25 None None] (OperationalError) (1045, \"Access denied for user 'nova'@'mycomputenode' (using password: NO)\") None None\n2014-05-19 10:40:14.959 26210 TRACE nova Traceback (most recent call last):\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/bin/nova-manage\", line 10, in <module>\n2014-05-19 10:40:14.959 26210 TRACE nova     sys.exit(main())\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/cmd/manage.py\", line 1377, in main\n2014-05-19 10:40:14.959 26210 TRACE nova     ret = fn(*fn_args, **fn_kwargs)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/cmd/manage.py\", line 687, in list\n2014-05-19 10:40:14.959 26210 TRACE nova     services = db.service_get_all(ctxt)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/db/api.py\", line 133, in service_get_all\n2014-05-19 10:40:14.959 26210 TRACE nova     return IMPL.service_get_all(context, disabled)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 108, in wrapper\n2014-05-19 10:40:14.959 26210 TRACE nova     return f(*args, **kwargs)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 401, in service_get_all\n2014-05-19 10:40:14.959 26210 TRACE nova     query = model_query(context, models.Service)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/db/sqlalchemy/api.py\", line 190, in model_query\n2014-05-19 10:40:14.959 26210 TRACE nova     session = kwargs.get('session') or get_session()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 423, in get_session\n2014-05-19 10:40:14.959 26210 TRACE nova     engine = get_engine(sqlite_fk=sqlite_fk, slave_engine=slave_session)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 561, in get_engine\n2014-05-19 10:40:14.959 26210 TRACE nova     sqlite_fk=sqlite_fk)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib/python2.6/site-packages/nova/openstack/common/db/sqlalchemy/session.py\", line 676, in create_engine\n2014-05-19 10:40:14.959 26210 TRACE nova     engine.connect()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/base.py\", line 2472, in connect\n2014-05-19 10:40:14.959 26210 TRACE nova     return self._connection_cls(self, **kwargs)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/base.py\", line 878, in __init__\n2014-05-19 10:40:14.959 26210 TRACE nova     self.__connection = connection or engine.raw_connection()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/base.py\", line 2558, in raw_connection\n2014-05-19 10:40:14.959 26210 TRACE nova     return self.pool.unique_connection()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 183, in unique_connection\n2014-05-19 10:40:14.959 26210 TRACE nova     return _ConnectionFairy(self).checkout()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 387, in __init__\n2014-05-19 10:40:14.959 26210 TRACE nova     rec = self._connection_record = pool._do_get()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 741, in _do_get\n2014-05-19 10:40:14.959 26210 TRACE nova     con = self._create_connection()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 188, in _create_connection\n2014-05-19 10:40:14.959 26210 TRACE nova     return _ConnectionRecord(self)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 270, in __init__\n2014-05-19 10:40:14.959 26210 TRACE nova     self.connection = self.__connect()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/pool.py\", line 330, in __connect\n2014-05-19 10:40:14.959 26210 TRACE nova     connection = self.__pool._creator()\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/strategies.py\", line 80, in connect\n2014-05-19 10:40:14.959 26210 TRACE nova     return dialect.connect(*cargs, **cparams)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/SQLAlchemy-0.7.8-py2.6-linux-x86_64.egg/sqlalchemy/engine/default.py\", line 281, in connect\n2014-05-19 10:40:14.959 26210 TRACE nova     return self.dbapi.connect(*cargs, **cparams)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/MySQLdb/__init__.py\", line 81, in Connect\n2014-05-19 10:40:14.959 26210 TRACE nova     return Connection(*args, **kwargs)\n2014-05-19 10:40:14.959 26210 TRACE nova   File \"/usr/lib64/python2.6/site-packages/MySQLdb/connections.py\", line 187, in __init__\n2014-05-19 10:40:14.959 26210 TRACE nova     super(Connection, self).__init__(*args, **kwargs2)\n2014-05-19 10:40:14.959 26210 TRACE nova OperationalError: (OperationalError) (1045, \"Access denied for user 'nova'@'mycomputenode' (using password: NO)\") None None\n2014-05-19 10:40:14.959 26210 TRACE nova\n\n\nShouldn't you get an error like  \"ERROR: You must provide a username via either --os-username or env[OS_USERNAME]\", instead of getting the whole stack trace?\n\nCheers,\nDaniel.", 
            "date_created": "2014-05-19 08:46:31.801196+00:00", 
            "author": "https://api.launchpad.net/1.0/~daferoes"
        }, 
        {
            "content": "This seems to be related to mysql user/password not being correct.\ndoes it work after sourcing the rc file?", 
            "date_created": "2014-05-19 13:15:44.378810+00:00", 
            "author": "https://api.launchpad.net/1.0/~leandro-i-costantino"
        }, 
        {
            "content": "Ummm you are right, actually it doesn't even with the rc file sourced.\nI guess my assuptions were wrong.\n\nWe can close this bug then.\n\nThanks for your time Leandro,\nDaniel.", 
            "date_created": "2014-05-19 13:30:39.932364+00:00", 
            "author": "https://api.launchpad.net/1.0/~daferoes"
        }
    ], 
    "closed": "2014-05-19 17:34:37.183233+00:00"
}