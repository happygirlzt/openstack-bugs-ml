{
    "status": "Fix Released", 
    "last_updated": "2012-04-05 10:08:54.071396+00:00", 
    "description": "With the following configuration:\n\n--verbose\n--nodaemon\n--connection_type=libvirt\n--libvirt_type=lxc\n\nI get the following traceback:\n\nNameError: global name 'dev' is not defined\n2012-02-02 12:38:12,163 CRITICAL nova [-] global name 'dev' is not defined\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"./bin/nova-network\", line 49, in <module>\n(nova): TRACE:     service.wait()\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/service.py\", line 414, in wait\n(nova): TRACE:     _launcher.wait()\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/service.py\", line 134, in wait\n(nova): TRACE:     service.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 166, in wait\n(nova): TRACE:     return self._exit_event.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/event.py\", line 116, in wait\n(nova): TRACE:     return hubs.get_hub().switch()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 177, in switch\n(nova): TRACE:     return self.greenlet.switch()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 192, in main\n(nova): TRACE:     result = function(*args, **kwargs)\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/service.py\", line 104, in run_server\n(nova): TRACE:     server.start()\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/service.py\", line 164, in start\n(nova): TRACE:     self.manager.init_host()\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/network/manager.py\", line 1618, in init_host\n(nova): TRACE:     NetworkManager.init_host(self)\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/network/manager.py\", line 737, in init_host\n(nova): TRACE:     self._setup_network(ctxt, network)\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/network/manager.py\", line 1707, in _setup_network\n(nova): TRACE:     self.driver.update_dhcp(context, dev, network_ref)\n(nova): TRACE: NameError: global name 'dev' is not defined", 
    "tags": [], 
    "importance": "High", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/925607", 
    "owner": "https://api.launchpad.net/1.0/~zulcss", 
    "id": 925607, 
    "index": 568, 
    "openned": "2012-02-02 17:40:50.294610+00:00", 
    "created": "2012-02-02 17:40:50.294610+00:00", 
    "title": "Starting nova-network results in traceback.", 
    "comments": [
        {
            "content": "With the following configuration:\n\n--verbose\n--nodaemon\n--connection_type=libvirt\n--libvirt_type=lxc\n\nI get the following traceback:\n\nNameError: global name 'dev' is not defined\n2012-02-02 12:38:12,163 CRITICAL nova [-] global name 'dev' is not defined\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"./bin/nova-network\", line 49, in <module>\n(nova): TRACE:     service.wait()\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/service.py\", line 414, in wait\n(nova): TRACE:     _launcher.wait()\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/service.py\", line 134, in wait\n(nova): TRACE:     service.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 166, in wait\n(nova): TRACE:     return self._exit_event.wait()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/event.py\", line 116, in wait\n(nova): TRACE:     return hubs.get_hub().switch()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/hubs/hub.py\", line 177, in switch\n(nova): TRACE:     return self.greenlet.switch()\n(nova): TRACE:   File \"/usr/lib/python2.7/dist-packages/eventlet/greenthread.py\", line 192, in main\n(nova): TRACE:     result = function(*args, **kwargs)\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/service.py\", line 104, in run_server\n(nova): TRACE:     server.start()\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/service.py\", line 164, in start\n(nova): TRACE:     self.manager.init_host()\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/network/manager.py\", line 1618, in init_host\n(nova): TRACE:     NetworkManager.init_host(self)\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/network/manager.py\", line 737, in init_host\n(nova): TRACE:     self._setup_network(ctxt, network)\n(nova): TRACE:   File \"/home/chuck/work/server/openstack/bugs/network-traceback/repo/nova/nova/network/manager.py\", line 1707, in _setup_network\n(nova): TRACE:     self.driver.update_dhcp(context, dev, network_ref)\n(nova): TRACE: NameError: global name 'dev' is not defined", 
            "date_created": "2012-02-02 17:40:50.294610+00:00", 
            "author": "https://api.launchpad.net/1.0/~zulcss"
        }, 
        {
            "content": "This was fixed here but not linked properly by gerrit:\n\nhttps://review.openstack.org/#change,3678", 
            "date_created": "2012-02-02 21:13:05.909820+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }
    ], 
    "closed": "2012-02-29 10:20:54.491811+00:00"
}