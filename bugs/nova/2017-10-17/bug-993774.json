{
    "status": "Fix Released", 
    "last_updated": "2012-07-27 13:23:00.353129+00:00", 
    "description": "steps to reproduce :\n\nnova add-floating-ip 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 192.168.0.65\n\nnova list\n\n+--------------------------------------+--------+--------+--------------------------------+\n|                  ID                  |  Name  | Status |            Networks            |\n+--------------------------------------+--------+--------+--------------------------------+\n| 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 | server  | ACTIVE | private=10.0.1.4, 192.168.0.65 |\n+--------------------------------------+--------+--------+--------------------------------+\n\nnova remove-floating-ip 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 192.168.0.65\n\nthe floating-ip associated will get deleted successfully\n\nnova list\n\n+--------------------------------------+--------+--------+------------------+\n|                  ID                  |  Name  | Status |     Networks     |\n+--------------------------------------+--------+--------+------------------+\n| 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 | server  | ACTIVE | private=10.0.1.4 |\n+--------------------------------------+--------+--------+------------------+\n\nNow remove the same floating-ip from the same instance \n\nnova remove-floating-ip 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 192.168.0.65\n\nThis should give an error, but it still says HTTP 202 Accepted in nova-api log.\n\nActual Result:\nHTTP 202 Accepted Response\n\nExpected Result:\nError message saying that ip is not associated with that instance", 
    "tags": [
        "persistent-systems"
    ], 
    "importance": "Low", 
    "heat": 18, 
    "link": "https://bugs.launchpad.net/nova/+bug/993774", 
    "owner": "https://api.launchpad.net/1.0/~danms", 
    "id": 993774, 
    "index": 553, 
    "openned": "2012-05-03 06:45:09.253490+00:00", 
    "created": "2012-05-03 06:45:09.253490+00:00", 
    "title": "Removing a non-associated floating ip from an instance returns HTTP 202 Accepted response", 
    "comments": [
        {
            "content": "steps to reproduce :\n\nnova add-floating-ip 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 192.168.0.65\n\nnova list\n\n+--------------------------------------+--------+--------+--------------------------------+\n|                  ID                  |  Name  | Status |            Networks            |\n+--------------------------------------+--------+--------+--------------------------------+\n| 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 | server  | ACTIVE | private=10.0.1.4, 192.168.0.65 |\n+--------------------------------------+--------+--------+--------------------------------+\n\nnova remove-floating-ip 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 192.168.0.65\n\nthe floating-ip associated will get deleted successfully\n\nnova list\n\n+--------------------------------------+--------+--------+------------------+\n|                  ID                  |  Name  | Status |     Networks     |\n+--------------------------------------+--------+--------+------------------+\n| 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 | server  | ACTIVE | private=10.0.1.4 |\n+--------------------------------------+--------+--------+------------------+\n\nNow remove the same floating-ip from the same instance \n\nnova remove-floating-ip 228f6b1c-8fa2-4a1a-9d03-e2dec6702233 192.168.0.65\n\nThis should give an error, but it still says HTTP 202 Accepted in nova-api log.\n\nActual Result:\nHTTP 202 Accepted Response\n\nExpected Result:\nError message saying that ip is not associated with that instance", 
            "date_created": "2012-05-03 06:45:09.253490+00:00", 
            "author": "https://api.launchpad.net/1.0/~shilpa-batchu"
        }, 
        {
            "content": "202 response is returned for all the floating ips that are present in range of floating IPs. and 500 is returned when floating IP is out of range.\n\nLOG:-\n----\n[muralik@openstack27 ~/tempest_raj/tempest_4june/tempest/tempest/tests]$nova-manage --debug floating list\n2012-06-06 22:01:15 DEBUG nova.utils [req-528dc676-444b-4383-8e95-4cd7ca23e23c None None] backend <module 'nova.db.sqlalchemy.api' from '/opt/stack/nova/nova/db/sqlalchemy/api.pyc'> from (pid=10988) __get_backend /opt/stack/nova/nova/utils.py:658\nb0f9c09937de4a15864cd15ea0c28810\t172.24.4.225\t63684107-919c-4a6d-8e9f-0cb553b7420c\tnova\tbr100\nb0f9c09937de4a15864cd15ea0c28810\t172.24.4.226\tNone\tnova\tbr100\nNone\t172.24.4.227\tNone\tnova\tbr100\nNone\t172.24.4.228\tNone\tnova\tbr100\nNone\t172.24.4.229\tNone\tnova\tbr100\nNone\t172.24.4.230\tNone\tnova\tbr100\nNone\t172.24.4.231\tNone\tnova\tbr100\nNone\t172.24.4.232\tNone\tnova\tbr100\nNone\t172.24.4.233\tNone\tnova\tbr100\nNone\t172.24.4.234\tNone\tnova\tbr100\nNone\t172.24.4.235\tNone\tnova\tbr100\nNone\t172.24.4.236\tNone\tnova\tbr100\nNone\t172.24.4.237\tNone\tnova\tbr100\nNone\t172.24.4.238\tNone\tnova\tbr100\nNone\t192.168.253.1\tNone\ttest\tbr100\nNone\t192.168.253.2\tNone\ttest\tbr100\nNone\t192.168.253.3\tNone\ttest\tbr100\nNone\t192.168.253.4\tNone\ttest\tbr100\nNone\t192.168.253.5\tNone\ttest\tbr100\nNone\t192.168.253.6\tNone\ttest\tbr100\n\n[muralik@openstack27 ~/tempest_raj/tempest_4june/tempest/tempest/tests]$nova list\n+--------------------------------------+-------------------+--------+--------------------------------+\n|                  ID                  |        Name       | Status |            Networks            |\n+--------------------------------------+-------------------+--------+--------------------------------+\n| 63684107-919c-4a6d-8e9f-0cb553b7420c | server66380222953 | ACTIVE | private=10.0.0.3, 172.24.4.225 |\n| 7ff406f0-afb5-48bf-9c69-90c6bc72bfc5 | test-float        | ACTIVE | private=10.0.0.2               |\n| 9d331070-e3bc-45bc-b513-f5f3a593d89e | floating-server   | ERROR  |                                |\n+--------------------------------------+-------------------+--------+--------------------------------+\n\n[muralik@openstack27 ~/tempest_raj/tempest_4june/tempest/tempest/tests]$nova --debug remove-floating-ip 7ff406f0-afb5-48bf-9c69-90c6bc72bfc5 192.168.253.1\nconnect: (127.0.0.1, 5000)\nsend: 'POST /v2.0/tokens HTTP/1.1\\r\\nHost: 127.0.0.1:5000\\r\\nContent-Length: 100\\r\\ncontent-type: application/json\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n{\"auth\": {\"tenantName\": \"demo\", \"passwordCredentials\": {\"username\": \"demo\", \"password\": \"muralik\"}}}'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Content-Type: application/json\nheader: Vary: X-Auth-Token\nheader: Content-Length: 2149\nheader: Date: Wed, 06 Jun 2012 16:32:04 GMT\nconnect: (10.233.52.27, 8774)\nsend: u'GET /v2/b0f9c09937de4a15864cd15ea0c28810/servers/7ff406f0-afb5-48bf-9c69-90c6bc72bfc5 HTTP/1.1\\r\\nHost: 10.233.52.27:8774\\r\\nx-auth-project-id: demo\\r\\nx-auth-token: aa5b2dd75baf43129544c7a023de3c88\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-ade1ec2b-0f60-4bdd-84bb-fcbe99871071\nheader: Content-Type: application/json\nheader: Content-Length: 1243\nheader: Date: Wed, 06 Jun 2012 16:32:04 GMT\nsend: u'GET /v2/b0f9c09937de4a15864cd15ea0c28810/servers/7ff406f0-afb5-48bf-9c69-90c6bc72bfc5 HTTP/1.1\\r\\nHost: 10.233.52.27:8774\\r\\nx-auth-project-id: demo\\r\\nx-auth-token: aa5b2dd75baf43129544c7a023de3c88\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-825802bd-784a-4ec9-b150-6b807fb9cf9a\nheader: Content-Type: application/json\nheader: Content-Length: 1243\nheader: Date: Wed, 06 Jun 2012 16:32:05 GMT\nsend: u'POST /v2/b0f9c09937de4a15864cd15ea0c28810/servers/7ff406f0-afb5-48bf-9c69-90c6bc72bfc5/action HTTP/1.1\\r\\nHost: 10.233.52.27:8774\\r\\nContent-Length: 50\\r\\nx-auth-project-id: demo\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nx-auth-token: aa5b2dd75baf43129544c7a023de3c88\\r\\nuser-agent: python-novaclient\\r\\ncontent-type: application/json\\r\\n\\r\\n{\"removeFloatingIp\": {\"address\": \"192.168.253.1\"}}'\nreply: 'HTTP/1.1 202 Accepted\\r\\n'\nheader: Content-Type: text/html; charset=UTF-8\nheader: Content-Length: 0\nheader: Date: Wed, 06 Jun 2012 16:32:05 GMT\n[muralik@openstack27 ~/tempest_raj/tempest_4june/tempest/tempest/tests]$nova --debug remove-floating-ip 7ff406f0-afb5-48bf-9c69-90c6bc72bfc5 192.168.253.7\nconnect: (127.0.0.1, 5000)\nsend: 'POST /v2.0/tokens HTTP/1.1\\r\\nHost: 127.0.0.1:5000\\r\\nContent-Length: 100\\r\\ncontent-type: application/json\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n{\"auth\": {\"tenantName\": \"demo\", \"passwordCredentials\": {\"username\": \"demo\", \"password\": \"muralik\"}}}'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Content-Type: application/json\nheader: Vary: X-Auth-Token\nheader: Content-Length: 2149\nheader: Date: Wed, 06 Jun 2012 16:32:08 GMT\nconnect: (10.233.52.27, 8774)\nsend: u'GET /v2/b0f9c09937de4a15864cd15ea0c28810/servers/7ff406f0-afb5-48bf-9c69-90c6bc72bfc5 HTTP/1.1\\r\\nHost: 10.233.52.27:8774\\r\\nx-auth-project-id: demo\\r\\nx-auth-token: ee4a62a64a6f45679af25f16844e674e\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-4245dd9e-289d-4b3b-bdf5-7a20b9ac9f32\nheader: Content-Type: application/json\nheader: Content-Length: 1243\nheader: Date: Wed, 06 Jun 2012 16:32:09 GMT\nsend: u'GET /v2/b0f9c09937de4a15864cd15ea0c28810/servers/7ff406f0-afb5-48bf-9c69-90c6bc72bfc5 HTTP/1.1\\r\\nHost: 10.233.52.27:8774\\r\\nx-auth-project-id: demo\\r\\nx-auth-token: ee4a62a64a6f45679af25f16844e674e\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-c165dfd9-e5ca-4ec3-8b56-1e171e12b483\nheader: Content-Type: application/json\nheader: Content-Length: 1243\nheader: Date: Wed, 06 Jun 2012 16:32:09 GMT\nsend: u'POST /v2/b0f9c09937de4a15864cd15ea0c28810/servers/7ff406f0-afb5-48bf-9c69-90c6bc72bfc5/action HTTP/1.1\\r\\nHost: 10.233.52.27:8774\\r\\nContent-Length: 50\\r\\nx-auth-project-id: demo\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nx-auth-token: ee4a62a64a6f45679af25f16844e674e\\r\\nuser-agent: python-novaclient\\r\\ncontent-type: application/json\\r\\n\\r\\n{\"removeFloatingIp\": {\"address\": \"192.168.253.7\"}}'\nreply: 'HTTP/1.1 500 Internal Server Error\\r\\n'\nheader: Content-Length: 128\nheader: Content-Type: application/json; charset=UTF-8\nheader: X-Compute-Request-Id: req-82cc200f-df17-4084-9955-b1cf6d782d1d\nheader: Date: Wed, 06 Jun 2012 16:32:09 GMT\nDEBUG (shell:416) The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nTraceback (most recent call last):\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 413, in main\n    OpenStackComputeShell().main(sys.argv[1:])\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 364, in main\n    args.func(self.cs, args)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/shell.py\", line 1056, in do_remove_floating_ip\n    server.remove_floating_ip(args.address)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 90, in remove_floating_ip\n    self.manager.remove_floating_ip(self, address)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 319, in remove_floating_ip\n    self._action('removeFloatingIp', server, {'address': address})\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 617, in _action\n    return self.api.client.post(url, body=body)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 139, in post\n    return self._cs_request(url, 'POST', **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 124, in _cs_request\n    **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 107, in request\n    raise exceptions.from_response(resp, body)\nClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500)\nERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500)\n[muralik@openstack27 ~/tempest_raj/tempest_4june/tempest/tempest/tests]$", 
            "date_created": "2012-06-06 11:07:18.613682+00:00", 
            "author": "https://api.launchpad.net/1.0/~rajalakshmi-ganesan"
        }, 
        {
            "content": "This might more appropriately return a 4xx code indicating that the requested call is not valid.", 
            "date_created": "2012-06-07 15:40:01.611188+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/10139", 
            "date_created": "2012-07-23 16:20:51.775375+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/10139\nCommitted: http://github.com/openstack/nova/commit/07105cb78e366d35dd8c8a046c951780c274e9a2\nSubmitter: Jenkins\nBranch:    master\n\ncommit 07105cb78e366d35dd8c8a046c951780c274e9a2\nAuthor: Dan Smith <email address hidden>\nDate:   Mon Jul 23 08:20:37 2012 -0700\n\n    Return 404 when attempting to remove a non-existent floating ip\n    \n    This fixes bug 993774 and returns 404 instead of 202 when trying to\n    delete a floating ip from an instance to which it is not allocated.\n    \n    Change-Id: I9538a8a71cbbb9d19e9ebb76f93b180dbf619764\n", 
            "date_created": "2012-07-23 16:49:35.204671+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "LOG after \"Fix-Commit\"\n-----------------------------------\n\n\nFOR FLOATING IP IN RANGE OF FLOATINGIPS:\n\n\nmuralik@ubuntu:~$ nova --debug remove-floating-ip dbd441be-e777-4a33-80fe-3f028d18aece 172.24.4.227\nconnect: (127.0.0.1, 5000)\nsend: 'POST /v2.0/tokens HTTP/1.1\\r\\nHost: 127.0.0.1:5000\\r\\nContent-Length: 102\\r\\ncontent-type: application/json\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n{\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"admin\", \"password\": \"muralik\"}}}'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Vary: X-Auth-Token\nheader: Content-Type: application/json\nheader: Content-Length: 2238\nheader: Date: Thu, 26 Jul 2012 16:53:10 GMT\n\nREQ: curl -i http://127.0.0.1:5000/v2.0/tokens -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"User-Agent: python-novaclient\"\n\nREQ BODY: {\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"admin\", \"password\": \"muralik\"}}}\n\nRESP:{'date': 'Thu, 26 Jul 2012 16:53:10 GMT', 'vary': 'X-Auth-Token', 'content-length': '2238', 'status': '200', 'content-type': 'application/json'} {\"access\": {\"token\": {\"expires\": \"2012-07-27T16:53:10Z\", \"id\": \"bb3da332baef4c6e9de076a8c6defbd0\", \"tenant\": {\"enabled\": true, \"id\": \"d566937afddd43aeb452c077276c4e81\", \"name\": \"admin\", \"description\": null}}, \"serviceCatalog\": [{\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81\", \"internalURL\": \"http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81\"}], \"endpoints_links\": [], \"type\": \"compute\", \"name\": \"Compute Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:3333\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:3333\", \"internalURL\": \"http://10.233.52.237:3333\"}], \"endpoints_links\": [], \"type\": \"s3\", \"name\": \"S3 Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:9292\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:9292\", \"internalURL\": \"http://10.233.52.237:9292\"}], \"endpoints_links\": [], \"type\": \"image\", \"name\": \"Image Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:8776/v1/d566937afddd43aeb452c077276c4e81\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:8776/v1/d566937afddd43aeb452c077276c4e81\", \"internalURL\": \"http://10.233.52.237:8776/v1/d566937afddd43aeb452c077276c4e81\"}], \"endpoints_links\": [], \"type\": \"volume\", \"name\": \"Volume Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:8773/services/Admin\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:8773/services/Cloud\", \"internalURL\": \"http://10.233.52.237:8773/services/Cloud\"}], \"endpoints_links\": [], \"type\": \"ec2\", \"name\": \"EC2 Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:35357/v2.0\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:5000/v2.0\", \"internalURL\": \"http://10.233.52.237:5000/v2.0\"}], \"endpoints_links\": [], \"type\": \"identity\", \"name\": \"Identity Service\"}], \"user\": {\"username\": \"admin\", \"roles_links\": [], \"id\": \"6e9f9972d853442484271c542d17459a\", \"roles\": [{\"id\": \"fb029f126dcd416ca451b41e3c15c57d\", \"name\": \"admin\"}, {\"id\": \"9962179d85464f73bbf063938b964149\", \"name\": \"KeystoneServiceAdmin\"}, {\"id\": \"9d64f3b3ad0741ca9708ac83bee04fc6\", \"name\": \"KeystoneAdmin\"}], \"name\": \"admin\"}}}\n\nconnect: (10.233.52.237, 8774)\nsend: u'GET /v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece HTTP/1.1\\r\\nHost: 10.233.52.237:8774\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: bb3da332baef4c6e9de076a8c6defbd0\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-98aa69f9-3681-4a08-8e18-858a7264d7a6\nheader: Content-Type: application/json\nheader: Content-Length: 1382\nheader: Date: Thu, 26 Jul 2012 16:53:10 GMT\n\nREQ: curl -i http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: bb3da332baef4c6e9de076a8c6defbd0\"\n\nRESP:{'status': '200', 'content-length': '1382', 'content-location': u'http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece', 'x-compute-request-id': 'req-98aa69f9-3681-4a08-8e18-858a7264d7a6', 'date': 'Thu, 26 Jul 2012 16:53:10 GMT', 'content-type': 'application/json'} {\"server\": {\"OS-EXT-STS:task_state\": null, \"addresses\": {\"private\": [{\"version\": 4, \"addr\": \"10.0.0.2\"}]}, \"links\": [{\"href\": \"http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece\", \"rel\": \"self\"}, {\"href\": \"http://10.233.52.237:8774/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece\", \"rel\": \"bookmark\"}], \"image\": {\"id\": \"6832b86c-0120-4668-9a43-4586b586be98\", \"links\": [{\"href\": \"http://10.233.52.237:8774/d566937afddd43aeb452c077276c4e81/images/6832b86c-0120-4668-9a43-4586b586be98\", \"rel\": \"bookmark\"}]}, \"OS-EXT-STS:vm_state\": \"active\", \"OS-EXT-SRV-ATTR:instance_name\": \"instance-00000005\", \"flavor\": {\"id\": \"1\", \"links\": [{\"href\": \"http://10.233.52.237:8774/d566937afddd43aeb452c077276c4e81/flavors/1\", \"rel\": \"bookmark\"}]}, \"id\": \"dbd441be-e777-4a33-80fe-3f028d18aece\", \"user_id\": \"6e9f9972d853442484271c542d17459a\", \"OS-DCF:diskConfig\": \"MANUAL\", \"accessIPv4\": \"\", \"accessIPv6\": \"\", \"progress\": 0, \"OS-EXT-STS:power_state\": 1, \"config_drive\": \"\", \"status\": \"ACTIVE\", \"updated\": \"2012-07-26T16:38:49Z\", \"hostId\": \"4ff3ec57f4804b2d7f9792dd57a8d7d6f6608ef26f3274238f7521f5\", \"OS-EXT-SRV-ATTR:host\": \"ubuntu\", \"key_name\": null, \"OS-EXT-SRV-ATTR:hypervisor_hostname\": \"ubuntu\", \"name\": \"test-1\", \"created\": \"2012-07-26T16:38:35Z\", \"tenant_id\": \"d566937afddd43aeb452c077276c4e81\", \"metadata\": {}}}\n\nsend: u'POST /v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece/action HTTP/1.1\\r\\nHost: 10.233.52.237:8774\\r\\nContent-Length: 49\\r\\nx-auth-project-id: admin\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nx-auth-token: bb3da332baef4c6e9de076a8c6defbd0\\r\\nuser-agent: python-novaclient\\r\\ncontent-type: application/json\\r\\n\\r\\n{\"removeFloatingIp\": {\"address\": \"172.24.4.227\"}}'\nreply: 'HTTP/1.1 404 Not Found\\r\\n'\nheader: Content-Type: text/html; charset=UTF-8\nheader: Content-Length: 0\nheader: Date: Thu, 26 Jul 2012 16:53:11 GMT\n\nREQ: curl -i http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece/action -X POST -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: bb3da332baef4c6e9de076a8c6defbd0\"\n\nREQ BODY: {\"removeFloatingIp\": {\"address\": \"172.24.4.227\"}}\n\nRESP:{'date': 'Thu, 26 Jul 2012 16:53:11 GMT', 'status': '404', 'content-length': '0', 'content-type': 'text/html; charset=UTF-8'} \n\nDEBUG (shell:466) Not found (HTTP 404)\nTraceback (most recent call last):\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 463, in main\n    OpenStackComputeShell().main(sys.argv[1:])\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 399, in main\n    args.func(self.cs, args)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/shell.py\", line 1130, in do_remove_floating_ip\n    server.remove_floating_ip(args.address)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 90, in remove_floating_ip\n    self.manager.remove_floating_ip(self, address)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 349, in remove_floating_ip\n    self._action('removeFloatingIp', server, {'address': address})\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 689, in _action\n    return self.api.client.post(url, body=body)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 183, in post\n    return self._cs_request(url, 'POST', **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 168, in _cs_request\n    **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 150, in _time_request\n    resp, body = self.request(url, method, **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 144, in request\n    raise exceptions.from_response(resp, body)\nNotFound: Not found (HTTP 404)\nERROR: Not found (HTTP 404)\nmuralik@ubuntu:~$ cd /home/muralik/temp\n\n\nFOR FLOATING IP OUT OF RANGE OF FLOATING IPS:\n\n\nmuralik@ubuntu:~$ nova --debug remove-floating-ip dbd441be-e777-4a33-80fe-3f028d18aece 200.0.00.0\nconnect: (127.0.0.1, 5000)\nsend: 'POST /v2.0/tokens HTTP/1.1\\r\\nHost: 127.0.0.1:5000\\r\\nContent-Length: 102\\r\\ncontent-type: application/json\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n{\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"admin\", \"password\": \"muralik\"}}}'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Vary: X-Auth-Token\nheader: Content-Type: application/json\nheader: Content-Length: 2238\nheader: Date: Thu, 26 Jul 2012 16:57:11 GMT\n\nREQ: curl -i http://127.0.0.1:5000/v2.0/tokens -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"User-Agent: python-novaclient\"\n\nREQ BODY: {\"auth\": {\"tenantName\": \"admin\", \"passwordCredentials\": {\"username\": \"admin\", \"password\": \"muralik\"}}}\n\nRESP:{'date': 'Thu, 26 Jul 2012 16:57:11 GMT', 'vary': 'X-Auth-Token', 'content-length': '2238', 'status': '200', 'content-type': 'application/json'} {\"access\": {\"token\": {\"expires\": \"2012-07-27T16:57:11Z\", \"id\": \"15a10074a869481a9035621d75950a51\", \"tenant\": {\"enabled\": true, \"id\": \"d566937afddd43aeb452c077276c4e81\", \"name\": \"admin\", \"description\": null}}, \"serviceCatalog\": [{\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81\", \"internalURL\": \"http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81\"}], \"endpoints_links\": [], \"type\": \"compute\", \"name\": \"Compute Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:3333\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:3333\", \"internalURL\": \"http://10.233.52.237:3333\"}], \"endpoints_links\": [], \"type\": \"s3\", \"name\": \"S3 Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:9292\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:9292\", \"internalURL\": \"http://10.233.52.237:9292\"}], \"endpoints_links\": [], \"type\": \"image\", \"name\": \"Image Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:8776/v1/d566937afddd43aeb452c077276c4e81\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:8776/v1/d566937afddd43aeb452c077276c4e81\", \"internalURL\": \"http://10.233.52.237:8776/v1/d566937afddd43aeb452c077276c4e81\"}], \"endpoints_links\": [], \"type\": \"volume\", \"name\": \"Volume Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:8773/services/Admin\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:8773/services/Cloud\", \"internalURL\": \"http://10.233.52.237:8773/services/Cloud\"}], \"endpoints_links\": [], \"type\": \"ec2\", \"name\": \"EC2 Service\"}, {\"endpoints\": [{\"adminURL\": \"http://10.233.52.237:35357/v2.0\", \"region\": \"RegionOne\", \"publicURL\": \"http://10.233.52.237:5000/v2.0\", \"internalURL\": \"http://10.233.52.237:5000/v2.0\"}], \"endpoints_links\": [], \"type\": \"identity\", \"name\": \"Identity Service\"}], \"user\": {\"username\": \"admin\", \"roles_links\": [], \"id\": \"6e9f9972d853442484271c542d17459a\", \"roles\": [{\"id\": \"fb029f126dcd416ca451b41e3c15c57d\", \"name\": \"admin\"}, {\"id\": \"9962179d85464f73bbf063938b964149\", \"name\": \"KeystoneServiceAdmin\"}, {\"id\": \"9d64f3b3ad0741ca9708ac83bee04fc6\", \"name\": \"KeystoneAdmin\"}], \"name\": \"admin\"}}}\n\nconnect: (10.233.52.237, 8774)\nsend: u'GET /v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece HTTP/1.1\\r\\nHost: 10.233.52.237:8774\\r\\nx-auth-project-id: admin\\r\\nx-auth-token: 15a10074a869481a9035621d75950a51\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nuser-agent: python-novaclient\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: X-Compute-Request-Id: req-8b78f725-25a5-4803-a88e-293a471de3c6\nheader: Content-Type: application/json\nheader: Content-Length: 1382\nheader: Date: Thu, 26 Jul 2012 16:57:11 GMT\n\nREQ: curl -i http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: 15a10074a869481a9035621d75950a51\"\n\nRESP:{'status': '200', 'content-length': '1382', 'content-location': u'http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece', 'x-compute-request-id': 'req-8b78f725-25a5-4803-a88e-293a471de3c6', 'date': 'Thu, 26 Jul 2012 16:57:11 GMT', 'content-type': 'application/json'} {\"server\": {\"OS-EXT-STS:task_state\": null, \"addresses\": {\"private\": [{\"version\": 4, \"addr\": \"10.0.0.2\"}]}, \"links\": [{\"href\": \"http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece\", \"rel\": \"self\"}, {\"href\": \"http://10.233.52.237:8774/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece\", \"rel\": \"bookmark\"}], \"image\": {\"id\": \"6832b86c-0120-4668-9a43-4586b586be98\", \"links\": [{\"href\": \"http://10.233.52.237:8774/d566937afddd43aeb452c077276c4e81/images/6832b86c-0120-4668-9a43-4586b586be98\", \"rel\": \"bookmark\"}]}, \"OS-EXT-STS:vm_state\": \"active\", \"OS-EXT-SRV-ATTR:instance_name\": \"instance-00000005\", \"flavor\": {\"id\": \"1\", \"links\": [{\"href\": \"http://10.233.52.237:8774/d566937afddd43aeb452c077276c4e81/flavors/1\", \"rel\": \"bookmark\"}]}, \"id\": \"dbd441be-e777-4a33-80fe-3f028d18aece\", \"user_id\": \"6e9f9972d853442484271c542d17459a\", \"OS-DCF:diskConfig\": \"MANUAL\", \"accessIPv4\": \"\", \"accessIPv6\": \"\", \"progress\": 0, \"OS-EXT-STS:power_state\": 1, \"config_drive\": \"\", \"status\": \"ACTIVE\", \"updated\": \"2012-07-26T16:38:49Z\", \"hostId\": \"4ff3ec57f4804b2d7f9792dd57a8d7d6f6608ef26f3274238f7521f5\", \"OS-EXT-SRV-ATTR:host\": \"ubuntu\", \"key_name\": null, \"OS-EXT-SRV-ATTR:hypervisor_hostname\": \"ubuntu\", \"name\": \"test-1\", \"created\": \"2012-07-26T16:38:35Z\", \"tenant_id\": \"d566937afddd43aeb452c077276c4e81\", \"metadata\": {}}}\n\nsend: u'POST /v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece/action HTTP/1.1\\r\\nHost: 10.233.52.237:8774\\r\\nContent-Length: 47\\r\\nx-auth-project-id: admin\\r\\naccept-encoding: gzip, deflate\\r\\naccept: application/json\\r\\nx-auth-token: 15a10074a869481a9035621d75950a51\\r\\nuser-agent: python-novaclient\\r\\ncontent-type: application/json\\r\\n\\r\\n{\"removeFloatingIp\": {\"address\": \"200.0.00.0\"}}'\nreply: 'HTTP/1.1 404 Not Found\\r\\n'\nheader: Content-Length: 78\nheader: Content-Type: application/json; charset=UTF-8\nheader: X-Compute-Request-Id: req-f61b30ba-7c8d-474f-b26d-011ab0cb7828\nheader: Date: Thu, 26 Jul 2012 16:57:11 GMT\n\nREQ: curl -i http://10.233.52.237:8774/v2/d566937afddd43aeb452c077276c4e81/servers/dbd441be-e777-4a33-80fe-3f028d18aece/action -X POST -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Content-Type: application/json\" -H \"Accept: application/json\" -H \"X-Auth-Token: 15a10074a869481a9035621d75950a51\"\n\nREQ BODY: {\"removeFloatingIp\": {\"address\": \"200.0.00.0\"}}\n\nRESP:{'date': 'Thu, 26 Jul 2012 16:57:11 GMT', 'status': '404', 'content-length': '78', 'content-type': 'application/json; charset=UTF-8', 'x-compute-request-id': 'req-f61b30ba-7c8d-474f-b26d-011ab0cb7828'} {\"itemNotFound\": {\"message\": \"The resource could not be found.\", \"code\": 404}}\n\nDEBUG (shell:466) The resource could not be found. (HTTP 404) (Request-ID: req-f61b30ba-7c8d-474f-b26d-011ab0cb7828)\nTraceback (most recent call last):\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 463, in main\n    OpenStackComputeShell().main(sys.argv[1:])\n  File \"/opt/stack/python-novaclient/novaclient/shell.py\", line 399, in main\n    args.func(self.cs, args)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/shell.py\", line 1130, in do_remove_floating_ip\n    server.remove_floating_ip(args.address)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 90, in remove_floating_ip\n    self.manager.remove_floating_ip(self, address)\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 349, in remove_floating_ip\n    self._action('removeFloatingIp', server, {'address': address})\n  File \"/opt/stack/python-novaclient/novaclient/v1_1/servers.py\", line 689, in _action\n    return self.api.client.post(url, body=body)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 183, in post\n    return self._cs_request(url, 'POST', **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 168, in _cs_request\n    **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 150, in _time_request\n    resp, body = self.request(url, method, **kwargs)\n  File \"/opt/stack/python-novaclient/novaclient/client.py\", line 144, in request\n    raise exceptions.from_response(resp, body)\nNotFound: The resource could not be found. (HTTP 404) (Request-ID: req-f61b30ba-7c8d-474f-b26d-011ab0cb7828)\nERROR: The resource could not be found. (HTTP 404) (Request-ID: req-f61b30ba-7c8d-474f-b26d-011ab0cb7828)\nmuralik@ubuntu:~$", 
            "date_created": "2012-07-26 11:39:02.053042+00:00", 
            "author": "https://api.launchpad.net/1.0/~rajalakshmi-ganesan"
        }, 
        {
            "content": "Hence Marking this bug as \"Fix-Released\"", 
            "date_created": "2012-07-26 11:40:16.253936+00:00", 
            "author": "https://api.launchpad.net/1.0/~rajalakshmi-ganesan"
        }
    ], 
    "closed": "2012-07-27 13:22:58.177083+00:00"
}