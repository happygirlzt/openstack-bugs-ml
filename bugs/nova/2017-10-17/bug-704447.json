{
    "status": "Fix Released", 
    "last_updated": "2011-02-07 14:01:55.912286+00:00", 
    "description": "After fixing both bug #704422 and bug #704424, and simply calling bin/stack in order to get the help output, I get the following fairly unhelpful 500 server error returned from nova-direct-api, and unfortunately, no output at all on the screen I have nova-direct-api running:\n\n(.nova-venv)jpipes@serialcoder:~/repos/nova/trunk$ ./bin/stack \nTraceback (most recent call last):\n  File \"./bin/stack\", line 118, in <module>\n    print help_all()\n  File \"./bin/stack\", line 72, in help_all\n    rv = do_request('reflect', 'get_controllers')\n  File \"./bin/stack\", line 109, in do_request\n    resp = urllib2.urlopen(req)\n  File \"/usr/lib/python2.6/urllib2.py\", line 126, in urlopen\n    return _opener.open(url, data, timeout)\n  File \"/usr/lib/python2.6/urllib2.py\", line 397, in open\n    response = meth(req, response)\n  File \"/usr/lib/python2.6/urllib2.py\", line 510, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"/usr/lib/python2.6/urllib2.py\", line 435, in error\n    return self._call_chain(*args)\n  File \"/usr/lib/python2.6/urllib2.py\", line 369, in _call_chain\n    result = func(*args)\n  File \"/usr/lib/python2.6/urllib2.py\", line 518, in http_error_default\n    raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\nurllib2.HTTPError: HTTP Error 500: Internal Server Error", 
    "tags": [
        "direct-api"
    ], 
    "importance": "Low", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/704447", 
    "owner": "https://api.launchpad.net/1.0/~jaypipes", 
    "id": 704447, 
    "index": 71, 
    "openned": "2011-01-18 14:55:35.189958+00:00", 
    "created": "2011-01-18 14:55:35.189958+00:00", 
    "title": "bin/stack: urllib2.HTTPError when issuing reflection request", 
    "comments": [
        {
            "content": "After fixing both bug #704422 and bug #704424, and simply calling bin/stack in order to get the help output, I get the following fairly unhelpful 500 server error returned from nova-direct-api, and unfortunately, no output at all on the screen I have nova-direct-api running:\n\n(.nova-venv)jpipes@serialcoder:~/repos/nova/trunk$ ./bin/stack \nTraceback (most recent call last):\n  File \"./bin/stack\", line 118, in <module>\n    print help_all()\n  File \"./bin/stack\", line 72, in help_all\n    rv = do_request('reflect', 'get_controllers')\n  File \"./bin/stack\", line 109, in do_request\n    resp = urllib2.urlopen(req)\n  File \"/usr/lib/python2.6/urllib2.py\", line 126, in urlopen\n    return _opener.open(url, data, timeout)\n  File \"/usr/lib/python2.6/urllib2.py\", line 397, in open\n    response = meth(req, response)\n  File \"/usr/lib/python2.6/urllib2.py\", line 510, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"/usr/lib/python2.6/urllib2.py\", line 435, in error\n    return self._call_chain(*args)\n  File \"/usr/lib/python2.6/urllib2.py\", line 369, in _call_chain\n    result = func(*args)\n  File \"/usr/lib/python2.6/urllib2.py\", line 518, in http_error_default\n    raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\nurllib2.HTTPError: HTTP Error 500: Internal Server Error", 
            "date_created": "2011-01-18 14:55:35.189958+00:00", 
            "author": "https://api.launchpad.net/1.0/~jaypipes"
        }, 
        {
            "content": "After adding a try/except block around the call to urllib2.urlopen() and printing out the error being returned like so:\n\n    try:\n        resp = urllib2.urlopen(req)\n    except urllib2.HTTPError, e:\n        print e.read()\n        sys.exit(1)\n\nI got this:\n\nTraceback (most recent call last):\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/eventlet/wsgi.py\", line 336, in handle_one_response\n    result = self.application(self.environ, start_response)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 147, in __call__\n    resp = self.call_func(req, *args, **self.kwargs)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 208, in call_func\n    return self.func(req, *args, **kwargs)\n  File \"/home/jpipes/repos/nova/trunk/nova/wsgi.py\", line 207, in __call__\n    response = req.get_response(self.application)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/request.py\", line 919, in get_response\n    application, catch_exc_info=False)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/request.py\", line 887, in call_application\n    app_iter = application(self.environ, start_response)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 147, in __call__\n    resp = self.call_func(req, *args, **self.kwargs)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 208, in call_func\n    return self.func(req, *args, **kwargs)\n  File \"/home/jpipes/repos/nova/trunk/nova/wsgi.py\", line 207, in __call__\n    response = req.get_response(self.application)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/request.py\", line 919, in get_response\n    application, catch_exc_info=False)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/request.py\", line 887, in call_application\n    app_iter = application(self.environ, start_response)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 147, in __call__\n    resp = self.call_func(req, *args, **self.kwargs)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 208, in call_func\n    return self.func(req, *args, **kwargs)\n  File \"/home/jpipes/repos/nova/trunk/nova/wsgi.py\", line 207, in __call__\n    response = req.get_response(self.application)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/request.py\", line 919, in get_response\n    application, catch_exc_info=False)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/request.py\", line 887, in call_application\n    app_iter = application(self.environ, start_response)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 159, in __call__\n    return resp(environ, start_response)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/routes/middleware.py\", line 131, in __call__\n    response = self.app(environ, start_response)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 159, in __call__\n    return resp(environ, start_response)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 147, in __call__\n    resp = self.call_func(req, *args, **self.kwargs)\n  File \"/home/jpipes/repos/nova/trunk/.nova-venv/lib/python2.6/site-packages/webob/dec.py\", line 208, in call_func\n    return self.func(req, *args, **kwargs)\n  File \"/home/jpipes/repos/nova/trunk/nova/api/direct.py\", line 199, in __call__\n    result = method(context, **params)\n  File \"/home/jpipes/repos/nova/trunk/nova/api/direct.py\", line 157, in get_controllers\n    self._gather_methods()\n  File \"/home/jpipes/repos/nova/trunk/nova/api/direct.py\", line 146, in _gather_methods\n    'short_doc': f.__doc__.split('\\n')[0],\nAttributeError: 'NoneType' object has no attribute 'split'\n", 
            "date_created": "2011-01-18 15:17:07.396062+00:00", 
            "author": "https://api.launchpad.net/1.0/~jaypipes"
        }
    ], 
    "closed": "2011-02-07 14:01:54.168449+00:00"
}