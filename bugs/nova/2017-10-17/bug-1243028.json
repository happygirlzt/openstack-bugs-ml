{
    "status": "Invalid", 
    "last_updated": "2014-09-18 23:38:53.450859+00:00", 
    "description": "\nWhen live snapshot a KVM VM, libvirt driver report the following exception\n\n2013-10-22 13:14:56.252 ERROR nova.openstack.common.rpc.amqp [req-2cfda464-7171-4136-9b1c-96c48f095d67 admin admin] Exception during message handling\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 354, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 90, in wrapped\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     payload)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 73, in wrapped\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 244, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     pass\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 230, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 272, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     e, sys.exc_info())\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 259, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 320, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     % image_id, instance=instance)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 310, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     *args, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 2296, in snapshot_instance\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     task_states.IMAGE_SNAPSHOT)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 2329, in _snapshot_instance\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     update_task_state)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/virt/driver.py\", line 364, in live_snapshot\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     raise NotImplementedError()\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp NotImplementedError", 
    "tags": [
        "libvirt"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1243028", 
    "owner": "None", 
    "id": 1243028, 
    "index": 5482, 
    "openned": "2013-10-22 05:16:05.046605+00:00", 
    "created": "2013-10-22 05:16:05.046605+00:00", 
    "title": "live snapshot report 'NotImplemented' when using libvirt driver", 
    "comments": [
        {
            "content": "\nWhen live snapshot a KVM VM, libvirt driver report the following exception\n\n2013-10-22 13:14:56.252 ERROR nova.openstack.common.rpc.amqp [req-2cfda464-7171-4136-9b1c-96c48f095d67 admin admin] Exception during message handling\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/openstack/common/rpc/amqp.py\", line 461, in _process_data\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     **args)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/openstack/common/rpc/dispatcher.py\", line 172, in dispatch\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     result = getattr(proxyobj, method)(ctxt, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 354, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 90, in wrapped\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     payload)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/exception.py\", line 73, in wrapped\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     return f(self, context, *args, **kw)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 244, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     pass\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 230, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 272, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     e, sys.exc_info())\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 259, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 320, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     % image_id, instance=instance)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 310, in decorated_function\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     *args, **kwargs)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 2296, in snapshot_instance\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     task_states.IMAGE_SNAPSHOT)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/compute/manager.py\", line 2329, in _snapshot_instance\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     update_task_state)\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp   File \"/opt/stack/nova/nova/virt/driver.py\", line 364, in live_snapshot\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp     raise NotImplementedError()\n2013-10-22 13:14:56.252 TRACE nova.openstack.common.rpc.amqp NotImplementedError", 
            "date_created": "2013-10-22 05:16:05.046605+00:00", 
            "author": "https://api.launchpad.net/1.0/~jay-lau-513"
        }, 
        {
            "content": "We are now using snapshot to create both live and cold snapshot based on the configuration. This need to be enhanced", 
            "date_created": "2013-10-22 07:03:03.250896+00:00", 
            "author": "https://api.launchpad.net/1.0/~jay-lau-513"
        }, 
        {
            "content": "This is largely because you were using an old libvirt I presume. Please reopen if an issue.", 
            "date_created": "2014-09-18 23:38:52.683540+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }
    ], 
    "closed": "2014-09-18 23:38:23.057258+00:00"
}