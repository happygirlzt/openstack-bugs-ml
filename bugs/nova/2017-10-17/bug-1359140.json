{
    "status": "Invalid", 
    "last_updated": "2014-08-28 10:19:21.822636+00:00", 
    "description": "I am using devstack development environment.\n\n\nmy localrc file is as -\n\nENABLED_SERVICES+=,q-svc,q-agt,q-dhcp,q-l3,q-meta\nDEST=/opt/stack\ndisable_service n-net\nenable_service tempest\nAPI_RATE_LIMIT=False\nVOLUME_BACKING_FILE_SIZE=4G\nVIRT_DRIVER=libvirt\nSWIFT_REPLICAS=1\nexport OS_NO_CACHE=True\nSCREEN_LOGDIR=/opt/stack/screen-logs\nSYSLOG=True\nSKIP_EXERCISES=boot_from_volume,client-env\nROOTSLEEP=0\nACTIVE_TIMEOUT=60\nQ_USE_SECGROUP=True\nBOOT_TIMEOUT=90\nASSOCIATE_TIMEOUT=60\nADMIN_PASSWORD=Password\nMYSQL_PASSWORD=Password\nRABBIT_PASSWORD=Password\nSERVICE_PASSWORD=Password\nSERVICE_TOKEN=tokentoken\nSWIFT_HASH=Password\n\nI am trying to create a network using nova network-create CLI.\n\nI tries following command - \n\n#[raies@localhost devstack]$ nova network-create --fixed-range-v4 192.168.1.0/8 test-net-1\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-da64fd03-3637-4a80-9b6f-28e6d477e60d)\n\n\nTraces of n-api logs are as -\n\n\n _http_log_response /opt/stack/python-keystoneclient/keystoneclient/session.py:196\n2014-08-20 15:37:57.212 DEBUG nova.api.openstack.wsgi [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] Action: 'create', body: {\"network\": {\"cidr\": \"192.168.1.0/8\", \"label\": \"test-net-1\"}} _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:931\n2014-08-20 15:37:57.212 DEBUG nova.api.openstack.wsgi [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] Calling method '<bound method NetworkController.create of <nova.api.openstack.compute.contrib.os_networks.NetworkController object at 0x37eb650>>' (Content-type='application/json', Accept='application/json') _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:936\n2014-08-20 15:37:57.213 DEBUG nova.api.openstack.compute.contrib.os_networks [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] Creating network with label test-net-1 create /opt/stack/nova/nova/api/openstack/compute/contrib/os_networks.py:129\n2014-08-20 15:37:57.213 ERROR nova.api.openstack [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] Caught error:\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack Traceback (most recent call last):\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 124, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return req.get_response(self.application)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/request.py\", line 1296, in send\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     application, catch_exc_info=False)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/request.py\", line 1260, in call_application\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystonemiddleware/auth_token.py\", line 565, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return self._app(env, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/routes/middleware.py\", line 131, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 130, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 195, in call_func\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 908, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     content_type, body, accept)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 974, in _process_stack\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 1058, in dispatch\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return method(req=request, **action_args)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/os_networks.py\", line 134, in create\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     network = self.network_api.create(context, **params)[0]\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/network/base_api.py\", line 97, in create\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     raise NotImplementedError()\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack NotImplementedError\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack\n2014-08-20 15:37:57.215 INFO nova.api.openstack [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] http://10.0.9.49:8774/v2/38ac127d980547638ed2c87c0229b2d4/os-networks returned with HTTP 500", 
    "tags": [
        "network"
    ], 
    "importance": "Undecided", 
    "heat": 8, 
    "link": "https://bugs.launchpad.net/nova/+bug/1359140", 
    "owner": "None", 
    "id": 1359140, 
    "index": 6360, 
    "openned": "2014-08-20 10:24:34.229276+00:00", 
    "created": "2014-08-20 10:24:34.229276+00:00", 
    "title": "NotImplementedError during nova network-create", 
    "comments": [
        {
            "content": "I am using devstack development environment.\n\n\nmy localrc file is as -\n\nENABLED_SERVICES+=,q-svc,q-agt,q-dhcp,q-l3,q-meta\nDEST=/opt/stack\ndisable_service n-net\nenable_service tempest\nAPI_RATE_LIMIT=False\nVOLUME_BACKING_FILE_SIZE=4G\nVIRT_DRIVER=libvirt\nSWIFT_REPLICAS=1\nexport OS_NO_CACHE=True\nSCREEN_LOGDIR=/opt/stack/screen-logs\nSYSLOG=True\nSKIP_EXERCISES=boot_from_volume,client-env\nROOTSLEEP=0\nACTIVE_TIMEOUT=60\nQ_USE_SECGROUP=True\nBOOT_TIMEOUT=90\nASSOCIATE_TIMEOUT=60\nADMIN_PASSWORD=Password\nMYSQL_PASSWORD=Password\nRABBIT_PASSWORD=Password\nSERVICE_PASSWORD=Password\nSERVICE_TOKEN=tokentoken\nSWIFT_HASH=Password\n\nI am trying to create a network using nova network-create CLI.\n\nI tries following command - \n\n#[raies@localhost devstack]$ nova network-create --fixed-range-v4 192.168.1.0/8 test-net-1\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-da64fd03-3637-4a80-9b6f-28e6d477e60d)\n\n\nTraces of n-api logs are as -\n\n\n _http_log_response /opt/stack/python-keystoneclient/keystoneclient/session.py:196\n2014-08-20 15:37:57.212 DEBUG nova.api.openstack.wsgi [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] Action: 'create', body: {\"network\": {\"cidr\": \"192.168.1.0/8\", \"label\": \"test-net-1\"}} _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:931\n2014-08-20 15:37:57.212 DEBUG nova.api.openstack.wsgi [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] Calling method '<bound method NetworkController.create of <nova.api.openstack.compute.contrib.os_networks.NetworkController object at 0x37eb650>>' (Content-type='application/json', Accept='application/json') _process_stack /opt/stack/nova/nova/api/openstack/wsgi.py:936\n2014-08-20 15:37:57.213 DEBUG nova.api.openstack.compute.contrib.os_networks [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] Creating network with label test-net-1 create /opt/stack/nova/nova/api/openstack/compute/contrib/os_networks.py:129\n2014-08-20 15:37:57.213 ERROR nova.api.openstack [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] Caught error:\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack Traceback (most recent call last):\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/__init__.py\", line 124, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return req.get_response(self.application)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/request.py\", line 1296, in send\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     application, catch_exc_info=False)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/request.py\", line 1260, in call_application\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     app_iter = application(self.environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/keystonemiddleware/auth_token.py\", line 565, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return self._app(env, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/routes/middleware.py\", line 131, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     response = self.app(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 144, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return resp(environ, start_response)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 130, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     resp = self.call_func(req, *args, **self.kwargs)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/usr/lib/python2.7/site-packages/webob/dec.py\", line 195, in call_func\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return self.func(req, *args, **kwargs)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 908, in __call__\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     content_type, body, accept)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 974, in _process_stack\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     action_result = self.dispatch(meth, request, action_args)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/wsgi.py\", line 1058, in dispatch\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     return method(req=request, **action_args)\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/api/openstack/compute/contrib/os_networks.py\", line 134, in create\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     network = self.network_api.create(context, **params)[0]\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack   File \"/opt/stack/nova/nova/network/base_api.py\", line 97, in create\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack     raise NotImplementedError()\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack NotImplementedError\n2014-08-20 15:37:57.213 17128 TRACE nova.api.openstack\n2014-08-20 15:37:57.215 INFO nova.api.openstack [req-da64fd03-3637-4a80-9b6f-28e6d477e60d admin admin] http://10.0.9.49:8774/v2/38ac127d980547638ed2c87c0229b2d4/os-networks returned with HTTP 500", 
            "date_created": "2014-08-20 10:24:34.229276+00:00", 
            "author": "https://api.launchpad.net/1.0/~raiesmh08"
        }, 
        {
            "content": "my nova.conf is as -\n\n\n\n[DEFAULT]\nvif_plugging_timeout = 300\nvif_plugging_is_fatal = True\nservice_neutron_metadata_proxy = True\nlinuxnet_interface_driver = \n#security_group_api = neutron\nnetwork_api_class = nova.network.neutronv2.api.API\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\ncompute_driver = libvirt.LibvirtDriver\ndefault_ephemeral_format = ext4\nrabbit_password = Password\nrabbit_hosts = 10.0.9.49\nrpc_backend = nova.openstack.common.rpc.impl_kombu\nec2_dmz_host = 10.0.9.49\nvncserver_proxyclient_address = 127.0.0.1\nvncserver_listen = 127.0.0.1\nvnc_enabled = true\nxvpvncproxy_base_url = http://10.0.9.49:6081/console\nnovncproxy_base_url = http://10.0.9.49:6080/vnc_auto.html\nlogging_context_format_string = %(asctime)s.%(msecs)03d %(levelname)s %(name)s [%(request_id)s %(user_name)s %(project_name)s] %(instance)s%(message)s\nforce_config_drive = always\napi_rate_limit = False\nuse_syslog = True\ninstances_path = /opt/stack/data/nova/instances\nlock_path = /opt/stack/data/nova\nstate_path = /opt/stack/data/nova\nenabled_apis = ec2,osapi_compute,metadata\nbindir = /usr/bin\ninstance_name_template = instance-%08x\nsql_connection = mysql://root:Password@127.0.0.1/nova?charset=utf8\nmy_ip = 10.0.9.49\ns3_port = 3333\ns3_host = 10.0.9.49\ndefault_floating_pool = public\nfixed_range = \nforce_dhcp_release = True\ndhcpbridge_flagfile = /etc/nova/nova.conf\nscheduler_driver = nova.scheduler.filter_scheduler.FilterScheduler\nrootwrap_config = /etc/nova/rootwrap.conf\napi_paste_config = /etc/nova/api-paste.ini\nallow_resize_to_same_host = True\nauth_strategy = keystone\ndebug = True\nverbose = True\n\n[osapi_v3]\nenabled = True\n\n[keystone_authtoken]\nsigning_dir = /var/cache/nova\nadmin_password = Password\nadmin_user = nova\ncafile = \nadmin_tenant_name = service\nidentity_uri = http://10.0.9.49:35357\n\n[spice]\nenabled = false\nhtml5proxy_base_url = http://10.0.9.49:6082/spice_auto.html\n\n[glance]\napi_servers = 10.0.9.49:9292\n\n[libvirt]\nvif_driver = nova.virt.libvirt.vif.LibvirtGenericVIFDriver\ninject_partition = -2\nuse_usb_tablet = False\ncpu_mode = none\nvirt_type = kvm\n\n[neutron]\nurl = http://10.0.9.49:9696\nregion_name = RegionOne\nadmin_tenant_name = service\nauth_strategy = keystone\nadmin_auth_url = http://10.0.9.49:35357/v2.0\nadmin_password = Password\nadmin_username = neutron\n\n[keymgr]\nfixed_key = 895BCA7E4557C61518143F50D84F6EBF91D85C0ADEE48538E6317D4AA0236005", 
            "date_created": "2014-08-20 10:54:23.632199+00:00", 
            "author": "https://api.launchpad.net/1.0/~raiesmh08"
        }, 
        {
            "content": "Hi, Anyone who uses neutron uses the neutron command line facilities to setup/use neutron and not use the nova command line for that. At least the existing code reflects that premise from what i can tell. Can you try neutron command line and check if it works for you at least?\n\nthanks,\ndims", 
            "date_created": "2014-08-20 13:15:26.503352+00:00", 
            "author": "https://api.launchpad.net/1.0/~dims-v"
        }, 
        {
            "content": "Agree with dims. \n\nNeutron API in nova (https://github.com/openstack/nova/blob/master/nova/network/neutronv2/api.py) does not implement the interfaces like  create network etc. I am not much aware about the background of why those are not part of proxy. \n\nIf you are not able to create network with neutron CLI or with Nova-network in case it is enabled then there is something wrong. \n\n", 
            "date_created": "2014-08-28 03:38:28.731697+00:00", 
            "author": "https://api.launchpad.net/1.0/~ghanshyammann"
        }, 
        {
            "content": "Confirmed that \"nova net-create\" & \"neutron net-create\" create network successfully when nova-network & neutron is enabled respectively. ", 
            "date_created": "2014-08-28 10:18:26.429327+00:00", 
            "author": "https://api.launchpad.net/1.0/~ghanshyammann"
        }
    ], 
    "closed": "2014-08-28 10:19:19.097803+00:00"
}