{
    "status": "Invalid", 
    "last_updated": "2017-03-21 16:38:23.370153+00:00", 
    "description": "1. Exact version of Nova/OpenStack you are running:\nii  nova-api                         2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - API frontend\nii  nova-cert                        2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - certificate management\nii  nova-common                      2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - common files\nii  nova-conductor                   2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - conductor service\nii  nova-consoleauth                 2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                  2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                   2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - virtual machine scheduler\nii  python-nova                      2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute Python libraries\nii  python-novaclient                2:2.29.0-1~cloud0                     all          client library for OpenStack Compute API\n\n\n2. Relevant log files:\n\n\n\n\n\n2015-12-08 10:54:46.428 5561 INFO nova.osapi_compute.wsgi.server [req-9e819344-85a6-4bf7-a225-88cdf59e235e bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] 10.100.100.20 \"GET /v2/ HTTP/1.1\" status: 200 len: 575 time: 0.0552752\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters [req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] DBAPIError exception wrapped from (pymysql.err.InternalError) (1139, u\"Got error 'brackets ([ ]) not balanced' from regexp\") [SQL: u'SELECT anon_1.instances_created_at AS anon_1_instances_created_at, anon_1.instances_updated_at AS anon_1_instances_updated_at, anon_1.instances_deleted_at AS anon_1_instances_deleted_at, anon_1.instances_deleted AS anon_1_instances_deleted, anon_1.instances_id AS anon_1_instances_id, anon_1.instances_user_id AS anon_1_instances_user_id, anon_1.instances_project_id AS anon_1_instances_project_id, anon_1.instances_image_ref AS anon_1_instances_image_ref, anon_1.instances_kernel_id AS anon_1_instances_kernel_id, anon_1.instances_ramdisk_id AS anon_1_instances_ramdisk_id, anon_1.instances_hostname AS anon_1_instances_hostname, anon_1.instances_launch_index AS anon_1_instances_launch_index, anon_1.instances_key_name AS anon_1_instances_key_name, anon_1.instances_key_data AS anon_1_instances_key_data, anon_1.instances_power_state AS anon_1_instances_power_state, anon_1.instances_vm_state AS anon_1_instances_vm_state, anon_1.instances_task_state AS anon_1_instances_task_state, anon_1.instances_memory_mb AS anon_1_instances_memory_mb, anon_1.instances_vcpus AS anon_1_instances_vcpus, anon_1.instances_root_gb AS anon_1_instances_root_gb, anon_1.instances_ephemeral_gb AS anon_1_instances_ephemeral_gb, anon_1.instances_ephemeral_key_uuid AS anon_1_instances_ephemeral_key_uuid, anon_1.instances_host AS anon_1_instances_host, anon_1.instances_node AS anon_1_instances_node, anon_1.instances_instance_type_id AS anon_1_instances_instance_type_id, anon_1.instances_user_data AS anon_1_instances_user_data, anon_1.instances_reservation_id AS anon_1_instances_reservation_id, anon_1.instances_launched_at AS anon_1_instances_launched_at, anon_1.instances_terminated_at AS anon_1_instances_terminated_at, anon_1.instances_availability_zone AS anon_1_instances_availability_zone, anon_1.instances_display_name AS anon_1_instances_display_name, anon_1.instances_display_description AS anon_1_instances_display_description, anon_1.instances_launched_on AS anon_1_instances_launched_on, anon_1.instances_locked AS anon_1_instances_locked, anon_1.instances_locked_by AS anon_1_instances_locked_by, anon_1.instances_os_type AS anon_1_instances_os_type, anon_1.instances_architecture AS anon_1_instances_architecture, anon_1.instances_vm_mode AS anon_1_instances_vm_mode, anon_1.instances_uuid AS anon_1_instances_uuid, anon_1.instances_root_device_name AS anon_1_instances_root_device_name, anon_1.instances_default_ephemeral_device AS anon_1_instances_default_ephemeral_device, anon_1.instances_default_swap_device AS anon_1_instances_default_swap_device, anon_1.instances_config_drive AS anon_1_instances_config_drive, anon_1.instances_access_ip_v4 AS anon_1_instances_access_ip_v4, anon_1.instances_access_ip_v6 AS anon_1_instances_access_ip_v6, anon_1.instances_auto_disk_config AS anon_1_instances_auto_disk_config, anon_1.instances_progress AS anon_1_instances_progress, anon_1.instances_shutdown_terminate AS anon_1_instances_shutdown_terminate, anon_1.instances_disable_terminate AS anon_1_instances_disable_terminate, anon_1.instances_cell_name AS anon_1_instances_cell_name, anon_1.instances_internal_id AS anon_1_instances_internal_id, anon_1.instances_cleaned AS anon_1_instances_cleaned, security_groups_1.created_at AS security_groups_1_created_at, security_groups_1.updated_at AS security_groups_1_updated_at, security_groups_1.deleted_at AS security_groups_1_deleted_at, security_groups_1.deleted AS security_groups_1_deleted, security_groups_1.id AS security_groups_1_id, security_groups_1.name AS security_groups_1_name, security_groups_1.description AS security_groups_1_description, security_groups_1.user_id AS security_groups_1_user_id, security_groups_1.project_id AS security_groups_1_project_id, instance_info_caches_1.created_at AS instance_info_caches_1_created_at, instance_info_caches_1.updated_at AS instance_info_caches_1_updated_at, instance_info_caches_1.deleted_at AS instance_info_caches_1_deleted_at, instance_info_caches_1.deleted AS instance_info_caches_1_deleted, instance_info_caches_1.id AS instance_info_caches_1_id, instance_info_caches_1.network_info AS instance_info_caches_1_network_info, instance_info_caches_1.instance_uuid AS instance_info_caches_1_instance_uuid \\nFROM (SELECT instances.created_at AS instances_created_at, instances.updated_at AS instances_updated_at, instances.deleted_at AS instances_deleted_at, instances.deleted AS instances_deleted, instances.id AS instances_id, instances.user_id AS instances_user_id, instances.project_id AS instances_project_id, instances.image_ref AS instances_image_ref, instances.kernel_id AS instances_kernel_id, instances.ramdisk_id AS instances_ramdisk_id, instances.hostname AS instances_hostname, instances.launch_index AS instances_launch_index, instances.key_name AS instances_key_name, instances.key_data AS instances_key_data, instances.power_state AS instances_power_state, instances.vm_state AS instances_vm_state, instances.task_state AS instances_task_state, instances.memory_mb AS instances_memory_mb, instances.vcpus AS instances_vcpus, instances.root_gb AS instances_root_gb, instances.ephemeral_gb AS instances_ephemeral_gb, instances.ephemeral_key_uuid AS instances_ephemeral_key_uuid, instances.host AS instances_host, instances.node AS instances_node, instances.instance_type_id AS instances_instance_type_id, instances.user_data AS instances_user_data, instances.reservation_id AS instances_reservation_id, instances.launched_at AS instances_launched_at, instances.terminated_at AS instances_terminated_at, instances.availability_zone AS instances_availability_zone, instances.display_name AS instances_display_name, instances.display_description AS instances_display_description, instances.launched_on AS instances_launched_on, instances.locked AS instances_locked, instances.locked_by AS instances_locked_by, instances.os_type AS instances_os_type, instances.architecture AS instances_architecture, instances.vm_mode AS instances_vm_mode, instances.uuid AS instances_uuid, instances.root_device_name AS instances_root_device_name, instances.default_ephemeral_device AS instances_default_ephemeral_device, instances.default_swap_device AS instances_default_swap_device, instances.config_drive AS instances_config_drive, instances.access_ip_v4 AS instances_access_ip_v4, instances.access_ip_v6 AS instances_access_ip_v6, instances.auto_disk_config AS instances_auto_disk_config, instances.progress AS instances_progress, instances.shutdown_terminate AS instances_shutdown_terminate, instances.disable_terminate AS instances_disable_terminate, instances.cell_name AS instances_cell_name, instances.internal_id AS instances_internal_id, instances.cleaned AS instances_cleaned \\nFROM instances \\nWHERE instances.deleted = %s AND (instances.vm_state != %s OR instances.vm_state IS NULL) AND instances.project_id = %s AND (instances.display_name REGEXP %s) ORDER BY instances.created_at DESC, instances.id DESC \\n LIMIT %s) AS anon_1 LEFT OUTER JOIN (security_group_instance_association AS security_group_instance_association_1 INNER JOIN security_groups AS security_groups_1 ON security_groups_1.id = security_group_instance_association_1.security_group_id AND security_group_instance_association_1.deleted = %s AND security_groups_1.deleted = %s) ON security_group_instance_association_1.instance_uuid = anon_1.instances_uuid AND anon_1.instances_deleted = %s LEFT OUTER JOIN instance_info_caches AS instance_info_caches_1 ON instance_info_caches_1.instance_uuid = anon_1.instances_uuid ORDER BY anon_1.instances_created_at DESC, anon_1.instances_id DESC'] [parameters: (0, 'soft-delete', u'61909ec3cd0f4d7fb6c641d71d01e106', u'vm_ln_[1', 1000, 0, 0, 0)]\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters Traceback (most recent call last):\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     context)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     cursor.execute(statement, parameters)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/cursors.py\", line 132, in execute\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     result = self._query(query)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/cursors.py\", line 271, in _query\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     conn.query(q)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 726, in query\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 861, in _read_query_result\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     result.read()\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 1064, in read\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     first_packet = self.connection._read_packet()\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 826, in _read_packet\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     packet.check_error()\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 370, in check_error\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     raise_mysql_exception(self._data)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/err.py\", line 116, in raise_mysql_exception\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     _check_mysql_exception(errinfo)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/err.py\", line 112, in _check_mysql_exception\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     raise InternalError(errno, errorvalue)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters InternalError: (1139, u\"Got error 'brackets ([ ]) not balanced' from regexp\")\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters \n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions [req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] Unexpected exception in API method\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 269, in index\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     servers = self._get_servers(req, is_detail=False)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 395, in _get_servers\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 2139, in get_all\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 2189, in _get_instances_by_filters\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     expected_attrs=fields, sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 171, in wrapper\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1112, in get_by_filters\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     use_slave=use_slave, sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 685, in instance_get_all_by_filters_sort\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 216, in wrapper\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 2065, in instance_get_all_by_filters_sort\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return _instances_fill_metadata(context, query_prefix.all(), manual_joins)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2399, in all\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return list(self)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2516, in __iter__\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return self._execute_and_instances(context)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2531, in _execute_and_instances\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     result = conn.execute(querycontext.statement, self._params)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return meth(self, multiparams, params)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return connection._execute_clauseelement(self, multiparams, params)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     compiled_sql, distilled_params\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     context)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1337, in _handle_dbapi_exception\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     util.raise_from_cause(newraise, exc_info)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 199, in raise_from_cause\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     reraise(type(exception), exception, tb=exc_tb)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     context)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     cursor.execute(statement, parameters)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/cursors.py\", line 132, in execute\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     result = self._query(query)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/cursors.py\", line 271, in _query\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     conn.query(q)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 726, in query\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 861, in _read_query_result\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     result.read()\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 1064, in read\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     first_packet = self.connection._read_packet()\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 826, in _read_packet\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     packet.check_error()\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 370, in check_error\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     raise_mysql_exception(self._data)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/err.py\", line 116, in raise_mysql_exception\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     _check_mysql_exception(errinfo)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/err.py\", line 112, in _check_mysql_exception\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     raise InternalError(errno, errorvalue)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions DBError: (pymysql.err.InternalError) (1139, u\"Got error 'brackets ([ ]) not balanced' from regexp\") [SQL: u'SELECT anon_1.instances_created_at AS anon_1_instances_created_at, anon_1.instances_updated_at AS anon_1_instances_updated_at, anon_1.instances_deleted_at AS anon_1_instances_deleted_at, anon_1.instances_deleted AS anon_1_instances_deleted, anon_1.instances_id AS anon_1_instances_id, anon_1.instances_user_id AS anon_1_instances_user_id, anon_1.instances_project_id AS anon_1_instances_project_id, anon_1.instances_image_ref AS anon_1_instances_image_ref, anon_1.instances_kernel_id AS anon_1_instances_kernel_id, anon_1.instances_ramdisk_id AS anon_1_instances_ramdisk_id, anon_1.instances_hostname AS anon_1_instances_hostname, anon_1.instances_launch_index AS anon_1_instances_launch_index, anon_1.instances_key_name AS anon_1_instances_key_name, anon_1.instances_key_data AS anon_1_instances_key_data, anon_1.instances_power_state AS anon_1_instances_power_state, anon_1.instances_vm_state AS anon_1_instances_vm_state, anon_1.instances_task_state AS anon_1_instances_task_state, anon_1.instances_memory_mb AS anon_1_instances_memory_mb, anon_1.instances_vcpus AS anon_1_instances_vcpus, anon_1.instances_root_gb AS anon_1_instances_root_gb, anon_1.instances_ephemeral_gb AS anon_1_instances_ephemeral_gb, anon_1.instances_ephemeral_key_uuid AS anon_1_instances_ephemeral_key_uuid, anon_1.instances_host AS anon_1_instances_host, anon_1.instances_node AS anon_1_instances_node, anon_1.instances_instance_type_id AS anon_1_instances_instance_type_id, anon_1.instances_user_data AS anon_1_instances_user_data, anon_1.instances_reservation_id AS anon_1_instances_reservation_id, anon_1.instances_launched_at AS anon_1_instances_launched_at, anon_1.instances_terminated_at AS anon_1_instances_terminated_at, anon_1.instances_availability_zone AS anon_1_instances_availability_zone, anon_1.instances_display_name AS anon_1_instances_display_name, anon_1.instances_display_description AS anon_1_instances_display_description, anon_1.instances_launched_on AS anon_1_instances_launched_on, anon_1.instances_locked AS anon_1_instances_locked, anon_1.instances_locked_by AS anon_1_instances_locked_by, anon_1.instances_os_type AS anon_1_instances_os_type, anon_1.instances_architecture AS anon_1_instances_architecture, anon_1.instances_vm_mode AS anon_1_instances_vm_mode, anon_1.instances_uuid AS anon_1_instances_uuid, anon_1.instances_root_device_name AS anon_1_instances_root_device_name, anon_1.instances_default_ephemeral_device AS anon_1_instances_default_ephemeral_device, anon_1.instances_default_swap_device AS anon_1_instances_default_swap_device, anon_1.instances_config_drive AS anon_1_instances_config_drive, anon_1.instances_access_ip_v4 AS anon_1_instances_access_ip_v4, anon_1.instances_access_ip_v6 AS anon_1_instances_access_ip_v6, anon_1.instances_auto_disk_config AS anon_1_instances_auto_disk_config, anon_1.instances_progress AS anon_1_instances_progress, anon_1.instances_shutdown_terminate AS anon_1_instances_shutdown_terminate, anon_1.instances_disable_terminate AS anon_1_instances_disable_terminate, anon_1.instances_cell_name AS anon_1_instances_cell_name, anon_1.instances_internal_id AS anon_1_instances_internal_id, anon_1.instances_cleaned AS anon_1_instances_cleaned, security_groups_1.created_at AS security_groups_1_created_at, security_groups_1.updated_at AS security_groups_1_updated_at, security_groups_1.deleted_at AS security_groups_1_deleted_at, security_groups_1.deleted AS security_groups_1_deleted, security_groups_1.id AS security_groups_1_id, security_groups_1.name AS security_groups_1_name, security_groups_1.description AS security_groups_1_description, security_groups_1.user_id AS security_groups_1_user_id, security_groups_1.project_id AS security_groups_1_project_id, instance_info_caches_1.created_at AS instance_info_caches_1_created_at, instance_info_caches_1.updated_at AS instance_info_caches_1_updated_at, instance_info_caches_1.deleted_at AS instance_info_caches_1_deleted_at, instance_info_caches_1.deleted AS instance_info_caches_1_deleted, instance_info_caches_1.id AS instance_info_caches_1_id, instance_info_caches_1.network_info AS instance_info_caches_1_network_info, instance_info_caches_1.instance_uuid AS instance_info_caches_1_instance_uuid \\nFROM (SELECT instances.created_at AS instances_created_at, instances.updated_at AS instances_updated_at, instances.deleted_at AS instances_deleted_at, instances.deleted AS instances_deleted, instances.id AS instances_id, instances.user_id AS instances_user_id, instances.project_id AS instances_project_id, instances.image_ref AS instances_image_ref, instances.kernel_id AS instances_kernel_id, instances.ramdisk_id AS instances_ramdisk_id, instances.hostname AS instances_hostname, instances.launch_index AS instances_launch_index, instances.key_name AS instances_key_name, instances.key_data AS instances_key_data, instances.power_state AS instances_power_state, instances.vm_state AS instances_vm_state, instances.task_state AS instances_task_state, instances.memory_mb AS instances_memory_mb, instances.vcpus AS instances_vcpus, instances.root_gb AS instances_root_gb, instances.ephemeral_gb AS instances_ephemeral_gb, instances.ephemeral_key_uuid AS instances_ephemeral_key_uuid, instances.host AS instances_host, instances.node AS instances_node, instances.instance_type_id AS instances_instance_type_id, instances.user_data AS instances_user_data, instances.reservation_id AS instances_reservation_id, instances.launched_at AS instances_launched_at, instances.terminated_at AS instances_terminated_at, instances.availability_zone AS instances_availability_zone, instances.display_name AS instances_display_name, instances.display_description AS instances_display_description, instances.launched_on AS instances_launched_on, instances.locked AS instances_locked, instances.locked_by AS instances_locked_by, instances.os_type AS instances_os_type, instances.architecture AS instances_architecture, instances.vm_mode AS instances_vm_mode, instances.uuid AS instances_uuid, instances.root_device_name AS instances_root_device_name, instances.default_ephemeral_device AS instances_default_ephemeral_device, instances.default_swap_device AS instances_default_swap_device, instances.config_drive AS instances_config_drive, instances.access_ip_v4 AS instances_access_ip_v4, instances.access_ip_v6 AS instances_access_ip_v6, instances.auto_disk_config AS instances_auto_disk_config, instances.progress AS instances_progress, instances.shutdown_terminate AS instances_shutdown_terminate, instances.disable_terminate AS instances_disable_terminate, instances.cell_name AS instances_cell_name, instances.internal_id AS instances_internal_id, instances.cleaned AS instances_cleaned \\nFROM instances \\nWHERE instances.deleted = %s AND (instances.vm_state != %s OR instances.vm_state IS NULL) AND instances.project_id = %s AND (instances.display_name REGEXP %s) ORDER BY instances.created_at DESC, instances.id DESC \\n LIMIT %s) AS anon_1 LEFT OUTER JOIN (security_group_instance_association AS security_group_instance_association_1 INNER JOIN security_groups AS security_groups_1 ON security_groups_1.id = security_group_instance_association_1.security_group_id AND security_group_instance_association_1.deleted = %s AND security_groups_1.deleted = %s) ON security_group_instance_association_1.instance_uuid = anon_1.instances_uuid AND anon_1.instances_deleted = %s LEFT OUTER JOIN instance_info_caches AS instance_info_caches_1 ON instance_info_caches_1.instance_uuid = anon_1.instances_uuid ORDER BY anon_1.instances_created_at DESC, anon_1.instances_id DESC'] [parameters: (0, 'soft-delete', u'61909ec3cd0f4d7fb6c641d71d01e106', u'vm_ln_[1', 1000, 0, 0, 0)]\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions \n2015-12-08 10:54:46.566 5561 INFO nova.api.openstack.wsgi [req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_db.exception.DBError'>\n2015-12-08 10:54:46.572 5561 INFO nova.osapi_compute.wsgi.server [req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] 10.100.100.20 \"GET /v2/61909ec3cd0f4d7fb6c641d71d01e106/servers?name=vm_ln_%5B1 HTTP/1.1\" status: 500 len: 430 time: 0.0362272\n\n\n3. Reproduce steps:\n\n-> Boot a VM with name \" vm_ln_[1\"\n-> Delete the above mentioned VM\n\nThe deletion gives the following error: \n\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_db.exception.DBError'> (HTTP 500) (Request-ID: req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb)\nERROR (CommandError): Unable to delete the specified server(s).\n\n\nExpected result:\n-> VM should be deleted and cleaned up\n\nActual result:\n-> VM is unable to be deleted", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1524044", 
    "owner": "None", 
    "id": 1524044, 
    "index": 7161, 
    "openned": "2015-12-08 18:58:32.775462+00:00", 
    "created": "2015-12-08 18:58:32.775462+00:00", 
    "title": "Deleting a VM with the name 'vm_ln_[1' leads to a traceback", 
    "comments": [
        {
            "content": "1. Exact version of Nova/OpenStack you are running:\nii  nova-api                         2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - API frontend\nii  nova-cert                        2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - certificate management\nii  nova-common                      2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - common files\nii  nova-conductor                   2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - conductor service\nii  nova-consoleauth                 2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                  2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                   2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute - virtual machine scheduler\nii  python-nova                      2:12.0.0~rc1-0ubuntu1~cloud0          all          OpenStack Compute Python libraries\nii  python-novaclient                2:2.29.0-1~cloud0                     all          client library for OpenStack Compute API\n\n\n2. Relevant log files:\n\n\n\n\n\n2015-12-08 10:54:46.428 5561 INFO nova.osapi_compute.wsgi.server [req-9e819344-85a6-4bf7-a225-88cdf59e235e bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] 10.100.100.20 \"GET /v2/ HTTP/1.1\" status: 200 len: 575 time: 0.0552752\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters [req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] DBAPIError exception wrapped from (pymysql.err.InternalError) (1139, u\"Got error 'brackets ([ ]) not balanced' from regexp\") [SQL: u'SELECT anon_1.instances_created_at AS anon_1_instances_created_at, anon_1.instances_updated_at AS anon_1_instances_updated_at, anon_1.instances_deleted_at AS anon_1_instances_deleted_at, anon_1.instances_deleted AS anon_1_instances_deleted, anon_1.instances_id AS anon_1_instances_id, anon_1.instances_user_id AS anon_1_instances_user_id, anon_1.instances_project_id AS anon_1_instances_project_id, anon_1.instances_image_ref AS anon_1_instances_image_ref, anon_1.instances_kernel_id AS anon_1_instances_kernel_id, anon_1.instances_ramdisk_id AS anon_1_instances_ramdisk_id, anon_1.instances_hostname AS anon_1_instances_hostname, anon_1.instances_launch_index AS anon_1_instances_launch_index, anon_1.instances_key_name AS anon_1_instances_key_name, anon_1.instances_key_data AS anon_1_instances_key_data, anon_1.instances_power_state AS anon_1_instances_power_state, anon_1.instances_vm_state AS anon_1_instances_vm_state, anon_1.instances_task_state AS anon_1_instances_task_state, anon_1.instances_memory_mb AS anon_1_instances_memory_mb, anon_1.instances_vcpus AS anon_1_instances_vcpus, anon_1.instances_root_gb AS anon_1_instances_root_gb, anon_1.instances_ephemeral_gb AS anon_1_instances_ephemeral_gb, anon_1.instances_ephemeral_key_uuid AS anon_1_instances_ephemeral_key_uuid, anon_1.instances_host AS anon_1_instances_host, anon_1.instances_node AS anon_1_instances_node, anon_1.instances_instance_type_id AS anon_1_instances_instance_type_id, anon_1.instances_user_data AS anon_1_instances_user_data, anon_1.instances_reservation_id AS anon_1_instances_reservation_id, anon_1.instances_launched_at AS anon_1_instances_launched_at, anon_1.instances_terminated_at AS anon_1_instances_terminated_at, anon_1.instances_availability_zone AS anon_1_instances_availability_zone, anon_1.instances_display_name AS anon_1_instances_display_name, anon_1.instances_display_description AS anon_1_instances_display_description, anon_1.instances_launched_on AS anon_1_instances_launched_on, anon_1.instances_locked AS anon_1_instances_locked, anon_1.instances_locked_by AS anon_1_instances_locked_by, anon_1.instances_os_type AS anon_1_instances_os_type, anon_1.instances_architecture AS anon_1_instances_architecture, anon_1.instances_vm_mode AS anon_1_instances_vm_mode, anon_1.instances_uuid AS anon_1_instances_uuid, anon_1.instances_root_device_name AS anon_1_instances_root_device_name, anon_1.instances_default_ephemeral_device AS anon_1_instances_default_ephemeral_device, anon_1.instances_default_swap_device AS anon_1_instances_default_swap_device, anon_1.instances_config_drive AS anon_1_instances_config_drive, anon_1.instances_access_ip_v4 AS anon_1_instances_access_ip_v4, anon_1.instances_access_ip_v6 AS anon_1_instances_access_ip_v6, anon_1.instances_auto_disk_config AS anon_1_instances_auto_disk_config, anon_1.instances_progress AS anon_1_instances_progress, anon_1.instances_shutdown_terminate AS anon_1_instances_shutdown_terminate, anon_1.instances_disable_terminate AS anon_1_instances_disable_terminate, anon_1.instances_cell_name AS anon_1_instances_cell_name, anon_1.instances_internal_id AS anon_1_instances_internal_id, anon_1.instances_cleaned AS anon_1_instances_cleaned, security_groups_1.created_at AS security_groups_1_created_at, security_groups_1.updated_at AS security_groups_1_updated_at, security_groups_1.deleted_at AS security_groups_1_deleted_at, security_groups_1.deleted AS security_groups_1_deleted, security_groups_1.id AS security_groups_1_id, security_groups_1.name AS security_groups_1_name, security_groups_1.description AS security_groups_1_description, security_groups_1.user_id AS security_groups_1_user_id, security_groups_1.project_id AS security_groups_1_project_id, instance_info_caches_1.created_at AS instance_info_caches_1_created_at, instance_info_caches_1.updated_at AS instance_info_caches_1_updated_at, instance_info_caches_1.deleted_at AS instance_info_caches_1_deleted_at, instance_info_caches_1.deleted AS instance_info_caches_1_deleted, instance_info_caches_1.id AS instance_info_caches_1_id, instance_info_caches_1.network_info AS instance_info_caches_1_network_info, instance_info_caches_1.instance_uuid AS instance_info_caches_1_instance_uuid \\nFROM (SELECT instances.created_at AS instances_created_at, instances.updated_at AS instances_updated_at, instances.deleted_at AS instances_deleted_at, instances.deleted AS instances_deleted, instances.id AS instances_id, instances.user_id AS instances_user_id, instances.project_id AS instances_project_id, instances.image_ref AS instances_image_ref, instances.kernel_id AS instances_kernel_id, instances.ramdisk_id AS instances_ramdisk_id, instances.hostname AS instances_hostname, instances.launch_index AS instances_launch_index, instances.key_name AS instances_key_name, instances.key_data AS instances_key_data, instances.power_state AS instances_power_state, instances.vm_state AS instances_vm_state, instances.task_state AS instances_task_state, instances.memory_mb AS instances_memory_mb, instances.vcpus AS instances_vcpus, instances.root_gb AS instances_root_gb, instances.ephemeral_gb AS instances_ephemeral_gb, instances.ephemeral_key_uuid AS instances_ephemeral_key_uuid, instances.host AS instances_host, instances.node AS instances_node, instances.instance_type_id AS instances_instance_type_id, instances.user_data AS instances_user_data, instances.reservation_id AS instances_reservation_id, instances.launched_at AS instances_launched_at, instances.terminated_at AS instances_terminated_at, instances.availability_zone AS instances_availability_zone, instances.display_name AS instances_display_name, instances.display_description AS instances_display_description, instances.launched_on AS instances_launched_on, instances.locked AS instances_locked, instances.locked_by AS instances_locked_by, instances.os_type AS instances_os_type, instances.architecture AS instances_architecture, instances.vm_mode AS instances_vm_mode, instances.uuid AS instances_uuid, instances.root_device_name AS instances_root_device_name, instances.default_ephemeral_device AS instances_default_ephemeral_device, instances.default_swap_device AS instances_default_swap_device, instances.config_drive AS instances_config_drive, instances.access_ip_v4 AS instances_access_ip_v4, instances.access_ip_v6 AS instances_access_ip_v6, instances.auto_disk_config AS instances_auto_disk_config, instances.progress AS instances_progress, instances.shutdown_terminate AS instances_shutdown_terminate, instances.disable_terminate AS instances_disable_terminate, instances.cell_name AS instances_cell_name, instances.internal_id AS instances_internal_id, instances.cleaned AS instances_cleaned \\nFROM instances \\nWHERE instances.deleted = %s AND (instances.vm_state != %s OR instances.vm_state IS NULL) AND instances.project_id = %s AND (instances.display_name REGEXP %s) ORDER BY instances.created_at DESC, instances.id DESC \\n LIMIT %s) AS anon_1 LEFT OUTER JOIN (security_group_instance_association AS security_group_instance_association_1 INNER JOIN security_groups AS security_groups_1 ON security_groups_1.id = security_group_instance_association_1.security_group_id AND security_group_instance_association_1.deleted = %s AND security_groups_1.deleted = %s) ON security_group_instance_association_1.instance_uuid = anon_1.instances_uuid AND anon_1.instances_deleted = %s LEFT OUTER JOIN instance_info_caches AS instance_info_caches_1 ON instance_info_caches_1.instance_uuid = anon_1.instances_uuid ORDER BY anon_1.instances_created_at DESC, anon_1.instances_id DESC'] [parameters: (0, 'soft-delete', u'61909ec3cd0f4d7fb6c641d71d01e106', u'vm_ln_[1', 1000, 0, 0, 0)]\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters Traceback (most recent call last):\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     context)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     cursor.execute(statement, parameters)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/cursors.py\", line 132, in execute\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     result = self._query(query)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/cursors.py\", line 271, in _query\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     conn.query(q)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 726, in query\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 861, in _read_query_result\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     result.read()\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 1064, in read\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     first_packet = self.connection._read_packet()\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 826, in _read_packet\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     packet.check_error()\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 370, in check_error\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     raise_mysql_exception(self._data)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/err.py\", line 116, in raise_mysql_exception\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     _check_mysql_exception(errinfo)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters   File \"/usr/lib/python2.7/dist-packages/pymysql/err.py\", line 112, in _check_mysql_exception\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters     raise InternalError(errno, errorvalue)\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters InternalError: (1139, u\"Got error 'brackets ([ ]) not balanced' from regexp\")\n2015-12-08 10:54:46.559 5561 ERROR oslo_db.sqlalchemy.exc_filters \n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions [req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] Unexpected exception in API method\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions Traceback (most recent call last):\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/extensions.py\", line 478, in wrapped\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 269, in index\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     servers = self._get_servers(req, is_detail=False)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/api/openstack/compute/servers.py\", line 395, in _get_servers\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 2139, in get_all\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/compute/api.py\", line 2189, in _get_instances_by_filters\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     expected_attrs=fields, sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/oslo_versionedobjects/base.py\", line 171, in wrapper\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     result = fn(cls, context, *args, **kwargs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/objects/instance.py\", line 1112, in get_by_filters\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     use_slave=use_slave, sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/api.py\", line 685, in instance_get_all_by_filters_sort\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     sort_keys=sort_keys, sort_dirs=sort_dirs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 216, in wrapper\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/nova/db/sqlalchemy/api.py\", line 2065, in instance_get_all_by_filters_sort\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return _instances_fill_metadata(context, query_prefix.all(), manual_joins)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2399, in all\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return list(self)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2516, in __iter__\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return self._execute_and_instances(context)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py\", line 2531, in _execute_and_instances\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     result = conn.execute(querycontext.statement, self._params)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 914, in execute\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return meth(self, multiparams, params)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     return connection._execute_clauseelement(self, multiparams, params)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     compiled_sql, distilled_params\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1146, in _execute_context\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     context)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1337, in _handle_dbapi_exception\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     util.raise_from_cause(newraise, exc_info)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py\", line 199, in raise_from_cause\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     reraise(type(exception), exception, tb=exc_tb)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_context\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     context)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py\", line 450, in do_execute\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     cursor.execute(statement, parameters)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/cursors.py\", line 132, in execute\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     result = self._query(query)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/cursors.py\", line 271, in _query\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     conn.query(q)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 726, in query\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 861, in _read_query_result\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     result.read()\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 1064, in read\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     first_packet = self.connection._read_packet()\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 826, in _read_packet\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     packet.check_error()\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/connections.py\", line 370, in check_error\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     raise_mysql_exception(self._data)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/err.py\", line 116, in raise_mysql_exception\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     _check_mysql_exception(errinfo)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions   File \"/usr/lib/python2.7/dist-packages/pymysql/err.py\", line 112, in _check_mysql_exception\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions     raise InternalError(errno, errorvalue)\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions DBError: (pymysql.err.InternalError) (1139, u\"Got error 'brackets ([ ]) not balanced' from regexp\") [SQL: u'SELECT anon_1.instances_created_at AS anon_1_instances_created_at, anon_1.instances_updated_at AS anon_1_instances_updated_at, anon_1.instances_deleted_at AS anon_1_instances_deleted_at, anon_1.instances_deleted AS anon_1_instances_deleted, anon_1.instances_id AS anon_1_instances_id, anon_1.instances_user_id AS anon_1_instances_user_id, anon_1.instances_project_id AS anon_1_instances_project_id, anon_1.instances_image_ref AS anon_1_instances_image_ref, anon_1.instances_kernel_id AS anon_1_instances_kernel_id, anon_1.instances_ramdisk_id AS anon_1_instances_ramdisk_id, anon_1.instances_hostname AS anon_1_instances_hostname, anon_1.instances_launch_index AS anon_1_instances_launch_index, anon_1.instances_key_name AS anon_1_instances_key_name, anon_1.instances_key_data AS anon_1_instances_key_data, anon_1.instances_power_state AS anon_1_instances_power_state, anon_1.instances_vm_state AS anon_1_instances_vm_state, anon_1.instances_task_state AS anon_1_instances_task_state, anon_1.instances_memory_mb AS anon_1_instances_memory_mb, anon_1.instances_vcpus AS anon_1_instances_vcpus, anon_1.instances_root_gb AS anon_1_instances_root_gb, anon_1.instances_ephemeral_gb AS anon_1_instances_ephemeral_gb, anon_1.instances_ephemeral_key_uuid AS anon_1_instances_ephemeral_key_uuid, anon_1.instances_host AS anon_1_instances_host, anon_1.instances_node AS anon_1_instances_node, anon_1.instances_instance_type_id AS anon_1_instances_instance_type_id, anon_1.instances_user_data AS anon_1_instances_user_data, anon_1.instances_reservation_id AS anon_1_instances_reservation_id, anon_1.instances_launched_at AS anon_1_instances_launched_at, anon_1.instances_terminated_at AS anon_1_instances_terminated_at, anon_1.instances_availability_zone AS anon_1_instances_availability_zone, anon_1.instances_display_name AS anon_1_instances_display_name, anon_1.instances_display_description AS anon_1_instances_display_description, anon_1.instances_launched_on AS anon_1_instances_launched_on, anon_1.instances_locked AS anon_1_instances_locked, anon_1.instances_locked_by AS anon_1_instances_locked_by, anon_1.instances_os_type AS anon_1_instances_os_type, anon_1.instances_architecture AS anon_1_instances_architecture, anon_1.instances_vm_mode AS anon_1_instances_vm_mode, anon_1.instances_uuid AS anon_1_instances_uuid, anon_1.instances_root_device_name AS anon_1_instances_root_device_name, anon_1.instances_default_ephemeral_device AS anon_1_instances_default_ephemeral_device, anon_1.instances_default_swap_device AS anon_1_instances_default_swap_device, anon_1.instances_config_drive AS anon_1_instances_config_drive, anon_1.instances_access_ip_v4 AS anon_1_instances_access_ip_v4, anon_1.instances_access_ip_v6 AS anon_1_instances_access_ip_v6, anon_1.instances_auto_disk_config AS anon_1_instances_auto_disk_config, anon_1.instances_progress AS anon_1_instances_progress, anon_1.instances_shutdown_terminate AS anon_1_instances_shutdown_terminate, anon_1.instances_disable_terminate AS anon_1_instances_disable_terminate, anon_1.instances_cell_name AS anon_1_instances_cell_name, anon_1.instances_internal_id AS anon_1_instances_internal_id, anon_1.instances_cleaned AS anon_1_instances_cleaned, security_groups_1.created_at AS security_groups_1_created_at, security_groups_1.updated_at AS security_groups_1_updated_at, security_groups_1.deleted_at AS security_groups_1_deleted_at, security_groups_1.deleted AS security_groups_1_deleted, security_groups_1.id AS security_groups_1_id, security_groups_1.name AS security_groups_1_name, security_groups_1.description AS security_groups_1_description, security_groups_1.user_id AS security_groups_1_user_id, security_groups_1.project_id AS security_groups_1_project_id, instance_info_caches_1.created_at AS instance_info_caches_1_created_at, instance_info_caches_1.updated_at AS instance_info_caches_1_updated_at, instance_info_caches_1.deleted_at AS instance_info_caches_1_deleted_at, instance_info_caches_1.deleted AS instance_info_caches_1_deleted, instance_info_caches_1.id AS instance_info_caches_1_id, instance_info_caches_1.network_info AS instance_info_caches_1_network_info, instance_info_caches_1.instance_uuid AS instance_info_caches_1_instance_uuid \\nFROM (SELECT instances.created_at AS instances_created_at, instances.updated_at AS instances_updated_at, instances.deleted_at AS instances_deleted_at, instances.deleted AS instances_deleted, instances.id AS instances_id, instances.user_id AS instances_user_id, instances.project_id AS instances_project_id, instances.image_ref AS instances_image_ref, instances.kernel_id AS instances_kernel_id, instances.ramdisk_id AS instances_ramdisk_id, instances.hostname AS instances_hostname, instances.launch_index AS instances_launch_index, instances.key_name AS instances_key_name, instances.key_data AS instances_key_data, instances.power_state AS instances_power_state, instances.vm_state AS instances_vm_state, instances.task_state AS instances_task_state, instances.memory_mb AS instances_memory_mb, instances.vcpus AS instances_vcpus, instances.root_gb AS instances_root_gb, instances.ephemeral_gb AS instances_ephemeral_gb, instances.ephemeral_key_uuid AS instances_ephemeral_key_uuid, instances.host AS instances_host, instances.node AS instances_node, instances.instance_type_id AS instances_instance_type_id, instances.user_data AS instances_user_data, instances.reservation_id AS instances_reservation_id, instances.launched_at AS instances_launched_at, instances.terminated_at AS instances_terminated_at, instances.availability_zone AS instances_availability_zone, instances.display_name AS instances_display_name, instances.display_description AS instances_display_description, instances.launched_on AS instances_launched_on, instances.locked AS instances_locked, instances.locked_by AS instances_locked_by, instances.os_type AS instances_os_type, instances.architecture AS instances_architecture, instances.vm_mode AS instances_vm_mode, instances.uuid AS instances_uuid, instances.root_device_name AS instances_root_device_name, instances.default_ephemeral_device AS instances_default_ephemeral_device, instances.default_swap_device AS instances_default_swap_device, instances.config_drive AS instances_config_drive, instances.access_ip_v4 AS instances_access_ip_v4, instances.access_ip_v6 AS instances_access_ip_v6, instances.auto_disk_config AS instances_auto_disk_config, instances.progress AS instances_progress, instances.shutdown_terminate AS instances_shutdown_terminate, instances.disable_terminate AS instances_disable_terminate, instances.cell_name AS instances_cell_name, instances.internal_id AS instances_internal_id, instances.cleaned AS instances_cleaned \\nFROM instances \\nWHERE instances.deleted = %s AND (instances.vm_state != %s OR instances.vm_state IS NULL) AND instances.project_id = %s AND (instances.display_name REGEXP %s) ORDER BY instances.created_at DESC, instances.id DESC \\n LIMIT %s) AS anon_1 LEFT OUTER JOIN (security_group_instance_association AS security_group_instance_association_1 INNER JOIN security_groups AS security_groups_1 ON security_groups_1.id = security_group_instance_association_1.security_group_id AND security_group_instance_association_1.deleted = %s AND security_groups_1.deleted = %s) ON security_group_instance_association_1.instance_uuid = anon_1.instances_uuid AND anon_1.instances_deleted = %s LEFT OUTER JOIN instance_info_caches AS instance_info_caches_1 ON instance_info_caches_1.instance_uuid = anon_1.instances_uuid ORDER BY anon_1.instances_created_at DESC, anon_1.instances_id DESC'] [parameters: (0, 'soft-delete', u'61909ec3cd0f4d7fb6c641d71d01e106', u'vm_ln_[1', 1000, 0, 0, 0)]\n2015-12-08 10:54:46.562 5561 ERROR nova.api.openstack.extensions \n2015-12-08 10:54:46.566 5561 INFO nova.api.openstack.wsgi [req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] HTTP exception thrown: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_db.exception.DBError'>\n2015-12-08 10:54:46.572 5561 INFO nova.osapi_compute.wsgi.server [req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb bfb9feab857949bda1d1a40d5da4350d 61909ec3cd0f4d7fb6c641d71d01e106 - - -] 10.100.100.20 \"GET /v2/61909ec3cd0f4d7fb6c641d71d01e106/servers?name=vm_ln_%5B1 HTTP/1.1\" status: 500 len: 430 time: 0.0362272\n\n\n3. Reproduce steps:\n\n-> Boot a VM with name \" vm_ln_[1\"\n-> Delete the above mentioned VM\n\nThe deletion gives the following error: \n\nUnexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'oslo_db.exception.DBError'> (HTTP 500) (Request-ID: req-6ca54a98-8477-4207-8aa6-c7c2e84de3bb)\nERROR (CommandError): Unable to delete the specified server(s).\n\n\nExpected result:\n-> VM should be deleted and cleaned up\n\nActual result:\n-> VM is unable to be deleted", 
            "date_created": "2015-12-08 18:58:32.775462+00:00", 
            "author": "https://api.launchpad.net/1.0/~nairprinikasankaran"
        }, 
        {
            "content": "Fix proposed to branch: master\nReview: https://review.openstack.org/255130", 
            "date_created": "2015-12-09 08:37:38.174651+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Change abandoned by Michael Still (<email address hidden>) on branch: master\nReview: https://review.openstack.org/255130\nReason: This patch is quite old, so I am abandoning it to keep the review queue manageable. Feel free to restore the change if you're still interested in working on it.", 
            "date_created": "2016-08-25 12:58:09.381202+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "This bug report has an assignee for a while now but there is no patch\nfor that. It looks like that the chance of getting a patch is low.\nI'm going to remove the assignee to signal to others that they can take\nover if they like.\nIf you want to work on this, please:\n* add yourself as assignee AND\n* set the status to \"In Progress\" AND\n* provide a (WIP) patch within the next 2 weeks after that.\nIf you need assistance, reach out on the IRC channel #openstack-nova or\nuse the mailing list.\n\nAlso tagging as New. It is old and requires to be verified.\n\n", 
            "date_created": "2017-03-21 16:37:24.993934+00:00", 
            "author": "https://api.launchpad.net/1.0/~mszankin"
        }, 
        {
            "content": "It works as it is supposed to on current master. Bug is no longer valid.", 
            "date_created": "2017-03-21 16:38:08.372099+00:00", 
            "author": "https://api.launchpad.net/1.0/~mszankin"
        }
    ], 
    "closed": "2017-03-21 16:38:21.485766+00:00"
}