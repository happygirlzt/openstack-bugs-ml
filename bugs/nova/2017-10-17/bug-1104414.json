{
    "status": "Invalid", 
    "last_updated": "2013-02-26 22:38:45.921560+00:00", 
    "description": "Hi,\nwhile trying to boot an instance using a loaded image, the instance goes immediately in ERROR.\nI'm using OpenStack folsom (2012.2.2) on CentOS 6.3 for all the services except for the compute service, so taking the stuff from EPEL, and the compute node on fedora 17, taking the rpms from the fedora folsom repository.\nThe glance and nova image list show the following:\n\n# glance index\nID                                   Name                           Disk Format          Container Format     Size          \n------------------------------------ ------------------------------ -------------------- -------------------- --------------\nfd5e0078-f924-4ef6-bc8c-92d77058340c cirros-0.3.0-x86_64            qcow2                bare                        9761280\n\n\n# nova image-list\n+--------------------------------------+---------------------+--------+--------+\n| ID                                   | Name                | Status | Server |\n+--------------------------------------+---------------------+--------+--------+\n| fd5e0078-f924-4ef6-bc8c-92d77058340c | cirros-0.3.0-x86_64 | ACTIVE |        |\n+--------------------------------------+---------------------+--------+--------+\n\n\nThe boot is perfomed with the following command:\n\n# nova boot --image cirros-0.3.0-x86_64 --flavor m1.small --key_name novakey testvm\n+-------------------------------------+--------------------------------------+\n| Property                            | Value                                |\n+-------------------------------------+--------------------------------------+\n| OS-DCF:diskConfig                   | MANUAL                               |\n| OS-EXT-SRV-ATTR:host                | None                                 |\n| OS-EXT-SRV-ATTR:hypervisor_hostname | None                                 |\n| OS-EXT-SRV-ATTR:instance_name       | instance-0000000b                    |\n| OS-EXT-STS:power_state              | 0                                    |\n| OS-EXT-STS:task_state               | scheduling                           |\n| OS-EXT-STS:vm_state                 | building                             |\n| accessIPv4                          |                                      |\n| accessIPv6                          |                                      |\n| adminPass                           | 4rZ9btp8H8bb                         |\n| config_drive                        |                                      |\n| created                             | 2013-01-24T20:23:06Z                 |\n| flavor                              | m1.small                             |\n| hostId                              |                                      |\n| id                                  | 3549d7e8-8794-443f-bd38-0d8e04d12ce7 |\n| image                               | cirros-0.3.0-x86_64                  |\n| key_name                            | novakey                              |\n| metadata                            | {}                                   |\n| name                                | testvm                               |\n| progress                            | 0                                    |\n| security_groups                     | [{u'name': u'default'}]              |\n| status                              | BUILD                                |\n| tenant_id                           | 6e2983ca37644aef8d5bf61af59f176b     |\n| updated                             | 2013-01-24T20:23:10Z                 |\n| user_id                             | 745f8a1255574b359f68d3de46fa9843     |\n+-------------------------------------+--------------------------------------+\n\n\nRight after the above command, the instance goes in error:\n\n# nova list\n+--------------------------------------+--------+--------+----------+\n| ID                                   | Name   | Status | Networks |\n+--------------------------------------+--------+--------+----------+\n| 3549d7e8-8794-443f-bd38-0d8e04d12ce7 | testvm | ERROR  |          |\n+--------------------------------------+--------+--------+----------+\n\nFinally in the compute.log of the compute node I see the following error:\n\n2013-01-24 21:23:15 13255 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/rpc/amqp.py\", line 276, in _process_data\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 117, in wrapped\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 92, in wrapped\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 175, in decorated_function\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     pass\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 161, in decorated_function\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 196, in decorated_function\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     kwargs['instance']['uuid'], e, sys.exc_info())\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 190, in decorated_function\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 830, in run_instance\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     do_run_instance()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/utils.py\", line 760, in inner\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     retval = f(*args, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 829, in do_run_instance\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     admin_password, is_first_time, instance)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 520, in _run_instance\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self._set_instance_error_state(context, instance['uuid'])\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 476, in _run_instance\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     image_meta = self._check_image_size(context, instance)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 652, in _check_image_size\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     image_meta = _get_image_meta(context, instance['image_ref'])\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 204, in _get_image_meta\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return image_service.show(context, image_id)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 195, in show\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     _reraise_translated_image_exception(image_id)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 193, in show\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     image = self._client.call(context, 1, 'get', image_id)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 138, in call\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return getattr(client.images, method)(*args, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/glanceclient/v1/images.py\", line 96, in get\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     resp, body = self.api.raw_request('HEAD', '/v1/images/%s' % image_id)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/glanceclient/common/http.py\", line 192, in raw_request\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return self._http_request(url, method, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/glanceclient/common/http.py\", line 159, in _http_request\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     raise exc.from_response(resp)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp ImageNotFound: Image fd5e0078-f924-4ef6-bc8c-92d77058340c could not be found.\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp \n\n\nIs there any other check I can do to understand better the problem?\nThanks,\n\n     Alessandro", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1104414", 
    "owner": "None", 
    "id": 1104414, 
    "index": 4615, 
    "openned": "2013-01-24 20:25:16.641912+00:00", 
    "created": "2013-01-24 20:25:16.641912+00:00", 
    "title": "Error booting images with 'ImageNotFound' in compute.log", 
    "comments": [
        {
            "content": "Hi,\nwhile trying to boot an instance using a loaded image, the instance goes immediately in ERROR.\nI'm using OpenStack folsom (2012.2.2) on CentOS 6.3 for all the services except for the compute service, so taking the stuff from EPEL, and the compute node on fedora 17, taking the rpms from the fedora folsom repository.\nThe glance and nova image list show the following:\n\n# glance index\nID                                   Name                           Disk Format          Container Format     Size          \n------------------------------------ ------------------------------ -------------------- -------------------- --------------\nfd5e0078-f924-4ef6-bc8c-92d77058340c cirros-0.3.0-x86_64            qcow2                bare                        9761280\n\n\n# nova image-list\n+--------------------------------------+---------------------+--------+--------+\n| ID                                   | Name                | Status | Server |\n+--------------------------------------+---------------------+--------+--------+\n| fd5e0078-f924-4ef6-bc8c-92d77058340c | cirros-0.3.0-x86_64 | ACTIVE |        |\n+--------------------------------------+---------------------+--------+--------+\n\n\nThe boot is perfomed with the following command:\n\n# nova boot --image cirros-0.3.0-x86_64 --flavor m1.small --key_name novakey testvm\n+-------------------------------------+--------------------------------------+\n| Property                            | Value                                |\n+-------------------------------------+--------------------------------------+\n| OS-DCF:diskConfig                   | MANUAL                               |\n| OS-EXT-SRV-ATTR:host                | None                                 |\n| OS-EXT-SRV-ATTR:hypervisor_hostname | None                                 |\n| OS-EXT-SRV-ATTR:instance_name       | instance-0000000b                    |\n| OS-EXT-STS:power_state              | 0                                    |\n| OS-EXT-STS:task_state               | scheduling                           |\n| OS-EXT-STS:vm_state                 | building                             |\n| accessIPv4                          |                                      |\n| accessIPv6                          |                                      |\n| adminPass                           | 4rZ9btp8H8bb                         |\n| config_drive                        |                                      |\n| created                             | 2013-01-24T20:23:06Z                 |\n| flavor                              | m1.small                             |\n| hostId                              |                                      |\n| id                                  | 3549d7e8-8794-443f-bd38-0d8e04d12ce7 |\n| image                               | cirros-0.3.0-x86_64                  |\n| key_name                            | novakey                              |\n| metadata                            | {}                                   |\n| name                                | testvm                               |\n| progress                            | 0                                    |\n| security_groups                     | [{u'name': u'default'}]              |\n| status                              | BUILD                                |\n| tenant_id                           | 6e2983ca37644aef8d5bf61af59f176b     |\n| updated                             | 2013-01-24T20:23:10Z                 |\n| user_id                             | 745f8a1255574b359f68d3de46fa9843     |\n+-------------------------------------+--------------------------------------+\n\n\nRight after the above command, the instance goes in error:\n\n# nova list\n+--------------------------------------+--------+--------+----------+\n| ID                                   | Name   | Status | Networks |\n+--------------------------------------+--------+--------+----------+\n| 3549d7e8-8794-443f-bd38-0d8e04d12ce7 | testvm | ERROR  |          |\n+--------------------------------------+--------+--------+----------+\n\nFinally in the compute.log of the compute node I see the following error:\n\n2013-01-24 21:23:15 13255 ERROR nova.openstack.common.rpc.amqp [-] Exception during message handling\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp Traceback (most recent call last):\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/rpc/amqp.py\", line 276, in _process_data\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     rval = self.proxy.dispatch(ctxt, version, method, **args)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/openstack/common/rpc/dispatcher.py\", line 145, in dispatch\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return getattr(proxyobj, method)(ctxt, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 117, in wrapped\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     temp_level, payload)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/exception.py\", line 92, in wrapped\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return f(*args, **kw)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 175, in decorated_function\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     pass\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 161, in decorated_function\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 196, in decorated_function\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     kwargs['instance']['uuid'], e, sys.exc_info())\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 190, in decorated_function\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return function(self, context, *args, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 830, in run_instance\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     do_run_instance()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/utils.py\", line 760, in inner\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     retval = f(*args, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 829, in do_run_instance\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     admin_password, is_first_time, instance)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 520, in _run_instance\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self._set_instance_error_state(context, instance['uuid'])\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib64/python2.7/contextlib.py\", line 24, in __exit__\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     self.gen.next()\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 476, in _run_instance\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     image_meta = self._check_image_size(context, instance)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 652, in _check_image_size\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     image_meta = _get_image_meta(context, instance['image_ref'])\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 204, in _get_image_meta\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return image_service.show(context, image_id)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 195, in show\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     _reraise_translated_image_exception(image_id)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 193, in show\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     image = self._client.call(context, 1, 'get', image_id)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/nova/image/glance.py\", line 138, in call\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return getattr(client.images, method)(*args, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/glanceclient/v1/images.py\", line 96, in get\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     resp, body = self.api.raw_request('HEAD', '/v1/images/%s' % image_id)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/glanceclient/common/http.py\", line 192, in raw_request\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     return self._http_request(url, method, **kwargs)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp   File \"/usr/lib/python2.7/site-packages/glanceclient/common/http.py\", line 159, in _http_request\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp     raise exc.from_response(resp)\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp ImageNotFound: Image fd5e0078-f924-4ef6-bc8c-92d77058340c could not be found.\n2013-01-24 21:23:15 13255 TRACE nova.openstack.common.rpc.amqp \n\n\nIs there any other check I can do to understand better the problem?\nThanks,\n\n     Alessandro", 
            "date_created": "2013-01-24 20:25:16.641912+00:00", 
            "author": "https://api.launchpad.net/1.0/~alessandro-desalvo"
        }, 
        {
            "content": "Either your image is not public or your setting for glance is wrong on the compute node.\n\nglance_api_servers=glance_host:glance_port\n\n", 
            "date_created": "2013-02-26 22:38:34.773597+00:00", 
            "author": "https://api.launchpad.net/1.0/~vishvananda"
        }
    ], 
    "closed": "2013-02-26 22:38:44.432634+00:00"
}