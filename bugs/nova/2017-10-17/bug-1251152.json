{
    "status": "Fix Released", 
    "last_updated": "2014-04-17 08:48:18.812101+00:00", 
    "description": "2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/comput\ne/manager.py\", line 1037, in _build_instance\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     set_access_ip=set_access_ip)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/comput\ne/manager.py\", line 1410, in _spawn\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     LOG.exception(_('Instance faile\nd to spawn'), instance=instance)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/comput\ne/manager.py\", line 1407, in _spawn\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     block_device_info)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/l\nibvirt/driver.py\", line 2063, in spawn\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     admin_pass=admin_password)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/l\nibvirt/driver.py\", line 2370, in _create_image\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     ephemeral_size=ephemeral_gb)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/l\nibvirt/imagebackend.py\", line 174, in cache\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     *args, **kwargs)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/l\nibvirt/imagebackend.py\", line 307, in create_image\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     prepare_template(target=base, m\nax_size=size, *args, **kwargs)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/openst\nack/common/lockutils.py\", line 246, in inner\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     return f(*args, **kwargs)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/libvirt/imagebackend.py\", line 162, in call_if_not_exists\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     fetch_func(target=target, *args, **kwargs)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c] TypeError: _create_ephemeral() got an unexpected keyword argument 'max_size'\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c] \n\nmax_size argument was add in 3cdfe894ab58f7b91bf7fb690fc5bc724e44066f,  when creating ephemeral disks , _create_ephemeral method will get an unexpected keyword argument  max_size", 
    "tags": [], 
    "importance": "High", 
    "heat": 28, 
    "link": "https://bugs.launchpad.net/nova/+bug/1251152", 
    "owner": "https://api.launchpad.net/1.0/~heut2008", 
    "id": 1251152, 
    "index": 1310, 
    "openned": "2013-11-14 08:37:52.845902+00:00", 
    "created": "2013-11-14 08:37:52.845902+00:00", 
    "title": "create instance with ephemeral disk fails ", 
    "comments": [
        {
            "content": "2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/comput\ne/manager.py\", line 1037, in _build_instance\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     set_access_ip=set_access_ip)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/comput\ne/manager.py\", line 1410, in _spawn\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     LOG.exception(_('Instance faile\nd to spawn'), instance=instance)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/comput\ne/manager.py\", line 1407, in _spawn\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     block_device_info)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/l\nibvirt/driver.py\", line 2063, in spawn\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     admin_pass=admin_password)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/l\nibvirt/driver.py\", line 2370, in _create_image\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     ephemeral_size=ephemeral_gb)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/l\nibvirt/imagebackend.py\", line 174, in cache\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     *args, **kwargs)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/l\nibvirt/imagebackend.py\", line 307, in create_image\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     prepare_template(target=base, m\nax_size=size, *args, **kwargs)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/openst\nack/common/lockutils.py\", line 246, in inner\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     return f(*args, **kwargs)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]   File \"/opt/stack/nova/nova/virt/libvirt/imagebackend.py\", line 162, in call_if_not_exists\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c]     fetch_func(target=target, *args, **kwargs)\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c] TypeError: _create_ephemeral() got an unexpected keyword argument 'max_size'\n2013-11-14 16:31:23.032 TRACE nova.compute.manager [instance: f94c5521-0ce5-4be0-b35c-def82afc640c] \n\nmax_size argument was add in 3cdfe894ab58f7b91bf7fb690fc5bc724e44066f,  when creating ephemeral disks , _create_ephemeral method will get an unexpected keyword argument  max_size", 
            "date_created": "2013-11-14 08:37:52.845902+00:00", 
            "author": "https://api.launchpad.net/1.0/~heut2008"
        }, 
        {
            "content": "review in progress: https://review.openstack.org/#/c/56347/", 
            "date_created": "2013-11-19 11:03:11.137626+00:00", 
            "author": "https://api.launchpad.net/1.0/~goneri"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/56347\nCommitted: http://github.com/openstack/nova/commit/384f55bcb32251698cc2ce839a0286ef99e74984\nSubmitter: Jenkins\nBranch:    master\n\ncommit 384f55bcb32251698cc2ce839a0286ef99e74984\nAuthor: Gon\u00e9ri Le Bouder <email address hidden>\nDate:   Tue Nov 19 11:30:08 2013 +0100\n\n    Add missing argument max_size in libvirt driver\n    \n    max_size argument was added in commit 3cdfe894ab58f7b91bf7fb690fc5bc724e44066f,\n    but missing  in _create_ephemeral and _create_swap method, which cause\n    exception raised when caching ephemeral and swap disk files of the instance.\n    \n    Add test for _create_ephemeral used with max_size parameter\n    and test _create_swap method\n    \n    Change-Id: I46032ad32f317c923692b8b3d40cedd0dce06cad\n    Closes-Bug: 1251152\n    Closes-Bug: 1250032\n", 
            "date_created": "2013-11-21 23:36:44.988601+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/havana\nReview: https://review.openstack.org/57817", 
            "date_created": "2013-11-22 03:17:39.391694+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Fix proposed to branch: stable/grizzly\nReview: https://review.openstack.org/57821", 
            "date_created": "2013-11-22 03:52:29.193402+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/57817\nCommitted: http://github.com/openstack/nova/commit/b3af6e877aaab4ace3d7c43d15d492f6498a0837\nSubmitter: Jenkins\nBranch:    stable/havana\n\ncommit b3af6e877aaab4ace3d7c43d15d492f6498a0837\nAuthor: Gon\u00e9ri Le Bouder <email address hidden>\nDate:   Tue Nov 19 11:30:08 2013 +0100\n\n    Add missing argument max_size in libvirt driver\n    \n    max_size argument was added in commit 3cdfe894ab58f7b91bf7fb690fc5bc724e44066f,\n    but missing  in _create_ephemeral and _create_swap method, which cause\n    exception raised when caching ephemeral and swap disk files of the instance.\n    \n    Add test for _create_ephemeral used with max_size parameter\n    and test _create_swap method\n    \n    Closes-Bug: 1251152\n    Closes-Bug: 1250032\n    (cherry picked from commit 384f55bcb32251698cc2ce839a0286ef99e74984)\n    \n    Conflicts:\n    \tnova/tests/virt/libvirt/test_libvirt.py\n    \tnova/virt/libvirt/driver.py\n    \n    Change-Id: I46032ad32f317c923692b8b3d40cedd0dce06cad\n", 
            "date_created": "2013-12-02 16:10:38.958141+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/57821\nCommitted: https://git.openstack.org/cgit/openstack/nova/commit/?id=3ed9635ba9f0d166c132e70bbbacd79213b9cba6\nSubmitter: Jenkins\nBranch:    stable/grizzly\n\ncommit 3ed9635ba9f0d166c132e70bbbacd79213b9cba6\nAuthor: Gon\u00e9ri Le Bouder <email address hidden>\nDate:   Tue Nov 19 11:30:08 2013 +0100\n\n    Add missing argument max_size in libvirt driver\n    \n    max_size argument was added in commit 3cdfe894ab58f7b91bf7fb690fc5bc724e44066f,\n    but missing  in _create_ephemeral and _create_swap method, which cause\n    exception raised when caching ephemeral and swap disk files of the instance.\n    \n    Add test for _create_ephemeral used with max_size parameter\n    and test _create_swap method\n    \n    Closes-Bug: 1251152\n    Closes-Bug: 1250032\n    (cherry picked from commit 384f55bcb32251698cc2ce839a0286ef99e74984)\n    \n    Conflicts:\n    \tnova/tests/test_libvirt.py\n    \tnova/virt/libvirt/driver.py\n    \n    Change-Id: I46032ad32f317c923692b8b3d40cedd0dce06cad\n", 
            "date_created": "2013-12-17 05:01:20.933657+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2013-12-04 10:04:49.276992+00:00"
}