{
    "status": "Invalid", 
    "last_updated": "2012-09-04 17:05:11.430884+00:00", 
    "description": "\n\nI can find mention of an extension \"os-hypervisors\" in the current master branch of the code:\n\n grep -r \"os-hypervisor\" .\n./nova/api/openstack/compute/contrib/hypervisors.py:    alias = \"os-hypervisors\"\n./nova/api/openstack/compute/contrib/hypervisors.py:        resources = [extensions.ResourceExtension('os-hypervisors',\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/detail')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/3')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/1')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/3')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/1')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/1')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/hyper/search')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/hyper/servers')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/statistics')\n\nBut when I try it against a master devstack install (using an admin token) I get:\n\n* About to connect() to 192.168.127.143 port 8774 (#0)\n*   Trying 192.168.127.143...\n* connected\n* Connected to 192.168.127.143 (192.168.127.143) port 8774 (#0)\n> GET /v2/d5b2ba0d359945bd8ceda2a3dbd224a1/os-hypervisors HTTP/1.1\n> User-Agent: curl/7.24.0 (x86_64-apple-darwin11.3.0) libcurl/7.24.0 OpenSSL/1.0.1 zlib/1.2.6 libidn/1.22\n> Host: 192.168.127.143:8774\n> Accept: */*\n> X-Auth-Token: 8ace9194b7914913901c84bc10cd71c1\n> \n< HTTP/1.1 200 OK\n< X-Compute-Request-Id: req-385b8b4f-7d60-4207-aa39-d2ac9e8bc1f8\n< Content-Type: application/json\n< Content-Length: 19\n< Date: Fri, 16 Mar 2012 18:51:44 GMT\n< \n* Connection #0 to host 192.168.127.143 left intact\n{\"hypervisors\": []}* Closing connection #0\n\nShouldn't it return some information?", 
    "tags": [
        "api-site"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1031837", 
    "owner": "None", 
    "id": 1031837, 
    "index": 4268, 
    "openned": "2012-08-01 16:21:21.953827+00:00", 
    "created": "2012-08-01 16:21:21.953827+00:00", 
    "title": "Compute API extension os-hypervisors appears in code but doesn't work", 
    "comments": [
        {
            "content": "\n\nI can find mention of an extension \"os-hypervisors\" in the current master branch of the code:\n\n grep -r \"os-hypervisor\" .\n./nova/api/openstack/compute/contrib/hypervisors.py:    alias = \"os-hypervisors\"\n./nova/api/openstack/compute/contrib/hypervisors.py:        resources = [extensions.ResourceExtension('os-hypervisors',\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/detail')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/3')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/1')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/3')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/1')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/1')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/hyper/search')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/hyper/servers')\n./nova/tests/api/openstack/compute/contrib/test_hypervisors.py:        req = fakes.HTTPRequest.blank('/v2/fake/os-hypervisors/statistics')\n\nBut when I try it against a master devstack install (using an admin token) I get:\n\n* About to connect() to 192.168.127.143 port 8774 (#0)\n*   Trying 192.168.127.143...\n* connected\n* Connected to 192.168.127.143 (192.168.127.143) port 8774 (#0)\n> GET /v2/d5b2ba0d359945bd8ceda2a3dbd224a1/os-hypervisors HTTP/1.1\n> User-Agent: curl/7.24.0 (x86_64-apple-darwin11.3.0) libcurl/7.24.0 OpenSSL/1.0.1 zlib/1.2.6 libidn/1.22\n> Host: 192.168.127.143:8774\n> Accept: */*\n> X-Auth-Token: 8ace9194b7914913901c84bc10cd71c1\n> \n< HTTP/1.1 200 OK\n< X-Compute-Request-Id: req-385b8b4f-7d60-4207-aa39-d2ac9e8bc1f8\n< Content-Type: application/json\n< Content-Length: 19\n< Date: Fri, 16 Mar 2012 18:51:44 GMT\n< \n* Connection #0 to host 192.168.127.143 left intact\n{\"hypervisors\": []}* Closing connection #0\n\nShouldn't it return some information?", 
            "date_created": "2012-08-01 16:21:21.953827+00:00", 
            "author": "https://api.launchpad.net/1.0/~annegentle"
        }, 
        {
            "content": "How it should work:\n\nhttp://paste.openstack.org/show/20058/\nand \nhttp://paste.openstack.org/show/20059/", 
            "date_created": "2012-08-08 19:33:50.192592+00:00", 
            "author": "https://api.launchpad.net/1.0/~annegentle"
        }, 
        {
            "content": "This is a documentation bug, probably not a nova bug. \n\nvagrant@precise:/opt/stack/python-novaclient$ nova --no_cache --os_username=admin --os_tenant_name=admin hypervisor-list\n+----+---------------------+\n| ID | Hypervisor hostname |\n+----+---------------------+\n| 1  | precise.            |\n+----+---------------------+\nvagrant@precise:/opt/stack/python-novaclient$ nova --no_cache --os_username=admin --os_tenant_name=admin hypervisor-show precise.\nERROR: 'HypervisorManager' object has no attribute 'find'\nvagrant@precise:/opt/stack/python-novaclient$ nova --no_cache --os_username=admin --os_tenant_name=admin hypervisor-servers precise.\n+--------------------------------------+-------------------+---------------+---------------------+\n| ID                                   | Name              | Hypervisor ID | Hypervisor Hostname |\n+--------------------------------------+-------------------+---------------+---------------------+\n| 9643a2c9-c1e9-4281-bcff-2ff175e33ba9 | instance-00000001 | 1             | precise.            |\n+--------------------------------------+-------------------+---------------+---------------------+\nvagrant@precise:/opt/stack/python-novaclient$ nova --no_cache --os_username=admin --os_tenant_name=admin hypervisor-stats                  \n+----------------------+-------+\n| Property             | Value |\n+----------------------+-------+\n| count                | 1     |\n| current_workload     | 0     |\n| disk_available_least | -1    |\n| free_disk_gb         | 7     |\n| free_ram_mb          | -29   |\n| local_gb             | 7     |\n| local_gb_used        | 7     |\n| memory_mb            | 995   |\n| memory_mb_used       | 827   |\n| running_vms          | 1     |\n| vcpus                | 2     |\n| vcpus_used           | 1     |\n+----------------------+-------+\n\nREQ: curl -i http://192.168.27.100:8774/v2/eb6ce1f50d21431ba62e502e29a391fa/os-hypervisors/precise./servers -X GET -H \"X-Auth-Project-Id: admin\" -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: a71edb4fca5f4663a3d882ed78e46159\"\n\nRESP:{'status': '200', 'content-length': '155', 'content-location': u'http://192.168.27.100:8774/v2/eb6ce1f50d21431ba62e502e29a391fa/os-hypervisors/precise./servers', 'x-compute-request-id': 'req-5a00a5ec-fefb-4f6f-9f22-cface741d9f1', 'date': 'Wed, 08 Aug 2012 17:06:37 GMT', 'content-type': 'application/json'} {\"hypervisors\": [{\"id\": 1, \"hypervisor_hostname\": \"precise.\", \"servers\": [{\"uuid\": \"9643a2c9-c1e9-4281-bcff-2ff175e33ba9\", \"name\": \"instance-00000001\"}]}]}\n\n", 
            "date_created": "2012-08-08 19:43:03.949780+00:00", 
            "author": "https://api.launchpad.net/1.0/~annegentle"
        }, 
        {
            "content": "Review here: https://review.openstack.org/#/c/12031/", 
            "date_created": "2012-08-28 17:26:55.512555+00:00", 
            "author": "https://api.launchpad.net/1.0/~annegentle"
        }, 
        {
            "content": "Reviewed:  https://review.openstack.org/12031\nCommitted: http://github.com/openstack/openstack-manuals/commit/a7d99fb7b01c7b2bf2970ee799de56db24757482\nSubmitter: Jenkins\nBranch:    master\n\ncommit a7d99fb7b01c7b2bf2970ee799de56db24757482\nAuthor: annegentle <email address hidden>\nDate:   Mon Aug 27 18:39:38 2012 -0500\n\n    Adds os-hypervisors doc for api site.\n    \n    fix bug 1031837\n    fix bug 1027287\n    \n    Change-Id: I1116be389a963a70b15c5d5f3282fcd13bd2b18d\n", 
            "date_created": "2012-09-04 17:05:10.662072+00:00", 
            "author": "https://api.launchpad.net/1.0/~hudson-openstack"
        }
    ], 
    "closed": "2012-08-16 18:01:55.524729+00:00"
}