{
    "status": "Fix Released", 
    "last_updated": "2011-04-21 07:14:49.918163+00:00", 
    "description": "I use PostgreSQL as database. The type of deleted field in instance_types table is boolean. It can't use integer to represent boolean value. May be it can be in Python, but not in sql query string when use PostgreSQL.\n\n2011-03-14 14:58:11,296 CRITICAL nova [-] (ProgrammingError) operator does not exist: boolean = integer\nLINE 3: WHERE instance_types.deleted = 0 ORDER BY name\n                                     ^\nHINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.\n 'SELECT instance_types.created_at AS instance_types_created_at, instance_types.updated_at AS instance_types_updated_at, instance_types.deleted_at AS instance_types_deleted_at, instance_types.deleted AS instance_types_deleted, instance_types.id AS instance_types_id, instance_types.name AS instance_types_name, instance_types.memory_mb AS instance_types_memory_mb, instance_types.vcpus AS instance_types_vcpus, instance_types.local_gb AS instance_types_local_gb, instance_types.flavorid AS instance_types_flavorid, instance_types.swap AS instance_types_swap, instance_types.rxtx_quota AS instance_types_rxtx_quota, instance_types.rxtx_cap AS instance_types_rxtx_cap \\nFROM instance_types \\nWHERE instance_types.deleted = %(deleted_1)s ORDER BY name' {'deleted_1': 0}\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 989, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 981, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 738, in list\n(nova): TRACE:     inst_types = instance_types.get_all_types()\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/instance_types.py\", line 95, in get_all_types\n(nova): TRACE:     return db.instance_type_get_all(context.get_admin_context(), inactive)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/api.py\", line 1059, in instance_type_get_all\n(nova): TRACE:     return IMPL.instance_type_get_all(context, inactive)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 109, in wrapper\n(nova): TRACE:     return f(*args, **kwargs)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 2206, in instance_type_get_all\n(nova): TRACE:     order_by(\"name\").\\\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/orm/query.py\", line 1453, in all\n(nova): TRACE:     return list(self)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/orm/query.py\", line 1565, in __iter__\n(nova): TRACE:     return self._execute_and_instances(context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/orm/query.py\", line 1570, in _execute_and_instances\n(nova): TRACE:     mapper=self._mapper_zero_or_none())\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/orm/session.py\", line 735, in execute\n(nova): TRACE:     clause, params or {})\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1157, in execute\n(nova): TRACE:     params)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1237, in _execute_clauseelement\n(nova): TRACE:     return self.__execute_context(context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1268, in __execute_context\n(nova): TRACE:     context.parameters[0], context=context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1367, in _cursor_execute\n(nova): TRACE:     context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1360, in _cursor_execute\n(nova): TRACE:     context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/default.py\", line 288, in do_execute\n(nova): TRACE:     cursor.execute(statement, parameters)\n(nova): TRACE: ProgrammingError: (ProgrammingError) operator does not exist: boolean = integer\n(nova): TRACE: LINE 3: WHERE instance_types.deleted = 0 ORDER BY name\n(nova): TRACE:                                      ^\n(nova): TRACE: HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.\n(nova): TRACE:  'SELECT instance_types.created_at AS instance_types_created_at, instance_types.updated_at AS instance_types_updated_at, instance_types.deleted_at AS instance_types_deleted_at, instance_types.deleted AS instance_types_deleted, instance_types.id AS instance_types_id, instance_types.name AS instance_types_name, instance_types.memory_mb AS instance_types_memory_mb, instance_types.vcpus AS instance_types_vcpus, instance_types.local_gb AS instance_types_local_gb, instance_types.flavorid AS instance_types_flavorid, instance_types.swap AS instance_types_swap, instance_types.rxtx_quota AS instance_types_rxtx_quota, instance_types.rxtx_cap AS instance_types_rxtx_cap \\nFROM instance_types \\nWHERE instance_types.deleted = %(deleted_1)s ORDER BY name' {'deleted_1': 0}\n(nova): TRACE:", 
    "tags": [], 
    "importance": "Medium", 
    "heat": 10, 
    "link": "https://bugs.launchpad.net/nova/+bug/734680", 
    "owner": "https://api.launchpad.net/1.0/~ken-pepple", 
    "id": 734680, 
    "index": 2311, 
    "openned": "2011-03-14 07:06:17.370122+00:00", 
    "created": "2011-03-14 07:06:17.370122+00:00", 
    "title": "Command nova-manage instance_types list error", 
    "comments": [
        {
            "content": "I use PostgreSQL as database. The type of deleted field in instance_types table is boolean. It can't use integer to represent boolean value. May be it can be in Python, but not in sql query string when use PostgreSQL.\n\n2011-03-14 14:58:11,296 CRITICAL nova [-] (ProgrammingError) operator does not exist: boolean = integer\nLINE 3: WHERE instance_types.deleted = 0 ORDER BY name\n                                     ^\nHINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.\n 'SELECT instance_types.created_at AS instance_types_created_at, instance_types.updated_at AS instance_types_updated_at, instance_types.deleted_at AS instance_types_deleted_at, instance_types.deleted AS instance_types_deleted, instance_types.id AS instance_types_id, instance_types.name AS instance_types_name, instance_types.memory_mb AS instance_types_memory_mb, instance_types.vcpus AS instance_types_vcpus, instance_types.local_gb AS instance_types_local_gb, instance_types.flavorid AS instance_types_flavorid, instance_types.swap AS instance_types_swap, instance_types.rxtx_quota AS instance_types_rxtx_quota, instance_types.rxtx_cap AS instance_types_rxtx_cap \\nFROM instance_types \\nWHERE instance_types.deleted = %(deleted_1)s ORDER BY name' {'deleted_1': 0}\n(nova): TRACE: Traceback (most recent call last):\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 989, in <module>\n(nova): TRACE:     main()\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 981, in main\n(nova): TRACE:     fn(*argv)\n(nova): TRACE:   File \"/usr/bin/nova-manage\", line 738, in list\n(nova): TRACE:     inst_types = instance_types.get_all_types()\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/compute/instance_types.py\", line 95, in get_all_types\n(nova): TRACE:     return db.instance_type_get_all(context.get_admin_context(), inactive)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/api.py\", line 1059, in instance_type_get_all\n(nova): TRACE:     return IMPL.instance_type_get_all(context, inactive)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 109, in wrapper\n(nova): TRACE:     return f(*args, **kwargs)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/nova/db/sqlalchemy/api.py\", line 2206, in instance_type_get_all\n(nova): TRACE:     order_by(\"name\").\\\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/orm/query.py\", line 1453, in all\n(nova): TRACE:     return list(self)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/orm/query.py\", line 1565, in __iter__\n(nova): TRACE:     return self._execute_and_instances(context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/orm/query.py\", line 1570, in _execute_and_instances\n(nova): TRACE:     mapper=self._mapper_zero_or_none())\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/orm/session.py\", line 735, in execute\n(nova): TRACE:     clause, params or {})\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1157, in execute\n(nova): TRACE:     params)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1237, in _execute_clauseelement\n(nova): TRACE:     return self.__execute_context(context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1268, in __execute_context\n(nova): TRACE:     context.parameters[0], context=context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1367, in _cursor_execute\n(nova): TRACE:     context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/base.py\", line 1360, in _cursor_execute\n(nova): TRACE:     context)\n(nova): TRACE:   File \"/usr/lib/pymodules/python2.6/sqlalchemy/engine/default.py\", line 288, in do_execute\n(nova): TRACE:     cursor.execute(statement, parameters)\n(nova): TRACE: ProgrammingError: (ProgrammingError) operator does not exist: boolean = integer\n(nova): TRACE: LINE 3: WHERE instance_types.deleted = 0 ORDER BY name\n(nova): TRACE:                                      ^\n(nova): TRACE: HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.\n(nova): TRACE:  'SELECT instance_types.created_at AS instance_types_created_at, instance_types.updated_at AS instance_types_updated_at, instance_types.deleted_at AS instance_types_deleted_at, instance_types.deleted AS instance_types_deleted, instance_types.id AS instance_types_id, instance_types.name AS instance_types_name, instance_types.memory_mb AS instance_types_memory_mb, instance_types.vcpus AS instance_types_vcpus, instance_types.local_gb AS instance_types_local_gb, instance_types.flavorid AS instance_types_flavorid, instance_types.swap AS instance_types_swap, instance_types.rxtx_quota AS instance_types_rxtx_quota, instance_types.rxtx_cap AS instance_types_rxtx_cap \\nFROM instance_types \\nWHERE instance_types.deleted = %(deleted_1)s ORDER BY name' {'deleted_1': 0}\n(nova): TRACE:", 
            "date_created": "2011-03-14 07:06:17.370122+00:00", 
            "author": "https://api.launchpad.net/1.0/~korprulu9"
        }
    ], 
    "closed": "2011-04-21 07:14:48.865855+00:00"
}