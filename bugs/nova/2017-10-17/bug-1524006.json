{
    "status": "Invalid", 
    "last_updated": "2015-12-10 10:10:07.779699+00:00", 
    "description": "Hi, \n\nI've stucked with error:\n{\"computeFault\":\n{\"message\": \"Unexpected API Error. Please report this at\nhttp://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n\n<type 'exceptions.NotImplementedError'>\", \"code\": 500}}\n\nIt happened when I try create network for non-admin project using Nova REST API\nSource: http://developer.openstack.org/api-ref-compute-v2.1.html\n\nPOST\nhttp://10.1.244.10:8774/v2.1/090aee2684a04e8397193a118a6e91b0/os-networks\n\nPOST data:\n{\n    \"network\": {\n        \"label\": \"scale-1-net\",\n        \"cidr\": \"172.1.0.0/24\",\n        \"mtu\": 9000,\n        \"dhcp_server\": \"172.1.0.2\",\n        \"enable_dhcp\": false,\n        \"share_address\": true,\n        \"allowed_start\": \"172.1.0.10\",\n        \"allowed_end\": \"172.1.0.200\"\n    }\n}\n\nWhat's wrong?\nor\nWhat's the solution?\n\nThanks a lot.\n-----------------------------------\nRelease: 2.1.0 on 2015-12-08 06:12\nSHA: 60c5c2798004984738d171055dbc2a6fd37a85fe\nSource: http://git.openstack.org/cgit/openstack/nova/tree/api-guide/source/index.rst\nURL: http://developer.openstack.org/api-guide/compute/", 
    "tags": [
        "api-guide", 
        "compute"
    ], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1524006", 
    "owner": "None", 
    "id": 1524006, 
    "index": 7159, 
    "openned": "2015-12-08 17:27:33.723249+00:00", 
    "created": "2015-12-08 17:14:50.502013+00:00", 
    "title": "NotImplementedError raised while create network using Nova REST API", 
    "comments": [
        {
            "content": "Hi, \n\nI've stucked with error:\n{\"computeFault\":\n{\"message\": \"Unexpected API Error. Please report this at\nhttp://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n\n<type 'exceptions.NotImplementedError'>\", \"code\": 500}}\n\nIt happened when I try create network for non-admin project using Nova REST API\nSource: http://developer.openstack.org/api-ref-compute-v2.1.html\n\nPOST\nhttp://10.1.244.10:8774/v2.1/090aee2684a04e8397193a118a6e91b0/os-networks\n\nPOST data:\n{\n    \"network\": {\n        \"label\": \"scale-1-net\",\n        \"cidr\": \"172.1.0.0/24\",\n        \"mtu\": 9000,\n        \"dhcp_server\": \"172.1.0.2\",\n        \"enable_dhcp\": false,\n        \"share_address\": true,\n        \"allowed_start\": \"172.1.0.10\",\n        \"allowed_end\": \"172.1.0.200\"\n    }\n}\n\nWhat's wrong?\nor\nWhat's the solution?\n\nThanks a lot.\n-----------------------------------\nRelease: 2.1.0 on 2015-12-08 06:12\nSHA: 60c5c2798004984738d171055dbc2a6fd37a85fe\nSource: http://git.openstack.org/cgit/openstack/nova/tree/api-guide/source/index.rst\nURL: http://developer.openstack.org/api-guide/compute/", 
            "date_created": "2015-12-08 17:14:50.502013+00:00", 
            "author": "https://api.launchpad.net/1.0/~yobshans"
        }, 
        {
            "content": "Would you give us following file information?\nhttps://github.com/openstack/nova/blob/e1f05750417eec26e973bc1af6f8e7dbacb07679/etc/nova/policy.json#L402\n", 
            "date_created": "2015-12-09 02:27:11.491143+00:00", 
            "author": "https://api.launchpad.net/1.0/~sakaia"
        }, 
        {
            "content": "Hi, \n\nI found 2 files related to nova policy\n1st - /etc/nova/policy.json\n2nd - /etc/openstack-dashboard/nova_policy.json\nI'm sure which do you need, so I'll upload both.\n\nThanks a lot\nYuri", 
            "date_created": "2015-12-09 08:04:00.468578+00:00", 
            "author": "https://api.launchpad.net/1.0/~yobshans"
        }, 
        {
            "content": "", 
            "date_created": "2015-12-09 08:04:16.172956+00:00", 
            "author": "https://api.launchpad.net/1.0/~yobshans"
        }, 
        {
            "content": "Oops, \nCorrect message ->\nI'm NOT sure which do you need, so I'll upload both.\n\nYuri", 
            "date_created": "2015-12-09 08:05:33.281520+00:00", 
            "author": "https://api.launchpad.net/1.0/~yobshans"
        }, 
        {
            "content": "You should check following in policy.json\n\n    \"os_compute_api:os-networks\": \"rule:admin_api\",\n    \"os_compute_api:os-networks:view\": \"\",\n    \"os_compute_api:os-networks:discoverable\": \"\",\n", 
            "date_created": "2015-12-09 08:31:55.176269+00:00", 
            "author": "https://api.launchpad.net/1.0/~sakaia"
        }, 
        {
            "content": "What do you mean check? \nAll those policy are correct as you mentioned below\n    \"os_compute_api:os-networks\": \"rule:admin_api\",\n    \"os_compute_api:os-networks:view\": \"\",\n    \"os_compute_api:os-networks:discoverable\": \"\",\n    \"os_compute_api:os-networks-associate\": \"rule:admin_api\",\n    \"os_compute_api:os-networks-associate:discoverable\": \"\",\n    \"os_compute_api:os-pause-server:discoverable\": \"\",\n\nDo I need to change them?\n\nThanks,\nYuri", 
            "date_created": "2015-12-09 09:02:04.651913+00:00", 
            "author": "https://api.launchpad.net/1.0/~yobshans"
        }, 
        {
            "content": "Yes, but it depends.\nIf you use admin_api privilege, you can access it.\nIf not, you should change the privilege.", 
            "date_created": "2015-12-09 12:23:31.038896+00:00", 
            "author": "https://api.launchpad.net/1.0/~sakaia"
        }, 
        {
            "content": "I use tenant(user) privilege  \nHow can I change it to be able to use both?\n\nThanks,\nYuri", 
            "date_created": "2015-12-09 12:51:10.679227+00:00", 
            "author": "https://api.launchpad.net/1.0/~yobshans"
        }, 
        {
            "content": "Would you ask your questions in following URL?\nhttps://ask.openstack.org/en/questions/\n", 
            "date_created": "2015-12-10 00:22:30.404590+00:00", 
            "author": "https://api.launchpad.net/1.0/~sakaia"
        }, 
        {
            "content": "Just try :\n\nneutron --debug net-create \nnova --debug net-create with params and paste output ", 
            "date_created": "2015-12-10 00:55:32.737412+00:00", 
            "author": "https://api.launchpad.net/1.0/~aginwala-f"
        }, 
        {
            "content": "Thank you, guys\n\nI updated policy.json like\n \"os_compute_api:os-networks\": \"\",\nWhich means, I suppose, any user can perform action with that API.\nBut, it fails with the same error.\nSomething, here is wrong.\n\nI tried perform CLI actions, but failed on authentication.\n\n1st - provided admin http://{URL}:5000/v2.0/\n# nova --debug --os-auth-url http://{URL}:5000/v2.0/ --os-project-name scale-1-tenant --os-username scale-1-user net-create test-net 172.1.0.0/24\nOS Password: \nDEBUG (session:195) REQ: curl -g -i -X GET http://{URL}:5000/v2.0/ -H \"Accept: application/json\" -H \"User-Agent: python-keystoneclient\"\nINFO (connectionpool:203) Starting new HTTP connection (1): {URL}\nDEBUG (connectionpool:383) \"GET /v2.0/ HTTP/1.1\" 200 337\nDEBUG (session:224) RESP: [200] content-length: 337 vary: X-Auth-Token connection: keep-alive date: Thu, 10 Dec 2015 09:59:04 GMT content-type: application/json x-openstack-request-id: req-9ac811c6-11e5-42b3-b4c2-4db9cf39230f \nRESP BODY: {\"version\": {\"status\": \"stable\", \"updated\": \"2014-04-17T00:00:00Z\", \"media-types\": [{\"base\": \"application/json\", \"type\": \"application/vnd.openstack.identity-v2.0+json\"}], \"id\": \"v2.0\", \"links\": [{\"href\": \"http://{URL}:5000/v2.0/\", \"rel\": \"self\"}, {\"href\": \"http://docs.openstack.org/\", \"type\": \"text/html\", \"rel\": \"describedby\"}]}}\n\nDEBUG (v2:76) Making authentication request to http://{URL}:5000/v2.0/tokens\nDEBUG (connectionpool:383) \"POST /v2.0/tokens HTTP/1.1\" 401 135\nDEBUG (session:396) Request returned failure status: 401\nDEBUG (shell:914) Invalid user / password (Disable debug mode to suppress these details.) (HTTP 401) (Request-ID: req-0a30a1c3-341a-4ce3-9bc5-1f0bb365a35b)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 911, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 838, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/contrib/tenant_networks.py\", line 88, in do_net_create\n    do_tenant_network_create(cs, args)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/contrib/tenant_networks.py\", line 103, in do_tenant_network_create\n    network = cs.tenant_networks.create(args.label, args.cidr)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/contrib/tenant_networks.py\", line 41, in create\n    return self._create('/os-tenant-networks', body, 'network')\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 161, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 176, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/client.py\", line 89, in request\n    **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 206, in request\n    resp = super(LegacyJsonAdapter, self).request(*args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 95, in request\n    return self.session.request(url, method, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 318, in inner\n    return func(*args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 313, in request\n    auth_headers = self.get_auth_headers(auth)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 598, in get_auth_headers\n    return auth.get_headers(self, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/base.py\", line 114, in get_headers\n    token = self.get_token(session)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 104, in get_token\n    return self.get_access(session).auth_token\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 144, in get_access\n    self.auth_ref = self.get_auth_ref(session)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 176, in get_auth_ref\n    return self._plugin.get_auth_ref(session, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/v2.py\", line 78, in get_auth_ref\n    authenticated=False, log=False)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 497, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 318, in inner\n    return func(*args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 397, in request\n    raise exceptions.from_response(resp, method, url)\nUnauthorized: Invalid user / password (Disable debug mode to suppress these details.) (HTTP 401) (Request-ID: req-0a30a1c3-341a-4ce3-9bc5-1f0bb365a35b)\nERROR (Unauthorized): Invalid user / password (Disable debug mode to suppress these details.) (HTTP 401) (Request-ID: req-0a30a1c3-341a-4ce3-9bc5-1f0bb365a35b)\n\n2nd - tenant http://{URL}:35357/v2.0/\n# nova --debug --os-auth-url http://{URL}:35357/v2.0/ --os-project-name scale-1-tenant --os-username scale-1-user net-create test-net 172.1.0.0/24\nOS Password: \nDEBUG (session:195) REQ: curl -g -i -X GET http://{URL}:35357/v2.0/ -H \"Accept: application/json\" -H \"User-Agent: python-keystoneclient\"\nINFO (connectionpool:203) Starting new HTTP connection (1): {URL}\nDEBUG (connectionpool:383) \"GET /v2.0/ HTTP/1.1\" 200 338\nDEBUG (session:224) RESP: [200] content-length: 338 vary: X-Auth-Token connection: keep-alive date: Thu, 10 Dec 2015 10:01:32 GMT content-type: application/json x-openstack-request-id: req-d1e0916c-032d-4591-bef3-fff0d3094ee0 \nRESP BODY: {\"version\": {\"status\": \"stable\", \"updated\": \"2014-04-17T00:00:00Z\", \"media-types\": [{\"base\": \"application/json\", \"type\": \"application/vnd.openstack.identity-v2.0+json\"}], \"id\": \"v2.0\", \"links\": [{\"href\": \"http://{URL}:35357/v2.0/\", \"rel\": \"self\"}, {\"href\": \"http://docs.openstack.org/\", \"type\": \"text/html\", \"rel\": \"describedby\"}]}}\n\nDEBUG (v2:76) Making authentication request to http://{URL}:35357/v2.0/tokens\nDEBUG (connectionpool:383) \"POST /v2.0/tokens HTTP/1.1\" 401 135\nDEBUG (session:396) Request returned failure status: 401\nDEBUG (shell:914) Invalid user / password (Disable debug mode to suppress these details.) (HTTP 401) (Request-ID: req-be84d9f7-bfbf-43f8-8880-886bc73af093)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 911, in main\n    OpenStackComputeShell().main(argv)\n  File \"/usr/lib/python2.7/site-packages/novaclient/shell.py\", line 838, in main\n    args.func(self.cs, args)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/contrib/tenant_networks.py\", line 88, in do_net_create\n    do_tenant_network_create(cs, args)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/contrib/tenant_networks.py\", line 103, in do_tenant_network_create\n    network = cs.tenant_networks.create(args.label, args.cidr)\n  File \"/usr/lib/python2.7/site-packages/novaclient/v2/contrib/tenant_networks.py\", line 41, in create\n    return self._create('/os-tenant-networks', body, 'network')\n  File \"/usr/lib/python2.7/site-packages/novaclient/base.py\", line 161, in _create\n    _resp, body = self.api.client.post(url, body=body)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 176, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/novaclient/client.py\", line 89, in request\n    **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 206, in request\n    resp = super(LegacyJsonAdapter, self).request(*args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/adapter.py\", line 95, in request\n    return self.session.request(url, method, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 318, in inner\n    return func(*args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 313, in request\n    auth_headers = self.get_auth_headers(auth)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 598, in get_auth_headers\n    return auth.get_headers(self, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/base.py\", line 114, in get_headers\n    token = self.get_token(session)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 104, in get_token\n    return self.get_access(session).auth_token\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/base.py\", line 144, in get_access\n    self.auth_ref = self.get_auth_ref(session)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/generic/base.py\", line 176, in get_auth_ref\n    return self._plugin.get_auth_ref(session, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/auth/identity/v2.py\", line 78, in get_auth_ref\n    authenticated=False, log=False)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 497, in post\n    return self.request(url, 'POST', **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/utils.py\", line 318, in inner\n    return func(*args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/keystoneclient/session.py\", line 397, in request\n    raise exceptions.from_response(resp, method, url)\nUnauthorized: Invalid user / password (Disable debug mode to suppress these details.) (HTTP 401) (Request-ID: req-be84d9f7-bfbf-43f8-8880-886bc73af093)\nERROR (Unauthorized): Invalid user / password (Disable debug mode to suppress these details.) (HTTP 401) (Request-ID: req-be84d9f7-bfbf-43f8-8880-886bc73af093)\n\nSo, I've stuck again\n\nYuri\n  ", 
            "date_created": "2015-12-10 10:10:06.301357+00:00", 
            "author": "https://api.launchpad.net/1.0/~yobshans"
        }
    ], 
    "closed": "2015-12-10 00:23:23.670033+00:00"
}