{
    "status": "Expired", 
    "last_updated": "2017-03-07 04:17:44.811554+00:00", 
    "description": "Description\n===========\nNova does not allow to use FQDN in the configuration.\n\nSteps to reproduce\n==================\nConfigure following setup with FQDN in /etc/nova/nova.conf\n\n[vnc]\nnovncproxy_base_url = http://controller01.example.com:6080/vnc_auto.html\n\n[neutron]\nurl = http://controller01.example.com:9696\n\nExpected result\n===============\nThat it accepts the FQDN.\n\nActual result\n=============\nConfigFileValueError: Value for option novncproxy_base_url is not valid: invalid URI: 'http://controller01.example.com:6080/vnc_auto.html'\n\nEnvironment\n===========\nFresh upgrade from Mitaka to Newton on Ubuntu 16.04.\n\n# dpkg -l nova*\nDesired=Unknown/Install/Remove/Purge/Hold\n| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend\n|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)\n||/ Name                                           Version                      Architecture                 Description\n+++-==============================================-============================-============================-==================================================================================================\nii  nova-api                                       2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - API frontend\nii  nova-cert                                      2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - certificate management\nii  nova-common                                    2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - common files\nii  nova-conductor                                 2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - conductor service\nun  nova-console                                   <none>                       <none>                       (no description available)\nii  nova-consoleauth                               2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                                2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                                 2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - virtual machine scheduler\n\n\nLogs & Configs\n==============\n2017-01-03 13:35:04.835 3720 ERROR nova Traceback (most recent call last):\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/bin/nova-scheduler\", line 10, in <module>\n2017-01-03 13:35:04.835 3720 ERROR nova     sys.exit(main())\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/cmd/scheduler.py\", line 45, in main\n2017-01-03 13:35:04.835 3720 ERROR nova     service.wait()\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 415, in wait\n2017-01-03 13:35:04.835 3720 ERROR nova     _launcher.wait()\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_service/service.py\", line 328, in wait\n2017-01-03 13:35:04.835 3720 ERROR nova     status, signo = self._wait_for_exit_or_signal()\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_service/service.py\", line 303, in _wait_for_exit_or_signal\n2017-01-03 13:35:04.835 3720 ERROR nova     self.conf.log_opt_values(LOG, logging.DEBUG)\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_config/cfg.py\", line 2626, in log_opt_values\n2017-01-03 13:35:04.835 3720 ERROR nova     _sanitize(opt, getattr(group_attr, opt_name)))\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_config/cfg.py\", line 3057, in __getattr__\n2017-01-03 13:35:04.835 3720 ERROR nova     return self._conf._get(name, self._group)\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_config/cfg.py\", line 2668, in _get\n2017-01-03 13:35:04.835 3720 ERROR nova     value = self._do_get(name, group, namespace)\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_config/cfg.py\", line 2711, in _do_get\n2017-01-03 13:35:04.835 3720 ERROR nova     % (opt.name, str(ve)))\n2017-01-03 13:35:04.835 3720 ERROR nova ConfigFileValueError: Value for option novncproxy_base_url is not valid: invalid URI: 'http://controller01.example.com:6080/vnc_auto.html'\n2017-01-03 13:35:04.835 3720 ERROR nova", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 14, 
    "link": "https://bugs.launchpad.net/nova/+bug/1653688", 
    "owner": "None", 
    "id": 1653688, 
    "index": 7868, 
    "openned": "2017-01-03 12:41:54.566770+00:00", 
    "created": "2017-01-03 12:41:54.566770+00:00", 
    "title": "nova does not accept fqdn", 
    "comments": [
        {
            "content": "Description\n===========\nNova does not allow to use FQDN in the configuration.\n\nSteps to reproduce\n==================\nConfigure following setup with FQDN in /etc/nova/nova.conf\n\n[vnc]\nnovncproxy_base_url = http://controller01.example.com:6080/vnc_auto.html\n\n[neutron]\nurl = http://controller01.example.com:9696\n\nExpected result\n===============\nThat it accepts the FQDN.\n\nActual result\n=============\nConfigFileValueError: Value for option novncproxy_base_url is not valid: invalid URI: 'http://controller01.example.com:6080/vnc_auto.html'\n\nEnvironment\n===========\nFresh upgrade from Mitaka to Newton on Ubuntu 16.04.\n\n# dpkg -l nova*\nDesired=Unknown/Install/Remove/Purge/Hold\n| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend\n|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)\n||/ Name                                           Version                      Architecture                 Description\n+++-==============================================-============================-============================-==================================================================================================\nii  nova-api                                       2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - API frontend\nii  nova-cert                                      2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - certificate management\nii  nova-common                                    2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - common files\nii  nova-conductor                                 2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - conductor service\nun  nova-console                                   <none>                       <none>                       (no description available)\nii  nova-consoleauth                               2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - Console Authenticator\nii  nova-novncproxy                                2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - NoVNC proxy\nii  nova-scheduler                                 2:14.0.1-0ubuntu1~cloud0     all                          OpenStack Compute - virtual machine scheduler\n\n\nLogs & Configs\n==============\n2017-01-03 13:35:04.835 3720 ERROR nova Traceback (most recent call last):\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/bin/nova-scheduler\", line 10, in <module>\n2017-01-03 13:35:04.835 3720 ERROR nova     sys.exit(main())\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/cmd/scheduler.py\", line 45, in main\n2017-01-03 13:35:04.835 3720 ERROR nova     service.wait()\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/nova/service.py\", line 415, in wait\n2017-01-03 13:35:04.835 3720 ERROR nova     _launcher.wait()\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_service/service.py\", line 328, in wait\n2017-01-03 13:35:04.835 3720 ERROR nova     status, signo = self._wait_for_exit_or_signal()\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_service/service.py\", line 303, in _wait_for_exit_or_signal\n2017-01-03 13:35:04.835 3720 ERROR nova     self.conf.log_opt_values(LOG, logging.DEBUG)\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_config/cfg.py\", line 2626, in log_opt_values\n2017-01-03 13:35:04.835 3720 ERROR nova     _sanitize(opt, getattr(group_attr, opt_name)))\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_config/cfg.py\", line 3057, in __getattr__\n2017-01-03 13:35:04.835 3720 ERROR nova     return self._conf._get(name, self._group)\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_config/cfg.py\", line 2668, in _get\n2017-01-03 13:35:04.835 3720 ERROR nova     value = self._do_get(name, group, namespace)\n2017-01-03 13:35:04.835 3720 ERROR nova   File \"/usr/lib/python2.7/dist-packages/oslo_config/cfg.py\", line 2711, in _do_get\n2017-01-03 13:35:04.835 3720 ERROR nova     % (opt.name, str(ve)))\n2017-01-03 13:35:04.835 3720 ERROR nova ConfigFileValueError: Value for option novncproxy_base_url is not valid: invalid URI: 'http://controller01.example.com:6080/vnc_auto.html'\n2017-01-03 13:35:04.835 3720 ERROR nova", 
            "date_created": "2017-01-03 12:41:54.566770+00:00", 
            "author": "https://api.launchpad.net/1.0/~bert2002"
        }, 
        {
            "content": "Couldn't reproduce on master", 
            "date_created": "2017-01-05 00:57:42.876330+00:00", 
            "author": "https://api.launchpad.net/1.0/~liyingjun"
        }, 
        {
            "content": "Tried multiple other FQDNs and made sure that no \"hidden special character\" is in the url. Could that be caused by a missing python plugin? ", 
            "date_created": "2017-01-05 10:05:32.211125+00:00", 
            "author": "https://api.launchpad.net/1.0/~bert2002"
        }, 
        {
            "content": "I actually suspect this might be a duplicate of https://bugs.launchpad.net/ubuntu/+source/nova/+bug/1653967 - can you confirm your rfc3986 library version.", 
            "date_created": "2017-01-05 15:35:29.296686+00:00", 
            "author": "https://api.launchpad.net/1.0/~sdague"
        }, 
        {
            "content": "Yes, i have the same affected rfc3986 library. \n\n# dpkg -l python-rfc3986\nDesired=Unknown/Install/Remove/Purge/Hold\n| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend\n|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)\n||/ Name                              Version               Architecture          Description\n+++-=================================-=====================-=====================-========================================================================\nii  python-rfc3986                    0.2.0-2               all                   validating URI references per RFC 3986 - Python 2.x\n\nI think we can close this as DUP. \n\nThanks Sean", 
            "date_created": "2017-01-05 15:45:38.937641+00:00", 
            "author": "https://api.launchpad.net/1.0/~bert2002"
        }, 
        {
            "content": "[Expired for OpenStack Compute (nova) because there has been no activity for 60 days.]", 
            "date_created": "2017-03-07 04:17:41.233128+00:00", 
            "author": "https://api.launchpad.net/1.0/~janitor"
        }
    ], 
    "closed": "2017-03-07 04:17:41.821664+00:00"
}