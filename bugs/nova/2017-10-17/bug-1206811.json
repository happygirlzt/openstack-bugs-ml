{
    "status": "Invalid", 
    "last_updated": "2013-08-07 07:43:03.115188+00:00", 
    "description": "root@debian:~$ nova quota-show \n+-----------------------------+--------+\n| Property                    | Value  |\n+-----------------------------+--------+\n| metadata_items              | 128    |\n| injected_file_content_bytes | 102400 |\n| ram                         | 512000 |\n| floating_ips                | 100    |\n| key_pairs                   | 100    |\n| instances                   | 100    |\n| security_group_rules        | 200    |\n| injected_files              | 50     |\n| cores                       | 200    |\n| fixed_ips                   | -1     |\n| injected_file_path_bytes    | 255    |\n| security_groups             | 100    |\n+-----------------------------+--------+\n\nroot@debian:~$ nova boot --image d081db98-04d6-439d-aa0f-d67a7b9ec043  --flavor m1.lxc --key-name kp-pub test7\nERROR: Quota exceeded for cores: Requested 3, but already used 18 of 20 cores (HTTP 413) (Request-ID: req-17f1fd56-d675-411c-b8ee-f630755c7ba2)", 
    "tags": [], 
    "importance": "Undecided", 
    "heat": 6, 
    "link": "https://bugs.launchpad.net/nova/+bug/1206811", 
    "owner": "None", 
    "id": 1206811, 
    "index": 5170, 
    "openned": "2013-07-31 08:12:14.687103+00:00", 
    "created": "2013-07-31 08:12:14.687103+00:00", 
    "title": "After updating quota, still can't boot instance.", 
    "comments": [
        {
            "content": "root@debian:~$ nova quota-show \n+-----------------------------+--------+\n| Property                    | Value  |\n+-----------------------------+--------+\n| metadata_items              | 128    |\n| injected_file_content_bytes | 102400 |\n| ram                         | 512000 |\n| floating_ips                | 100    |\n| key_pairs                   | 100    |\n| instances                   | 100    |\n| security_group_rules        | 200    |\n| injected_files              | 50     |\n| cores                       | 200    |\n| fixed_ips                   | -1     |\n| injected_file_path_bytes    | 255    |\n| security_groups             | 100    |\n+-----------------------------+--------+\n\nroot@debian:~$ nova boot --image d081db98-04d6-439d-aa0f-d67a7b9ec043  --flavor m1.lxc --key-name kp-pub test7\nERROR: Quota exceeded for cores: Requested 3, but already used 18 of 20 cores (HTTP 413) (Request-ID: req-17f1fd56-d675-411c-b8ee-f630755c7ba2)", 
            "date_created": "2013-07-31 08:12:14.687103+00:00", 
            "author": "https://api.launchpad.net/1.0/~hzguanqiang"
        }, 
        {
            "content": "I know you already have quota-show above, but can you do: nova quota-show --tenant <tenant ID> for the tenant you're running under?  I've seen cases where quota-show will show you something for a tenant's string name even though the ID is required, and it doesn't complain but can give you different results.\n\nI'm also not sure if restarting the compute and/or api services would fix this?", 
            "date_created": "2013-08-03 19:39:34.156665+00:00", 
            "author": "https://api.launchpad.net/1.0/~mriedem"
        }, 
        {
            "content": "Well Matt\uff0c The info you want to see is as following:\n\nroot@detian:~$ nova credentials \n+------------------+---------------------------------------------------+\n| User Credentials | Value                                             |\n+------------------+---------------------------------------------------+\n| username         | demo                                              |\n| roles_links      | []                                                |\n| id               | 4a940ceed88e475fbdf06f1d375d18f9                  |\n| roles            | [{u'name': u'anotherrole'}, {u'name': u'Member'}] |\n| name             | demo                                              |\n+------------------+---------------------------------------------------+\n+-----------+------------------------------------------------------------------+\n| Token     | Value                                                            |\n+-----------+------------------------------------------------------------------+\n| issued_at | 2013-08-05T02:38:20.818622                                       |\n| expires   | 2013-08-06T02:38:20Z                                             |\n| id        | MIIMPQYJKoZIhvcNAQcCoIIMLjCCDCoCAQExCTAHBgUrDgMCGjCCCpMGCSqGSIb3 |\n|           | DQEHAaCCCoQEggqAeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAi |\n|           | MjAxMy0wOC0wNVQwMjozODoyMC44MTg2MjIiLCAiZXhwaXJlcyI6ICIyMDEzLTA4 |\n|           | LTA2VDAyOjM4OjIwWiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7 |\n|           | ImRlc2NyaXB0aW9uIjogIiIsICJlbmFibGVkIjogdHJ1ZSwgImlkIjogIjhhNDg1 |\n|           | Zjg4MjQzOTQ1OTVhMGQ2MDJkNWYxOGFkNzE0IiwgIm5hbWUiOiAiZGVtbyJ9fSwg |\n|           | InNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAi |\n|           | aHR0cDovLzExNC4xMTMuMTk5LjU6ODc3NC92Mi84YTQ4NWY4ODI0Mzk0NTk1YTBk |\n|           | NjAyZDVmMThhZDcxNCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFs |\n|           | VVJMIjogImh0dHA6Ly8xMTQuMTEzLjE5OS41Ojg3NzQvdjIvOGE0ODVmODgyNDM5 |\n|           | NDU5NWEwZDYwMmQ1ZjE4YWQ3MTQiLCAiaWQiOiAiM2E5YTg1MDBmYjY0NGE2MmFm |\n|           | NjUxYjc5NmZkNzI5MzQiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMTQuMTEzLjE5 |\n|           | OS41Ojg3NzQvdjIvOGE0ODVmODgyNDM5NDU5NWEwZDYwMmQ1ZjE4YWQ3MTQifV0s |\n|           | ICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1l |\n|           | IjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8v |\n|           | MTE0LjExMy4xOTkuNTo4Nzc0L3YzIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAi |\n|           | aW50ZXJuYWxVUkwiOiAiaHR0cDovLzExNC4xMTMuMTk5LjU6ODc3NC92MyIsICJp |\n|           | ZCI6ICIwMDkxYjQyOTMyZDU0MWE4YTkyNzBkZjY4MGQyOGQwYyIsICJwdWJsaWNV |\n|           | UkwiOiAiaHR0cDovLzExNC4xMTMuMTk5LjU6ODc3NC92MyJ9XSwgImVuZHBvaW50 |\n|           | c19saW5rcyI6IFtdLCAidHlwZSI6ICJjb21wdXRldjMiLCAibmFtZSI6ICJub3Zh |\n|           | In0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzExNC4xMTMu |\n|           | MTk5LjU6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJM |\n|           | IjogImh0dHA6Ly8xMTQuMTEzLjE5OS41OjMzMzMiLCAiaWQiOiAiMDBmZjJiNjky |\n|           | MTZjNGMyMjkzNjljYzQyNWI4NTMyYjAiLCAicHVibGljVVJMIjogImh0dHA6Ly8x |\n|           | MTQuMTEzLjE5OS41OjMzMzMifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5 |\n|           | cGUiOiAiczMiLCAibmFtZSI6ICJzMyJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWlu |\n|           | VVJMIjogImh0dHA6Ly8xMTQuMTEzLjE5OS41OjkyOTIiLCAicmVnaW9uIjogIlJl |\n|           | Z2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTE0LjExMy4xOTkuNTo5 |\n|           | MjkyIiwgImlkIjogIjAzODIxNGM3NGZkYTRjOWI4OGY1YmM5ZWYyMjUwMzdkIiwg |\n|           | InB1YmxpY1VSTCI6ICJodHRwOi8vMTE0LjExMy4xOTkuNTo5MjkyIn1dLCAiZW5k |\n|           | cG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogImltYWdlIiwgIm5hbWUiOiAiZ2xh |\n|           | bmNlIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzExNC4x |\n|           | MTMuMTk5LjU6ODc3Ni92MS84YTQ4NWY4ODI0Mzk0NTk1YTBkNjAyZDVmMThhZDcx |\n|           | NCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6 |\n|           | Ly8xMTQuMTEzLjE5OS41Ojg3NzYvdjEvOGE0ODVmODgyNDM5NDU5NWEwZDYwMmQ1 |\n|           | ZjE4YWQ3MTQiLCAiaWQiOiAiMDg1YjJiODJiZDBiNDAwZjkzMjkyZGI3OTg5N2Y5 |\n|           | NWEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMTQuMTEzLjE5OS41Ojg3NzYvdjEv |\n|           | OGE0ODVmODgyNDM5NDU5NWEwZDYwMmQ1ZjE4YWQ3MTQifV0sICJlbmRwb2ludHNf |\n|           | bGlua3MiOiBbXSwgInR5cGUiOiAidm9sdW1lIiwgIm5hbWUiOiAiY2luZGVyIn0s |\n|           | IHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzExNC4xMTMuMTk5 |\n|           | LjU6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwg |\n|           | ImludGVybmFsVVJMIjogImh0dHA6Ly8xMTQuMTEzLjE5OS41Ojg3NzMvc2Vydmlj |\n|           | ZXMvQ2xvdWQiLCAiaWQiOiAiMjc1N2FlMjA0NWYxNDg3YWFhYmNiMTliMDA4YzY4 |\n|           | YjQiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMTQuMTEzLjE5OS41Ojg3NzMvc2Vy |\n|           | dmljZXMvQ2xvdWQifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAi |\n|           | ZWMyIiwgIm5hbWUiOiAiZWMyIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwi |\n|           | OiAiaHR0cDovLzExNC4xMTMuMTk5LjU6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAi |\n|           | UmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMTQuMTEzLjE5OS41 |\n|           | OjUwMDAvdjIuMCIsICJpZCI6ICI3NmVmMDllMzZiYzg0YzFhOGJjNzM5ODEwNmYx |\n|           | ZWJjYSIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzExNC4xMTMuMTk5LjU6NTAwMC92 |\n|           | Mi4wIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogImlkZW50aXR5 |\n|           | IiwgIm5hbWUiOiAia2V5c3RvbmUifV0sICJ1c2VyIjogeyJ1c2VybmFtZSI6ICJk |\n|           | ZW1vIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI0YTk0MGNlZWQ4OGU0NzVm |\n|           | YmRmMDZmMWQzNzVkMThmOSIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYW5vdGhlcnJv |\n|           | bGUifSwgeyJuYW1lIjogIk1lbWJlciJ9XSwgIm5hbWUiOiAiZGVtbyJ9LCAibWV0 |\n|           | YWRhdGEiOiB7ImlzX2FkbWluIjogMCwgInJvbGVzIjogWyJkNmYyMzA3YTUzMDc0 |\n|           | YzkwYjhkY2Q1MDAzMGFkNjJhNSIsICI1MTVkNWQ2MjdjOWM0ODE1ODg0OTU0YmEw |\n|           | NzUzYWI5NyJdfX19MYIBgTCCAX0CAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UE |\n|           | CBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UE |\n|           | AxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIIB |\n|           | AJgFfPjdtB1SyBrtg3t3I0RiHN73z4cTPLWQ383ltlnQRG6RumG5dRtMjlbATULK |\n|           | H2v3inCdNucqekLLGlFawA3AEj28UgHGqb8M+dIFuRySWIUP3aA8tBFjNQV2YvZF |\n|           | Utxgf7xPCsvm4d1N6ZP2u0kNUXA037C3CU9Y7vI-QYBXoq76bCWL4E8ZIkSgv    |\n|           | +It9ZRBmhWkkaItVX36PsXnfkldOJBynWx9K-                            |\n|           | l4ENf9Y8typ261cDfppgESj2hauiDTHF+LfGvEhzKs-                      |\n|           | 2GFQKsmCN5NUpg768PUcNeXuncQSLlzMU33OvlpQ0M29DQDas9RKQJTvD        |\n|           | +Tcpi9A-CxUTj+h2Q=                                               |\n| tenant    | {u'enabled': True, u'description': u'', u'name': u'demo', u'id': |\n|           | u'8a485f8824394595a0d602d5f18ad714'}                             |\n+-----------+------------------------------------------------------------------+\nroot@detian:~$ nova quota-show --tenant 8a485f8824394595a0d602d5f18ad714\n+-----------------------------+--------+\n| Property                    | Value  |\n+-----------------------------+--------+\n| metadata_items              | 128    |\n| injected_file_content_bytes | 102400 |\n| ram                         | 512000 |\n| floating_ips                | 100    |\n| key_pairs                   | 100    |\n| instances                   | 100    |\n| security_group_rules        | 200    |\n| injected_files              | 50     |\n| cores                       | 200    |\n| fixed_ips                   | -1     |\n| injected_file_path_bytes    | 255    |\n| security_groups             | 100    |\n+-----------------------------+--------+\nroot@detian:~$ nova boot --image dbad2813-7716-4f19-9014-d732618d21b0 --flavor m1.lxc --key-name kp-pub lxc8\nERROR: Quota exceeded for cores: Requested 3, but already used 20 of 20 cores (HTTP 413) (Request-ID: req-45812e55-bade-4a2c-b0ac-576853035b8b)", 
            "date_created": "2013-08-05 02:41:51.189630+00:00", 
            "author": "https://api.launchpad.net/1.0/~hzguanqiang"
        }, 
        {
            "content": "I've tried to restart nova service, the problem still exists.", 
            "date_created": "2013-08-05 02:53:04.206700+00:00", 
            "author": "https://api.launchpad.net/1.0/~hzguanqiang"
        }, 
        {
            "content": "Hi QiangGuan, \n\nI tried the steps below, but could not reproduce the bug. Let me know if I am missing something,\n\nhttp://paste.openstack.org/show/43306/", 
            "date_created": "2013-08-06 13:26:31.057692+00:00", 
            "author": "https://api.launchpad.net/1.0/~sumanth-nagadavalli"
        }, 
        {
            "content": "Hi Sumanth,\n\nI 've been a little confused. I queried the database and found the tenant quotas have already taken effect just as following:\n\nmysql> select * from quotas;\n+----+---------------------+---------------------+------------+----------------------------------+-----------------------------+------------+---------+\n| id | created_at          | updated_at          | deleted_at | project_id                       | resource                    | hard_limit | deleted |\n+----+---------------------+---------------------+------------+----------------------------------+-----------------------------+------------+---------+\n|  1 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | metadata_items              |       1280 |       0 |\n|  2 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | injected_file_content_bytes |      10240 |       0 |\n|  3 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | ram                         |     512000 |       0 |\n|  4 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | floating_ips                |        100 |       0 |\n|  5 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | security_group_rules        |        200 |       0 |\n|  6 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | instances                   |        200 |       0 |\n|  7 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | injected_files              |         50 |       0 |\n|  8 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | cores                       |        200 |       0 |\n|  9 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | fixed_ips                   |         -1 |       0 |\n| 10 | 2013-07-31 07:27:32 | 2013-07-31 07:31:42 | NULL       | 12f8c2eab7d04a5686e917bc11466459 | security_groups             |        100 |       0 |\n| 21 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | metadata_items              |        128 |       0 |\n| 22 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | injected_file_content_bytes |     102400 |       0 |\n| 23 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | ram                         |     512000 |       0 |\n| 24 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | floating_ips                |        100 |       0 |\n| 25 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | security_group_rules        |        200 |       0 |\n| 26 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | instances                   |        100 |       0 |\n| 27 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | injected_files              |         50 |       0 |\n| 28 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | cores                       |        200 |       0 |\n| 29 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | fixed_ips                   |         -1 |       0 |\n| 30 | 2013-07-31 07:58:19 | NULL                | NULL       | 8a485f8824394595a0d602d5f18ad714 | security_groups             |        100 |       0 |\n+----+---------------------+---------------------+------------+----------------------------------+-----------------------------+------------+---------+\n\nI'm going to debug the code and dig the reason.  ", 
            "date_created": "2013-08-07 02:01:46.762985+00:00", 
            "author": "https://api.launchpad.net/1.0/~hzguanqiang"
        }, 
        {
            "content": "Sorry guys, It's mistake. The newest code has a new feature which added project_user_quotas concept. I didn't noticed this.\n\nAlthough I updated the tenant quotas, the user quotas under the tenant is still not changed and not enough to create a new instance. Details are as following:\n\nroot@debian:~$ nova quota-show --tenant 8a485f8824394595a0d602d5f18ad714\n+-----------------------------+--------+\n| Property                    | Value  |\n+-----------------------------+--------+\n| metadata_items              | 128    |\n| injected_file_content_bytes | 102400 |\n| ram                         | 512000 |\n| floating_ips                | 100    |\n| key_pairs                   | 100    |\n| instances                   | 100    |\n| security_group_rules        | 200    |\n| injected_files              | 50     |\n| cores                       | 200    |\n| fixed_ips                   | -1     |\n| injected_file_path_bytes    | 255    |\n| security_groups             | 100    |\n+-----------------------------+--------+\nroot@debian:~$ nova quota-show --user 4a940ceed88e475fbdf06f1d375d18f9\n+-----------------------------+-------+\n| Property                    | Value |\n+-----------------------------+-------+\n| metadata_items              | 128   |\n| injected_file_content_bytes | 10240 |\n| ram                         | 51200 |\n| floating_ips                | 10    |\n| key_pairs                   | 100   |\n| instances                   | 10    |\n| security_group_rules        | 20    |\n| injected_files              | 5     |\n| cores                       | 20    |\n| fixed_ips                   | -1    |\n| injected_file_path_bytes    | 255   |\n| security_groups             | 10    |\n+-----------------------------+-------+", 
            "date_created": "2013-08-07 07:42:41.149416+00:00", 
            "author": "https://api.launchpad.net/1.0/~hzguanqiang"
        }
    ], 
    "closed": "2013-08-07 07:42:59.694930+00:00"
}